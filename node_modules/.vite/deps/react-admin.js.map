{
  "version": 3,
  "sources": ["../../lodash/_freeGlobal.js", "../../lodash/_root.js", "../../lodash/_Symbol.js", "../../lodash/_getRawTag.js", "../../lodash/_objectToString.js", "../../lodash/_baseGetTag.js", "../../lodash/isObject.js", "../../lodash/isFunction.js", "../../lodash/_coreJsData.js", "../../lodash/_isMasked.js", "../../lodash/_toSource.js", "../../lodash/_baseIsNative.js", "../../lodash/_getValue.js", "../../lodash/_getNative.js", "../../lodash/_defineProperty.js", "../../lodash/_baseAssignValue.js", "../../lodash/eq.js", "../../lodash/_assignValue.js", "../../lodash/isArray.js", "../../lodash/isObjectLike.js", "../../lodash/isSymbol.js", "../../lodash/_isKey.js", "../../lodash/_nativeCreate.js", "../../lodash/_hashClear.js", "../../lodash/_hashDelete.js", "../../lodash/_hashGet.js", "../../lodash/_hashHas.js", "../../lodash/_hashSet.js", "../../lodash/_Hash.js", "../../lodash/_listCacheClear.js", "../../lodash/_assocIndexOf.js", "../../lodash/_listCacheDelete.js", "../../lodash/_listCacheGet.js", "../../lodash/_listCacheHas.js", "../../lodash/_listCacheSet.js", "../../lodash/_ListCache.js", "../../lodash/_Map.js", "../../lodash/_mapCacheClear.js", "../../lodash/_isKeyable.js", "../../lodash/_getMapData.js", "../../lodash/_mapCacheDelete.js", "../../lodash/_mapCacheGet.js", "../../lodash/_mapCacheHas.js", "../../lodash/_mapCacheSet.js", "../../lodash/_MapCache.js", "../../lodash/memoize.js", "../../lodash/_memoizeCapped.js", "../../lodash/_stringToPath.js", "../../lodash/_arrayMap.js", "../../lodash/_baseToString.js", "../../lodash/toString.js", "../../lodash/_castPath.js", "../../lodash/_isIndex.js", "../../lodash/_toKey.js", "../../lodash/_baseSet.js", "../../lodash/set.js", "../../lodash/last.js", "../../lodash/_baseGet.js", "../../lodash/_baseSlice.js", "../../lodash/_parent.js", "../../lodash/_baseUnset.js", "../../lodash/unset.js", "../../lodash/get.js", "../../lodash/_stackClear.js", "../../lodash/_stackDelete.js", "../../lodash/_stackGet.js", "../../lodash/_stackHas.js", "../../lodash/_stackSet.js", "../../lodash/_Stack.js", "../../lodash/_setCacheAdd.js", "../../lodash/_setCacheHas.js", "../../lodash/_SetCache.js", "../../lodash/_arraySome.js", "../../lodash/_cacheHas.js", "../../lodash/_equalArrays.js", "../../lodash/_Uint8Array.js", "../../lodash/_mapToArray.js", "../../lodash/_setToArray.js", "../../lodash/_equalByTag.js", "../../lodash/_arrayPush.js", "../../lodash/_baseGetAllKeys.js", "../../lodash/_arrayFilter.js", "../../lodash/stubArray.js", "../../lodash/_getSymbols.js", "../../lodash/_baseTimes.js", "../../lodash/_baseIsArguments.js", "../../lodash/isArguments.js", "../../lodash/stubFalse.js", "../../lodash/isBuffer.js", "../../lodash/isLength.js", "../../lodash/_baseIsTypedArray.js", "../../lodash/_baseUnary.js", "../../lodash/_nodeUtil.js", "../../lodash/isTypedArray.js", "../../lodash/_arrayLikeKeys.js", "../../lodash/_isPrototype.js", "../../lodash/_overArg.js", "../../lodash/_nativeKeys.js", "../../lodash/_baseKeys.js", "../../lodash/isArrayLike.js", "../../lodash/keys.js", "../../lodash/_getAllKeys.js", "../../lodash/_equalObjects.js", "../../lodash/_DataView.js", "../../lodash/_Promise.js", "../../lodash/_Set.js", "../../lodash/_WeakMap.js", "../../lodash/_getTag.js", "../../lodash/_baseIsEqualDeep.js", "../../lodash/_baseIsEqual.js", "../../lodash/isEqual.js", "../../lodash/_assignMergeValue.js", "../../lodash/_createBaseFor.js", "../../lodash/_baseFor.js", "../../lodash/_cloneBuffer.js", "../../lodash/_cloneArrayBuffer.js", "../../lodash/_cloneTypedArray.js", "../../lodash/_copyArray.js", "../../lodash/_baseCreate.js", "../../lodash/_getPrototype.js", "../../lodash/_initCloneObject.js", "../../lodash/isArrayLikeObject.js", "../../lodash/isPlainObject.js", "../../lodash/_safeGet.js", "../../lodash/_copyObject.js", "../../lodash/_nativeKeysIn.js", "../../lodash/_baseKeysIn.js", "../../lodash/keysIn.js", "../../lodash/toPlainObject.js", "../../lodash/_baseMergeDeep.js", "../../lodash/_baseMerge.js", "../../lodash/identity.js", "../../lodash/_apply.js", "../../lodash/_overRest.js", "../../lodash/constant.js", "../../lodash/_baseSetToString.js", "../../lodash/_shortOut.js", "../../lodash/_setToString.js", "../../lodash/_baseRest.js", "../../lodash/_isIterateeCall.js", "../../lodash/_createAssigner.js", "../../lodash/merge.js", "../../strict-uri-encode/index.js", "../../decode-uri-component/index.js", "../../split-on-first/index.js", "../../filter-obj/index.js", "../../query-string/index.js", "../../eventemitter3/index.js", "../../lodash/_isFlattenable.js", "../../lodash/_baseFlatten.js", "../../lodash/_baseFindIndex.js", "../../lodash/_baseIsNaN.js", "../../lodash/_strictIndexOf.js", "../../lodash/_baseIndexOf.js", "../../lodash/_arrayIncludes.js", "../../lodash/_arrayIncludesWith.js", "../../lodash/noop.js", "../../lodash/_createSet.js", "../../lodash/_baseUniq.js", "../../lodash/union.js", "../../lodash/now.js", "../../lodash/_trimmedEndIndex.js", "../../lodash/_baseTrim.js", "../../lodash/toNumber.js", "../../lodash/debounce.js", "../../lodash/_basePickBy.js", "../../lodash/_baseHasIn.js", "../../lodash/_hasPath.js", "../../lodash/hasIn.js", "../../lodash/_basePick.js", "../../lodash/flatten.js", "../../lodash/_flatRest.js", "../../lodash/pick.js", "../../lodash/defaults.js", "../../jsonexport/dist/core/eol.js", "../../jsonexport/dist/core/helper.js", "../../jsonexport/dist/core/join-rows.js", "../../jsonexport/dist/parser/handler.js", "../../jsonexport/dist/core/escape-delimiters.js", "../../jsonexport/dist/parser/csv.js", "../../jsonexport/dist/core/stream.js", "../../jsonexport/dist/index.js", "../../lodash/_baseIsMatch.js", "../../lodash/_isStrictComparable.js", "../../lodash/_getMatchData.js", "../../lodash/_matchesStrictComparable.js", "../../lodash/_baseMatches.js", "../../lodash/_baseMatchesProperty.js", "../../lodash/_baseProperty.js", "../../lodash/_basePropertyDeep.js", "../../lodash/property.js", "../../lodash/_baseIteratee.js", "../../lodash/_getSymbolsIn.js", "../../lodash/_getAllKeysIn.js", "../../lodash/pickBy.js", "../../ra-core/node_modules/react-is/cjs/react-is.development.js", "../../ra-core/node_modules/react-is/index.js", "../../inflection/lib/inflection.js", "../../@mui/icons-material/Queue.js", "../../@mui/icons-material/Add.js", "../../@mui/icons-material/RemoveRedEye.js", "../../@mui/icons-material/Sort.js", "../../@mui/icons-material/ArrowDropDown.js", "../../@mui/icons-material/Delete.js", "../../@mui/icons-material/Menu.js", "../../@mui/icons-material/AccountCircle.js", "../../@mui/icons-material/PowerSettingsNew.js", "../../@mui/icons-material/Brightness4.js", "../../@mui/icons-material/Brightness7.js", "../../@mui/icons-material/CheckCircle.js", "../../@mui/icons-material/ErrorOutline.js", "../../@mui/icons-material/Dashboard.js", "../../css-mediaquery/index.js", "../../@mui/icons-material/ExpandMore.js", "../../@mui/icons-material/Settings.js", "../../@mui/icons-material/DragIndicator.js", "../../@mui/icons-material/CancelOutlined.js", "../../@mui/icons-material/DeleteOutline.js", "../../@mui/icons-material/ViewList.js", "../../@mui/icons-material/HotTub.js", "../../@mui/icons-material/GetApp.js", "../../@mui/icons-material/Update.js", "../../@mui/icons-material/Create.js", "../../@mui/icons-material/Translate.js", "../../@mui/icons-material/List.js", "../../@mui/icons-material/Refresh.js", "../../@mui/icons-material/Save.js", "../../@mui/icons-material/AddCircleOutline.js", "../../@mui/icons-material/RemoveCircleOutline.js", "../../@mui/icons-material/ArrowCircleUp.js", "../../@mui/icons-material/ArrowCircleDown.js", "../../@mui/icons-material/HighlightOff.js", "../../lodash/_baseDifference.js", "../../lodash/difference.js", "../../@mui/icons-material/Close.js", "../../@mui/icons-material/ViewWeek.js", "../../lodash/_arrayEach.js", "../../lodash/_baseAssign.js", "../../lodash/_baseAssignIn.js", "../../lodash/_copySymbols.js", "../../lodash/_copySymbolsIn.js", "../../lodash/_initCloneArray.js", "../../lodash/_cloneDataView.js", "../../lodash/_cloneRegExp.js", "../../lodash/_cloneSymbol.js", "../../lodash/_initCloneByTag.js", "../../lodash/_baseIsMap.js", "../../lodash/isMap.js", "../../lodash/_baseIsSet.js", "../../lodash/isSet.js", "../../lodash/_baseClone.js", "../../lodash/cloneDeep.js", "../../@mui/icons-material/FilterList.js", "../../lodash/matches.js", "../../@mui/icons-material/BookmarkBorder.js", "../../@mui/icons-material/HelpOutline.js", "../../attr-accept/dist/es/index.js", "../../@mui/icons-material/RemoveCircle.js", "../../@mui/icons-material/Clear.js", "../../@mui/icons-material/Visibility.js", "../../@mui/icons-material/VisibilityOff.js", "../../@mui/icons-material/Done.js", "../../@mui/icons-material/Error.js", "../../@mui/icons-material/Inbox.js", "../../react-admin/src/Admin.tsx", "../../ra-core/src/auth/AuthContext.tsx", "../../ra-core/src/auth/useAuthProvider.ts", "../../ra-core/src/auth/useAuthState.ts", "../../react-query/es/core/subscribable.js", "../../react-query/es/core/utils.js", "../../react-query/es/core/focusManager.js", "../../react-query/es/core/onlineManager.js", "../../react-query/es/core/retryer.js", "../../react-query/es/core/query.js", "../../react-query/es/core/notifyManager.js", "../../react-query/es/core/logger.js", "../../react-query/es/core/queryCache.js", "../../react-query/es/core/queryClient.js", "../../react-query/es/core/mutation.js", "../../react-query/es/core/mutationCache.js", "../../react-query/es/core/infiniteQueryBehavior.js", "../../react-query/es/core/queryObserver.js", "../../react-query/es/core/queriesObserver.js", "../../react-query/es/core/infiniteQueryObserver.js", "../../react-query/es/core/mutationObserver.js", "../../react-query/es/core/hydration.js", "../../react-query/es/react/reactBatchedUpdates.js", "../../react-query/es/react/setBatchUpdatesFn.js", "../../react-query/es/react/logger.js", "../../react-query/es/react/setLogger.js", "../../react-query/es/react/QueryClientProvider.js", "../../react-query/es/react/QueryErrorResetBoundary.js", "../../react-query/es/react/useIsFetching.js", "../../react-query/es/react/useIsMutating.js", "../../react-query/es/react/useMutation.js", "../../react-query/es/react/utils.js", "../../react-query/es/react/useBaseQuery.js", "../../react-query/es/react/useQuery.js", "../../react-query/es/react/useQueries.js", "../../react-query/es/react/useInfiniteQuery.js", "../../react-query/es/react/Hydrate.js", "../../ra-core/src/auth/useLogout.ts", "../../ra-core/src/store/localStorageStore.ts", "../../ra-core/src/store/memoryStore.tsx", "../../ra-core/src/store/StoreContext.tsx", "../../ra-core/src/store/StoreContextProvider.tsx", "../../ra-core/src/store/StoreSetter.tsx", "../../ra-core/src/store/useStoreContext.ts", "../../ra-core/src/store/useStore.ts", "../../ra-core/src/util/escapePath.ts", "../../ra-core/src/util/FieldTitle.tsx", "../../ra-core/src/i18n/substituteTokens.ts", "../../ra-core/src/i18n/TestTranslationProvider.tsx", "../../ra-core/src/i18n/I18nContextProvider.tsx", "../../ra-core/src/i18n/I18nContext.ts", "../../ra-core/src/notification/AddNotificationContext.tsx", "../../ra-core/src/notification/NotificationContext.ts", "../../ra-core/src/notification/NotificationContextProvider.tsx", "../../ra-core/src/notification/useAddNotificationContext.tsx", "../../ra-core/src/notification/useNotificationContext.ts", "../../ra-core/src/notification/useNotify.ts", "../../ra-core/src/i18n/TranslatableContext.ts", "../../ra-core/src/i18n/TranslatableContextProvider.tsx", "../../ra-core/src/i18n/TranslationUtils.ts", "../../ra-core/src/i18n/useLocaleState.tsx", "../../ra-core/src/i18n/useI18nProvider.ts", "../../ra-core/src/i18n/useLocale.tsx", "../../ra-core/src/i18n/useLocales.ts", "../../ra-core/src/i18n/useSetLocale.tsx", "../../ra-core/src/i18n/useTranslatable.ts", "../../ra-core/src/core/CoreAdmin.tsx", "../../ra-core/src/core/CoreAdminContext.tsx", "../../ra-core/src/routing/AdminRouter.tsx", "../../history/index.js", "../../ra-core/src/routing/HistoryRouter.tsx", "../../ra-core/src/routing/BasenameContextProvider.tsx", "../../ra-core/src/routing/BasenameContext.ts", "../../ra-core/src/routing/linkToRecord.ts", "../../ra-core/src/routing/resolveRedirectTo.ts", "../../ra-core/src/routing/useBasename.ts", "../../ra-core/src/routing/useCreatePath.ts", "../../ra-core/src/routing/useRedirect.ts", "../../ra-core/src/routing/useScrollToTop.tsx", "../../ra-core/src/dataProvider/dataFetchActions.ts", "../../ra-core/src/dataProvider/convertLegacyDataProvider.ts", "../../ra-core/src/dataProvider/DataProviderContext.ts", "../../ra-core/src/dataProvider/HttpError.ts", "../../ra-core/src/dataProvider/fetch.ts", "../../ra-core/src/dataProvider/undoableEventEmitter.ts", "../../ra-core/src/dataProvider/defaultDataProvider.ts", "../../ra-core/src/dataProvider/combineDataProviders.ts", "../../ra-core/src/dataProvider/testDataProvider.ts", "../../ra-core/src/dataProvider/withLifecycleCallbacks.ts", "../../ra-core/src/dataProvider/useDataProvider.ts", "../../ra-core/src/dataProvider/validateResponseFormat.ts", "../../ra-core/src/auth/useLogoutIfAccessDenied.ts", "../../ra-core/src/dataProvider/useIsDataLoaded.ts", "../../ra-core/src/dataProvider/useLoading.ts", "../../ra-core/src/dataProvider/useRefresh.ts", "../../ra-core/src/dataProvider/useGetOne.ts", "../../ra-core/src/dataProvider/useGetList.ts", "../../ra-core/src/dataProvider/useGetMany.ts", "../../ra-core/src/dataProvider/useGetManyAggregate.ts", "../../ra-core/src/dataProvider/useGetManyReference.ts", "../../ra-core/src/controller/useFilterState.ts", "../../ra-core/src/controller/useSortState.ts", "../../ra-core/src/controller/list/queryReducer.ts", "../../ra-core/src/util/shallowEqual.ts", "../../ra-core/src/util/removeEmpty.ts", "../../ra-core/src/util/removeKey.ts", "../../ra-core/src/controller/usePaginationState.ts", "../../ra-core/src/controller/checkMinimumRequiredProps.tsx", "../../ra-core/src/controller/button/useDeleteWithUndoController.tsx", "../../ra-core/src/controller/button/useDeleteWithConfirmController.tsx", "../../ra-core/src/controller/create/CreateBase.tsx", "../../ra-core/src/controller/create/useCreateController.ts", "../../ra-core/src/controller/saveContext/SaveContext.ts", "../../ra-core/src/controller/saveContext/SaveContextProvider.tsx", "../../ra-core/src/controller/saveContext/usePickSaveContext.ts", "../../ra-core/src/controller/saveContext/useSaveContext.ts", "../../ra-core/src/controller/saveContext/useMutationMiddlewares.ts", "../../ra-core/src/controller/saveContext/useRegisterMutationMiddleware.ts", "../../ra-core/src/controller/create/CreateContextProvider.tsx", "../../ra-core/src/controller/record/RecordContext.tsx", "../../ra-core/src/controller/create/CreateContext.tsx", "../../ra-core/src/controller/create/CreateController.tsx", "../../ra-core/src/controller/create/useCreateContext.tsx", "../../ra-core/src/controller/edit/EditBase.tsx", "../../ra-core/src/controller/edit/useEditController.ts", "../../ra-core/src/controller/edit/EditContextProvider.tsx", "../../ra-core/src/controller/record/useRecordContext.ts", "../../ra-core/src/controller/record/WithRecord.tsx", "../../ra-core/src/controller/record/OptionalRecordContextProvider.tsx", "../../ra-core/src/controller/edit/EditContext.tsx", "../../ra-core/src/controller/edit/EditController.tsx", "../../ra-core/src/controller/edit/useEditContext.tsx", "../../ra-core/src/controller/field/useReferenceArrayFieldController.ts", "../../ra-core/src/controller/list/InfiniteListBase.tsx", "../../ra-core/src/controller/list/useInfiniteListController.ts", "../../ra-core/src/export/defaultExporter.ts", "../../ra-core/src/export/downloadCSV.ts", "../../ra-core/src/export/ExporterContext.ts", "../../ra-core/src/export/fetchRelatedRecords.ts", "../../ra-core/src/controller/list/useRecordSelection.ts", "../../ra-core/src/controller/list/useListParams.ts", "../../ra-core/src/util/hooks.ts", "../../ra-core/src/controller/list/ListContextProvider.tsx", "../../ra-core/src/controller/list/ListContext.tsx", "../../ra-core/src/controller/list/ListFilterContext.tsx", "../../ra-core/src/controller/list/ListSortContext.tsx", "../../ra-core/src/controller/list/ListPaginationContext.tsx", "../../ra-core/src/controller/list/InfinitePaginationContext.ts", "../../ra-core/src/controller/list/ListBase.tsx", "../../ra-core/src/controller/list/useListController.ts", "../../ra-core/src/controller/list/ListController.tsx", "../../ra-core/src/controller/list/useExpanded.tsx", "../../ra-core/src/controller/list/useInfinitePaginationContext.ts", "../../ra-core/src/controller/list/useList.ts", "../../ra-core/src/controller/list/useListContext.ts", "../../ra-core/src/controller/list/useListFilterContext.ts", "../../ra-core/src/controller/list/useListPaginationContext.ts", "../../ra-core/src/controller/list/useListSortContext.ts", "../../ra-core/src/controller/list/useUnselect.ts", "../../ra-core/src/controller/list/useUnselectAll.ts", "../../ra-core/src/controller/list/WithListContext.tsx", "../../ra-core/src/controller/field/useReferenceManyFieldController.ts", "../../ra-core/src/controller/field/useReferenceOneFieldController.tsx", "../../ra-core/src/controller/input/referenceDataStatus.ts", "../../ra-core/src/controller/input/useReferenceArrayInputController.ts", "../../ra-core/src/controller/input/useReferenceParams.ts", "../../ra-core/src/controller/input/useReferenceInputController.ts", "../../ra-core/src/controller/useReference.ts", "../../ra-core/src/controller/show/ShowBase.tsx", "../../ra-core/src/controller/show/useShowController.ts", "../../ra-core/src/controller/show/ShowContextProvider.tsx", "../../ra-core/src/controller/show/ShowContext.tsx", "../../ra-core/src/controller/show/ShowController.tsx", "../../ra-core/src/controller/show/useShowContext.tsx", "../../ra-core/src/dataProvider/useGetRecordId.ts", "../../ra-core/src/dataProvider/useCreate.ts", "../../ra-core/src/dataProvider/useUpdate.ts", "../../ra-core/src/dataProvider/useUpdateMany.ts", "../../ra-core/src/dataProvider/useDelete.ts", "../../ra-core/src/dataProvider/useDeleteMany.ts", "../../ra-core/src/dataProvider/useInfiniteGetList.ts", "../../ra-core/src/preferences/PreferencesEditorContextProvider.tsx", "../../ra-core/src/preferences/PreferencesEditorContext.tsx", "../../ra-core/src/core/ResourceDefinitionContext.tsx", "../../ra-core/src/core/CoreAdminUI.tsx", "../../ra-core/src/core/CoreAdminRoutes.tsx", "../../ra-core/src/core/useConfigureAdminRouterFromChildren.tsx", "../../ra-core/src/core/useResourceDefinitionContext.ts", "../../ra-core/src/core/CustomRoutes.tsx", "../../ra-core/src/core/Resource.tsx", "../../ra-core/src/core/ResourceContextProvider.tsx", "../../ra-core/src/core/ResourceContext.ts", "../../ra-core/src/core/useGetResourceLabel.ts", "../../ra-core/src/core/useResourceDefinitions.ts", "../../ra-core/src/core/useResourceContext.ts", "../../ra-core/src/core/useResourceDefinition.ts", "../../ra-core/src/core/useGetRecordRepresentation.ts", "../../ra-core/src/i18n/useTranslateLabel.ts", "../../ra-core/src/i18n/useTranslate.ts", "../../ra-core/src/i18n/useTranslatableContext.ts", "../../ra-core/src/i18n/index.ts", "../../ra-core/src/util/getFieldLabelTranslationArgs.ts", "../../ra-core/src/util/ComponentPropType.ts", "../../ra-core/src/util/Ready.tsx", "../../ra-core/src/util/warning.ts", "../../ra-core/src/util/useWhyDidYouUpdate.ts", "../../ra-core/src/util/getMutationMode.ts", "../../ra-core/src/util/mergeRefs.ts", "../../ra-core/src/util/useEvent.ts", "../../ra-core/src/util/asyncDebounce.ts", "../../ra-core/src/util/LabelPrefixContext.ts", "../../ra-core/src/util/LabelPrefixContextProvider.tsx", "../../ra-core/src/util/useLabelPrefix.ts", "../../ra-core/src/store/useRemoveFromStore.ts", "../../ra-core/src/store/useRemoveItemsFromStore.ts", "../../ra-core/src/store/useResetStore.ts", "../../ra-core/src/auth/usePermissions.ts", "../../ra-core/src/auth/usePermissionsOptimized.ts", "../../ra-core/src/auth/WithPermissions.tsx", "../../ra-core/src/auth/useAuthenticated.ts", "../../ra-core/src/auth/useLogin.ts", "../../ra-core/src/auth/useGetPermissions.ts", "../../ra-core/src/auth/types.ts", "../../ra-core/src/auth/convertLegacyAuthProvider.ts", "../../ra-core/src/auth/Authenticated.tsx", "../../ra-core/src/auth/useCheckAuth.ts", "../../ra-core/src/auth/useGetIdentity.ts", "../../ra-core/src/auth/useHandleAuthCallback.ts", "../../ra-core/src/auth/addRefreshAuthToAuthProvider.ts", "../../ra-core/src/auth/addRefreshAuthToDataProvider.ts", "../../ra-core/src/preferences/PreferenceKeyContext.tsx", "../../ra-core/src/preferences/usePreference.ts", "../../ra-core/src/preferences/usePreferencesEditor.ts", "../../ra-core/src/preferences/usePreferenceInput.ts", "../../ra-core/src/preferences/useSetInspectorTitle.ts", "../../ra-core/src/form/FormDataConsumer.tsx", "../../ra-core/src/form/useFormValues.ts", "../../ra-core/src/form/FormGroupsContext.tsx", "../../ra-core/src/form/ValidationError.tsx", "../../ra-core/src/form/getSimpleValidationResolver.ts", "../../ra-core/src/form/choices/ChoicesContext.ts", "../../ra-core/src/form/choices/ChoicesContextProvider.tsx", "../../ra-core/src/form/choices/useChoicesContext.ts", "../../ra-core/src/form/Form.tsx", "../../ra-core/src/form/FormGroupsProvider.tsx", "../../ra-core/src/form/useAugmentedForm.ts", "../../ra-core/src/form/getFormInitialValues.ts", "../../ra-core/src/form/setSubmissionErrors.ts", "../../ra-core/src/form/useNotifyIsFormInvalid.ts", "../../ra-core/src/form/useWarnWhenUnsavedChanges.tsx", "../../ra-core/src/form/sanitizeEmptyValues.ts", "../../ra-core/src/form/validate.ts", "../../ra-core/src/form/FormGroupContext.ts", "../../ra-core/src/form/FormGroupContextProvider.tsx", "../../ra-core/src/form/useFormGroups.ts", "../../ra-core/src/form/useApplyInputDefaultValues.ts", "../../ra-core/src/form/useChoices.tsx", "../../ra-core/src/form/useFormGroup.ts", "../../ra-core/src/form/useFormGroupContext.ts", "../../ra-core/src/form/useGetValidationErrorMessage.ts", "../../ra-core/src/form/useInput.ts", "../../ra-core/src/form/isRequired.ts", "../../ra-core/src/form/useSuggestions.ts", "../../ra-core/src/form/useUnique.ts", "../../ra-core/src/inference/inferElementFromValues.tsx", "../../ra-core/src/inference/getValuesFromRecords.ts", "../../ra-core/src/inference/InferredElement.ts", "../../@babel/runtime/helpers/esm/typeof.js", "../../date-fns/esm/_lib/toInteger/index.js", "../../date-fns/esm/_lib/requiredArgs/index.js", "../../date-fns/esm/toDate/index.js", "../../date-fns/esm/addMilliseconds/index.js", "../../date-fns/esm/_lib/defaultOptions/index.js", "../../date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js", "../../date-fns/esm/constants/index.js", "../../date-fns/esm/isDate/index.js", "../../date-fns/esm/isValid/index.js", "../../date-fns/esm/subMilliseconds/index.js", "../../date-fns/esm/_lib/startOfUTCISOWeek/index.js", "../../date-fns/esm/_lib/getUTCISOWeekYear/index.js", "../../date-fns/esm/_lib/startOfUTCISOWeekYear/index.js", "../../date-fns/esm/_lib/getUTCISOWeek/index.js", "../../date-fns/esm/_lib/startOfUTCWeek/index.js", "../../date-fns/esm/_lib/getUTCWeekYear/index.js", "../../date-fns/esm/_lib/startOfUTCWeekYear/index.js", "../../date-fns/esm/_lib/getUTCWeek/index.js", "../../date-fns/esm/_lib/format/longFormatters/index.js", "../../date-fns/esm/_lib/protectedTokens/index.js", "../../date-fns/esm/locale/en-US/_lib/formatDistance/index.js", "../../date-fns/esm/locale/_lib/buildFormatLongFn/index.js", "../../date-fns/esm/locale/en-US/_lib/formatLong/index.js", "../../date-fns/esm/locale/en-US/_lib/formatRelative/index.js", "../../date-fns/esm/locale/_lib/buildLocalizeFn/index.js", "../../date-fns/esm/locale/en-US/_lib/localize/index.js", "../../date-fns/esm/locale/_lib/buildMatchFn/index.js", "../../date-fns/esm/locale/_lib/buildMatchPatternFn/index.js", "../../date-fns/esm/locale/en-US/_lib/match/index.js", "../../date-fns/esm/locale/en-US/index.js", "../../date-fns/esm/_lib/defaultLocale/index.js", "../../date-fns/esm/_lib/assign/index.js", "../../date-fns/esm/formatDistanceStrict/index.js", "../../date-fns/esm/getOverlappingDaysInIntervals/index.js", "../../@babel/runtime/helpers/esm/arrayLikeToArray.js", "../../@babel/runtime/helpers/esm/unsupportedIterableToArray.js", "../../@babel/runtime/helpers/esm/createForOfIteratorHelper.js", "../../@babel/runtime/helpers/esm/inherits.js", "../../@babel/runtime/helpers/esm/getPrototypeOf.js", "../../@babel/runtime/helpers/esm/isNativeReflectConstruct.js", "../../@babel/runtime/helpers/esm/possibleConstructorReturn.js", "../../@babel/runtime/helpers/esm/createSuper.js", "../../@babel/runtime/helpers/esm/classCallCheck.js", "../../@babel/runtime/helpers/esm/toPrimitive.js", "../../@babel/runtime/helpers/esm/toPropertyKey.js", "../../@babel/runtime/helpers/esm/createClass.js", "../../@babel/runtime/helpers/esm/defineProperty.js", "../../date-fns/esm/parse/_lib/Setter.js", "../../date-fns/esm/parse/_lib/Parser.js", "../../date-fns/esm/parse/_lib/parsers/EraParser.js", "../../date-fns/esm/parse/_lib/constants.js", "../../date-fns/esm/parse/_lib/utils.js", "../../date-fns/esm/parse/_lib/parsers/YearParser.js", "../../date-fns/esm/parse/_lib/parsers/LocalWeekYearParser.js", "../../date-fns/esm/parse/_lib/parsers/ISOWeekYearParser.js", "../../date-fns/esm/parse/_lib/parsers/ExtendedYearParser.js", "../../date-fns/esm/parse/_lib/parsers/QuarterParser.js", "../../date-fns/esm/parse/_lib/parsers/StandAloneQuarterParser.js", "../../date-fns/esm/parse/_lib/parsers/MonthParser.js", "../../date-fns/esm/parse/_lib/parsers/StandAloneMonthParser.js", "../../date-fns/esm/_lib/setUTCWeek/index.js", "../../date-fns/esm/parse/_lib/parsers/LocalWeekParser.js", "../../date-fns/esm/_lib/setUTCISOWeek/index.js", "../../date-fns/esm/parse/_lib/parsers/ISOWeekParser.js", "../../date-fns/esm/parse/_lib/parsers/DateParser.js", "../../date-fns/esm/parse/_lib/parsers/DayOfYearParser.js", "../../date-fns/esm/_lib/setUTCDay/index.js", "../../date-fns/esm/parse/_lib/parsers/DayParser.js", "../../date-fns/esm/parse/_lib/parsers/LocalDayParser.js", "../../date-fns/esm/parse/_lib/parsers/StandAloneLocalDayParser.js", "../../date-fns/esm/_lib/setUTCISODay/index.js", "../../date-fns/esm/parse/_lib/parsers/ISODayParser.js", "../../date-fns/esm/parse/_lib/parsers/AMPMParser.js", "../../date-fns/esm/parse/_lib/parsers/AMPMMidnightParser.js", "../../date-fns/esm/parse/_lib/parsers/DayPeriodParser.js", "../../date-fns/esm/parse/_lib/parsers/Hour1to12Parser.js", "../../date-fns/esm/parse/_lib/parsers/Hour0to23Parser.js", "../../date-fns/esm/parse/_lib/parsers/Hour0To11Parser.js", "../../date-fns/esm/parse/_lib/parsers/Hour1To24Parser.js", "../../date-fns/esm/parse/_lib/parsers/MinuteParser.js", "../../date-fns/esm/parse/_lib/parsers/SecondParser.js", "../../date-fns/esm/parse/_lib/parsers/FractionOfSecondParser.js", "../../date-fns/esm/parse/_lib/parsers/ISOTimezoneWithZParser.js", "../../date-fns/esm/parse/_lib/parsers/ISOTimezoneParser.js", "../../date-fns/esm/parse/_lib/parsers/TimestampSecondsParser.js", "../../date-fns/esm/parse/_lib/parsers/TimestampMillisecondsParser.js", "../../date-fns/esm/parse/_lib/parsers/index.js", "../../date-fns/esm/parse/index.js", "../../date-fns/esm/isMatch/index.js", "../../date-fns/esm/parseISO/index.js", "../../ra-core/src/inference/assertions.ts", "../../ra-core/src/inference/getElementsFromRecords.ts", "../../ra-core/src/inference/inferTypeFromValues.ts", "../../ra-core/src/types.ts", "../../ra-ui-materialui/src/auth/AuthCallback.tsx", "../../ra-ui-materialui/src/auth/AuthError.tsx", "../../ra-ui-materialui/src/button/CloneButton.tsx", "../../ra-ui-materialui/src/button/Button.tsx", "../../ra-ui-materialui/src/button/CreateButton.tsx", "../../ra-ui-materialui/src/button/ShowButton.tsx", "../../ra-ui-materialui/src/button/SortButton.tsx", "../../ra-ui-materialui/src/button/BulkDeleteButton.tsx", "../../ra-ui-materialui/src/button/BulkDeleteWithConfirmButton.tsx", "../../ra-ui-materialui/src/layout/AppBar.tsx", "../../ra-ui-materialui/src/layout/SidebarToggleButton.tsx", "../../ra-ui-materialui/src/layout/useSidebarState.ts", "../../ra-ui-materialui/src/layout/LoadingIndicator.tsx", "../../ra-ui-materialui/src/layout/UserMenu.tsx", "../../ra-ui-materialui/src/layout/UserMenuContextProvider.tsx", "../../ra-ui-materialui/src/layout/UserMenuContext.ts", "../../ra-ui-materialui/src/auth/Logout.tsx", "../../ra-ui-materialui/src/layout/HideOnScroll.tsx", "../../ra-ui-materialui/src/layout/TitlePortal.tsx", "../../ra-ui-materialui/src/layout/Theme/useThemesContext.ts", "../../ra-ui-materialui/src/layout/Theme/ThemesContext.ts", "../../ra-ui-materialui/src/button/ToggleThemeButton.tsx", "../../ra-ui-materialui/src/button/ToggleThemeLegacyButton.tsx", "../../ra-ui-materialui/src/layout/CardContentInner.tsx", "../../ra-ui-materialui/src/layout/Confirm.tsx", "../../ra-ui-materialui/src/layout/DashboardMenuItem.tsx", "../../ra-ui-materialui/src/layout/MenuItemLink.tsx", "../../ra-ui-materialui/src/layout/DeviceTestWrapper.tsx", "../../ra-ui-materialui/src/layout/Error.tsx", "../../ra-ui-materialui/src/layout/Title.tsx", "../../ra-ui-materialui/src/layout/PageTitleConfigurable.tsx", "../../ra-ui-materialui/src/preferences/Configurable.tsx", "../../ra-ui-materialui/src/preferences/FieldsSelector.tsx", "../../ra-ui-materialui/src/preferences/FieldToggle.tsx", "../../ra-ui-materialui/src/preferences/Inspector.tsx", "../../ra-ui-materialui/src/preferences/InspectorRoot.tsx", "../../ra-ui-materialui/src/preferences/InspectorButton.tsx", "../../ra-ui-materialui/src/layout/PageTitle.tsx", "../../ra-ui-materialui/src/layout/useResetErrorBoundaryOnLocationChange.ts", "../../ra-ui-materialui/src/layout/Layout.tsx", "../../react-error-boundary/dist/react-error-boundary.esm.js", "../../ra-ui-materialui/src/layout/Sidebar.tsx", "../../ra-ui-materialui/src/layout/Menu.tsx", "../../ra-ui-materialui/src/layout/ResourceMenuItem.tsx", "../../ra-ui-materialui/src/layout/LinearProgress.tsx", "../../ra-ui-materialui/src/layout/Loading.tsx", "../../ra-ui-materialui/src/layout/LoadingPage.tsx", "../../ra-ui-materialui/src/layout/NotFound.tsx", "../../ra-ui-materialui/src/layout/Notification.tsx", "../../ra-ui-materialui/src/layout/Theme/useTheme.ts", "../../ra-ui-materialui/src/layout/Theme/ThemeProvider.tsx", "../../ra-ui-materialui/src/layout/TopToolbar.tsx", "../../ra-ui-materialui/src/layout/useUserMenu.ts", "../../ra-ui-materialui/src/button/BulkDeleteWithUndoButton.tsx", "../../ra-ui-materialui/src/button/BulkExportButton.tsx", "../../ra-ui-materialui/src/button/BulkUpdateButton.tsx", "../../ra-ui-materialui/src/button/BulkUpdateWithConfirmButton.tsx", "../../ra-ui-materialui/src/button/BulkUpdateWithUndoButton.tsx", "../../ra-ui-materialui/src/button/DeleteButton.tsx", "../../ra-ui-materialui/src/button/DeleteWithUndoButton.tsx", "../../ra-ui-materialui/src/button/DeleteWithConfirmButton.tsx", "../../ra-ui-materialui/src/button/EditButton.tsx", "../../ra-ui-materialui/src/button/ExportButton.tsx", "../../ra-ui-materialui/src/button/IconButtonWithTooltip.tsx", "../../ra-ui-materialui/src/button/LocalesMenuButton.tsx", "../../ra-ui-materialui/src/button/ListButton.tsx", "../../ra-ui-materialui/src/button/RefreshButton.tsx", "../../ra-ui-materialui/src/button/RefreshIconButton.tsx", "../../ra-ui-materialui/src/button/SaveButton.tsx", "../../ra-ui-materialui/src/button/SkipNavigationButton.tsx", "../../ra-ui-materialui/src/auth/Login.tsx", "../../ra-ui-materialui/src/auth/LoginForm.tsx", "../../ra-ui-materialui/src/input/ArrayInput/ArrayInput.tsx", "../../ra-ui-materialui/src/input/InputHelperText.tsx", "../../ra-ui-materialui/src/input/sanitizeInputRestProps.ts", "../../ra-ui-materialui/src/Labeled.tsx", "../../ra-ui-materialui/src/input/ArrayInput/ArrayInputContext.ts", "../../ra-ui-materialui/src/input/ArrayInput/SimpleFormIterator.tsx", "../../ra-ui-materialui/src/input/ArrayInput/useArrayInput.ts", "../../ra-ui-materialui/src/input/ArrayInput/useSimpleFormIteratorStyles.ts", "../../ra-ui-materialui/src/input/ArrayInput/SimpleFormIteratorContext.ts", "../../ra-ui-materialui/src/input/ArrayInput/SimpleFormIteratorItem.tsx", "../../ra-ui-materialui/src/input/ArrayInput/useSimpleFormIterator.ts", "../../ra-ui-materialui/src/input/ArrayInput/SimpleFormIteratorItemContext.ts", "../../ra-ui-materialui/src/input/ArrayInput/AddItemButton.tsx", "../../ra-ui-materialui/src/input/ArrayInput/RemoveItemButton.tsx", "../../ra-ui-materialui/src/input/ArrayInput/useSimpleFormIteratorItem.ts", "../../ra-ui-materialui/src/input/ArrayInput/ReOrderButtons.tsx", "../../ra-ui-materialui/src/input/ArrayInput/ClearArrayButton.tsx", "../../ra-ui-materialui/src/input/AutocompleteInput.tsx", "../../ra-ui-materialui/src/input/useSupportCreateSuggestion.tsx", "../../ra-ui-materialui/src/input/AutocompleteArrayInput.tsx", "../../ra-ui-materialui/src/input/BooleanInput.tsx", "../../ra-ui-materialui/src/input/InputPropTypes.ts", "../../ra-ui-materialui/src/input/CheckboxGroupInput.tsx", "../../ra-ui-materialui/src/input/CheckboxGroupInputItem.tsx", "../../ra-ui-materialui/src/input/DatagridInput.tsx", "../../ra-ui-materialui/src/list/datagrid/DatagridBody.tsx", "../../ra-ui-materialui/src/list/datagrid/useDatagridStyles.tsx", "../../ra-ui-materialui/src/list/datagrid/DatagridRow.tsx", "../../ra-ui-materialui/src/list/datagrid/DatagridCell.tsx", "../../ra-ui-materialui/src/list/datagrid/ExpandRowButton.tsx", "../../ra-ui-materialui/src/list/datagrid/useDatagridContext.ts", "../../ra-ui-materialui/src/list/datagrid/DatagridContext.ts", "../../ra-ui-materialui/src/list/datagrid/DatagridHeaderCell.tsx", "../../ra-ui-materialui/src/list/datagrid/DatagridLoading.tsx", "../../ra-ui-materialui/src/list/Placeholder.tsx", "../../ra-ui-materialui/src/list/datagrid/Datagrid.tsx", "../../ra-ui-materialui/src/list/datagrid/DatagridHeader.tsx", "../../ra-ui-materialui/src/list/datagrid/ExpandAllButton.tsx", "../../ra-ui-materialui/src/list/datagrid/DatagridContextProvider.tsx", "../../ra-ui-materialui/src/list/BulkActionsToolbar.tsx", "../../ra-ui-materialui/src/list/ListNoResults.tsx", "../../ra-ui-materialui/src/list/datagrid/DatagridConfigurable.tsx", "../../ra-ui-materialui/src/list/datagrid/DatagridEditor.tsx", "../../ra-ui-materialui/src/list/datagrid/SelectColumnsButton.tsx", "../../ra-ui-materialui/src/list/filter/Filter.tsx", "../../ra-ui-materialui/src/list/filter/FilterForm.tsx", "../../ra-ui-materialui/src/list/filter/FilterFormInput.tsx", "../../ra-ui-materialui/src/list/FilterContext.tsx", "../../ra-ui-materialui/src/list/filter/FilterButton.tsx", "../../ra-ui-materialui/src/list/filter/FilterButtonMenuItem.tsx", "../../ra-ui-materialui/src/list/filter/useSavedQueries.ts", "../../ra-ui-materialui/src/list/filter/AddSavedQueryDialog.tsx", "../../ra-ui-materialui/src/list/filter/RemoveSavedQueryDialog.tsx", "../../ra-ui-materialui/src/list/filter/FilterList.tsx", "../../ra-ui-materialui/src/list/filter/FilterListItem.tsx", "../../ra-ui-materialui/src/list/filter/FilterLiveSearch.tsx", "../../ra-ui-materialui/src/list/filter/AddSavedQueryIconButton.tsx", "../../ra-ui-materialui/src/list/filter/RemoveSavedQueryIconButton.tsx", "../../ra-ui-materialui/src/list/filter/SavedQueriesList.tsx", "../../ra-ui-materialui/src/list/filter/SavedQueryFilterListItem.tsx", "../../ra-ui-materialui/src/list/pagination/InfinitePagination.tsx", "../../ra-ui-materialui/src/list/pagination/Pagination.tsx", "../../ra-ui-materialui/src/list/pagination/PaginationActions.tsx", "../../ra-ui-materialui/src/list/pagination/PaginationLimit.tsx", "../../ra-ui-materialui/src/input/DateInput.tsx", "../../ra-ui-materialui/src/input/DateTimeInput.tsx", "../../ra-ui-materialui/src/input/TimeInput.tsx", "../../ra-ui-materialui/src/input/FileInput.tsx", "../../react-dropzone/dist/es/index.js", "../../file-selector/src/file.ts", "../../file-selector/src/file-selector.ts", "../../react-dropzone/dist/es/utils/index.js", "../../ra-ui-materialui/src/input/FileInputPreview.tsx", "../../ra-ui-materialui/src/input/ImageInput.tsx", "../../ra-ui-materialui/src/input/LoadingInput.tsx", "../../ra-ui-materialui/src/input/ResettableTextField.tsx", "../../ra-ui-materialui/src/input/NullableBooleanInput.tsx", "../../ra-ui-materialui/src/input/NumberInput.tsx", "../../ra-ui-materialui/src/input/PasswordInput.tsx", "../../ra-ui-materialui/src/input/TextInput.tsx", "../../ra-ui-materialui/src/input/RadioButtonGroupInput.tsx", "../../ra-ui-materialui/src/input/RadioButtonGroupInputItem.tsx", "../../ra-ui-materialui/src/input/ReferenceArrayInput.tsx", "../../ra-ui-materialui/src/input/ReferenceError.tsx", "../../ra-ui-materialui/src/input/ReferenceInput.tsx", "../../ra-ui-materialui/src/input/SearchInput.tsx", "../../ra-ui-materialui/src/input/SelectArrayInput.tsx", "../../ra-ui-materialui/src/input/SelectInput.tsx", "../../ra-ui-materialui/src/input/TranslatableInputs.tsx", "../../ra-ui-materialui/src/input/TranslatableInputsTabs.tsx", "../../ra-ui-materialui/src/input/TranslatableInputsTab.tsx", "../../ra-ui-materialui/src/input/TranslatableInputsTabContent.tsx", "../../ra-ui-materialui/src/defaultTheme.ts", "../../ra-ui-materialui/src/detail/Create.tsx", "../../ra-ui-materialui/src/detail/CreateView.tsx", "../../ra-ui-materialui/src/detail/CreateActions.tsx", "../../ra-ui-materialui/src/detail/Edit.tsx", "../../ra-ui-materialui/src/detail/EditView.tsx", "../../ra-ui-materialui/src/detail/EditActions.tsx", "../../ra-ui-materialui/src/detail/editFieldTypes.tsx", "../../ra-ui-materialui/src/form/TabbedForm.tsx", "../../ra-ui-materialui/src/form/TabbedFormView.tsx", "../../ra-ui-materialui/src/form/Toolbar.tsx", "../../ra-ui-materialui/src/form/TabbedFormTabs.tsx", "../../ra-ui-materialui/src/form/useFormRootPath.ts", "../../ra-ui-materialui/src/form/FormTab.tsx", "../../ra-ui-materialui/src/form/FormTabHeader.tsx", "../../ra-ui-materialui/src/form/SimpleForm.tsx", "../../ra-ui-materialui/src/form/SimpleFormConfigurable.tsx", "../../ra-ui-materialui/src/form/SimpleFormEditor.tsx", "../../ra-ui-materialui/src/detail/EditGuesser.tsx", "../../ra-ui-materialui/src/detail/Show.tsx", "../../ra-ui-materialui/src/detail/ShowView.tsx", "../../ra-ui-materialui/src/detail/ShowActions.tsx", "../../ra-ui-materialui/src/detail/showFieldTypes.tsx", "../../ra-ui-materialui/src/field/ArrayField.tsx", "../../ra-ui-materialui/src/field/types.ts", "../../ra-ui-materialui/src/field/genericMemo.ts", "../../ra-ui-materialui/src/field/BooleanField.tsx", "../../ra-ui-materialui/src/field/sanitizeFieldRestProps.ts", "../../ra-ui-materialui/src/field/ChipField.tsx", "../../ra-ui-materialui/src/field/DateField.tsx", "../../ra-ui-materialui/src/field/EmailField.tsx", "../../ra-ui-materialui/src/field/FileField.tsx", "../../ra-ui-materialui/src/field/FunctionField.tsx", "../../ra-ui-materialui/src/field/ImageField.tsx", "../../ra-ui-materialui/src/field/NumberField.tsx", "../../ra-ui-materialui/src/field/ReferenceArrayField.tsx", "../../ra-ui-materialui/src/list/SingleFieldList.tsx", "../../ra-ui-materialui/src/Link.tsx", "../../ra-ui-materialui/src/field/ReferenceField.tsx", "../../ra-ui-materialui/src/field/ReferenceManyCount.tsx", "../../ra-ui-materialui/src/field/ReferenceManyField.tsx", "../../ra-ui-materialui/src/field/ReferenceOneField.tsx", "../../ra-ui-materialui/src/field/RichTextField.tsx", "../../dompurify/src/utils.js", "../../dompurify/src/tags.js", "../../dompurify/src/attrs.js", "../../dompurify/src/regexp.js", "../../dompurify/src/purify.js", "../../ra-ui-materialui/src/field/SelectField.tsx", "../../ra-ui-materialui/src/field/TextField.tsx", "../../ra-ui-materialui/src/field/TranslatableFields.tsx", "../../ra-ui-materialui/src/field/TranslatableFieldsTabs.tsx", "../../ra-ui-materialui/src/field/TranslatableFieldsTab.tsx", "../../ra-ui-materialui/src/field/TranslatableFieldsTabContent.tsx", "../../ra-ui-materialui/src/field/UrlField.tsx", "../../ra-ui-materialui/src/field/WrapperField.tsx", "../../ra-ui-materialui/src/detail/SimpleShowLayout.tsx", "../../ra-ui-materialui/src/detail/ShowGuesser.tsx", "../../ra-ui-materialui/src/detail/TabbedShowLayout.tsx", "../../ra-ui-materialui/src/detail/TabbedShowLayoutTabs.tsx", "../../ra-ui-materialui/src/detail/Tab.tsx", "../../ra-ui-materialui/src/list/Count.tsx", "../../ra-ui-materialui/src/list/Empty.tsx", "../../ra-ui-materialui/src/list/InfiniteList.tsx", "../../ra-ui-materialui/src/list/ListView.tsx", "../../ra-ui-materialui/src/list/ListToolbar.tsx", "../../ra-ui-materialui/src/list/ListActions.tsx", "../../ra-ui-materialui/src/list/List.tsx", "../../ra-ui-materialui/src/list/listFieldTypes.tsx", "../../ra-ui-materialui/src/list/ListGuesser.tsx", "../../ra-ui-materialui/src/list/SimpleList/SimpleList.tsx", "../../ra-ui-materialui/src/list/SimpleList/SimpleListLoading.tsx", "../../ra-ui-materialui/src/list/SimpleList/SimpleListConfigurable.tsx", "../../ra-ui-materialui/src/list/SimpleList/SimpleListEditor.tsx", "../../ra-ui-materialui/src/AdminUI.tsx", "../../ra-ui-materialui/src/AdminContext.tsx", "../../ra-language-english/src/index.ts", "../../react-admin/src/defaultI18nProvider.ts"],
  "sourcesContent": ["/** Detect free variable `global` from Node.js. */\r\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\r\n\r\nmodule.exports = freeGlobal;\r\n", "var freeGlobal = require('./_freeGlobal');\r\n\r\n/** Detect free variable `self`. */\r\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\r\n\r\n/** Used as a reference to the global object. */\r\nvar root = freeGlobal || freeSelf || Function('return this')();\r\n\r\nmodule.exports = root;\r\n", "var root = require('./_root');\r\n\r\n/** Built-in value references. */\r\nvar Symbol = root.Symbol;\r\n\r\nmodule.exports = Symbol;\r\n", "var Symbol = require('./_Symbol');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * Used to resolve the\r\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\r\n * of values.\r\n */\r\nvar nativeObjectToString = objectProto.toString;\r\n\r\n/** Built-in value references. */\r\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\r\n\r\n/**\r\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\r\n *\r\n * @private\r\n * @param {*} value The value to query.\r\n * @returns {string} Returns the raw `toStringTag`.\r\n */\r\nfunction getRawTag(value) {\r\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\r\n      tag = value[symToStringTag];\r\n\r\n  try {\r\n    value[symToStringTag] = undefined;\r\n    var unmasked = true;\r\n  } catch (e) {}\r\n\r\n  var result = nativeObjectToString.call(value);\r\n  if (unmasked) {\r\n    if (isOwn) {\r\n      value[symToStringTag] = tag;\r\n    } else {\r\n      delete value[symToStringTag];\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = getRawTag;\r\n", "/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/**\r\n * Used to resolve the\r\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\r\n * of values.\r\n */\r\nvar nativeObjectToString = objectProto.toString;\r\n\r\n/**\r\n * Converts `value` to a string using `Object.prototype.toString`.\r\n *\r\n * @private\r\n * @param {*} value The value to convert.\r\n * @returns {string} Returns the converted string.\r\n */\r\nfunction objectToString(value) {\r\n  return nativeObjectToString.call(value);\r\n}\r\n\r\nmodule.exports = objectToString;\r\n", "var Symbol = require('./_Symbol'),\r\n    getRawTag = require('./_getRawTag'),\r\n    objectToString = require('./_objectToString');\r\n\r\n/** `Object#toString` result references. */\r\nvar nullTag = '[object Null]',\r\n    undefinedTag = '[object Undefined]';\r\n\r\n/** Built-in value references. */\r\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\r\n\r\n/**\r\n * The base implementation of `getTag` without fallbacks for buggy environments.\r\n *\r\n * @private\r\n * @param {*} value The value to query.\r\n * @returns {string} Returns the `toStringTag`.\r\n */\r\nfunction baseGetTag(value) {\r\n  if (value == null) {\r\n    return value === undefined ? undefinedTag : nullTag;\r\n  }\r\n  return (symToStringTag && symToStringTag in Object(value))\r\n    ? getRawTag(value)\r\n    : objectToString(value);\r\n}\r\n\r\nmodule.exports = baseGetTag;\r\n", "/**\r\n * Checks if `value` is the\r\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\r\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\r\n * @example\r\n *\r\n * _.isObject({});\r\n * // => true\r\n *\r\n * _.isObject([1, 2, 3]);\r\n * // => true\r\n *\r\n * _.isObject(_.noop);\r\n * // => true\r\n *\r\n * _.isObject(null);\r\n * // => false\r\n */\r\nfunction isObject(value) {\r\n  var type = typeof value;\r\n  return value != null && (type == 'object' || type == 'function');\r\n}\r\n\r\nmodule.exports = isObject;\r\n", "var baseGetTag = require('./_baseGetTag'),\r\n    isObject = require('./isObject');\r\n\r\n/** `Object#toString` result references. */\r\nvar asyncTag = '[object AsyncFunction]',\r\n    funcTag = '[object Function]',\r\n    genTag = '[object GeneratorFunction]',\r\n    proxyTag = '[object Proxy]';\r\n\r\n/**\r\n * Checks if `value` is classified as a `Function` object.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\r\n * @example\r\n *\r\n * _.isFunction(_);\r\n * // => true\r\n *\r\n * _.isFunction(/abc/);\r\n * // => false\r\n */\r\nfunction isFunction(value) {\r\n  if (!isObject(value)) {\r\n    return false;\r\n  }\r\n  // The use of `Object#toString` avoids issues with the `typeof` operator\r\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\r\n  var tag = baseGetTag(value);\r\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\r\n}\r\n\r\nmodule.exports = isFunction;\r\n", "var root = require('./_root');\r\n\r\n/** Used to detect overreaching core-js shims. */\r\nvar coreJsData = root['__core-js_shared__'];\r\n\r\nmodule.exports = coreJsData;\r\n", "var coreJsData = require('./_coreJsData');\r\n\r\n/** Used to detect methods masquerading as native. */\r\nvar maskSrcKey = (function() {\r\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\r\n  return uid ? ('Symbol(src)_1.' + uid) : '';\r\n}());\r\n\r\n/**\r\n * Checks if `func` has its source masked.\r\n *\r\n * @private\r\n * @param {Function} func The function to check.\r\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\r\n */\r\nfunction isMasked(func) {\r\n  return !!maskSrcKey && (maskSrcKey in func);\r\n}\r\n\r\nmodule.exports = isMasked;\r\n", "/** Used for built-in method references. */\r\nvar funcProto = Function.prototype;\r\n\r\n/** Used to resolve the decompiled source of functions. */\r\nvar funcToString = funcProto.toString;\r\n\r\n/**\r\n * Converts `func` to its source code.\r\n *\r\n * @private\r\n * @param {Function} func The function to convert.\r\n * @returns {string} Returns the source code.\r\n */\r\nfunction toSource(func) {\r\n  if (func != null) {\r\n    try {\r\n      return funcToString.call(func);\r\n    } catch (e) {}\r\n    try {\r\n      return (func + '');\r\n    } catch (e) {}\r\n  }\r\n  return '';\r\n}\r\n\r\nmodule.exports = toSource;\r\n", "var isFunction = require('./isFunction'),\r\n    isMasked = require('./_isMasked'),\r\n    isObject = require('./isObject'),\r\n    toSource = require('./_toSource');\r\n\r\n/**\r\n * Used to match `RegExp`\r\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\r\n */\r\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\r\n\r\n/** Used to detect host constructors (Safari). */\r\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\r\n\r\n/** Used for built-in method references. */\r\nvar funcProto = Function.prototype,\r\n    objectProto = Object.prototype;\r\n\r\n/** Used to resolve the decompiled source of functions. */\r\nvar funcToString = funcProto.toString;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/** Used to detect if a method is native. */\r\nvar reIsNative = RegExp('^' +\r\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\r\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\r\n);\r\n\r\n/**\r\n * The base implementation of `_.isNative` without bad shim checks.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a native function,\r\n *  else `false`.\r\n */\r\nfunction baseIsNative(value) {\r\n  if (!isObject(value) || isMasked(value)) {\r\n    return false;\r\n  }\r\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\r\n  return pattern.test(toSource(value));\r\n}\r\n\r\nmodule.exports = baseIsNative;\r\n", "/**\r\n * Gets the value at `key` of `object`.\r\n *\r\n * @private\r\n * @param {Object} [object] The object to query.\r\n * @param {string} key The key of the property to get.\r\n * @returns {*} Returns the property value.\r\n */\r\nfunction getValue(object, key) {\r\n  return object == null ? undefined : object[key];\r\n}\r\n\r\nmodule.exports = getValue;\r\n", "var baseIsNative = require('./_baseIsNative'),\r\n    getValue = require('./_getValue');\r\n\r\n/**\r\n * Gets the native function at `key` of `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @param {string} key The key of the method to get.\r\n * @returns {*} Returns the function if it's native, else `undefined`.\r\n */\r\nfunction getNative(object, key) {\r\n  var value = getValue(object, key);\r\n  return baseIsNative(value) ? value : undefined;\r\n}\r\n\r\nmodule.exports = getNative;\r\n", "var getNative = require('./_getNative');\r\n\r\nvar defineProperty = (function() {\r\n  try {\r\n    var func = getNative(Object, 'defineProperty');\r\n    func({}, '', {});\r\n    return func;\r\n  } catch (e) {}\r\n}());\r\n\r\nmodule.exports = defineProperty;\r\n", "var defineProperty = require('./_defineProperty');\r\n\r\n/**\r\n * The base implementation of `assignValue` and `assignMergeValue` without\r\n * value checks.\r\n *\r\n * @private\r\n * @param {Object} object The object to modify.\r\n * @param {string} key The key of the property to assign.\r\n * @param {*} value The value to assign.\r\n */\r\nfunction baseAssignValue(object, key, value) {\r\n  if (key == '__proto__' && defineProperty) {\r\n    defineProperty(object, key, {\r\n      'configurable': true,\r\n      'enumerable': true,\r\n      'value': value,\r\n      'writable': true\r\n    });\r\n  } else {\r\n    object[key] = value;\r\n  }\r\n}\r\n\r\nmodule.exports = baseAssignValue;\r\n", "/**\r\n * Performs a\r\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\r\n * comparison between two values to determine if they are equivalent.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Lang\r\n * @param {*} value The value to compare.\r\n * @param {*} other The other value to compare.\r\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\r\n * @example\r\n *\r\n * var object = { 'a': 1 };\r\n * var other = { 'a': 1 };\r\n *\r\n * _.eq(object, object);\r\n * // => true\r\n *\r\n * _.eq(object, other);\r\n * // => false\r\n *\r\n * _.eq('a', 'a');\r\n * // => true\r\n *\r\n * _.eq('a', Object('a'));\r\n * // => false\r\n *\r\n * _.eq(NaN, NaN);\r\n * // => true\r\n */\r\nfunction eq(value, other) {\r\n  return value === other || (value !== value && other !== other);\r\n}\r\n\r\nmodule.exports = eq;\r\n", "var baseAssignValue = require('./_baseAssignValue'),\r\n    eq = require('./eq');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\r\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\r\n * for equality comparisons.\r\n *\r\n * @private\r\n * @param {Object} object The object to modify.\r\n * @param {string} key The key of the property to assign.\r\n * @param {*} value The value to assign.\r\n */\r\nfunction assignValue(object, key, value) {\r\n  var objValue = object[key];\r\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\r\n      (value === undefined && !(key in object))) {\r\n    baseAssignValue(object, key, value);\r\n  }\r\n}\r\n\r\nmodule.exports = assignValue;\r\n", "/**\r\n * Checks if `value` is classified as an `Array` object.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\r\n * @example\r\n *\r\n * _.isArray([1, 2, 3]);\r\n * // => true\r\n *\r\n * _.isArray(document.body.children);\r\n * // => false\r\n *\r\n * _.isArray('abc');\r\n * // => false\r\n *\r\n * _.isArray(_.noop);\r\n * // => false\r\n */\r\nvar isArray = Array.isArray;\r\n\r\nmodule.exports = isArray;\r\n", "/**\r\n * Checks if `value` is object-like. A value is object-like if it's not `null`\r\n * and has a `typeof` result of \"object\".\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\r\n * @example\r\n *\r\n * _.isObjectLike({});\r\n * // => true\r\n *\r\n * _.isObjectLike([1, 2, 3]);\r\n * // => true\r\n *\r\n * _.isObjectLike(_.noop);\r\n * // => false\r\n *\r\n * _.isObjectLike(null);\r\n * // => false\r\n */\r\nfunction isObjectLike(value) {\r\n  return value != null && typeof value == 'object';\r\n}\r\n\r\nmodule.exports = isObjectLike;\r\n", "var baseGetTag = require('./_baseGetTag'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/** `Object#toString` result references. */\r\nvar symbolTag = '[object Symbol]';\r\n\r\n/**\r\n * Checks if `value` is classified as a `Symbol` primitive or object.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\r\n * @example\r\n *\r\n * _.isSymbol(Symbol.iterator);\r\n * // => true\r\n *\r\n * _.isSymbol('abc');\r\n * // => false\r\n */\r\nfunction isSymbol(value) {\r\n  return typeof value == 'symbol' ||\r\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\r\n}\r\n\r\nmodule.exports = isSymbol;\r\n", "var isArray = require('./isArray'),\r\n    isSymbol = require('./isSymbol');\r\n\r\n/** Used to match property names within property paths. */\r\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\r\n    reIsPlainProp = /^\\w*$/;\r\n\r\n/**\r\n * Checks if `value` is a property name and not a property path.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @param {Object} [object] The object to query keys on.\r\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\r\n */\r\nfunction isKey(value, object) {\r\n  if (isArray(value)) {\r\n    return false;\r\n  }\r\n  var type = typeof value;\r\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\r\n      value == null || isSymbol(value)) {\r\n    return true;\r\n  }\r\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\r\n    (object != null && value in Object(object));\r\n}\r\n\r\nmodule.exports = isKey;\r\n", "var getNative = require('./_getNative');\r\n\r\n/* Built-in method references that are verified to be native. */\r\nvar nativeCreate = getNative(Object, 'create');\r\n\r\nmodule.exports = nativeCreate;\r\n", "var nativeCreate = require('./_nativeCreate');\r\n\r\n/**\r\n * Removes all key-value entries from the hash.\r\n *\r\n * @private\r\n * @name clear\r\n * @memberOf Hash\r\n */\r\nfunction hashClear() {\r\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\r\n  this.size = 0;\r\n}\r\n\r\nmodule.exports = hashClear;\r\n", "/**\r\n * Removes `key` and its value from the hash.\r\n *\r\n * @private\r\n * @name delete\r\n * @memberOf Hash\r\n * @param {Object} hash The hash to modify.\r\n * @param {string} key The key of the value to remove.\r\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\r\n */\r\nfunction hashDelete(key) {\r\n  var result = this.has(key) && delete this.__data__[key];\r\n  this.size -= result ? 1 : 0;\r\n  return result;\r\n}\r\n\r\nmodule.exports = hashDelete;\r\n", "var nativeCreate = require('./_nativeCreate');\r\n\r\n/** Used to stand-in for `undefined` hash values. */\r\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * Gets the hash value for `key`.\r\n *\r\n * @private\r\n * @name get\r\n * @memberOf Hash\r\n * @param {string} key The key of the value to get.\r\n * @returns {*} Returns the entry value.\r\n */\r\nfunction hashGet(key) {\r\n  var data = this.__data__;\r\n  if (nativeCreate) {\r\n    var result = data[key];\r\n    return result === HASH_UNDEFINED ? undefined : result;\r\n  }\r\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\r\n}\r\n\r\nmodule.exports = hashGet;\r\n", "var nativeCreate = require('./_nativeCreate');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * Checks if a hash value for `key` exists.\r\n *\r\n * @private\r\n * @name has\r\n * @memberOf Hash\r\n * @param {string} key The key of the entry to check.\r\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\r\n */\r\nfunction hashHas(key) {\r\n  var data = this.__data__;\r\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\r\n}\r\n\r\nmodule.exports = hashHas;\r\n", "var nativeCreate = require('./_nativeCreate');\r\n\r\n/** Used to stand-in for `undefined` hash values. */\r\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\r\n\r\n/**\r\n * Sets the hash `key` to `value`.\r\n *\r\n * @private\r\n * @name set\r\n * @memberOf Hash\r\n * @param {string} key The key of the value to set.\r\n * @param {*} value The value to set.\r\n * @returns {Object} Returns the hash instance.\r\n */\r\nfunction hashSet(key, value) {\r\n  var data = this.__data__;\r\n  this.size += this.has(key) ? 0 : 1;\r\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\r\n  return this;\r\n}\r\n\r\nmodule.exports = hashSet;\r\n", "var hashClear = require('./_hashClear'),\r\n    hashDelete = require('./_hashDelete'),\r\n    hashGet = require('./_hashGet'),\r\n    hashHas = require('./_hashHas'),\r\n    hashSet = require('./_hashSet');\r\n\r\n/**\r\n * Creates a hash object.\r\n *\r\n * @private\r\n * @constructor\r\n * @param {Array} [entries] The key-value pairs to cache.\r\n */\r\nfunction Hash(entries) {\r\n  var index = -1,\r\n      length = entries == null ? 0 : entries.length;\r\n\r\n  this.clear();\r\n  while (++index < length) {\r\n    var entry = entries[index];\r\n    this.set(entry[0], entry[1]);\r\n  }\r\n}\r\n\r\n// Add methods to `Hash`.\r\nHash.prototype.clear = hashClear;\r\nHash.prototype['delete'] = hashDelete;\r\nHash.prototype.get = hashGet;\r\nHash.prototype.has = hashHas;\r\nHash.prototype.set = hashSet;\r\n\r\nmodule.exports = Hash;\r\n", "/**\r\n * Removes all key-value entries from the list cache.\r\n *\r\n * @private\r\n * @name clear\r\n * @memberOf ListCache\r\n */\r\nfunction listCacheClear() {\r\n  this.__data__ = [];\r\n  this.size = 0;\r\n}\r\n\r\nmodule.exports = listCacheClear;\r\n", "var eq = require('./eq');\r\n\r\n/**\r\n * Gets the index at which the `key` is found in `array` of key-value pairs.\r\n *\r\n * @private\r\n * @param {Array} array The array to inspect.\r\n * @param {*} key The key to search for.\r\n * @returns {number} Returns the index of the matched value, else `-1`.\r\n */\r\nfunction assocIndexOf(array, key) {\r\n  var length = array.length;\r\n  while (length--) {\r\n    if (eq(array[length][0], key)) {\r\n      return length;\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nmodule.exports = assocIndexOf;\r\n", "var assocIndexOf = require('./_assocIndexOf');\r\n\r\n/** Used for built-in method references. */\r\nvar arrayProto = Array.prototype;\r\n\r\n/** Built-in value references. */\r\nvar splice = arrayProto.splice;\r\n\r\n/**\r\n * Removes `key` and its value from the list cache.\r\n *\r\n * @private\r\n * @name delete\r\n * @memberOf ListCache\r\n * @param {string} key The key of the value to remove.\r\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\r\n */\r\nfunction listCacheDelete(key) {\r\n  var data = this.__data__,\r\n      index = assocIndexOf(data, key);\r\n\r\n  if (index < 0) {\r\n    return false;\r\n  }\r\n  var lastIndex = data.length - 1;\r\n  if (index == lastIndex) {\r\n    data.pop();\r\n  } else {\r\n    splice.call(data, index, 1);\r\n  }\r\n  --this.size;\r\n  return true;\r\n}\r\n\r\nmodule.exports = listCacheDelete;\r\n", "var assocIndexOf = require('./_assocIndexOf');\r\n\r\n/**\r\n * Gets the list cache value for `key`.\r\n *\r\n * @private\r\n * @name get\r\n * @memberOf ListCache\r\n * @param {string} key The key of the value to get.\r\n * @returns {*} Returns the entry value.\r\n */\r\nfunction listCacheGet(key) {\r\n  var data = this.__data__,\r\n      index = assocIndexOf(data, key);\r\n\r\n  return index < 0 ? undefined : data[index][1];\r\n}\r\n\r\nmodule.exports = listCacheGet;\r\n", "var assocIndexOf = require('./_assocIndexOf');\r\n\r\n/**\r\n * Checks if a list cache value for `key` exists.\r\n *\r\n * @private\r\n * @name has\r\n * @memberOf ListCache\r\n * @param {string} key The key of the entry to check.\r\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\r\n */\r\nfunction listCacheHas(key) {\r\n  return assocIndexOf(this.__data__, key) > -1;\r\n}\r\n\r\nmodule.exports = listCacheHas;\r\n", "var assocIndexOf = require('./_assocIndexOf');\r\n\r\n/**\r\n * Sets the list cache `key` to `value`.\r\n *\r\n * @private\r\n * @name set\r\n * @memberOf ListCache\r\n * @param {string} key The key of the value to set.\r\n * @param {*} value The value to set.\r\n * @returns {Object} Returns the list cache instance.\r\n */\r\nfunction listCacheSet(key, value) {\r\n  var data = this.__data__,\r\n      index = assocIndexOf(data, key);\r\n\r\n  if (index < 0) {\r\n    ++this.size;\r\n    data.push([key, value]);\r\n  } else {\r\n    data[index][1] = value;\r\n  }\r\n  return this;\r\n}\r\n\r\nmodule.exports = listCacheSet;\r\n", "var listCacheClear = require('./_listCacheClear'),\r\n    listCacheDelete = require('./_listCacheDelete'),\r\n    listCacheGet = require('./_listCacheGet'),\r\n    listCacheHas = require('./_listCacheHas'),\r\n    listCacheSet = require('./_listCacheSet');\r\n\r\n/**\r\n * Creates an list cache object.\r\n *\r\n * @private\r\n * @constructor\r\n * @param {Array} [entries] The key-value pairs to cache.\r\n */\r\nfunction ListCache(entries) {\r\n  var index = -1,\r\n      length = entries == null ? 0 : entries.length;\r\n\r\n  this.clear();\r\n  while (++index < length) {\r\n    var entry = entries[index];\r\n    this.set(entry[0], entry[1]);\r\n  }\r\n}\r\n\r\n// Add methods to `ListCache`.\r\nListCache.prototype.clear = listCacheClear;\r\nListCache.prototype['delete'] = listCacheDelete;\r\nListCache.prototype.get = listCacheGet;\r\nListCache.prototype.has = listCacheHas;\r\nListCache.prototype.set = listCacheSet;\r\n\r\nmodule.exports = ListCache;\r\n", "var getNative = require('./_getNative'),\r\n    root = require('./_root');\r\n\r\n/* Built-in method references that are verified to be native. */\r\nvar Map = getNative(root, 'Map');\r\n\r\nmodule.exports = Map;\r\n", "var Hash = require('./_Hash'),\r\n    ListCache = require('./_ListCache'),\r\n    Map = require('./_Map');\r\n\r\n/**\r\n * Removes all key-value entries from the map.\r\n *\r\n * @private\r\n * @name clear\r\n * @memberOf MapCache\r\n */\r\nfunction mapCacheClear() {\r\n  this.size = 0;\r\n  this.__data__ = {\r\n    'hash': new Hash,\r\n    'map': new (Map || ListCache),\r\n    'string': new Hash\r\n  };\r\n}\r\n\r\nmodule.exports = mapCacheClear;\r\n", "/**\r\n * Checks if `value` is suitable for use as unique object key.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\r\n */\r\nfunction isKeyable(value) {\r\n  var type = typeof value;\r\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\r\n    ? (value !== '__proto__')\r\n    : (value === null);\r\n}\r\n\r\nmodule.exports = isKeyable;\r\n", "var isKeyable = require('./_isKeyable');\r\n\r\n/**\r\n * Gets the data for `map`.\r\n *\r\n * @private\r\n * @param {Object} map The map to query.\r\n * @param {string} key The reference key.\r\n * @returns {*} Returns the map data.\r\n */\r\nfunction getMapData(map, key) {\r\n  var data = map.__data__;\r\n  return isKeyable(key)\r\n    ? data[typeof key == 'string' ? 'string' : 'hash']\r\n    : data.map;\r\n}\r\n\r\nmodule.exports = getMapData;\r\n", "var getMapData = require('./_getMapData');\r\n\r\n/**\r\n * Removes `key` and its value from the map.\r\n *\r\n * @private\r\n * @name delete\r\n * @memberOf MapCache\r\n * @param {string} key The key of the value to remove.\r\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\r\n */\r\nfunction mapCacheDelete(key) {\r\n  var result = getMapData(this, key)['delete'](key);\r\n  this.size -= result ? 1 : 0;\r\n  return result;\r\n}\r\n\r\nmodule.exports = mapCacheDelete;\r\n", "var getMapData = require('./_getMapData');\r\n\r\n/**\r\n * Gets the map value for `key`.\r\n *\r\n * @private\r\n * @name get\r\n * @memberOf MapCache\r\n * @param {string} key The key of the value to get.\r\n * @returns {*} Returns the entry value.\r\n */\r\nfunction mapCacheGet(key) {\r\n  return getMapData(this, key).get(key);\r\n}\r\n\r\nmodule.exports = mapCacheGet;\r\n", "var getMapData = require('./_getMapData');\r\n\r\n/**\r\n * Checks if a map value for `key` exists.\r\n *\r\n * @private\r\n * @name has\r\n * @memberOf MapCache\r\n * @param {string} key The key of the entry to check.\r\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\r\n */\r\nfunction mapCacheHas(key) {\r\n  return getMapData(this, key).has(key);\r\n}\r\n\r\nmodule.exports = mapCacheHas;\r\n", "var getMapData = require('./_getMapData');\r\n\r\n/**\r\n * Sets the map `key` to `value`.\r\n *\r\n * @private\r\n * @name set\r\n * @memberOf MapCache\r\n * @param {string} key The key of the value to set.\r\n * @param {*} value The value to set.\r\n * @returns {Object} Returns the map cache instance.\r\n */\r\nfunction mapCacheSet(key, value) {\r\n  var data = getMapData(this, key),\r\n      size = data.size;\r\n\r\n  data.set(key, value);\r\n  this.size += data.size == size ? 0 : 1;\r\n  return this;\r\n}\r\n\r\nmodule.exports = mapCacheSet;\r\n", "var mapCacheClear = require('./_mapCacheClear'),\r\n    mapCacheDelete = require('./_mapCacheDelete'),\r\n    mapCacheGet = require('./_mapCacheGet'),\r\n    mapCacheHas = require('./_mapCacheHas'),\r\n    mapCacheSet = require('./_mapCacheSet');\r\n\r\n/**\r\n * Creates a map cache object to store key-value pairs.\r\n *\r\n * @private\r\n * @constructor\r\n * @param {Array} [entries] The key-value pairs to cache.\r\n */\r\nfunction MapCache(entries) {\r\n  var index = -1,\r\n      length = entries == null ? 0 : entries.length;\r\n\r\n  this.clear();\r\n  while (++index < length) {\r\n    var entry = entries[index];\r\n    this.set(entry[0], entry[1]);\r\n  }\r\n}\r\n\r\n// Add methods to `MapCache`.\r\nMapCache.prototype.clear = mapCacheClear;\r\nMapCache.prototype['delete'] = mapCacheDelete;\r\nMapCache.prototype.get = mapCacheGet;\r\nMapCache.prototype.has = mapCacheHas;\r\nMapCache.prototype.set = mapCacheSet;\r\n\r\nmodule.exports = MapCache;\r\n", "var MapCache = require('./_MapCache');\r\n\r\n/** Error message constants. */\r\nvar FUNC_ERROR_TEXT = 'Expected a function';\r\n\r\n/**\r\n * Creates a function that memoizes the result of `func`. If `resolver` is\r\n * provided, it determines the cache key for storing the result based on the\r\n * arguments provided to the memoized function. By default, the first argument\r\n * provided to the memoized function is used as the map cache key. The `func`\r\n * is invoked with the `this` binding of the memoized function.\r\n *\r\n * **Note:** The cache is exposed as the `cache` property on the memoized\r\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\r\n * constructor with one whose instances implement the\r\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\r\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Function\r\n * @param {Function} func The function to have its output memoized.\r\n * @param {Function} [resolver] The function to resolve the cache key.\r\n * @returns {Function} Returns the new memoized function.\r\n * @example\r\n *\r\n * var object = { 'a': 1, 'b': 2 };\r\n * var other = { 'c': 3, 'd': 4 };\r\n *\r\n * var values = _.memoize(_.values);\r\n * values(object);\r\n * // => [1, 2]\r\n *\r\n * values(other);\r\n * // => [3, 4]\r\n *\r\n * object.a = 2;\r\n * values(object);\r\n * // => [1, 2]\r\n *\r\n * // Modify the result cache.\r\n * values.cache.set(object, ['a', 'b']);\r\n * values(object);\r\n * // => ['a', 'b']\r\n *\r\n * // Replace `_.memoize.Cache`.\r\n * _.memoize.Cache = WeakMap;\r\n */\r\nfunction memoize(func, resolver) {\r\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\r\n    throw new TypeError(FUNC_ERROR_TEXT);\r\n  }\r\n  var memoized = function() {\r\n    var args = arguments,\r\n        key = resolver ? resolver.apply(this, args) : args[0],\r\n        cache = memoized.cache;\r\n\r\n    if (cache.has(key)) {\r\n      return cache.get(key);\r\n    }\r\n    var result = func.apply(this, args);\r\n    memoized.cache = cache.set(key, result) || cache;\r\n    return result;\r\n  };\r\n  memoized.cache = new (memoize.Cache || MapCache);\r\n  return memoized;\r\n}\r\n\r\n// Expose `MapCache`.\r\nmemoize.Cache = MapCache;\r\n\r\nmodule.exports = memoize;\r\n", "var memoize = require('./memoize');\r\n\r\n/** Used as the maximum memoize cache size. */\r\nvar MAX_MEMOIZE_SIZE = 500;\r\n\r\n/**\r\n * A specialized version of `_.memoize` which clears the memoized function's\r\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\r\n *\r\n * @private\r\n * @param {Function} func The function to have its output memoized.\r\n * @returns {Function} Returns the new memoized function.\r\n */\r\nfunction memoizeCapped(func) {\r\n  var result = memoize(func, function(key) {\r\n    if (cache.size === MAX_MEMOIZE_SIZE) {\r\n      cache.clear();\r\n    }\r\n    return key;\r\n  });\r\n\r\n  var cache = result.cache;\r\n  return result;\r\n}\r\n\r\nmodule.exports = memoizeCapped;\r\n", "var memoizeCapped = require('./_memoizeCapped');\r\n\r\n/** Used to match property names within property paths. */\r\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\r\n\r\n/** Used to match backslashes in property paths. */\r\nvar reEscapeChar = /\\\\(\\\\)?/g;\r\n\r\n/**\r\n * Converts `string` to a property path array.\r\n *\r\n * @private\r\n * @param {string} string The string to convert.\r\n * @returns {Array} Returns the property path array.\r\n */\r\nvar stringToPath = memoizeCapped(function(string) {\r\n  var result = [];\r\n  if (string.charCodeAt(0) === 46 /* . */) {\r\n    result.push('');\r\n  }\r\n  string.replace(rePropName, function(match, number, quote, subString) {\r\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\r\n  });\r\n  return result;\r\n});\r\n\r\nmodule.exports = stringToPath;\r\n", "/**\r\n * A specialized version of `_.map` for arrays without support for iteratee\r\n * shorthands.\r\n *\r\n * @private\r\n * @param {Array} [array] The array to iterate over.\r\n * @param {Function} iteratee The function invoked per iteration.\r\n * @returns {Array} Returns the new mapped array.\r\n */\r\nfunction arrayMap(array, iteratee) {\r\n  var index = -1,\r\n      length = array == null ? 0 : array.length,\r\n      result = Array(length);\r\n\r\n  while (++index < length) {\r\n    result[index] = iteratee(array[index], index, array);\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = arrayMap;\r\n", "var Symbol = require('./_Symbol'),\r\n    arrayMap = require('./_arrayMap'),\r\n    isArray = require('./isArray'),\r\n    isSymbol = require('./isSymbol');\r\n\r\n/** Used as references for various `Number` constants. */\r\nvar INFINITY = 1 / 0;\r\n\r\n/** Used to convert symbols to primitives and strings. */\r\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\r\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\r\n\r\n/**\r\n * The base implementation of `_.toString` which doesn't convert nullish\r\n * values to empty strings.\r\n *\r\n * @private\r\n * @param {*} value The value to process.\r\n * @returns {string} Returns the string.\r\n */\r\nfunction baseToString(value) {\r\n  // Exit early for strings to avoid a performance hit in some environments.\r\n  if (typeof value == 'string') {\r\n    return value;\r\n  }\r\n  if (isArray(value)) {\r\n    // Recursively convert values (susceptible to call stack limits).\r\n    return arrayMap(value, baseToString) + '';\r\n  }\r\n  if (isSymbol(value)) {\r\n    return symbolToString ? symbolToString.call(value) : '';\r\n  }\r\n  var result = (value + '');\r\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\r\n}\r\n\r\nmodule.exports = baseToString;\r\n", "var baseToString = require('./_baseToString');\r\n\r\n/**\r\n * Converts `value` to a string. An empty string is returned for `null`\r\n * and `undefined` values. The sign of `-0` is preserved.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Lang\r\n * @param {*} value The value to convert.\r\n * @returns {string} Returns the converted string.\r\n * @example\r\n *\r\n * _.toString(null);\r\n * // => ''\r\n *\r\n * _.toString(-0);\r\n * // => '-0'\r\n *\r\n * _.toString([1, 2, 3]);\r\n * // => '1,2,3'\r\n */\r\nfunction toString(value) {\r\n  return value == null ? '' : baseToString(value);\r\n}\r\n\r\nmodule.exports = toString;\r\n", "var isArray = require('./isArray'),\r\n    isKey = require('./_isKey'),\r\n    stringToPath = require('./_stringToPath'),\r\n    toString = require('./toString');\r\n\r\n/**\r\n * Casts `value` to a path array if it's not one.\r\n *\r\n * @private\r\n * @param {*} value The value to inspect.\r\n * @param {Object} [object] The object to query keys on.\r\n * @returns {Array} Returns the cast property path array.\r\n */\r\nfunction castPath(value, object) {\r\n  if (isArray(value)) {\r\n    return value;\r\n  }\r\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\r\n}\r\n\r\nmodule.exports = castPath;\r\n", "/** Used as references for various `Number` constants. */\r\nvar MAX_SAFE_INTEGER = 9007199254740991;\r\n\r\n/** Used to detect unsigned integer values. */\r\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\r\n\r\n/**\r\n * Checks if `value` is a valid array-like index.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\r\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\r\n */\r\nfunction isIndex(value, length) {\r\n  var type = typeof value;\r\n  length = length == null ? MAX_SAFE_INTEGER : length;\r\n\r\n  return !!length &&\r\n    (type == 'number' ||\r\n      (type != 'symbol' && reIsUint.test(value))) &&\r\n        (value > -1 && value % 1 == 0 && value < length);\r\n}\r\n\r\nmodule.exports = isIndex;\r\n", "var isSymbol = require('./isSymbol');\r\n\r\n/** Used as references for various `Number` constants. */\r\nvar INFINITY = 1 / 0;\r\n\r\n/**\r\n * Converts `value` to a string key if it's not a string or symbol.\r\n *\r\n * @private\r\n * @param {*} value The value to inspect.\r\n * @returns {string|symbol} Returns the key.\r\n */\r\nfunction toKey(value) {\r\n  if (typeof value == 'string' || isSymbol(value)) {\r\n    return value;\r\n  }\r\n  var result = (value + '');\r\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\r\n}\r\n\r\nmodule.exports = toKey;\r\n", "var assignValue = require('./_assignValue'),\r\n    castPath = require('./_castPath'),\r\n    isIndex = require('./_isIndex'),\r\n    isObject = require('./isObject'),\r\n    toKey = require('./_toKey');\r\n\r\n/**\r\n * The base implementation of `_.set`.\r\n *\r\n * @private\r\n * @param {Object} object The object to modify.\r\n * @param {Array|string} path The path of the property to set.\r\n * @param {*} value The value to set.\r\n * @param {Function} [customizer] The function to customize path creation.\r\n * @returns {Object} Returns `object`.\r\n */\r\nfunction baseSet(object, path, value, customizer) {\r\n  if (!isObject(object)) {\r\n    return object;\r\n  }\r\n  path = castPath(path, object);\r\n\r\n  var index = -1,\r\n      length = path.length,\r\n      lastIndex = length - 1,\r\n      nested = object;\r\n\r\n  while (nested != null && ++index < length) {\r\n    var key = toKey(path[index]),\r\n        newValue = value;\r\n\r\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\r\n      return object;\r\n    }\r\n\r\n    if (index != lastIndex) {\r\n      var objValue = nested[key];\r\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\r\n      if (newValue === undefined) {\r\n        newValue = isObject(objValue)\r\n          ? objValue\r\n          : (isIndex(path[index + 1]) ? [] : {});\r\n      }\r\n    }\r\n    assignValue(nested, key, newValue);\r\n    nested = nested[key];\r\n  }\r\n  return object;\r\n}\r\n\r\nmodule.exports = baseSet;\r\n", "var baseSet = require('./_baseSet');\r\n\r\n/**\r\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\r\n * it's created. Arrays are created for missing index properties while objects\r\n * are created for all other missing properties. Use `_.setWith` to customize\r\n * `path` creation.\r\n *\r\n * **Note:** This method mutates `object`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 3.7.0\r\n * @category Object\r\n * @param {Object} object The object to modify.\r\n * @param {Array|string} path The path of the property to set.\r\n * @param {*} value The value to set.\r\n * @returns {Object} Returns `object`.\r\n * @example\r\n *\r\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\r\n *\r\n * _.set(object, 'a[0].b.c', 4);\r\n * console.log(object.a[0].b.c);\r\n * // => 4\r\n *\r\n * _.set(object, ['x', '0', 'y', 'z'], 5);\r\n * console.log(object.x[0].y.z);\r\n * // => 5\r\n */\r\nfunction set(object, path, value) {\r\n  return object == null ? object : baseSet(object, path, value);\r\n}\r\n\r\nmodule.exports = set;\r\n", "/**\r\n * Gets the last element of `array`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Array\r\n * @param {Array} array The array to query.\r\n * @returns {*} Returns the last element of `array`.\r\n * @example\r\n *\r\n * _.last([1, 2, 3]);\r\n * // => 3\r\n */\r\nfunction last(array) {\r\n  var length = array == null ? 0 : array.length;\r\n  return length ? array[length - 1] : undefined;\r\n}\r\n\r\nmodule.exports = last;\r\n", "var castPath = require('./_castPath'),\r\n    toKey = require('./_toKey');\r\n\r\n/**\r\n * The base implementation of `_.get` without support for default values.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @param {Array|string} path The path of the property to get.\r\n * @returns {*} Returns the resolved value.\r\n */\r\nfunction baseGet(object, path) {\r\n  path = castPath(path, object);\r\n\r\n  var index = 0,\r\n      length = path.length;\r\n\r\n  while (object != null && index < length) {\r\n    object = object[toKey(path[index++])];\r\n  }\r\n  return (index && index == length) ? object : undefined;\r\n}\r\n\r\nmodule.exports = baseGet;\r\n", "/**\r\n * The base implementation of `_.slice` without an iteratee call guard.\r\n *\r\n * @private\r\n * @param {Array} array The array to slice.\r\n * @param {number} [start=0] The start position.\r\n * @param {number} [end=array.length] The end position.\r\n * @returns {Array} Returns the slice of `array`.\r\n */\r\nfunction baseSlice(array, start, end) {\r\n  var index = -1,\r\n      length = array.length;\r\n\r\n  if (start < 0) {\r\n    start = -start > length ? 0 : (length + start);\r\n  }\r\n  end = end > length ? length : end;\r\n  if (end < 0) {\r\n    end += length;\r\n  }\r\n  length = start > end ? 0 : ((end - start) >>> 0);\r\n  start >>>= 0;\r\n\r\n  var result = Array(length);\r\n  while (++index < length) {\r\n    result[index] = array[index + start];\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = baseSlice;\r\n", "var baseGet = require('./_baseGet'),\r\n    baseSlice = require('./_baseSlice');\r\n\r\n/**\r\n * Gets the parent value at `path` of `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @param {Array} path The path to get the parent value of.\r\n * @returns {*} Returns the parent value.\r\n */\r\nfunction parent(object, path) {\r\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\r\n}\r\n\r\nmodule.exports = parent;\r\n", "var castPath = require('./_castPath'),\r\n    last = require('./last'),\r\n    parent = require('./_parent'),\r\n    toKey = require('./_toKey');\r\n\r\n/**\r\n * The base implementation of `_.unset`.\r\n *\r\n * @private\r\n * @param {Object} object The object to modify.\r\n * @param {Array|string} path The property path to unset.\r\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\r\n */\r\nfunction baseUnset(object, path) {\r\n  path = castPath(path, object);\r\n  object = parent(object, path);\r\n  return object == null || delete object[toKey(last(path))];\r\n}\r\n\r\nmodule.exports = baseUnset;\r\n", "var baseUnset = require('./_baseUnset');\r\n\r\n/**\r\n * Removes the property at `path` of `object`.\r\n *\r\n * **Note:** This method mutates `object`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Object\r\n * @param {Object} object The object to modify.\r\n * @param {Array|string} path The path of the property to unset.\r\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\r\n * @example\r\n *\r\n * var object = { 'a': [{ 'b': { 'c': 7 } }] };\r\n * _.unset(object, 'a[0].b.c');\r\n * // => true\r\n *\r\n * console.log(object);\r\n * // => { 'a': [{ 'b': {} }] };\r\n *\r\n * _.unset(object, ['a', '0', 'b', 'c']);\r\n * // => true\r\n *\r\n * console.log(object);\r\n * // => { 'a': [{ 'b': {} }] };\r\n */\r\nfunction unset(object, path) {\r\n  return object == null ? true : baseUnset(object, path);\r\n}\r\n\r\nmodule.exports = unset;\r\n", "var baseGet = require('./_baseGet');\r\n\r\n/**\r\n * Gets the value at `path` of `object`. If the resolved value is\r\n * `undefined`, the `defaultValue` is returned in its place.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 3.7.0\r\n * @category Object\r\n * @param {Object} object The object to query.\r\n * @param {Array|string} path The path of the property to get.\r\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\r\n * @returns {*} Returns the resolved value.\r\n * @example\r\n *\r\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\r\n *\r\n * _.get(object, 'a[0].b.c');\r\n * // => 3\r\n *\r\n * _.get(object, ['a', '0', 'b', 'c']);\r\n * // => 3\r\n *\r\n * _.get(object, 'a.b.c', 'default');\r\n * // => 'default'\r\n */\r\nfunction get(object, path, defaultValue) {\r\n  var result = object == null ? undefined : baseGet(object, path);\r\n  return result === undefined ? defaultValue : result;\r\n}\r\n\r\nmodule.exports = get;\r\n", "var ListCache = require('./_ListCache');\r\n\r\n/**\r\n * Removes all key-value entries from the stack.\r\n *\r\n * @private\r\n * @name clear\r\n * @memberOf Stack\r\n */\r\nfunction stackClear() {\r\n  this.__data__ = new ListCache;\r\n  this.size = 0;\r\n}\r\n\r\nmodule.exports = stackClear;\r\n", "/**\r\n * Removes `key` and its value from the stack.\r\n *\r\n * @private\r\n * @name delete\r\n * @memberOf Stack\r\n * @param {string} key The key of the value to remove.\r\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\r\n */\r\nfunction stackDelete(key) {\r\n  var data = this.__data__,\r\n      result = data['delete'](key);\r\n\r\n  this.size = data.size;\r\n  return result;\r\n}\r\n\r\nmodule.exports = stackDelete;\r\n", "/**\r\n * Gets the stack value for `key`.\r\n *\r\n * @private\r\n * @name get\r\n * @memberOf Stack\r\n * @param {string} key The key of the value to get.\r\n * @returns {*} Returns the entry value.\r\n */\r\nfunction stackGet(key) {\r\n  return this.__data__.get(key);\r\n}\r\n\r\nmodule.exports = stackGet;\r\n", "/**\r\n * Checks if a stack value for `key` exists.\r\n *\r\n * @private\r\n * @name has\r\n * @memberOf Stack\r\n * @param {string} key The key of the entry to check.\r\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\r\n */\r\nfunction stackHas(key) {\r\n  return this.__data__.has(key);\r\n}\r\n\r\nmodule.exports = stackHas;\r\n", "var ListCache = require('./_ListCache'),\r\n    Map = require('./_Map'),\r\n    MapCache = require('./_MapCache');\r\n\r\n/** Used as the size to enable large array optimizations. */\r\nvar LARGE_ARRAY_SIZE = 200;\r\n\r\n/**\r\n * Sets the stack `key` to `value`.\r\n *\r\n * @private\r\n * @name set\r\n * @memberOf Stack\r\n * @param {string} key The key of the value to set.\r\n * @param {*} value The value to set.\r\n * @returns {Object} Returns the stack cache instance.\r\n */\r\nfunction stackSet(key, value) {\r\n  var data = this.__data__;\r\n  if (data instanceof ListCache) {\r\n    var pairs = data.__data__;\r\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\r\n      pairs.push([key, value]);\r\n      this.size = ++data.size;\r\n      return this;\r\n    }\r\n    data = this.__data__ = new MapCache(pairs);\r\n  }\r\n  data.set(key, value);\r\n  this.size = data.size;\r\n  return this;\r\n}\r\n\r\nmodule.exports = stackSet;\r\n", "var ListCache = require('./_ListCache'),\r\n    stackClear = require('./_stackClear'),\r\n    stackDelete = require('./_stackDelete'),\r\n    stackGet = require('./_stackGet'),\r\n    stackHas = require('./_stackHas'),\r\n    stackSet = require('./_stackSet');\r\n\r\n/**\r\n * Creates a stack cache object to store key-value pairs.\r\n *\r\n * @private\r\n * @constructor\r\n * @param {Array} [entries] The key-value pairs to cache.\r\n */\r\nfunction Stack(entries) {\r\n  var data = this.__data__ = new ListCache(entries);\r\n  this.size = data.size;\r\n}\r\n\r\n// Add methods to `Stack`.\r\nStack.prototype.clear = stackClear;\r\nStack.prototype['delete'] = stackDelete;\r\nStack.prototype.get = stackGet;\r\nStack.prototype.has = stackHas;\r\nStack.prototype.set = stackSet;\r\n\r\nmodule.exports = Stack;\r\n", "/** Used to stand-in for `undefined` hash values. */\r\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\r\n\r\n/**\r\n * Adds `value` to the array cache.\r\n *\r\n * @private\r\n * @name add\r\n * @memberOf SetCache\r\n * @alias push\r\n * @param {*} value The value to cache.\r\n * @returns {Object} Returns the cache instance.\r\n */\r\nfunction setCacheAdd(value) {\r\n  this.__data__.set(value, HASH_UNDEFINED);\r\n  return this;\r\n}\r\n\r\nmodule.exports = setCacheAdd;\r\n", "/**\r\n * Checks if `value` is in the array cache.\r\n *\r\n * @private\r\n * @name has\r\n * @memberOf SetCache\r\n * @param {*} value The value to search for.\r\n * @returns {number} Returns `true` if `value` is found, else `false`.\r\n */\r\nfunction setCacheHas(value) {\r\n  return this.__data__.has(value);\r\n}\r\n\r\nmodule.exports = setCacheHas;\r\n", "var MapCache = require('./_MapCache'),\r\n    setCacheAdd = require('./_setCacheAdd'),\r\n    setCacheHas = require('./_setCacheHas');\r\n\r\n/**\r\n *\r\n * Creates an array cache object to store unique values.\r\n *\r\n * @private\r\n * @constructor\r\n * @param {Array} [values] The values to cache.\r\n */\r\nfunction SetCache(values) {\r\n  var index = -1,\r\n      length = values == null ? 0 : values.length;\r\n\r\n  this.__data__ = new MapCache;\r\n  while (++index < length) {\r\n    this.add(values[index]);\r\n  }\r\n}\r\n\r\n// Add methods to `SetCache`.\r\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\r\nSetCache.prototype.has = setCacheHas;\r\n\r\nmodule.exports = SetCache;\r\n", "/**\r\n * A specialized version of `_.some` for arrays without support for iteratee\r\n * shorthands.\r\n *\r\n * @private\r\n * @param {Array} [array] The array to iterate over.\r\n * @param {Function} predicate The function invoked per iteration.\r\n * @returns {boolean} Returns `true` if any element passes the predicate check,\r\n *  else `false`.\r\n */\r\nfunction arraySome(array, predicate) {\r\n  var index = -1,\r\n      length = array == null ? 0 : array.length;\r\n\r\n  while (++index < length) {\r\n    if (predicate(array[index], index, array)) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nmodule.exports = arraySome;\r\n", "/**\r\n * Checks if a `cache` value for `key` exists.\r\n *\r\n * @private\r\n * @param {Object} cache The cache to query.\r\n * @param {string} key The key of the entry to check.\r\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\r\n */\r\nfunction cacheHas(cache, key) {\r\n  return cache.has(key);\r\n}\r\n\r\nmodule.exports = cacheHas;\r\n", "var SetCache = require('./_SetCache'),\r\n    arraySome = require('./_arraySome'),\r\n    cacheHas = require('./_cacheHas');\r\n\r\n/** Used to compose bitmasks for value comparisons. */\r\nvar COMPARE_PARTIAL_FLAG = 1,\r\n    COMPARE_UNORDERED_FLAG = 2;\r\n\r\n/**\r\n * A specialized version of `baseIsEqualDeep` for arrays with support for\r\n * partial deep comparisons.\r\n *\r\n * @private\r\n * @param {Array} array The array to compare.\r\n * @param {Array} other The other array to compare.\r\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\r\n * @param {Function} customizer The function to customize comparisons.\r\n * @param {Function} equalFunc The function to determine equivalents of values.\r\n * @param {Object} stack Tracks traversed `array` and `other` objects.\r\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\r\n */\r\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\r\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\r\n      arrLength = array.length,\r\n      othLength = other.length;\r\n\r\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\r\n    return false;\r\n  }\r\n  // Check that cyclic values are equal.\r\n  var arrStacked = stack.get(array);\r\n  var othStacked = stack.get(other);\r\n  if (arrStacked && othStacked) {\r\n    return arrStacked == other && othStacked == array;\r\n  }\r\n  var index = -1,\r\n      result = true,\r\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\r\n\r\n  stack.set(array, other);\r\n  stack.set(other, array);\r\n\r\n  // Ignore non-index properties.\r\n  while (++index < arrLength) {\r\n    var arrValue = array[index],\r\n        othValue = other[index];\r\n\r\n    if (customizer) {\r\n      var compared = isPartial\r\n        ? customizer(othValue, arrValue, index, other, array, stack)\r\n        : customizer(arrValue, othValue, index, array, other, stack);\r\n    }\r\n    if (compared !== undefined) {\r\n      if (compared) {\r\n        continue;\r\n      }\r\n      result = false;\r\n      break;\r\n    }\r\n    // Recursively compare arrays (susceptible to call stack limits).\r\n    if (seen) {\r\n      if (!arraySome(other, function(othValue, othIndex) {\r\n            if (!cacheHas(seen, othIndex) &&\r\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\r\n              return seen.push(othIndex);\r\n            }\r\n          })) {\r\n        result = false;\r\n        break;\r\n      }\r\n    } else if (!(\r\n          arrValue === othValue ||\r\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\r\n        )) {\r\n      result = false;\r\n      break;\r\n    }\r\n  }\r\n  stack['delete'](array);\r\n  stack['delete'](other);\r\n  return result;\r\n}\r\n\r\nmodule.exports = equalArrays;\r\n", "var root = require('./_root');\r\n\r\n/** Built-in value references. */\r\nvar Uint8Array = root.Uint8Array;\r\n\r\nmodule.exports = Uint8Array;\r\n", "/**\r\n * Converts `map` to its key-value pairs.\r\n *\r\n * @private\r\n * @param {Object} map The map to convert.\r\n * @returns {Array} Returns the key-value pairs.\r\n */\r\nfunction mapToArray(map) {\r\n  var index = -1,\r\n      result = Array(map.size);\r\n\r\n  map.forEach(function(value, key) {\r\n    result[++index] = [key, value];\r\n  });\r\n  return result;\r\n}\r\n\r\nmodule.exports = mapToArray;\r\n", "/**\r\n * Converts `set` to an array of its values.\r\n *\r\n * @private\r\n * @param {Object} set The set to convert.\r\n * @returns {Array} Returns the values.\r\n */\r\nfunction setToArray(set) {\r\n  var index = -1,\r\n      result = Array(set.size);\r\n\r\n  set.forEach(function(value) {\r\n    result[++index] = value;\r\n  });\r\n  return result;\r\n}\r\n\r\nmodule.exports = setToArray;\r\n", "var Symbol = require('./_Symbol'),\r\n    Uint8Array = require('./_Uint8Array'),\r\n    eq = require('./eq'),\r\n    equalArrays = require('./_equalArrays'),\r\n    mapToArray = require('./_mapToArray'),\r\n    setToArray = require('./_setToArray');\r\n\r\n/** Used to compose bitmasks for value comparisons. */\r\nvar COMPARE_PARTIAL_FLAG = 1,\r\n    COMPARE_UNORDERED_FLAG = 2;\r\n\r\n/** `Object#toString` result references. */\r\nvar boolTag = '[object Boolean]',\r\n    dateTag = '[object Date]',\r\n    errorTag = '[object Error]',\r\n    mapTag = '[object Map]',\r\n    numberTag = '[object Number]',\r\n    regexpTag = '[object RegExp]',\r\n    setTag = '[object Set]',\r\n    stringTag = '[object String]',\r\n    symbolTag = '[object Symbol]';\r\n\r\nvar arrayBufferTag = '[object ArrayBuffer]',\r\n    dataViewTag = '[object DataView]';\r\n\r\n/** Used to convert symbols to primitives and strings. */\r\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\r\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\r\n\r\n/**\r\n * A specialized version of `baseIsEqualDeep` for comparing objects of\r\n * the same `toStringTag`.\r\n *\r\n * **Note:** This function only supports comparing values with tags of\r\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\r\n *\r\n * @private\r\n * @param {Object} object The object to compare.\r\n * @param {Object} other The other object to compare.\r\n * @param {string} tag The `toStringTag` of the objects to compare.\r\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\r\n * @param {Function} customizer The function to customize comparisons.\r\n * @param {Function} equalFunc The function to determine equivalents of values.\r\n * @param {Object} stack Tracks traversed `object` and `other` objects.\r\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\r\n */\r\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\r\n  switch (tag) {\r\n    case dataViewTag:\r\n      if ((object.byteLength != other.byteLength) ||\r\n          (object.byteOffset != other.byteOffset)) {\r\n        return false;\r\n      }\r\n      object = object.buffer;\r\n      other = other.buffer;\r\n\r\n    case arrayBufferTag:\r\n      if ((object.byteLength != other.byteLength) ||\r\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\r\n        return false;\r\n      }\r\n      return true;\r\n\r\n    case boolTag:\r\n    case dateTag:\r\n    case numberTag:\r\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\r\n      // Invalid dates are coerced to `NaN`.\r\n      return eq(+object, +other);\r\n\r\n    case errorTag:\r\n      return object.name == other.name && object.message == other.message;\r\n\r\n    case regexpTag:\r\n    case stringTag:\r\n      // Coerce regexes to strings and treat strings, primitives and objects,\r\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\r\n      // for more details.\r\n      return object == (other + '');\r\n\r\n    case mapTag:\r\n      var convert = mapToArray;\r\n\r\n    case setTag:\r\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\r\n      convert || (convert = setToArray);\r\n\r\n      if (object.size != other.size && !isPartial) {\r\n        return false;\r\n      }\r\n      // Assume cyclic values are equal.\r\n      var stacked = stack.get(object);\r\n      if (stacked) {\r\n        return stacked == other;\r\n      }\r\n      bitmask |= COMPARE_UNORDERED_FLAG;\r\n\r\n      // Recursively compare objects (susceptible to call stack limits).\r\n      stack.set(object, other);\r\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\r\n      stack['delete'](object);\r\n      return result;\r\n\r\n    case symbolTag:\r\n      if (symbolValueOf) {\r\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\r\n      }\r\n  }\r\n  return false;\r\n}\r\n\r\nmodule.exports = equalByTag;\r\n", "/**\r\n * Appends the elements of `values` to `array`.\r\n *\r\n * @private\r\n * @param {Array} array The array to modify.\r\n * @param {Array} values The values to append.\r\n * @returns {Array} Returns `array`.\r\n */\r\nfunction arrayPush(array, values) {\r\n  var index = -1,\r\n      length = values.length,\r\n      offset = array.length;\r\n\r\n  while (++index < length) {\r\n    array[offset + index] = values[index];\r\n  }\r\n  return array;\r\n}\r\n\r\nmodule.exports = arrayPush;\r\n", "var arrayPush = require('./_arrayPush'),\r\n    isArray = require('./isArray');\r\n\r\n/**\r\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\r\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\r\n * symbols of `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @param {Function} keysFunc The function to get the keys of `object`.\r\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\r\n * @returns {Array} Returns the array of property names and symbols.\r\n */\r\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\r\n  var result = keysFunc(object);\r\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\r\n}\r\n\r\nmodule.exports = baseGetAllKeys;\r\n", "/**\r\n * A specialized version of `_.filter` for arrays without support for\r\n * iteratee shorthands.\r\n *\r\n * @private\r\n * @param {Array} [array] The array to iterate over.\r\n * @param {Function} predicate The function invoked per iteration.\r\n * @returns {Array} Returns the new filtered array.\r\n */\r\nfunction arrayFilter(array, predicate) {\r\n  var index = -1,\r\n      length = array == null ? 0 : array.length,\r\n      resIndex = 0,\r\n      result = [];\r\n\r\n  while (++index < length) {\r\n    var value = array[index];\r\n    if (predicate(value, index, array)) {\r\n      result[resIndex++] = value;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = arrayFilter;\r\n", "/**\r\n * This method returns a new empty array.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.13.0\r\n * @category Util\r\n * @returns {Array} Returns the new empty array.\r\n * @example\r\n *\r\n * var arrays = _.times(2, _.stubArray);\r\n *\r\n * console.log(arrays);\r\n * // => [[], []]\r\n *\r\n * console.log(arrays[0] === arrays[1]);\r\n * // => false\r\n */\r\nfunction stubArray() {\r\n  return [];\r\n}\r\n\r\nmodule.exports = stubArray;\r\n", "var arrayFilter = require('./_arrayFilter'),\r\n    stubArray = require('./stubArray');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Built-in value references. */\r\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\r\n\r\n/* Built-in method references for those with the same name as other `lodash` methods. */\r\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\r\n\r\n/**\r\n * Creates an array of the own enumerable symbols of `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of symbols.\r\n */\r\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\r\n  if (object == null) {\r\n    return [];\r\n  }\r\n  object = Object(object);\r\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\r\n    return propertyIsEnumerable.call(object, symbol);\r\n  });\r\n};\r\n\r\nmodule.exports = getSymbols;\r\n", "/**\r\n * The base implementation of `_.times` without support for iteratee shorthands\r\n * or max array length checks.\r\n *\r\n * @private\r\n * @param {number} n The number of times to invoke `iteratee`.\r\n * @param {Function} iteratee The function invoked per iteration.\r\n * @returns {Array} Returns the array of results.\r\n */\r\nfunction baseTimes(n, iteratee) {\r\n  var index = -1,\r\n      result = Array(n);\r\n\r\n  while (++index < n) {\r\n    result[index] = iteratee(index);\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = baseTimes;\r\n", "var baseGetTag = require('./_baseGetTag'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/** `Object#toString` result references. */\r\nvar argsTag = '[object Arguments]';\r\n\r\n/**\r\n * The base implementation of `_.isArguments`.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\r\n */\r\nfunction baseIsArguments(value) {\r\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\r\n}\r\n\r\nmodule.exports = baseIsArguments;\r\n", "var baseIsArguments = require('./_baseIsArguments'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/** Built-in value references. */\r\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\r\n\r\n/**\r\n * Checks if `value` is likely an `arguments` object.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\r\n *  else `false`.\r\n * @example\r\n *\r\n * _.isArguments(function() { return arguments; }());\r\n * // => true\r\n *\r\n * _.isArguments([1, 2, 3]);\r\n * // => false\r\n */\r\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\r\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\r\n    !propertyIsEnumerable.call(value, 'callee');\r\n};\r\n\r\nmodule.exports = isArguments;\r\n", "/**\r\n * This method returns `false`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.13.0\r\n * @category Util\r\n * @returns {boolean} Returns `false`.\r\n * @example\r\n *\r\n * _.times(2, _.stubFalse);\r\n * // => [false, false]\r\n */\r\nfunction stubFalse() {\r\n  return false;\r\n}\r\n\r\nmodule.exports = stubFalse;\r\n", "var root = require('./_root'),\r\n    stubFalse = require('./stubFalse');\r\n\r\n/** Detect free variable `exports`. */\r\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\r\n\r\n/** Detect free variable `module`. */\r\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\r\n\r\n/** Detect the popular CommonJS extension `module.exports`. */\r\nvar moduleExports = freeModule && freeModule.exports === freeExports;\r\n\r\n/** Built-in value references. */\r\nvar Buffer = moduleExports ? root.Buffer : undefined;\r\n\r\n/* Built-in method references for those with the same name as other `lodash` methods. */\r\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\r\n\r\n/**\r\n * Checks if `value` is a buffer.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.3.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\r\n * @example\r\n *\r\n * _.isBuffer(new Buffer(2));\r\n * // => true\r\n *\r\n * _.isBuffer(new Uint8Array(2));\r\n * // => false\r\n */\r\nvar isBuffer = nativeIsBuffer || stubFalse;\r\n\r\nmodule.exports = isBuffer;\r\n", "/** Used as references for various `Number` constants. */\r\nvar MAX_SAFE_INTEGER = 9007199254740991;\r\n\r\n/**\r\n * Checks if `value` is a valid array-like length.\r\n *\r\n * **Note:** This method is loosely based on\r\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\r\n * @example\r\n *\r\n * _.isLength(3);\r\n * // => true\r\n *\r\n * _.isLength(Number.MIN_VALUE);\r\n * // => false\r\n *\r\n * _.isLength(Infinity);\r\n * // => false\r\n *\r\n * _.isLength('3');\r\n * // => false\r\n */\r\nfunction isLength(value) {\r\n  return typeof value == 'number' &&\r\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\r\n}\r\n\r\nmodule.exports = isLength;\r\n", "var baseGetTag = require('./_baseGetTag'),\r\n    isLength = require('./isLength'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/** `Object#toString` result references. */\r\nvar argsTag = '[object Arguments]',\r\n    arrayTag = '[object Array]',\r\n    boolTag = '[object Boolean]',\r\n    dateTag = '[object Date]',\r\n    errorTag = '[object Error]',\r\n    funcTag = '[object Function]',\r\n    mapTag = '[object Map]',\r\n    numberTag = '[object Number]',\r\n    objectTag = '[object Object]',\r\n    regexpTag = '[object RegExp]',\r\n    setTag = '[object Set]',\r\n    stringTag = '[object String]',\r\n    weakMapTag = '[object WeakMap]';\r\n\r\nvar arrayBufferTag = '[object ArrayBuffer]',\r\n    dataViewTag = '[object DataView]',\r\n    float32Tag = '[object Float32Array]',\r\n    float64Tag = '[object Float64Array]',\r\n    int8Tag = '[object Int8Array]',\r\n    int16Tag = '[object Int16Array]',\r\n    int32Tag = '[object Int32Array]',\r\n    uint8Tag = '[object Uint8Array]',\r\n    uint8ClampedTag = '[object Uint8ClampedArray]',\r\n    uint16Tag = '[object Uint16Array]',\r\n    uint32Tag = '[object Uint32Array]';\r\n\r\n/** Used to identify `toStringTag` values of typed arrays. */\r\nvar typedArrayTags = {};\r\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\r\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\r\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\r\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\r\ntypedArrayTags[uint32Tag] = true;\r\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\r\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\r\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\r\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\r\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\r\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\r\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\r\ntypedArrayTags[weakMapTag] = false;\r\n\r\n/**\r\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\r\n */\r\nfunction baseIsTypedArray(value) {\r\n  return isObjectLike(value) &&\r\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\r\n}\r\n\r\nmodule.exports = baseIsTypedArray;\r\n", "/**\r\n * The base implementation of `_.unary` without support for storing metadata.\r\n *\r\n * @private\r\n * @param {Function} func The function to cap arguments for.\r\n * @returns {Function} Returns the new capped function.\r\n */\r\nfunction baseUnary(func) {\r\n  return function(value) {\r\n    return func(value);\r\n  };\r\n}\r\n\r\nmodule.exports = baseUnary;\r\n", "var freeGlobal = require('./_freeGlobal');\r\n\r\n/** Detect free variable `exports`. */\r\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\r\n\r\n/** Detect free variable `module`. */\r\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\r\n\r\n/** Detect the popular CommonJS extension `module.exports`. */\r\nvar moduleExports = freeModule && freeModule.exports === freeExports;\r\n\r\n/** Detect free variable `process` from Node.js. */\r\nvar freeProcess = moduleExports && freeGlobal.process;\r\n\r\n/** Used to access faster Node.js helpers. */\r\nvar nodeUtil = (function() {\r\n  try {\r\n    // Use `util.types` for Node.js 10+.\r\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\r\n\r\n    if (types) {\r\n      return types;\r\n    }\r\n\r\n    // Legacy `process.binding('util')` for Node.js < 10.\r\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\r\n  } catch (e) {}\r\n}());\r\n\r\nmodule.exports = nodeUtil;\r\n", "var baseIsTypedArray = require('./_baseIsTypedArray'),\r\n    baseUnary = require('./_baseUnary'),\r\n    nodeUtil = require('./_nodeUtil');\r\n\r\n/* Node.js helper references. */\r\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\r\n\r\n/**\r\n * Checks if `value` is classified as a typed array.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 3.0.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\r\n * @example\r\n *\r\n * _.isTypedArray(new Uint8Array);\r\n * // => true\r\n *\r\n * _.isTypedArray([]);\r\n * // => false\r\n */\r\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\r\n\r\nmodule.exports = isTypedArray;\r\n", "var baseTimes = require('./_baseTimes'),\r\n    isArguments = require('./isArguments'),\r\n    isArray = require('./isArray'),\r\n    isBuffer = require('./isBuffer'),\r\n    isIndex = require('./_isIndex'),\r\n    isTypedArray = require('./isTypedArray');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * Creates an array of the enumerable property names of the array-like `value`.\r\n *\r\n * @private\r\n * @param {*} value The value to query.\r\n * @param {boolean} inherited Specify returning inherited property names.\r\n * @returns {Array} Returns the array of property names.\r\n */\r\nfunction arrayLikeKeys(value, inherited) {\r\n  var isArr = isArray(value),\r\n      isArg = !isArr && isArguments(value),\r\n      isBuff = !isArr && !isArg && isBuffer(value),\r\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\r\n      skipIndexes = isArr || isArg || isBuff || isType,\r\n      result = skipIndexes ? baseTimes(value.length, String) : [],\r\n      length = result.length;\r\n\r\n  for (var key in value) {\r\n    if ((inherited || hasOwnProperty.call(value, key)) &&\r\n        !(skipIndexes && (\r\n           // Safari 9 has enumerable `arguments.length` in strict mode.\r\n           key == 'length' ||\r\n           // Node.js 0.10 has enumerable non-index properties on buffers.\r\n           (isBuff && (key == 'offset' || key == 'parent')) ||\r\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\r\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\r\n           // Skip index properties.\r\n           isIndex(key, length)\r\n        ))) {\r\n      result.push(key);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = arrayLikeKeys;\r\n", "/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/**\r\n * Checks if `value` is likely a prototype object.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\r\n */\r\nfunction isPrototype(value) {\r\n  var Ctor = value && value.constructor,\r\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\r\n\r\n  return value === proto;\r\n}\r\n\r\nmodule.exports = isPrototype;\r\n", "/**\r\n * Creates a unary function that invokes `func` with its argument transformed.\r\n *\r\n * @private\r\n * @param {Function} func The function to wrap.\r\n * @param {Function} transform The argument transform.\r\n * @returns {Function} Returns the new function.\r\n */\r\nfunction overArg(func, transform) {\r\n  return function(arg) {\r\n    return func(transform(arg));\r\n  };\r\n}\r\n\r\nmodule.exports = overArg;\r\n", "var overArg = require('./_overArg');\r\n\r\n/* Built-in method references for those with the same name as other `lodash` methods. */\r\nvar nativeKeys = overArg(Object.keys, Object);\r\n\r\nmodule.exports = nativeKeys;\r\n", "var isPrototype = require('./_isPrototype'),\r\n    nativeKeys = require('./_nativeKeys');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of property names.\r\n */\r\nfunction baseKeys(object) {\r\n  if (!isPrototype(object)) {\r\n    return nativeKeys(object);\r\n  }\r\n  var result = [];\r\n  for (var key in Object(object)) {\r\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\r\n      result.push(key);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = baseKeys;\r\n", "var isFunction = require('./isFunction'),\r\n    isLength = require('./isLength');\r\n\r\n/**\r\n * Checks if `value` is array-like. A value is considered array-like if it's\r\n * not a function and has a `value.length` that's an integer greater than or\r\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\r\n * @example\r\n *\r\n * _.isArrayLike([1, 2, 3]);\r\n * // => true\r\n *\r\n * _.isArrayLike(document.body.children);\r\n * // => true\r\n *\r\n * _.isArrayLike('abc');\r\n * // => true\r\n *\r\n * _.isArrayLike(_.noop);\r\n * // => false\r\n */\r\nfunction isArrayLike(value) {\r\n  return value != null && isLength(value.length) && !isFunction(value);\r\n}\r\n\r\nmodule.exports = isArrayLike;\r\n", "var arrayLikeKeys = require('./_arrayLikeKeys'),\r\n    baseKeys = require('./_baseKeys'),\r\n    isArrayLike = require('./isArrayLike');\r\n\r\n/**\r\n * Creates an array of the own enumerable property names of `object`.\r\n *\r\n * **Note:** Non-object values are coerced to objects. See the\r\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\r\n * for more details.\r\n *\r\n * @static\r\n * @since 0.1.0\r\n * @memberOf _\r\n * @category Object\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of property names.\r\n * @example\r\n *\r\n * function Foo() {\r\n *   this.a = 1;\r\n *   this.b = 2;\r\n * }\r\n *\r\n * Foo.prototype.c = 3;\r\n *\r\n * _.keys(new Foo);\r\n * // => ['a', 'b'] (iteration order is not guaranteed)\r\n *\r\n * _.keys('hi');\r\n * // => ['0', '1']\r\n */\r\nfunction keys(object) {\r\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\r\n}\r\n\r\nmodule.exports = keys;\r\n", "var baseGetAllKeys = require('./_baseGetAllKeys'),\r\n    getSymbols = require('./_getSymbols'),\r\n    keys = require('./keys');\r\n\r\n/**\r\n * Creates an array of own enumerable property names and symbols of `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of property names and symbols.\r\n */\r\nfunction getAllKeys(object) {\r\n  return baseGetAllKeys(object, keys, getSymbols);\r\n}\r\n\r\nmodule.exports = getAllKeys;\r\n", "var getAllKeys = require('./_getAllKeys');\r\n\r\n/** Used to compose bitmasks for value comparisons. */\r\nvar COMPARE_PARTIAL_FLAG = 1;\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * A specialized version of `baseIsEqualDeep` for objects with support for\r\n * partial deep comparisons.\r\n *\r\n * @private\r\n * @param {Object} object The object to compare.\r\n * @param {Object} other The other object to compare.\r\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\r\n * @param {Function} customizer The function to customize comparisons.\r\n * @param {Function} equalFunc The function to determine equivalents of values.\r\n * @param {Object} stack Tracks traversed `object` and `other` objects.\r\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\r\n */\r\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\r\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\r\n      objProps = getAllKeys(object),\r\n      objLength = objProps.length,\r\n      othProps = getAllKeys(other),\r\n      othLength = othProps.length;\r\n\r\n  if (objLength != othLength && !isPartial) {\r\n    return false;\r\n  }\r\n  var index = objLength;\r\n  while (index--) {\r\n    var key = objProps[index];\r\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\r\n      return false;\r\n    }\r\n  }\r\n  // Check that cyclic values are equal.\r\n  var objStacked = stack.get(object);\r\n  var othStacked = stack.get(other);\r\n  if (objStacked && othStacked) {\r\n    return objStacked == other && othStacked == object;\r\n  }\r\n  var result = true;\r\n  stack.set(object, other);\r\n  stack.set(other, object);\r\n\r\n  var skipCtor = isPartial;\r\n  while (++index < objLength) {\r\n    key = objProps[index];\r\n    var objValue = object[key],\r\n        othValue = other[key];\r\n\r\n    if (customizer) {\r\n      var compared = isPartial\r\n        ? customizer(othValue, objValue, key, other, object, stack)\r\n        : customizer(objValue, othValue, key, object, other, stack);\r\n    }\r\n    // Recursively compare objects (susceptible to call stack limits).\r\n    if (!(compared === undefined\r\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\r\n          : compared\r\n        )) {\r\n      result = false;\r\n      break;\r\n    }\r\n    skipCtor || (skipCtor = key == 'constructor');\r\n  }\r\n  if (result && !skipCtor) {\r\n    var objCtor = object.constructor,\r\n        othCtor = other.constructor;\r\n\r\n    // Non `Object` object instances with different constructors are not equal.\r\n    if (objCtor != othCtor &&\r\n        ('constructor' in object && 'constructor' in other) &&\r\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\r\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\r\n      result = false;\r\n    }\r\n  }\r\n  stack['delete'](object);\r\n  stack['delete'](other);\r\n  return result;\r\n}\r\n\r\nmodule.exports = equalObjects;\r\n", "var getNative = require('./_getNative'),\r\n    root = require('./_root');\r\n\r\n/* Built-in method references that are verified to be native. */\r\nvar DataView = getNative(root, 'DataView');\r\n\r\nmodule.exports = DataView;\r\n", "var getNative = require('./_getNative'),\r\n    root = require('./_root');\r\n\r\n/* Built-in method references that are verified to be native. */\r\nvar Promise = getNative(root, 'Promise');\r\n\r\nmodule.exports = Promise;\r\n", "var getNative = require('./_getNative'),\r\n    root = require('./_root');\r\n\r\n/* Built-in method references that are verified to be native. */\r\nvar Set = getNative(root, 'Set');\r\n\r\nmodule.exports = Set;\r\n", "var getNative = require('./_getNative'),\r\n    root = require('./_root');\r\n\r\n/* Built-in method references that are verified to be native. */\r\nvar WeakMap = getNative(root, 'WeakMap');\r\n\r\nmodule.exports = WeakMap;\r\n", "var DataView = require('./_DataView'),\r\n    Map = require('./_Map'),\r\n    Promise = require('./_Promise'),\r\n    Set = require('./_Set'),\r\n    WeakMap = require('./_WeakMap'),\r\n    baseGetTag = require('./_baseGetTag'),\r\n    toSource = require('./_toSource');\r\n\r\n/** `Object#toString` result references. */\r\nvar mapTag = '[object Map]',\r\n    objectTag = '[object Object]',\r\n    promiseTag = '[object Promise]',\r\n    setTag = '[object Set]',\r\n    weakMapTag = '[object WeakMap]';\r\n\r\nvar dataViewTag = '[object DataView]';\r\n\r\n/** Used to detect maps, sets, and weakmaps. */\r\nvar dataViewCtorString = toSource(DataView),\r\n    mapCtorString = toSource(Map),\r\n    promiseCtorString = toSource(Promise),\r\n    setCtorString = toSource(Set),\r\n    weakMapCtorString = toSource(WeakMap);\r\n\r\n/**\r\n * Gets the `toStringTag` of `value`.\r\n *\r\n * @private\r\n * @param {*} value The value to query.\r\n * @returns {string} Returns the `toStringTag`.\r\n */\r\nvar getTag = baseGetTag;\r\n\r\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\r\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\r\n    (Map && getTag(new Map) != mapTag) ||\r\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\r\n    (Set && getTag(new Set) != setTag) ||\r\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\r\n  getTag = function(value) {\r\n    var result = baseGetTag(value),\r\n        Ctor = result == objectTag ? value.constructor : undefined,\r\n        ctorString = Ctor ? toSource(Ctor) : '';\r\n\r\n    if (ctorString) {\r\n      switch (ctorString) {\r\n        case dataViewCtorString: return dataViewTag;\r\n        case mapCtorString: return mapTag;\r\n        case promiseCtorString: return promiseTag;\r\n        case setCtorString: return setTag;\r\n        case weakMapCtorString: return weakMapTag;\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n}\r\n\r\nmodule.exports = getTag;\r\n", "var Stack = require('./_Stack'),\r\n    equalArrays = require('./_equalArrays'),\r\n    equalByTag = require('./_equalByTag'),\r\n    equalObjects = require('./_equalObjects'),\r\n    getTag = require('./_getTag'),\r\n    isArray = require('./isArray'),\r\n    isBuffer = require('./isBuffer'),\r\n    isTypedArray = require('./isTypedArray');\r\n\r\n/** Used to compose bitmasks for value comparisons. */\r\nvar COMPARE_PARTIAL_FLAG = 1;\r\n\r\n/** `Object#toString` result references. */\r\nvar argsTag = '[object Arguments]',\r\n    arrayTag = '[object Array]',\r\n    objectTag = '[object Object]';\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * A specialized version of `baseIsEqual` for arrays and objects which performs\r\n * deep comparisons and tracks traversed objects enabling objects with circular\r\n * references to be compared.\r\n *\r\n * @private\r\n * @param {Object} object The object to compare.\r\n * @param {Object} other The other object to compare.\r\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\r\n * @param {Function} customizer The function to customize comparisons.\r\n * @param {Function} equalFunc The function to determine equivalents of values.\r\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\r\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\r\n */\r\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\r\n  var objIsArr = isArray(object),\r\n      othIsArr = isArray(other),\r\n      objTag = objIsArr ? arrayTag : getTag(object),\r\n      othTag = othIsArr ? arrayTag : getTag(other);\r\n\r\n  objTag = objTag == argsTag ? objectTag : objTag;\r\n  othTag = othTag == argsTag ? objectTag : othTag;\r\n\r\n  var objIsObj = objTag == objectTag,\r\n      othIsObj = othTag == objectTag,\r\n      isSameTag = objTag == othTag;\r\n\r\n  if (isSameTag && isBuffer(object)) {\r\n    if (!isBuffer(other)) {\r\n      return false;\r\n    }\r\n    objIsArr = true;\r\n    objIsObj = false;\r\n  }\r\n  if (isSameTag && !objIsObj) {\r\n    stack || (stack = new Stack);\r\n    return (objIsArr || isTypedArray(object))\r\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\r\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\r\n  }\r\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\r\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\r\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\r\n\r\n    if (objIsWrapped || othIsWrapped) {\r\n      var objUnwrapped = objIsWrapped ? object.value() : object,\r\n          othUnwrapped = othIsWrapped ? other.value() : other;\r\n\r\n      stack || (stack = new Stack);\r\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\r\n    }\r\n  }\r\n  if (!isSameTag) {\r\n    return false;\r\n  }\r\n  stack || (stack = new Stack);\r\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\r\n}\r\n\r\nmodule.exports = baseIsEqualDeep;\r\n", "var baseIsEqualDeep = require('./_baseIsEqualDeep'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/**\r\n * The base implementation of `_.isEqual` which supports partial comparisons\r\n * and tracks traversed objects.\r\n *\r\n * @private\r\n * @param {*} value The value to compare.\r\n * @param {*} other The other value to compare.\r\n * @param {boolean} bitmask The bitmask flags.\r\n *  1 - Unordered comparison\r\n *  2 - Partial comparison\r\n * @param {Function} [customizer] The function to customize comparisons.\r\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\r\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\r\n */\r\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\r\n  if (value === other) {\r\n    return true;\r\n  }\r\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\r\n    return value !== value && other !== other;\r\n  }\r\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\r\n}\r\n\r\nmodule.exports = baseIsEqual;\r\n", "var baseIsEqual = require('./_baseIsEqual');\r\n\r\n/**\r\n * Performs a deep comparison between two values to determine if they are\r\n * equivalent.\r\n *\r\n * **Note:** This method supports comparing arrays, array buffers, booleans,\r\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\r\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\r\n * by their own, not inherited, enumerable properties. Functions and DOM\r\n * nodes are compared by strict equality, i.e. `===`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Lang\r\n * @param {*} value The value to compare.\r\n * @param {*} other The other value to compare.\r\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\r\n * @example\r\n *\r\n * var object = { 'a': 1 };\r\n * var other = { 'a': 1 };\r\n *\r\n * _.isEqual(object, other);\r\n * // => true\r\n *\r\n * object === other;\r\n * // => false\r\n */\r\nfunction isEqual(value, other) {\r\n  return baseIsEqual(value, other);\r\n}\r\n\r\nmodule.exports = isEqual;\r\n", "var baseAssignValue = require('./_baseAssignValue'),\r\n    eq = require('./eq');\r\n\r\n/**\r\n * This function is like `assignValue` except that it doesn't assign\r\n * `undefined` values.\r\n *\r\n * @private\r\n * @param {Object} object The object to modify.\r\n * @param {string} key The key of the property to assign.\r\n * @param {*} value The value to assign.\r\n */\r\nfunction assignMergeValue(object, key, value) {\r\n  if ((value !== undefined && !eq(object[key], value)) ||\r\n      (value === undefined && !(key in object))) {\r\n    baseAssignValue(object, key, value);\r\n  }\r\n}\r\n\r\nmodule.exports = assignMergeValue;\r\n", "/**\r\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\r\n *\r\n * @private\r\n * @param {boolean} [fromRight] Specify iterating from right to left.\r\n * @returns {Function} Returns the new base function.\r\n */\r\nfunction createBaseFor(fromRight) {\r\n  return function(object, iteratee, keysFunc) {\r\n    var index = -1,\r\n        iterable = Object(object),\r\n        props = keysFunc(object),\r\n        length = props.length;\r\n\r\n    while (length--) {\r\n      var key = props[fromRight ? length : ++index];\r\n      if (iteratee(iterable[key], key, iterable) === false) {\r\n        break;\r\n      }\r\n    }\r\n    return object;\r\n  };\r\n}\r\n\r\nmodule.exports = createBaseFor;\r\n", "var createBaseFor = require('./_createBaseFor');\r\n\r\n/**\r\n * The base implementation of `baseForOwn` which iterates over `object`\r\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\r\n * Iteratee functions may exit iteration early by explicitly returning `false`.\r\n *\r\n * @private\r\n * @param {Object} object The object to iterate over.\r\n * @param {Function} iteratee The function invoked per iteration.\r\n * @param {Function} keysFunc The function to get the keys of `object`.\r\n * @returns {Object} Returns `object`.\r\n */\r\nvar baseFor = createBaseFor();\r\n\r\nmodule.exports = baseFor;\r\n", "var root = require('./_root');\r\n\r\n/** Detect free variable `exports`. */\r\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\r\n\r\n/** Detect free variable `module`. */\r\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\r\n\r\n/** Detect the popular CommonJS extension `module.exports`. */\r\nvar moduleExports = freeModule && freeModule.exports === freeExports;\r\n\r\n/** Built-in value references. */\r\nvar Buffer = moduleExports ? root.Buffer : undefined,\r\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\r\n\r\n/**\r\n * Creates a clone of  `buffer`.\r\n *\r\n * @private\r\n * @param {Buffer} buffer The buffer to clone.\r\n * @param {boolean} [isDeep] Specify a deep clone.\r\n * @returns {Buffer} Returns the cloned buffer.\r\n */\r\nfunction cloneBuffer(buffer, isDeep) {\r\n  if (isDeep) {\r\n    return buffer.slice();\r\n  }\r\n  var length = buffer.length,\r\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\r\n\r\n  buffer.copy(result);\r\n  return result;\r\n}\r\n\r\nmodule.exports = cloneBuffer;\r\n", "var Uint8Array = require('./_Uint8Array');\r\n\r\n/**\r\n * Creates a clone of `arrayBuffer`.\r\n *\r\n * @private\r\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\r\n * @returns {ArrayBuffer} Returns the cloned array buffer.\r\n */\r\nfunction cloneArrayBuffer(arrayBuffer) {\r\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\r\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\r\n  return result;\r\n}\r\n\r\nmodule.exports = cloneArrayBuffer;\r\n", "var cloneArrayBuffer = require('./_cloneArrayBuffer');\r\n\r\n/**\r\n * Creates a clone of `typedArray`.\r\n *\r\n * @private\r\n * @param {Object} typedArray The typed array to clone.\r\n * @param {boolean} [isDeep] Specify a deep clone.\r\n * @returns {Object} Returns the cloned typed array.\r\n */\r\nfunction cloneTypedArray(typedArray, isDeep) {\r\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\r\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\r\n}\r\n\r\nmodule.exports = cloneTypedArray;\r\n", "/**\r\n * Copies the values of `source` to `array`.\r\n *\r\n * @private\r\n * @param {Array} source The array to copy values from.\r\n * @param {Array} [array=[]] The array to copy values to.\r\n * @returns {Array} Returns `array`.\r\n */\r\nfunction copyArray(source, array) {\r\n  var index = -1,\r\n      length = source.length;\r\n\r\n  array || (array = Array(length));\r\n  while (++index < length) {\r\n    array[index] = source[index];\r\n  }\r\n  return array;\r\n}\r\n\r\nmodule.exports = copyArray;\r\n", "var isObject = require('./isObject');\r\n\r\n/** Built-in value references. */\r\nvar objectCreate = Object.create;\r\n\r\n/**\r\n * The base implementation of `_.create` without support for assigning\r\n * properties to the created object.\r\n *\r\n * @private\r\n * @param {Object} proto The object to inherit from.\r\n * @returns {Object} Returns the new object.\r\n */\r\nvar baseCreate = (function() {\r\n  function object() {}\r\n  return function(proto) {\r\n    if (!isObject(proto)) {\r\n      return {};\r\n    }\r\n    if (objectCreate) {\r\n      return objectCreate(proto);\r\n    }\r\n    object.prototype = proto;\r\n    var result = new object;\r\n    object.prototype = undefined;\r\n    return result;\r\n  };\r\n}());\r\n\r\nmodule.exports = baseCreate;\r\n", "var overArg = require('./_overArg');\r\n\r\n/** Built-in value references. */\r\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\r\n\r\nmodule.exports = getPrototype;\r\n", "var baseCreate = require('./_baseCreate'),\r\n    getPrototype = require('./_getPrototype'),\r\n    isPrototype = require('./_isPrototype');\r\n\r\n/**\r\n * Initializes an object clone.\r\n *\r\n * @private\r\n * @param {Object} object The object to clone.\r\n * @returns {Object} Returns the initialized clone.\r\n */\r\nfunction initCloneObject(object) {\r\n  return (typeof object.constructor == 'function' && !isPrototype(object))\r\n    ? baseCreate(getPrototype(object))\r\n    : {};\r\n}\r\n\r\nmodule.exports = initCloneObject;\r\n", "var isArrayLike = require('./isArrayLike'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/**\r\n * This method is like `_.isArrayLike` except that it also checks if `value`\r\n * is an object.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is an array-like object,\r\n *  else `false`.\r\n * @example\r\n *\r\n * _.isArrayLikeObject([1, 2, 3]);\r\n * // => true\r\n *\r\n * _.isArrayLikeObject(document.body.children);\r\n * // => true\r\n *\r\n * _.isArrayLikeObject('abc');\r\n * // => false\r\n *\r\n * _.isArrayLikeObject(_.noop);\r\n * // => false\r\n */\r\nfunction isArrayLikeObject(value) {\r\n  return isObjectLike(value) && isArrayLike(value);\r\n}\r\n\r\nmodule.exports = isArrayLikeObject;\r\n", "var baseGetTag = require('./_baseGetTag'),\r\n    getPrototype = require('./_getPrototype'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/** `Object#toString` result references. */\r\nvar objectTag = '[object Object]';\r\n\r\n/** Used for built-in method references. */\r\nvar funcProto = Function.prototype,\r\n    objectProto = Object.prototype;\r\n\r\n/** Used to resolve the decompiled source of functions. */\r\nvar funcToString = funcProto.toString;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/** Used to infer the `Object` constructor. */\r\nvar objectCtorString = funcToString.call(Object);\r\n\r\n/**\r\n * Checks if `value` is a plain object, that is, an object created by the\r\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.8.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\r\n * @example\r\n *\r\n * function Foo() {\r\n *   this.a = 1;\r\n * }\r\n *\r\n * _.isPlainObject(new Foo);\r\n * // => false\r\n *\r\n * _.isPlainObject([1, 2, 3]);\r\n * // => false\r\n *\r\n * _.isPlainObject({ 'x': 0, 'y': 0 });\r\n * // => true\r\n *\r\n * _.isPlainObject(Object.create(null));\r\n * // => true\r\n */\r\nfunction isPlainObject(value) {\r\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\r\n    return false;\r\n  }\r\n  var proto = getPrototype(value);\r\n  if (proto === null) {\r\n    return true;\r\n  }\r\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\r\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\r\n    funcToString.call(Ctor) == objectCtorString;\r\n}\r\n\r\nmodule.exports = isPlainObject;\r\n", "/**\r\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @param {string} key The key of the property to get.\r\n * @returns {*} Returns the property value.\r\n */\r\nfunction safeGet(object, key) {\r\n  if (key === 'constructor' && typeof object[key] === 'function') {\r\n    return;\r\n  }\r\n\r\n  if (key == '__proto__') {\r\n    return;\r\n  }\r\n\r\n  return object[key];\r\n}\r\n\r\nmodule.exports = safeGet;\r\n", "var assignValue = require('./_assignValue'),\r\n    baseAssignValue = require('./_baseAssignValue');\r\n\r\n/**\r\n * Copies properties of `source` to `object`.\r\n *\r\n * @private\r\n * @param {Object} source The object to copy properties from.\r\n * @param {Array} props The property identifiers to copy.\r\n * @param {Object} [object={}] The object to copy properties to.\r\n * @param {Function} [customizer] The function to customize copied values.\r\n * @returns {Object} Returns `object`.\r\n */\r\nfunction copyObject(source, props, object, customizer) {\r\n  var isNew = !object;\r\n  object || (object = {});\r\n\r\n  var index = -1,\r\n      length = props.length;\r\n\r\n  while (++index < length) {\r\n    var key = props[index];\r\n\r\n    var newValue = customizer\r\n      ? customizer(object[key], source[key], key, object, source)\r\n      : undefined;\r\n\r\n    if (newValue === undefined) {\r\n      newValue = source[key];\r\n    }\r\n    if (isNew) {\r\n      baseAssignValue(object, key, newValue);\r\n    } else {\r\n      assignValue(object, key, newValue);\r\n    }\r\n  }\r\n  return object;\r\n}\r\n\r\nmodule.exports = copyObject;\r\n", "/**\r\n * This function is like\r\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\r\n * except that it includes inherited enumerable properties.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of property names.\r\n */\r\nfunction nativeKeysIn(object) {\r\n  var result = [];\r\n  if (object != null) {\r\n    for (var key in Object(object)) {\r\n      result.push(key);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = nativeKeysIn;\r\n", "var isObject = require('./isObject'),\r\n    isPrototype = require('./_isPrototype'),\r\n    nativeKeysIn = require('./_nativeKeysIn');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of property names.\r\n */\r\nfunction baseKeysIn(object) {\r\n  if (!isObject(object)) {\r\n    return nativeKeysIn(object);\r\n  }\r\n  var isProto = isPrototype(object),\r\n      result = [];\r\n\r\n  for (var key in object) {\r\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\r\n      result.push(key);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = baseKeysIn;\r\n", "var arrayLikeKeys = require('./_arrayLikeKeys'),\r\n    baseKeysIn = require('./_baseKeysIn'),\r\n    isArrayLike = require('./isArrayLike');\r\n\r\n/**\r\n * Creates an array of the own and inherited enumerable property names of `object`.\r\n *\r\n * **Note:** Non-object values are coerced to objects.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 3.0.0\r\n * @category Object\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of property names.\r\n * @example\r\n *\r\n * function Foo() {\r\n *   this.a = 1;\r\n *   this.b = 2;\r\n * }\r\n *\r\n * Foo.prototype.c = 3;\r\n *\r\n * _.keysIn(new Foo);\r\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\r\n */\r\nfunction keysIn(object) {\r\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\r\n}\r\n\r\nmodule.exports = keysIn;\r\n", "var copyObject = require('./_copyObject'),\r\n    keysIn = require('./keysIn');\r\n\r\n/**\r\n * Converts `value` to a plain object flattening inherited enumerable string\r\n * keyed properties of `value` to own properties of the plain object.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 3.0.0\r\n * @category Lang\r\n * @param {*} value The value to convert.\r\n * @returns {Object} Returns the converted plain object.\r\n * @example\r\n *\r\n * function Foo() {\r\n *   this.b = 2;\r\n * }\r\n *\r\n * Foo.prototype.c = 3;\r\n *\r\n * _.assign({ 'a': 1 }, new Foo);\r\n * // => { 'a': 1, 'b': 2 }\r\n *\r\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\r\n * // => { 'a': 1, 'b': 2, 'c': 3 }\r\n */\r\nfunction toPlainObject(value) {\r\n  return copyObject(value, keysIn(value));\r\n}\r\n\r\nmodule.exports = toPlainObject;\r\n", "var assignMergeValue = require('./_assignMergeValue'),\r\n    cloneBuffer = require('./_cloneBuffer'),\r\n    cloneTypedArray = require('./_cloneTypedArray'),\r\n    copyArray = require('./_copyArray'),\r\n    initCloneObject = require('./_initCloneObject'),\r\n    isArguments = require('./isArguments'),\r\n    isArray = require('./isArray'),\r\n    isArrayLikeObject = require('./isArrayLikeObject'),\r\n    isBuffer = require('./isBuffer'),\r\n    isFunction = require('./isFunction'),\r\n    isObject = require('./isObject'),\r\n    isPlainObject = require('./isPlainObject'),\r\n    isTypedArray = require('./isTypedArray'),\r\n    safeGet = require('./_safeGet'),\r\n    toPlainObject = require('./toPlainObject');\r\n\r\n/**\r\n * A specialized version of `baseMerge` for arrays and objects which performs\r\n * deep merges and tracks traversed objects enabling objects with circular\r\n * references to be merged.\r\n *\r\n * @private\r\n * @param {Object} object The destination object.\r\n * @param {Object} source The source object.\r\n * @param {string} key The key of the value to merge.\r\n * @param {number} srcIndex The index of `source`.\r\n * @param {Function} mergeFunc The function to merge values.\r\n * @param {Function} [customizer] The function to customize assigned values.\r\n * @param {Object} [stack] Tracks traversed source values and their merged\r\n *  counterparts.\r\n */\r\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\r\n  var objValue = safeGet(object, key),\r\n      srcValue = safeGet(source, key),\r\n      stacked = stack.get(srcValue);\r\n\r\n  if (stacked) {\r\n    assignMergeValue(object, key, stacked);\r\n    return;\r\n  }\r\n  var newValue = customizer\r\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\r\n    : undefined;\r\n\r\n  var isCommon = newValue === undefined;\r\n\r\n  if (isCommon) {\r\n    var isArr = isArray(srcValue),\r\n        isBuff = !isArr && isBuffer(srcValue),\r\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\r\n\r\n    newValue = srcValue;\r\n    if (isArr || isBuff || isTyped) {\r\n      if (isArray(objValue)) {\r\n        newValue = objValue;\r\n      }\r\n      else if (isArrayLikeObject(objValue)) {\r\n        newValue = copyArray(objValue);\r\n      }\r\n      else if (isBuff) {\r\n        isCommon = false;\r\n        newValue = cloneBuffer(srcValue, true);\r\n      }\r\n      else if (isTyped) {\r\n        isCommon = false;\r\n        newValue = cloneTypedArray(srcValue, true);\r\n      }\r\n      else {\r\n        newValue = [];\r\n      }\r\n    }\r\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\r\n      newValue = objValue;\r\n      if (isArguments(objValue)) {\r\n        newValue = toPlainObject(objValue);\r\n      }\r\n      else if (!isObject(objValue) || isFunction(objValue)) {\r\n        newValue = initCloneObject(srcValue);\r\n      }\r\n    }\r\n    else {\r\n      isCommon = false;\r\n    }\r\n  }\r\n  if (isCommon) {\r\n    // Recursively merge objects and arrays (susceptible to call stack limits).\r\n    stack.set(srcValue, newValue);\r\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\r\n    stack['delete'](srcValue);\r\n  }\r\n  assignMergeValue(object, key, newValue);\r\n}\r\n\r\nmodule.exports = baseMergeDeep;\r\n", "var Stack = require('./_Stack'),\r\n    assignMergeValue = require('./_assignMergeValue'),\r\n    baseFor = require('./_baseFor'),\r\n    baseMergeDeep = require('./_baseMergeDeep'),\r\n    isObject = require('./isObject'),\r\n    keysIn = require('./keysIn'),\r\n    safeGet = require('./_safeGet');\r\n\r\n/**\r\n * The base implementation of `_.merge` without support for multiple sources.\r\n *\r\n * @private\r\n * @param {Object} object The destination object.\r\n * @param {Object} source The source object.\r\n * @param {number} srcIndex The index of `source`.\r\n * @param {Function} [customizer] The function to customize merged values.\r\n * @param {Object} [stack] Tracks traversed source values and their merged\r\n *  counterparts.\r\n */\r\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\r\n  if (object === source) {\r\n    return;\r\n  }\r\n  baseFor(source, function(srcValue, key) {\r\n    stack || (stack = new Stack);\r\n    if (isObject(srcValue)) {\r\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\r\n    }\r\n    else {\r\n      var newValue = customizer\r\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\r\n        : undefined;\r\n\r\n      if (newValue === undefined) {\r\n        newValue = srcValue;\r\n      }\r\n      assignMergeValue(object, key, newValue);\r\n    }\r\n  }, keysIn);\r\n}\r\n\r\nmodule.exports = baseMerge;\r\n", "/**\r\n * This method returns the first argument it receives.\r\n *\r\n * @static\r\n * @since 0.1.0\r\n * @memberOf _\r\n * @category Util\r\n * @param {*} value Any value.\r\n * @returns {*} Returns `value`.\r\n * @example\r\n *\r\n * var object = { 'a': 1 };\r\n *\r\n * console.log(_.identity(object) === object);\r\n * // => true\r\n */\r\nfunction identity(value) {\r\n  return value;\r\n}\r\n\r\nmodule.exports = identity;\r\n", "/**\r\n * A faster alternative to `Function#apply`, this function invokes `func`\r\n * with the `this` binding of `thisArg` and the arguments of `args`.\r\n *\r\n * @private\r\n * @param {Function} func The function to invoke.\r\n * @param {*} thisArg The `this` binding of `func`.\r\n * @param {Array} args The arguments to invoke `func` with.\r\n * @returns {*} Returns the result of `func`.\r\n */\r\nfunction apply(func, thisArg, args) {\r\n  switch (args.length) {\r\n    case 0: return func.call(thisArg);\r\n    case 1: return func.call(thisArg, args[0]);\r\n    case 2: return func.call(thisArg, args[0], args[1]);\r\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\r\n  }\r\n  return func.apply(thisArg, args);\r\n}\r\n\r\nmodule.exports = apply;\r\n", "var apply = require('./_apply');\r\n\r\n/* Built-in method references for those with the same name as other `lodash` methods. */\r\nvar nativeMax = Math.max;\r\n\r\n/**\r\n * A specialized version of `baseRest` which transforms the rest array.\r\n *\r\n * @private\r\n * @param {Function} func The function to apply a rest parameter to.\r\n * @param {number} [start=func.length-1] The start position of the rest parameter.\r\n * @param {Function} transform The rest array transform.\r\n * @returns {Function} Returns the new function.\r\n */\r\nfunction overRest(func, start, transform) {\r\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\r\n  return function() {\r\n    var args = arguments,\r\n        index = -1,\r\n        length = nativeMax(args.length - start, 0),\r\n        array = Array(length);\r\n\r\n    while (++index < length) {\r\n      array[index] = args[start + index];\r\n    }\r\n    index = -1;\r\n    var otherArgs = Array(start + 1);\r\n    while (++index < start) {\r\n      otherArgs[index] = args[index];\r\n    }\r\n    otherArgs[start] = transform(array);\r\n    return apply(func, this, otherArgs);\r\n  };\r\n}\r\n\r\nmodule.exports = overRest;\r\n", "/**\r\n * Creates a function that returns `value`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 2.4.0\r\n * @category Util\r\n * @param {*} value The value to return from the new function.\r\n * @returns {Function} Returns the new constant function.\r\n * @example\r\n *\r\n * var objects = _.times(2, _.constant({ 'a': 1 }));\r\n *\r\n * console.log(objects);\r\n * // => [{ 'a': 1 }, { 'a': 1 }]\r\n *\r\n * console.log(objects[0] === objects[1]);\r\n * // => true\r\n */\r\nfunction constant(value) {\r\n  return function() {\r\n    return value;\r\n  };\r\n}\r\n\r\nmodule.exports = constant;\r\n", "var constant = require('./constant'),\r\n    defineProperty = require('./_defineProperty'),\r\n    identity = require('./identity');\r\n\r\n/**\r\n * The base implementation of `setToString` without support for hot loop shorting.\r\n *\r\n * @private\r\n * @param {Function} func The function to modify.\r\n * @param {Function} string The `toString` result.\r\n * @returns {Function} Returns `func`.\r\n */\r\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\r\n  return defineProperty(func, 'toString', {\r\n    'configurable': true,\r\n    'enumerable': false,\r\n    'value': constant(string),\r\n    'writable': true\r\n  });\r\n};\r\n\r\nmodule.exports = baseSetToString;\r\n", "/** Used to detect hot functions by number of calls within a span of milliseconds. */\r\nvar HOT_COUNT = 800,\r\n    HOT_SPAN = 16;\r\n\r\n/* Built-in method references for those with the same name as other `lodash` methods. */\r\nvar nativeNow = Date.now;\r\n\r\n/**\r\n * Creates a function that'll short out and invoke `identity` instead\r\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\r\n * milliseconds.\r\n *\r\n * @private\r\n * @param {Function} func The function to restrict.\r\n * @returns {Function} Returns the new shortable function.\r\n */\r\nfunction shortOut(func) {\r\n  var count = 0,\r\n      lastCalled = 0;\r\n\r\n  return function() {\r\n    var stamp = nativeNow(),\r\n        remaining = HOT_SPAN - (stamp - lastCalled);\r\n\r\n    lastCalled = stamp;\r\n    if (remaining > 0) {\r\n      if (++count >= HOT_COUNT) {\r\n        return arguments[0];\r\n      }\r\n    } else {\r\n      count = 0;\r\n    }\r\n    return func.apply(undefined, arguments);\r\n  };\r\n}\r\n\r\nmodule.exports = shortOut;\r\n", "var baseSetToString = require('./_baseSetToString'),\r\n    shortOut = require('./_shortOut');\r\n\r\n/**\r\n * Sets the `toString` method of `func` to return `string`.\r\n *\r\n * @private\r\n * @param {Function} func The function to modify.\r\n * @param {Function} string The `toString` result.\r\n * @returns {Function} Returns `func`.\r\n */\r\nvar setToString = shortOut(baseSetToString);\r\n\r\nmodule.exports = setToString;\r\n", "var identity = require('./identity'),\r\n    overRest = require('./_overRest'),\r\n    setToString = require('./_setToString');\r\n\r\n/**\r\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\r\n *\r\n * @private\r\n * @param {Function} func The function to apply a rest parameter to.\r\n * @param {number} [start=func.length-1] The start position of the rest parameter.\r\n * @returns {Function} Returns the new function.\r\n */\r\nfunction baseRest(func, start) {\r\n  return setToString(overRest(func, start, identity), func + '');\r\n}\r\n\r\nmodule.exports = baseRest;\r\n", "var eq = require('./eq'),\r\n    isArrayLike = require('./isArrayLike'),\r\n    isIndex = require('./_isIndex'),\r\n    isObject = require('./isObject');\r\n\r\n/**\r\n * Checks if the given arguments are from an iteratee call.\r\n *\r\n * @private\r\n * @param {*} value The potential iteratee value argument.\r\n * @param {*} index The potential iteratee index or key argument.\r\n * @param {*} object The potential iteratee object argument.\r\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\r\n *  else `false`.\r\n */\r\nfunction isIterateeCall(value, index, object) {\r\n  if (!isObject(object)) {\r\n    return false;\r\n  }\r\n  var type = typeof index;\r\n  if (type == 'number'\r\n        ? (isArrayLike(object) && isIndex(index, object.length))\r\n        : (type == 'string' && index in object)\r\n      ) {\r\n    return eq(object[index], value);\r\n  }\r\n  return false;\r\n}\r\n\r\nmodule.exports = isIterateeCall;\r\n", "var baseRest = require('./_baseRest'),\r\n    isIterateeCall = require('./_isIterateeCall');\r\n\r\n/**\r\n * Creates a function like `_.assign`.\r\n *\r\n * @private\r\n * @param {Function} assigner The function to assign values.\r\n * @returns {Function} Returns the new assigner function.\r\n */\r\nfunction createAssigner(assigner) {\r\n  return baseRest(function(object, sources) {\r\n    var index = -1,\r\n        length = sources.length,\r\n        customizer = length > 1 ? sources[length - 1] : undefined,\r\n        guard = length > 2 ? sources[2] : undefined;\r\n\r\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\r\n      ? (length--, customizer)\r\n      : undefined;\r\n\r\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\r\n      customizer = length < 3 ? undefined : customizer;\r\n      length = 1;\r\n    }\r\n    object = Object(object);\r\n    while (++index < length) {\r\n      var source = sources[index];\r\n      if (source) {\r\n        assigner(object, source, index, customizer);\r\n      }\r\n    }\r\n    return object;\r\n  });\r\n}\r\n\r\nmodule.exports = createAssigner;\r\n", "var baseMerge = require('./_baseMerge'),\r\n    createAssigner = require('./_createAssigner');\r\n\r\n/**\r\n * This method is like `_.assign` except that it recursively merges own and\r\n * inherited enumerable string keyed properties of source objects into the\r\n * destination object. Source properties that resolve to `undefined` are\r\n * skipped if a destination value exists. Array and plain object properties\r\n * are merged recursively. Other objects and value types are overridden by\r\n * assignment. Source objects are applied from left to right. Subsequent\r\n * sources overwrite property assignments of previous sources.\r\n *\r\n * **Note:** This method mutates `object`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.5.0\r\n * @category Object\r\n * @param {Object} object The destination object.\r\n * @param {...Object} [sources] The source objects.\r\n * @returns {Object} Returns `object`.\r\n * @example\r\n *\r\n * var object = {\r\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\r\n * };\r\n *\r\n * var other = {\r\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\r\n * };\r\n *\r\n * _.merge(object, other);\r\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\r\n */\r\nvar merge = createAssigner(function(object, source, srcIndex) {\r\n  baseMerge(object, source, srcIndex);\r\n});\r\n\r\nmodule.exports = merge;\r\n", "'use strict';\r\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\r\n", "'use strict';\r\nvar token = '%[a-f0-9]{2}';\r\nvar singleMatcher = new RegExp('(' + token + ')|([^%]+?)', 'gi');\r\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\r\n\r\nfunction decodeComponents(components, split) {\r\n\ttry {\r\n\t\t// Try to decode the entire string first\r\n\t\treturn [decodeURIComponent(components.join(''))];\r\n\t} catch (err) {\r\n\t\t// Do nothing\r\n\t}\r\n\r\n\tif (components.length === 1) {\r\n\t\treturn components;\r\n\t}\r\n\r\n\tsplit = split || 1;\r\n\r\n\t// Split the array in 2 parts\r\n\tvar left = components.slice(0, split);\r\n\tvar right = components.slice(split);\r\n\r\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\r\n}\r\n\r\nfunction decode(input) {\r\n\ttry {\r\n\t\treturn decodeURIComponent(input);\r\n\t} catch (err) {\r\n\t\tvar tokens = input.match(singleMatcher) || [];\r\n\r\n\t\tfor (var i = 1; i < tokens.length; i++) {\r\n\t\t\tinput = decodeComponents(tokens, i).join('');\r\n\r\n\t\t\ttokens = input.match(singleMatcher) || [];\r\n\t\t}\r\n\r\n\t\treturn input;\r\n\t}\r\n}\r\n\r\nfunction customDecodeURIComponent(input) {\r\n\t// Keep track of all the replacements and prefill the map with the `BOM`\r\n\tvar replaceMap = {\r\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\r\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\r\n\t};\r\n\r\n\tvar match = multiMatcher.exec(input);\r\n\twhile (match) {\r\n\t\ttry {\r\n\t\t\t// Decode as big chunks as possible\r\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\r\n\t\t} catch (err) {\r\n\t\t\tvar result = decode(match[0]);\r\n\r\n\t\t\tif (result !== match[0]) {\r\n\t\t\t\treplaceMap[match[0]] = result;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmatch = multiMatcher.exec(input);\r\n\t}\r\n\r\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\r\n\treplaceMap['%C2'] = '\\uFFFD';\r\n\r\n\tvar entries = Object.keys(replaceMap);\r\n\r\n\tfor (var i = 0; i < entries.length; i++) {\r\n\t\t// Replace all decoded components\r\n\t\tvar key = entries[i];\r\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\r\n\t}\r\n\r\n\treturn input;\r\n}\r\n\r\nmodule.exports = function (encodedURI) {\r\n\tif (typeof encodedURI !== 'string') {\r\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\r\n\t}\r\n\r\n\ttry {\r\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\r\n\r\n\t\t// Try the built in decoder first\r\n\t\treturn decodeURIComponent(encodedURI);\r\n\t} catch (err) {\r\n\t\t// Fallback to a more advanced decoder\r\n\t\treturn customDecodeURIComponent(encodedURI);\r\n\t}\r\n};\r\n", "'use strict';\r\n\r\nmodule.exports = (string, separator) => {\r\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\r\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\r\n\t}\r\n\r\n\tif (separator === '') {\r\n\t\treturn [string];\r\n\t}\r\n\r\n\tconst separatorIndex = string.indexOf(separator);\r\n\r\n\tif (separatorIndex === -1) {\r\n\t\treturn [string];\r\n\t}\r\n\r\n\treturn [\r\n\t\tstring.slice(0, separatorIndex),\r\n\t\tstring.slice(separatorIndex + separator.length)\r\n\t];\r\n};\r\n", "'use strict';\r\nmodule.exports = function (obj, predicate) {\r\n\tvar ret = {};\r\n\tvar keys = Object.keys(obj);\r\n\tvar isArr = Array.isArray(predicate);\r\n\r\n\tfor (var i = 0; i < keys.length; i++) {\r\n\t\tvar key = keys[i];\r\n\t\tvar val = obj[key];\r\n\r\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\r\n\t\t\tret[key] = val;\r\n\t\t}\r\n\t}\r\n\r\n\treturn ret;\r\n};\r\n", "'use strict';\r\nconst strictUriEncode = require('strict-uri-encode');\r\nconst decodeComponent = require('decode-uri-component');\r\nconst splitOnFirst = require('split-on-first');\r\nconst filterObject = require('filter-obj');\r\n\r\nconst isNullOrUndefined = value => value === null || value === undefined;\r\n\r\nconst encodeFragmentIdentifier = Symbol('encodeFragmentIdentifier');\r\n\r\nfunction encoderForArrayFormat(options) {\r\n\tswitch (options.arrayFormat) {\r\n\t\tcase 'index':\r\n\t\t\treturn key => (result, value) => {\r\n\t\t\t\tconst index = result.length;\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\tvalue === undefined ||\r\n\t\t\t\t\t(options.skipNull && value === null) ||\r\n\t\t\t\t\t(options.skipEmptyString && value === '')\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (value === null) {\r\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn [\r\n\t\t\t\t\t...result,\r\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\r\n\t\t\t\t];\r\n\t\t\t};\r\n\r\n\t\tcase 'bracket':\r\n\t\t\treturn key => (result, value) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\tvalue === undefined ||\r\n\t\t\t\t\t(options.skipNull && value === null) ||\r\n\t\t\t\t\t(options.skipEmptyString && value === '')\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (value === null) {\r\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\r\n\t\t\t};\r\n\r\n\t\tcase 'colon-list-separator':\r\n\t\t\treturn key => (result, value) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\tvalue === undefined ||\r\n\t\t\t\t\t(options.skipNull && value === null) ||\r\n\t\t\t\t\t(options.skipEmptyString && value === '')\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (value === null) {\r\n\t\t\t\t\treturn [...result, [encode(key, options), ':list='].join('')];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn [...result, [encode(key, options), ':list=', encode(value, options)].join('')];\r\n\t\t\t};\r\n\r\n\t\tcase 'comma':\r\n\t\tcase 'separator':\r\n\t\tcase 'bracket-separator': {\r\n\t\t\tconst keyValueSep = options.arrayFormat === 'bracket-separator' ?\r\n\t\t\t\t'[]=' :\r\n\t\t\t\t'=';\r\n\r\n\t\t\treturn key => (result, value) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\tvalue === undefined ||\r\n\t\t\t\t\t(options.skipNull && value === null) ||\r\n\t\t\t\t\t(options.skipEmptyString && value === '')\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Translate null to an empty string so that it doesn't serialize as 'null'\r\n\t\t\t\tvalue = value === null ? '' : value;\r\n\r\n\t\t\t\tif (result.length === 0) {\r\n\t\t\t\t\treturn [[encode(key, options), keyValueSep, encode(value, options)].join('')];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn key => (result, value) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\tvalue === undefined ||\r\n\t\t\t\t\t(options.skipNull && value === null) ||\r\n\t\t\t\t\t(options.skipEmptyString && value === '')\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (value === null) {\r\n\t\t\t\t\treturn [...result, encode(key, options)];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\r\n\t\t\t};\r\n\t}\r\n}\r\n\r\nfunction parserForArrayFormat(options) {\r\n\tlet result;\r\n\r\n\tswitch (options.arrayFormat) {\r\n\t\tcase 'index':\r\n\t\t\treturn (key, value, accumulator) => {\r\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\r\n\r\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\r\n\r\n\t\t\t\tif (!result) {\r\n\t\t\t\t\taccumulator[key] = value;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (accumulator[key] === undefined) {\r\n\t\t\t\t\taccumulator[key] = {};\r\n\t\t\t\t}\r\n\r\n\t\t\t\taccumulator[key][result[1]] = value;\r\n\t\t\t};\r\n\r\n\t\tcase 'bracket':\r\n\t\t\treturn (key, value, accumulator) => {\r\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\r\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\r\n\r\n\t\t\t\tif (!result) {\r\n\t\t\t\t\taccumulator[key] = value;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (accumulator[key] === undefined) {\r\n\t\t\t\t\taccumulator[key] = [value];\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\r\n\t\t\t};\r\n\r\n\t\tcase 'colon-list-separator':\r\n\t\t\treturn (key, value, accumulator) => {\r\n\t\t\t\tresult = /(:list)$/.exec(key);\r\n\t\t\t\tkey = key.replace(/:list$/, '');\r\n\r\n\t\t\t\tif (!result) {\r\n\t\t\t\t\taccumulator[key] = value;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (accumulator[key] === undefined) {\r\n\t\t\t\t\taccumulator[key] = [value];\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\r\n\t\t\t};\r\n\r\n\t\tcase 'comma':\r\n\t\tcase 'separator':\r\n\t\t\treturn (key, value, accumulator) => {\r\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\r\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\r\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\r\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\r\n\t\t\t\taccumulator[key] = newValue;\r\n\t\t\t};\r\n\r\n\t\tcase 'bracket-separator':\r\n\t\t\treturn (key, value, accumulator) => {\r\n\t\t\t\tconst isArray = /(\\[\\])$/.test(key);\r\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\r\n\r\n\t\t\t\tif (!isArray) {\r\n\t\t\t\t\taccumulator[key] = value ? decode(value, options) : value;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst arrayValue = value === null ?\r\n\t\t\t\t\t[] :\r\n\t\t\t\t\tvalue.split(options.arrayFormatSeparator).map(item => decode(item, options));\r\n\r\n\t\t\t\tif (accumulator[key] === undefined) {\r\n\t\t\t\t\taccumulator[key] = arrayValue;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], arrayValue);\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn (key, value, accumulator) => {\r\n\t\t\t\tif (accumulator[key] === undefined) {\r\n\t\t\t\t\taccumulator[key] = value;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\r\n\t\t\t};\r\n\t}\r\n}\r\n\r\nfunction validateArrayFormatSeparator(value) {\r\n\tif (typeof value !== 'string' || value.length !== 1) {\r\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\r\n\t}\r\n}\r\n\r\nfunction encode(value, options) {\r\n\tif (options.encode) {\r\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction decode(value, options) {\r\n\tif (options.decode) {\r\n\t\treturn decodeComponent(value);\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction keysSorter(input) {\r\n\tif (Array.isArray(input)) {\r\n\t\treturn input.sort();\r\n\t}\r\n\r\n\tif (typeof input === 'object') {\r\n\t\treturn keysSorter(Object.keys(input))\r\n\t\t\t.sort((a, b) => Number(a) - Number(b))\r\n\t\t\t.map(key => input[key]);\r\n\t}\r\n\r\n\treturn input;\r\n}\r\n\r\nfunction removeHash(input) {\r\n\tconst hashStart = input.indexOf('#');\r\n\tif (hashStart !== -1) {\r\n\t\tinput = input.slice(0, hashStart);\r\n\t}\r\n\r\n\treturn input;\r\n}\r\n\r\nfunction getHash(url) {\r\n\tlet hash = '';\r\n\tconst hashStart = url.indexOf('#');\r\n\tif (hashStart !== -1) {\r\n\t\thash = url.slice(hashStart);\r\n\t}\r\n\r\n\treturn hash;\r\n}\r\n\r\nfunction extract(input) {\r\n\tinput = removeHash(input);\r\n\tconst queryStart = input.indexOf('?');\r\n\tif (queryStart === -1) {\r\n\t\treturn '';\r\n\t}\r\n\r\n\treturn input.slice(queryStart + 1);\r\n}\r\n\r\nfunction parseValue(value, options) {\r\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\r\n\t\tvalue = Number(value);\r\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\r\n\t\tvalue = value.toLowerCase() === 'true';\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction parse(query, options) {\r\n\toptions = Object.assign({\r\n\t\tdecode: true,\r\n\t\tsort: true,\r\n\t\tarrayFormat: 'none',\r\n\t\tarrayFormatSeparator: ',',\r\n\t\tparseNumbers: false,\r\n\t\tparseBooleans: false\r\n\t}, options);\r\n\r\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\r\n\r\n\tconst formatter = parserForArrayFormat(options);\r\n\r\n\t// Create an object with no prototype\r\n\tconst ret = Object.create(null);\r\n\r\n\tif (typeof query !== 'string') {\r\n\t\treturn ret;\r\n\t}\r\n\r\n\tquery = query.trim().replace(/^[?#&]/, '');\r\n\r\n\tif (!query) {\r\n\t\treturn ret;\r\n\t}\r\n\r\n\tfor (const param of query.split('&')) {\r\n\t\tif (param === '') {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\r\n\r\n\t\t// Missing `=` should be `null`:\r\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\r\n\t\tvalue = value === undefined ? null : ['comma', 'separator', 'bracket-separator'].includes(options.arrayFormat) ? value : decode(value, options);\r\n\t\tformatter(decode(key, options), value, ret);\r\n\t}\r\n\r\n\tfor (const key of Object.keys(ret)) {\r\n\t\tconst value = ret[key];\r\n\t\tif (typeof value === 'object' && value !== null) {\r\n\t\t\tfor (const k of Object.keys(value)) {\r\n\t\t\t\tvalue[k] = parseValue(value[k], options);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tret[key] = parseValue(value, options);\r\n\t\t}\r\n\t}\r\n\r\n\tif (options.sort === false) {\r\n\t\treturn ret;\r\n\t}\r\n\r\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\r\n\t\tconst value = ret[key];\r\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\r\n\t\t\t// Sort object keys, not values\r\n\t\t\tresult[key] = keysSorter(value);\r\n\t\t} else {\r\n\t\t\tresult[key] = value;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}, Object.create(null));\r\n}\r\n\r\nexports.extract = extract;\r\nexports.parse = parse;\r\n\r\nexports.stringify = (object, options) => {\r\n\tif (!object) {\r\n\t\treturn '';\r\n\t}\r\n\r\n\toptions = Object.assign({\r\n\t\tencode: true,\r\n\t\tstrict: true,\r\n\t\tarrayFormat: 'none',\r\n\t\tarrayFormatSeparator: ','\r\n\t}, options);\r\n\r\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\r\n\r\n\tconst shouldFilter = key => (\r\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\r\n\t\t(options.skipEmptyString && object[key] === '')\r\n\t);\r\n\r\n\tconst formatter = encoderForArrayFormat(options);\r\n\r\n\tconst objectCopy = {};\r\n\r\n\tfor (const key of Object.keys(object)) {\r\n\t\tif (!shouldFilter(key)) {\r\n\t\t\tobjectCopy[key] = object[key];\r\n\t\t}\r\n\t}\r\n\r\n\tconst keys = Object.keys(objectCopy);\r\n\r\n\tif (options.sort !== false) {\r\n\t\tkeys.sort(options.sort);\r\n\t}\r\n\r\n\treturn keys.map(key => {\r\n\t\tconst value = object[key];\r\n\r\n\t\tif (value === undefined) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tif (value === null) {\r\n\t\t\treturn encode(key, options);\r\n\t\t}\r\n\r\n\t\tif (Array.isArray(value)) {\r\n\t\t\tif (value.length === 0 && options.arrayFormat === 'bracket-separator') {\r\n\t\t\t\treturn encode(key, options) + '[]';\r\n\t\t\t}\r\n\r\n\t\t\treturn value\r\n\t\t\t\t.reduce(formatter(key), [])\r\n\t\t\t\t.join('&');\r\n\t\t}\r\n\r\n\t\treturn encode(key, options) + '=' + encode(value, options);\r\n\t}).filter(x => x.length > 0).join('&');\r\n};\r\n\r\nexports.parseUrl = (url, options) => {\r\n\toptions = Object.assign({\r\n\t\tdecode: true\r\n\t}, options);\r\n\r\n\tconst [url_, hash] = splitOnFirst(url, '#');\r\n\r\n\treturn Object.assign(\r\n\t\t{\r\n\t\t\turl: url_.split('?')[0] || '',\r\n\t\t\tquery: parse(extract(url), options)\r\n\t\t},\r\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\r\n\t);\r\n};\r\n\r\nexports.stringifyUrl = (object, options) => {\r\n\toptions = Object.assign({\r\n\t\tencode: true,\r\n\t\tstrict: true,\r\n\t\t[encodeFragmentIdentifier]: true\r\n\t}, options);\r\n\r\n\tconst url = removeHash(object.url).split('?')[0] || '';\r\n\tconst queryFromUrl = exports.extract(object.url);\r\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\r\n\r\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\r\n\tlet queryString = exports.stringify(query, options);\r\n\tif (queryString) {\r\n\t\tqueryString = `?${queryString}`;\r\n\t}\r\n\r\n\tlet hash = getHash(object.url);\r\n\tif (object.fragmentIdentifier) {\r\n\t\thash = `#${options[encodeFragmentIdentifier] ? encode(object.fragmentIdentifier, options) : object.fragmentIdentifier}`;\r\n\t}\r\n\r\n\treturn `${url}${queryString}${hash}`;\r\n};\r\n\r\nexports.pick = (input, filter, options) => {\r\n\toptions = Object.assign({\r\n\t\tparseFragmentIdentifier: true,\r\n\t\t[encodeFragmentIdentifier]: false\r\n\t}, options);\r\n\r\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\r\n\treturn exports.stringifyUrl({\r\n\t\turl,\r\n\t\tquery: filterObject(query, filter),\r\n\t\tfragmentIdentifier\r\n\t}, options);\r\n};\r\n\r\nexports.exclude = (input, filter, options) => {\r\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\r\n\r\n\treturn exports.pick(input, exclusionFilter, options);\r\n};\r\n", "'use strict';\r\n\r\nvar has = Object.prototype.hasOwnProperty\r\n  , prefix = '~';\r\n\r\n/**\r\n * Constructor to create a storage for our `EE` objects.\r\n * An `Events` instance is a plain object whose properties are event names.\r\n *\r\n * @constructor\r\n * @private\r\n */\r\nfunction Events() {}\r\n\r\n//\r\n// We try to not inherit from `Object.prototype`. In some engines creating an\r\n// instance in this way is faster than calling `Object.create(null)` directly.\r\n// If `Object.create(null)` is not supported we prefix the event names with a\r\n// character to make sure that the built-in object properties are not\r\n// overridden or used as an attack vector.\r\n//\r\nif (Object.create) {\r\n  Events.prototype = Object.create(null);\r\n\r\n  //\r\n  // This hack is needed because the `__proto__` property is still inherited in\r\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\r\n  //\r\n  if (!new Events().__proto__) prefix = false;\r\n}\r\n\r\n/**\r\n * Representation of a single event listener.\r\n *\r\n * @param {Function} fn The listener function.\r\n * @param {*} context The context to invoke the listener with.\r\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\r\n * @constructor\r\n * @private\r\n */\r\nfunction EE(fn, context, once) {\r\n  this.fn = fn;\r\n  this.context = context;\r\n  this.once = once || false;\r\n}\r\n\r\n/**\r\n * Add a listener for a given event.\r\n *\r\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\r\n * @param {(String|Symbol)} event The event name.\r\n * @param {Function} fn The listener function.\r\n * @param {*} context The context to invoke the listener with.\r\n * @param {Boolean} once Specify if the listener is a one-time listener.\r\n * @returns {EventEmitter}\r\n * @private\r\n */\r\nfunction addListener(emitter, event, fn, context, once) {\r\n  if (typeof fn !== 'function') {\r\n    throw new TypeError('The listener must be a function');\r\n  }\r\n\r\n  var listener = new EE(fn, context || emitter, once)\r\n    , evt = prefix ? prefix + event : event;\r\n\r\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\r\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\r\n  else emitter._events[evt] = [emitter._events[evt], listener];\r\n\r\n  return emitter;\r\n}\r\n\r\n/**\r\n * Clear event by name.\r\n *\r\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\r\n * @param {(String|Symbol)} evt The Event name.\r\n * @private\r\n */\r\nfunction clearEvent(emitter, evt) {\r\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\r\n  else delete emitter._events[evt];\r\n}\r\n\r\n/**\r\n * Minimal `EventEmitter` interface that is molded against the Node.js\r\n * `EventEmitter` interface.\r\n *\r\n * @constructor\r\n * @public\r\n */\r\nfunction EventEmitter() {\r\n  this._events = new Events();\r\n  this._eventsCount = 0;\r\n}\r\n\r\n/**\r\n * Return an array listing the events for which the emitter has registered\r\n * listeners.\r\n *\r\n * @returns {Array}\r\n * @public\r\n */\r\nEventEmitter.prototype.eventNames = function eventNames() {\r\n  var names = []\r\n    , events\r\n    , name;\r\n\r\n  if (this._eventsCount === 0) return names;\r\n\r\n  for (name in (events = this._events)) {\r\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\r\n  }\r\n\r\n  if (Object.getOwnPropertySymbols) {\r\n    return names.concat(Object.getOwnPropertySymbols(events));\r\n  }\r\n\r\n  return names;\r\n};\r\n\r\n/**\r\n * Return the listeners registered for a given event.\r\n *\r\n * @param {(String|Symbol)} event The event name.\r\n * @returns {Array} The registered listeners.\r\n * @public\r\n */\r\nEventEmitter.prototype.listeners = function listeners(event) {\r\n  var evt = prefix ? prefix + event : event\r\n    , handlers = this._events[evt];\r\n\r\n  if (!handlers) return [];\r\n  if (handlers.fn) return [handlers.fn];\r\n\r\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\r\n    ee[i] = handlers[i].fn;\r\n  }\r\n\r\n  return ee;\r\n};\r\n\r\n/**\r\n * Return the number of listeners listening to a given event.\r\n *\r\n * @param {(String|Symbol)} event The event name.\r\n * @returns {Number} The number of listeners.\r\n * @public\r\n */\r\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\r\n  var evt = prefix ? prefix + event : event\r\n    , listeners = this._events[evt];\r\n\r\n  if (!listeners) return 0;\r\n  if (listeners.fn) return 1;\r\n  return listeners.length;\r\n};\r\n\r\n/**\r\n * Calls each of the listeners registered for a given event.\r\n *\r\n * @param {(String|Symbol)} event The event name.\r\n * @returns {Boolean} `true` if the event had listeners, else `false`.\r\n * @public\r\n */\r\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\r\n  var evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events[evt]) return false;\r\n\r\n  var listeners = this._events[evt]\r\n    , len = arguments.length\r\n    , args\r\n    , i;\r\n\r\n  if (listeners.fn) {\r\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\r\n\r\n    switch (len) {\r\n      case 1: return listeners.fn.call(listeners.context), true;\r\n      case 2: return listeners.fn.call(listeners.context, a1), true;\r\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\r\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\r\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\r\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\r\n    }\r\n\r\n    for (i = 1, args = new Array(len -1); i < len; i++) {\r\n      args[i - 1] = arguments[i];\r\n    }\r\n\r\n    listeners.fn.apply(listeners.context, args);\r\n  } else {\r\n    var length = listeners.length\r\n      , j;\r\n\r\n    for (i = 0; i < length; i++) {\r\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\r\n\r\n      switch (len) {\r\n        case 1: listeners[i].fn.call(listeners[i].context); break;\r\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\r\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\r\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\r\n        default:\r\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\r\n            args[j - 1] = arguments[j];\r\n          }\r\n\r\n          listeners[i].fn.apply(listeners[i].context, args);\r\n      }\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n/**\r\n * Add a listener for a given event.\r\n *\r\n * @param {(String|Symbol)} event The event name.\r\n * @param {Function} fn The listener function.\r\n * @param {*} [context=this] The context to invoke the listener with.\r\n * @returns {EventEmitter} `this`.\r\n * @public\r\n */\r\nEventEmitter.prototype.on = function on(event, fn, context) {\r\n  return addListener(this, event, fn, context, false);\r\n};\r\n\r\n/**\r\n * Add a one-time listener for a given event.\r\n *\r\n * @param {(String|Symbol)} event The event name.\r\n * @param {Function} fn The listener function.\r\n * @param {*} [context=this] The context to invoke the listener with.\r\n * @returns {EventEmitter} `this`.\r\n * @public\r\n */\r\nEventEmitter.prototype.once = function once(event, fn, context) {\r\n  return addListener(this, event, fn, context, true);\r\n};\r\n\r\n/**\r\n * Remove the listeners of a given event.\r\n *\r\n * @param {(String|Symbol)} event The event name.\r\n * @param {Function} fn Only remove the listeners that match this function.\r\n * @param {*} context Only remove the listeners that have this context.\r\n * @param {Boolean} once Only remove one-time listeners.\r\n * @returns {EventEmitter} `this`.\r\n * @public\r\n */\r\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\r\n  var evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events[evt]) return this;\r\n  if (!fn) {\r\n    clearEvent(this, evt);\r\n    return this;\r\n  }\r\n\r\n  var listeners = this._events[evt];\r\n\r\n  if (listeners.fn) {\r\n    if (\r\n      listeners.fn === fn &&\r\n      (!once || listeners.once) &&\r\n      (!context || listeners.context === context)\r\n    ) {\r\n      clearEvent(this, evt);\r\n    }\r\n  } else {\r\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\r\n      if (\r\n        listeners[i].fn !== fn ||\r\n        (once && !listeners[i].once) ||\r\n        (context && listeners[i].context !== context)\r\n      ) {\r\n        events.push(listeners[i]);\r\n      }\r\n    }\r\n\r\n    //\r\n    // Reset the array, or remove it completely if we have no more listeners.\r\n    //\r\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\r\n    else clearEvent(this, evt);\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove all listeners, or those of the specified event.\r\n *\r\n * @param {(String|Symbol)} [event] The event name.\r\n * @returns {EventEmitter} `this`.\r\n * @public\r\n */\r\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\r\n  var evt;\r\n\r\n  if (event) {\r\n    evt = prefix ? prefix + event : event;\r\n    if (this._events[evt]) clearEvent(this, evt);\r\n  } else {\r\n    this._events = new Events();\r\n    this._eventsCount = 0;\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n//\r\n// Alias methods names because people roll like that.\r\n//\r\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\r\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n//\r\n// Expose the prefix.\r\n//\r\nEventEmitter.prefixed = prefix;\r\n\r\n//\r\n// Allow `EventEmitter` to be imported as module namespace.\r\n//\r\nEventEmitter.EventEmitter = EventEmitter;\r\n\r\n//\r\n// Expose the module.\r\n//\r\nif ('undefined' !== typeof module) {\r\n  module.exports = EventEmitter;\r\n}\r\n", "var Symbol = require('./_Symbol'),\r\n    isArguments = require('./isArguments'),\r\n    isArray = require('./isArray');\r\n\r\n/** Built-in value references. */\r\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\r\n\r\n/**\r\n * Checks if `value` is a flattenable `arguments` object or array.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\r\n */\r\nfunction isFlattenable(value) {\r\n  return isArray(value) || isArguments(value) ||\r\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\r\n}\r\n\r\nmodule.exports = isFlattenable;\r\n", "var arrayPush = require('./_arrayPush'),\r\n    isFlattenable = require('./_isFlattenable');\r\n\r\n/**\r\n * The base implementation of `_.flatten` with support for restricting flattening.\r\n *\r\n * @private\r\n * @param {Array} array The array to flatten.\r\n * @param {number} depth The maximum recursion depth.\r\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\r\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\r\n * @param {Array} [result=[]] The initial result value.\r\n * @returns {Array} Returns the new flattened array.\r\n */\r\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\r\n  var index = -1,\r\n      length = array.length;\r\n\r\n  predicate || (predicate = isFlattenable);\r\n  result || (result = []);\r\n\r\n  while (++index < length) {\r\n    var value = array[index];\r\n    if (depth > 0 && predicate(value)) {\r\n      if (depth > 1) {\r\n        // Recursively flatten arrays (susceptible to call stack limits).\r\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\r\n      } else {\r\n        arrayPush(result, value);\r\n      }\r\n    } else if (!isStrict) {\r\n      result[result.length] = value;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = baseFlatten;\r\n", "/**\r\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\r\n * support for iteratee shorthands.\r\n *\r\n * @private\r\n * @param {Array} array The array to inspect.\r\n * @param {Function} predicate The function invoked per iteration.\r\n * @param {number} fromIndex The index to search from.\r\n * @param {boolean} [fromRight] Specify iterating from right to left.\r\n * @returns {number} Returns the index of the matched value, else `-1`.\r\n */\r\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\r\n  var length = array.length,\r\n      index = fromIndex + (fromRight ? 1 : -1);\r\n\r\n  while ((fromRight ? index-- : ++index < length)) {\r\n    if (predicate(array[index], index, array)) {\r\n      return index;\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nmodule.exports = baseFindIndex;\r\n", "/**\r\n * The base implementation of `_.isNaN` without support for number objects.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\r\n */\r\nfunction baseIsNaN(value) {\r\n  return value !== value;\r\n}\r\n\r\nmodule.exports = baseIsNaN;\r\n", "/**\r\n * A specialized version of `_.indexOf` which performs strict equality\r\n * comparisons of values, i.e. `===`.\r\n *\r\n * @private\r\n * @param {Array} array The array to inspect.\r\n * @param {*} value The value to search for.\r\n * @param {number} fromIndex The index to search from.\r\n * @returns {number} Returns the index of the matched value, else `-1`.\r\n */\r\nfunction strictIndexOf(array, value, fromIndex) {\r\n  var index = fromIndex - 1,\r\n      length = array.length;\r\n\r\n  while (++index < length) {\r\n    if (array[index] === value) {\r\n      return index;\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nmodule.exports = strictIndexOf;\r\n", "var baseFindIndex = require('./_baseFindIndex'),\r\n    baseIsNaN = require('./_baseIsNaN'),\r\n    strictIndexOf = require('./_strictIndexOf');\r\n\r\n/**\r\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\r\n *\r\n * @private\r\n * @param {Array} array The array to inspect.\r\n * @param {*} value The value to search for.\r\n * @param {number} fromIndex The index to search from.\r\n * @returns {number} Returns the index of the matched value, else `-1`.\r\n */\r\nfunction baseIndexOf(array, value, fromIndex) {\r\n  return value === value\r\n    ? strictIndexOf(array, value, fromIndex)\r\n    : baseFindIndex(array, baseIsNaN, fromIndex);\r\n}\r\n\r\nmodule.exports = baseIndexOf;\r\n", "var baseIndexOf = require('./_baseIndexOf');\r\n\r\n/**\r\n * A specialized version of `_.includes` for arrays without support for\r\n * specifying an index to search from.\r\n *\r\n * @private\r\n * @param {Array} [array] The array to inspect.\r\n * @param {*} target The value to search for.\r\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\r\n */\r\nfunction arrayIncludes(array, value) {\r\n  var length = array == null ? 0 : array.length;\r\n  return !!length && baseIndexOf(array, value, 0) > -1;\r\n}\r\n\r\nmodule.exports = arrayIncludes;\r\n", "/**\r\n * This function is like `arrayIncludes` except that it accepts a comparator.\r\n *\r\n * @private\r\n * @param {Array} [array] The array to inspect.\r\n * @param {*} target The value to search for.\r\n * @param {Function} comparator The comparator invoked per element.\r\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\r\n */\r\nfunction arrayIncludesWith(array, value, comparator) {\r\n  var index = -1,\r\n      length = array == null ? 0 : array.length;\r\n\r\n  while (++index < length) {\r\n    if (comparator(value, array[index])) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nmodule.exports = arrayIncludesWith;\r\n", "/**\r\n * This method returns `undefined`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 2.3.0\r\n * @category Util\r\n * @example\r\n *\r\n * _.times(2, _.noop);\r\n * // => [undefined, undefined]\r\n */\r\nfunction noop() {\r\n  // No operation performed.\r\n}\r\n\r\nmodule.exports = noop;\r\n", "var Set = require('./_Set'),\r\n    noop = require('./noop'),\r\n    setToArray = require('./_setToArray');\r\n\r\n/** Used as references for various `Number` constants. */\r\nvar INFINITY = 1 / 0;\r\n\r\n/**\r\n * Creates a set object of `values`.\r\n *\r\n * @private\r\n * @param {Array} values The values to add to the set.\r\n * @returns {Object} Returns the new set.\r\n */\r\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\r\n  return new Set(values);\r\n};\r\n\r\nmodule.exports = createSet;\r\n", "var SetCache = require('./_SetCache'),\r\n    arrayIncludes = require('./_arrayIncludes'),\r\n    arrayIncludesWith = require('./_arrayIncludesWith'),\r\n    cacheHas = require('./_cacheHas'),\r\n    createSet = require('./_createSet'),\r\n    setToArray = require('./_setToArray');\r\n\r\n/** Used as the size to enable large array optimizations. */\r\nvar LARGE_ARRAY_SIZE = 200;\r\n\r\n/**\r\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\r\n *\r\n * @private\r\n * @param {Array} array The array to inspect.\r\n * @param {Function} [iteratee] The iteratee invoked per element.\r\n * @param {Function} [comparator] The comparator invoked per element.\r\n * @returns {Array} Returns the new duplicate free array.\r\n */\r\nfunction baseUniq(array, iteratee, comparator) {\r\n  var index = -1,\r\n      includes = arrayIncludes,\r\n      length = array.length,\r\n      isCommon = true,\r\n      result = [],\r\n      seen = result;\r\n\r\n  if (comparator) {\r\n    isCommon = false;\r\n    includes = arrayIncludesWith;\r\n  }\r\n  else if (length >= LARGE_ARRAY_SIZE) {\r\n    var set = iteratee ? null : createSet(array);\r\n    if (set) {\r\n      return setToArray(set);\r\n    }\r\n    isCommon = false;\r\n    includes = cacheHas;\r\n    seen = new SetCache;\r\n  }\r\n  else {\r\n    seen = iteratee ? [] : result;\r\n  }\r\n  outer:\r\n  while (++index < length) {\r\n    var value = array[index],\r\n        computed = iteratee ? iteratee(value) : value;\r\n\r\n    value = (comparator || value !== 0) ? value : 0;\r\n    if (isCommon && computed === computed) {\r\n      var seenIndex = seen.length;\r\n      while (seenIndex--) {\r\n        if (seen[seenIndex] === computed) {\r\n          continue outer;\r\n        }\r\n      }\r\n      if (iteratee) {\r\n        seen.push(computed);\r\n      }\r\n      result.push(value);\r\n    }\r\n    else if (!includes(seen, computed, comparator)) {\r\n      if (seen !== result) {\r\n        seen.push(computed);\r\n      }\r\n      result.push(value);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = baseUniq;\r\n", "var baseFlatten = require('./_baseFlatten'),\r\n    baseRest = require('./_baseRest'),\r\n    baseUniq = require('./_baseUniq'),\r\n    isArrayLikeObject = require('./isArrayLikeObject');\r\n\r\n/**\r\n * Creates an array of unique values, in order, from all given arrays using\r\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\r\n * for equality comparisons.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Array\r\n * @param {...Array} [arrays] The arrays to inspect.\r\n * @returns {Array} Returns the new array of combined values.\r\n * @example\r\n *\r\n * _.union([2], [1, 2]);\r\n * // => [2, 1]\r\n */\r\nvar union = baseRest(function(arrays) {\r\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\r\n});\r\n\r\nmodule.exports = union;\r\n", "var root = require('./_root');\r\n\r\n/**\r\n * Gets the timestamp of the number of milliseconds that have elapsed since\r\n * the Unix epoch (1 January 1970 00:00:00 UTC).\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 2.4.0\r\n * @category Date\r\n * @returns {number} Returns the timestamp.\r\n * @example\r\n *\r\n * _.defer(function(stamp) {\r\n *   console.log(_.now() - stamp);\r\n * }, _.now());\r\n * // => Logs the number of milliseconds it took for the deferred invocation.\r\n */\r\nvar now = function() {\r\n  return root.Date.now();\r\n};\r\n\r\nmodule.exports = now;\r\n", "/** Used to match a single whitespace character. */\r\nvar reWhitespace = /\\s/;\r\n\r\n/**\r\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\r\n * character of `string`.\r\n *\r\n * @private\r\n * @param {string} string The string to inspect.\r\n * @returns {number} Returns the index of the last non-whitespace character.\r\n */\r\nfunction trimmedEndIndex(string) {\r\n  var index = string.length;\r\n\r\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\r\n  return index;\r\n}\r\n\r\nmodule.exports = trimmedEndIndex;\r\n", "var trimmedEndIndex = require('./_trimmedEndIndex');\r\n\r\n/** Used to match leading whitespace. */\r\nvar reTrimStart = /^\\s+/;\r\n\r\n/**\r\n * The base implementation of `_.trim`.\r\n *\r\n * @private\r\n * @param {string} string The string to trim.\r\n * @returns {string} Returns the trimmed string.\r\n */\r\nfunction baseTrim(string) {\r\n  return string\r\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\r\n    : string;\r\n}\r\n\r\nmodule.exports = baseTrim;\r\n", "var baseTrim = require('./_baseTrim'),\r\n    isObject = require('./isObject'),\r\n    isSymbol = require('./isSymbol');\r\n\r\n/** Used as references for various `Number` constants. */\r\nvar NAN = 0 / 0;\r\n\r\n/** Used to detect bad signed hexadecimal string values. */\r\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\r\n\r\n/** Used to detect binary string values. */\r\nvar reIsBinary = /^0b[01]+$/i;\r\n\r\n/** Used to detect octal string values. */\r\nvar reIsOctal = /^0o[0-7]+$/i;\r\n\r\n/** Built-in method references without a dependency on `root`. */\r\nvar freeParseInt = parseInt;\r\n\r\n/**\r\n * Converts `value` to a number.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Lang\r\n * @param {*} value The value to process.\r\n * @returns {number} Returns the number.\r\n * @example\r\n *\r\n * _.toNumber(3.2);\r\n * // => 3.2\r\n *\r\n * _.toNumber(Number.MIN_VALUE);\r\n * // => 5e-324\r\n *\r\n * _.toNumber(Infinity);\r\n * // => Infinity\r\n *\r\n * _.toNumber('3.2');\r\n * // => 3.2\r\n */\r\nfunction toNumber(value) {\r\n  if (typeof value == 'number') {\r\n    return value;\r\n  }\r\n  if (isSymbol(value)) {\r\n    return NAN;\r\n  }\r\n  if (isObject(value)) {\r\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\r\n    value = isObject(other) ? (other + '') : other;\r\n  }\r\n  if (typeof value != 'string') {\r\n    return value === 0 ? value : +value;\r\n  }\r\n  value = baseTrim(value);\r\n  var isBinary = reIsBinary.test(value);\r\n  return (isBinary || reIsOctal.test(value))\r\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\r\n    : (reIsBadHex.test(value) ? NAN : +value);\r\n}\r\n\r\nmodule.exports = toNumber;\r\n", "var isObject = require('./isObject'),\r\n    now = require('./now'),\r\n    toNumber = require('./toNumber');\r\n\r\n/** Error message constants. */\r\nvar FUNC_ERROR_TEXT = 'Expected a function';\r\n\r\n/* Built-in method references for those with the same name as other `lodash` methods. */\r\nvar nativeMax = Math.max,\r\n    nativeMin = Math.min;\r\n\r\n/**\r\n * Creates a debounced function that delays invoking `func` until after `wait`\r\n * milliseconds have elapsed since the last time the debounced function was\r\n * invoked. The debounced function comes with a `cancel` method to cancel\r\n * delayed `func` invocations and a `flush` method to immediately invoke them.\r\n * Provide `options` to indicate whether `func` should be invoked on the\r\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\r\n * with the last arguments provided to the debounced function. Subsequent\r\n * calls to the debounced function return the result of the last `func`\r\n * invocation.\r\n *\r\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\r\n * invoked on the trailing edge of the timeout only if the debounced function\r\n * is invoked more than once during the `wait` timeout.\r\n *\r\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\r\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\r\n *\r\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\r\n * for details over the differences between `_.debounce` and `_.throttle`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Function\r\n * @param {Function} func The function to debounce.\r\n * @param {number} [wait=0] The number of milliseconds to delay.\r\n * @param {Object} [options={}] The options object.\r\n * @param {boolean} [options.leading=false]\r\n *  Specify invoking on the leading edge of the timeout.\r\n * @param {number} [options.maxWait]\r\n *  The maximum time `func` is allowed to be delayed before it's invoked.\r\n * @param {boolean} [options.trailing=true]\r\n *  Specify invoking on the trailing edge of the timeout.\r\n * @returns {Function} Returns the new debounced function.\r\n * @example\r\n *\r\n * // Avoid costly calculations while the window size is in flux.\r\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\r\n *\r\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\r\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\r\n *   'leading': true,\r\n *   'trailing': false\r\n * }));\r\n *\r\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\r\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\r\n * var source = new EventSource('/stream');\r\n * jQuery(source).on('message', debounced);\r\n *\r\n * // Cancel the trailing debounced invocation.\r\n * jQuery(window).on('popstate', debounced.cancel);\r\n */\r\nfunction debounce(func, wait, options) {\r\n  var lastArgs,\r\n      lastThis,\r\n      maxWait,\r\n      result,\r\n      timerId,\r\n      lastCallTime,\r\n      lastInvokeTime = 0,\r\n      leading = false,\r\n      maxing = false,\r\n      trailing = true;\r\n\r\n  if (typeof func != 'function') {\r\n    throw new TypeError(FUNC_ERROR_TEXT);\r\n  }\r\n  wait = toNumber(wait) || 0;\r\n  if (isObject(options)) {\r\n    leading = !!options.leading;\r\n    maxing = 'maxWait' in options;\r\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\r\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\r\n  }\r\n\r\n  function invokeFunc(time) {\r\n    var args = lastArgs,\r\n        thisArg = lastThis;\r\n\r\n    lastArgs = lastThis = undefined;\r\n    lastInvokeTime = time;\r\n    result = func.apply(thisArg, args);\r\n    return result;\r\n  }\r\n\r\n  function leadingEdge(time) {\r\n    // Reset any `maxWait` timer.\r\n    lastInvokeTime = time;\r\n    // Start the timer for the trailing edge.\r\n    timerId = setTimeout(timerExpired, wait);\r\n    // Invoke the leading edge.\r\n    return leading ? invokeFunc(time) : result;\r\n  }\r\n\r\n  function remainingWait(time) {\r\n    var timeSinceLastCall = time - lastCallTime,\r\n        timeSinceLastInvoke = time - lastInvokeTime,\r\n        timeWaiting = wait - timeSinceLastCall;\r\n\r\n    return maxing\r\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\r\n      : timeWaiting;\r\n  }\r\n\r\n  function shouldInvoke(time) {\r\n    var timeSinceLastCall = time - lastCallTime,\r\n        timeSinceLastInvoke = time - lastInvokeTime;\r\n\r\n    // Either this is the first call, activity has stopped and we're at the\r\n    // trailing edge, the system time has gone backwards and we're treating\r\n    // it as the trailing edge, or we've hit the `maxWait` limit.\r\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\r\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\r\n  }\r\n\r\n  function timerExpired() {\r\n    var time = now();\r\n    if (shouldInvoke(time)) {\r\n      return trailingEdge(time);\r\n    }\r\n    // Restart the timer.\r\n    timerId = setTimeout(timerExpired, remainingWait(time));\r\n  }\r\n\r\n  function trailingEdge(time) {\r\n    timerId = undefined;\r\n\r\n    // Only invoke if we have `lastArgs` which means `func` has been\r\n    // debounced at least once.\r\n    if (trailing && lastArgs) {\r\n      return invokeFunc(time);\r\n    }\r\n    lastArgs = lastThis = undefined;\r\n    return result;\r\n  }\r\n\r\n  function cancel() {\r\n    if (timerId !== undefined) {\r\n      clearTimeout(timerId);\r\n    }\r\n    lastInvokeTime = 0;\r\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\r\n  }\r\n\r\n  function flush() {\r\n    return timerId === undefined ? result : trailingEdge(now());\r\n  }\r\n\r\n  function debounced() {\r\n    var time = now(),\r\n        isInvoking = shouldInvoke(time);\r\n\r\n    lastArgs = arguments;\r\n    lastThis = this;\r\n    lastCallTime = time;\r\n\r\n    if (isInvoking) {\r\n      if (timerId === undefined) {\r\n        return leadingEdge(lastCallTime);\r\n      }\r\n      if (maxing) {\r\n        // Handle invocations in a tight loop.\r\n        clearTimeout(timerId);\r\n        timerId = setTimeout(timerExpired, wait);\r\n        return invokeFunc(lastCallTime);\r\n      }\r\n    }\r\n    if (timerId === undefined) {\r\n      timerId = setTimeout(timerExpired, wait);\r\n    }\r\n    return result;\r\n  }\r\n  debounced.cancel = cancel;\r\n  debounced.flush = flush;\r\n  return debounced;\r\n}\r\n\r\nmodule.exports = debounce;\r\n", "var baseGet = require('./_baseGet'),\r\n    baseSet = require('./_baseSet'),\r\n    castPath = require('./_castPath');\r\n\r\n/**\r\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\r\n *\r\n * @private\r\n * @param {Object} object The source object.\r\n * @param {string[]} paths The property paths to pick.\r\n * @param {Function} predicate The function invoked per property.\r\n * @returns {Object} Returns the new object.\r\n */\r\nfunction basePickBy(object, paths, predicate) {\r\n  var index = -1,\r\n      length = paths.length,\r\n      result = {};\r\n\r\n  while (++index < length) {\r\n    var path = paths[index],\r\n        value = baseGet(object, path);\r\n\r\n    if (predicate(value, path)) {\r\n      baseSet(result, castPath(path, object), value);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = basePickBy;\r\n", "/**\r\n * The base implementation of `_.hasIn` without support for deep paths.\r\n *\r\n * @private\r\n * @param {Object} [object] The object to query.\r\n * @param {Array|string} key The key to check.\r\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\r\n */\r\nfunction baseHasIn(object, key) {\r\n  return object != null && key in Object(object);\r\n}\r\n\r\nmodule.exports = baseHasIn;\r\n", "var castPath = require('./_castPath'),\r\n    isArguments = require('./isArguments'),\r\n    isArray = require('./isArray'),\r\n    isIndex = require('./_isIndex'),\r\n    isLength = require('./isLength'),\r\n    toKey = require('./_toKey');\r\n\r\n/**\r\n * Checks if `path` exists on `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @param {Array|string} path The path to check.\r\n * @param {Function} hasFunc The function to check properties.\r\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\r\n */\r\nfunction hasPath(object, path, hasFunc) {\r\n  path = castPath(path, object);\r\n\r\n  var index = -1,\r\n      length = path.length,\r\n      result = false;\r\n\r\n  while (++index < length) {\r\n    var key = toKey(path[index]);\r\n    if (!(result = object != null && hasFunc(object, key))) {\r\n      break;\r\n    }\r\n    object = object[key];\r\n  }\r\n  if (result || ++index != length) {\r\n    return result;\r\n  }\r\n  length = object == null ? 0 : object.length;\r\n  return !!length && isLength(length) && isIndex(key, length) &&\r\n    (isArray(object) || isArguments(object));\r\n}\r\n\r\nmodule.exports = hasPath;\r\n", "var baseHasIn = require('./_baseHasIn'),\r\n    hasPath = require('./_hasPath');\r\n\r\n/**\r\n * Checks if `path` is a direct or inherited property of `object`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Object\r\n * @param {Object} object The object to query.\r\n * @param {Array|string} path The path to check.\r\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\r\n * @example\r\n *\r\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\r\n *\r\n * _.hasIn(object, 'a');\r\n * // => true\r\n *\r\n * _.hasIn(object, 'a.b');\r\n * // => true\r\n *\r\n * _.hasIn(object, ['a', 'b']);\r\n * // => true\r\n *\r\n * _.hasIn(object, 'b');\r\n * // => false\r\n */\r\nfunction hasIn(object, path) {\r\n  return object != null && hasPath(object, path, baseHasIn);\r\n}\r\n\r\nmodule.exports = hasIn;\r\n", "var basePickBy = require('./_basePickBy'),\r\n    hasIn = require('./hasIn');\r\n\r\n/**\r\n * The base implementation of `_.pick` without support for individual\r\n * property identifiers.\r\n *\r\n * @private\r\n * @param {Object} object The source object.\r\n * @param {string[]} paths The property paths to pick.\r\n * @returns {Object} Returns the new object.\r\n */\r\nfunction basePick(object, paths) {\r\n  return basePickBy(object, paths, function(value, path) {\r\n    return hasIn(object, path);\r\n  });\r\n}\r\n\r\nmodule.exports = basePick;\r\n", "var baseFlatten = require('./_baseFlatten');\r\n\r\n/**\r\n * Flattens `array` a single level deep.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Array\r\n * @param {Array} array The array to flatten.\r\n * @returns {Array} Returns the new flattened array.\r\n * @example\r\n *\r\n * _.flatten([1, [2, [3, [4]], 5]]);\r\n * // => [1, 2, [3, [4]], 5]\r\n */\r\nfunction flatten(array) {\r\n  var length = array == null ? 0 : array.length;\r\n  return length ? baseFlatten(array, 1) : [];\r\n}\r\n\r\nmodule.exports = flatten;\r\n", "var flatten = require('./flatten'),\r\n    overRest = require('./_overRest'),\r\n    setToString = require('./_setToString');\r\n\r\n/**\r\n * A specialized version of `baseRest` which flattens the rest array.\r\n *\r\n * @private\r\n * @param {Function} func The function to apply a rest parameter to.\r\n * @returns {Function} Returns the new function.\r\n */\r\nfunction flatRest(func) {\r\n  return setToString(overRest(func, undefined, flatten), func + '');\r\n}\r\n\r\nmodule.exports = flatRest;\r\n", "var basePick = require('./_basePick'),\r\n    flatRest = require('./_flatRest');\r\n\r\n/**\r\n * Creates an object composed of the picked `object` properties.\r\n *\r\n * @static\r\n * @since 0.1.0\r\n * @memberOf _\r\n * @category Object\r\n * @param {Object} object The source object.\r\n * @param {...(string|string[])} [paths] The property paths to pick.\r\n * @returns {Object} Returns the new object.\r\n * @example\r\n *\r\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\r\n *\r\n * _.pick(object, ['a', 'c']);\r\n * // => { 'a': 1, 'c': 3 }\r\n */\r\nvar pick = flatRest(function(object, paths) {\r\n  return object == null ? {} : basePick(object, paths);\r\n});\r\n\r\nmodule.exports = pick;\r\n", "var baseRest = require('./_baseRest'),\r\n    eq = require('./eq'),\r\n    isIterateeCall = require('./_isIterateeCall'),\r\n    keysIn = require('./keysIn');\r\n\r\n/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * Assigns own and inherited enumerable string keyed properties of source\r\n * objects to the destination object for all destination properties that\r\n * resolve to `undefined`. Source objects are applied from left to right.\r\n * Once a property is set, additional values of the same property are ignored.\r\n *\r\n * **Note:** This method mutates `object`.\r\n *\r\n * @static\r\n * @since 0.1.0\r\n * @memberOf _\r\n * @category Object\r\n * @param {Object} object The destination object.\r\n * @param {...Object} [sources] The source objects.\r\n * @returns {Object} Returns `object`.\r\n * @see _.defaultsDeep\r\n * @example\r\n *\r\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\r\n * // => { 'a': 1, 'b': 2 }\r\n */\r\nvar defaults = baseRest(function(object, sources) {\r\n  object = Object(object);\r\n\r\n  var index = -1;\r\n  var length = sources.length;\r\n  var guard = length > 2 ? sources[2] : undefined;\r\n\r\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\r\n    length = 1;\r\n  }\r\n\r\n  while (++index < length) {\r\n    var source = sources[index];\r\n    var props = keysIn(source);\r\n    var propsIndex = -1;\r\n    var propsLength = props.length;\r\n\r\n    while (++propsIndex < propsLength) {\r\n      var key = props[propsIndex];\r\n      var value = object[key];\r\n\r\n      if (value === undefined ||\r\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\r\n        object[key] = source[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  return object;\r\n});\r\n\r\nmodule.exports = defaults;\r\n", "/* jshint node:true */\r\n  'use strict';\r\n\r\n  module.exports = \"\\n\";\r\n  ", "'use strict';\r\n\r\nmodule.exports.isFunction = function (fn) {\r\n    var getType = {};\r\n    return fn && getType.toString.call(fn) === '[object Function]';\r\n};\r\n\r\nmodule.exports.isArray = function (arr) {\r\n    return Array.isArray(arr);\r\n};\r\n\r\nmodule.exports.isObject = function (obj) {\r\n    return obj instanceof Object;\r\n};\r\n\r\nmodule.exports.isString = function (str) {\r\n    return typeof str === 'string';\r\n};\r\n\r\nmodule.exports.isNumber = function (num) {\r\n    return typeof num === 'number';\r\n};\r\n\r\nmodule.exports.isBoolean = function (bool) {\r\n    return typeof bool === 'boolean';\r\n};\r\n\r\nmodule.exports.isDate = function (date) {\r\n    return date instanceof Date;\r\n};", "'use strict';\r\n\r\nvar EOL = require('./eol');\r\nvar helper = require('./helper');\r\n\r\nmodule.exports = function joinRows(rows, join) {\r\n  if (!rows || !helper.isArray(rows)) {\r\n    throw new TypeError('Invalid params \"rows\" for joinRows.' + ' Must be an array of string.');\r\n  }\r\n  //Merge all rows in a single output with the correct End of Line string\r\n  var r = rows.join(join || EOL || '\\n');\r\n  return r;\r\n};", "/* jshint node:true */\r\n'use strict';\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar helper = require('../core/helper');\r\n\r\nvar Handler = function () {\r\n  function Handler(options) {\r\n    _classCallCheck(this, Handler);\r\n\r\n    this._options = options;\r\n\r\n    // an object of {typeName:(value,index,parent)=>any}\r\n    this._options.typeHandlers = this._options.typeHandlers || {};\r\n  }\r\n\r\n  /**\r\n   * Check if results needing mapping to alternate value\r\n   *\r\n   * @returns [{item, value}] result\r\n   */\r\n\r\n\r\n  _createClass(Handler, [{\r\n    key: '_setHeaders',\r\n    value: function _setHeaders(result, item) {\r\n      var self = this;\r\n      if (!item) return result;\r\n      return result.map(function (element) {\r\n        element.item = element.item ? item + self._options.headerPathString + element.item : item;\r\n        return element;\r\n      });\r\n    }\r\n  }, {\r\n    key: 'castValue',\r\n    value: function castValue(element, item, index, parent) {\r\n      //cast by matching constructor\r\n      var types = this._options.typeHandlers;\r\n      for (var type in types) {\r\n        if (isInstanceOfTypeName(element, type)) {\r\n          element = types[type].call(types, element, index, parent);\r\n          break; //first match we move on\r\n        }\r\n      }\r\n\r\n      return element;\r\n    }\r\n  }, {\r\n    key: 'checkComplex',\r\n    value: function checkComplex(element, item) {\r\n      //Check if element is a Date\r\n      if (helper.isDate(element)) {\r\n        return [{\r\n          item: item,\r\n          value: (this._options.handleDate || this._handleDate)(element, item)\r\n        }];\r\n      }\r\n      //Check if element is an Array\r\n      else if (helper.isArray(element)) {\r\n          var resultArray = this._handleArray(element, item);\r\n          return this._setHeaders(resultArray, item);\r\n        }\r\n        //Check if element is a Object\r\n        else if (helper.isObject(element)) {\r\n            var resultObject = this._handleObject(element);\r\n            return this._setHeaders(resultObject, item);\r\n          }\r\n\r\n      return [{\r\n        item: item,\r\n        value: ''\r\n      }];\r\n    }\r\n\r\n    /**\r\n     * Check the element type of the element call the correct handle function\r\n     *\r\n     * @param element Element that will be checked\r\n     * @param item Used to make the headers/path breadcrumb\r\n     * @returns [{item, value}] result\r\n     */\r\n\r\n  }, {\r\n    key: 'check',\r\n    value: function check(element, item, index, parent) {\r\n      element = this.castValue(element, item, index, parent);\r\n      // try simple value by highier performance switch\r\n      switch (typeof element === 'undefined' ? 'undefined' : _typeof(element)) {\r\n        case 'string':\r\n          return [{\r\n            item: item,\r\n            value: this._handleString(element, item)\r\n          }];\r\n\r\n        case 'number':\r\n          return [{\r\n            item: item,\r\n            value: this._handleNumber(element, item)\r\n          }];\r\n\r\n        case 'boolean':\r\n          return [{\r\n            item: item,\r\n            value: this._handleBoolean.bind(this)(element, item)\r\n          }];\r\n      }\r\n\r\n      return this.checkComplex(element, item);\r\n    }\r\n\r\n    /**\r\n     * Handle all Objects\r\n     *\r\n     * @param {Object} obj\r\n     * @returns [{item, value}] result\r\n     */\r\n\r\n  }, {\r\n    key: '_handleObject',\r\n    value: function _handleObject(obj) {\r\n      var result = [];\r\n      //Look every object props\r\n      for (var prop in obj) {\r\n        var propData = obj[prop];\r\n        //Check the propData type\r\n        var resultCheckType = this.check(propData, prop, prop, obj);\r\n        //Append to results aka merge results aka array-append-array\r\n        result = result.concat(resultCheckType);\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Handle all Arrays, merges arrays with primitive types in a single value\r\n     *\r\n     * @param {Array} array\r\n     * @returns [{item, value}] result\r\n     */\r\n\r\n  }, {\r\n    key: '_handleArray',\r\n    value: function _handleArray(array) {\r\n      var self = this;\r\n      var result = [];\r\n      var firstElementWithoutItem;\r\n      for (var aIndex = 0; aIndex < array.length; ++aIndex) {\r\n        var element = array[aIndex];\r\n        //Check the propData type\r\n        var resultCheckType = self.check(element, null, aIndex, array);\r\n        //Check for results without itens, merge all itens with the first occurrence\r\n        if (resultCheckType.length === 0) continue;\r\n        var firstResult = resultCheckType[0];\r\n        if (!firstResult.item && firstElementWithoutItem !== undefined) {\r\n          firstElementWithoutItem.value += self._options.arrayPathString + firstResult.value;\r\n          continue;\r\n        } else if (resultCheckType.length > 0 && !firstResult.item && firstElementWithoutItem === undefined) {\r\n          firstElementWithoutItem = firstResult;\r\n        }\r\n        //Append to results\r\n        result = result.concat(resultCheckType);\r\n      }\r\n      return result;\r\n    }\r\n    /**\r\n     * Handle all Boolean variables, can be replaced with options.handleBoolean\r\n     *\r\n     * @param {Boolean} boolean\r\n     * @returns {String} result\r\n     */\r\n\r\n  }, {\r\n    key: '_handleBoolean',\r\n    value: function _handleBoolean(boolean) {\r\n      var result;\r\n      //Check for booolean options\r\n      if (boolean) {\r\n        result = this._options.booleanTrueString || 'true';\r\n      } else {\r\n        result = this._options.booleanFalseString || 'false';\r\n      }\r\n      return result;\r\n    }\r\n    /**\r\n     * Handle all String variables, can be replaced with options.handleString\r\n     *\r\n     * @param {String} string\r\n     * @returns {String} string\r\n     */\r\n\r\n  }, {\r\n    key: '_handleString',\r\n    value: function _handleString(string) {\r\n      return string;\r\n    }\r\n    /**\r\n     * Handle all Number variables, can be replaced with options.handleNumber\r\n     *\r\n     * @param {Number} number\r\n     * @returns {Number} number\r\n     */\r\n\r\n  }, {\r\n    key: '_handleNumber',\r\n    value: function _handleNumber(number) {\r\n      return number;\r\n    }\r\n    /**\r\n     * Handle all Date variables, can be replaced with options.handleDate\r\n     *\r\n     * @param {Date} number\r\n     * @returns {string} result\r\n     */\r\n\r\n  }, {\r\n    key: '_handleDate',\r\n    value: function _handleDate(date) {\r\n      return date.toLocaleDateString();\r\n    }\r\n  }]);\r\n\r\n  return Handler;\r\n}();\r\n\r\nmodule.exports = Handler;\r\n\r\nvar globalScope = typeof window === \"undefined\" ? global : window;\r\nfunction isInstanceOfTypeName(element, typeName) {\r\n  if (element instanceof globalScope[typeName]) {\r\n    return true; //Buffer and complex objects\r\n  }\r\n\r\n  //literals in javascript cannot be checked by instance of\r\n  switch (typeof element === 'undefined' ? 'undefined' : _typeof(element)) {\r\n    case 'string':\r\n      return typeName === \"String\";\r\n    case 'boolean':\r\n      return typeName === \"Boolean\";\r\n    case 'number':\r\n      return typeName === \"Number\";\r\n  }\r\n\r\n  return false;\r\n}", "/* jshint node:true */\r\n'use strict';\r\n\r\n// Escape the textDelimiters contained in the field\r\n/*(https://tools.ietf.org/html/rfc4180)\r\n   7.  If double-quotes are used to enclose fields, then a double-quote\r\n   appearing inside a field must be escaped by preceding it with\r\n   another double quote.\r\n   For example: \"aaa\",\"b\"\"bb\",\"ccc\"\r\n*/\r\n\r\nmodule.exports = function escapedDelimiters(textDelimiter, rowDelimiter, forceTextDelimiter) {\r\n  var endOfLine = '\\n';\r\n\r\n  if (typeof textDelimiter !== 'string') {\r\n    throw new TypeError('Invalid param \"textDelimiter\", must be a string.');\r\n  }\r\n\r\n  if (typeof rowDelimiter !== 'string') {\r\n    throw new TypeError('Invalid param \"rowDelimiter\", must be a string.');\r\n  }\r\n\r\n  var textDelimiterRegex = new RegExp(\"\\\\\" + textDelimiter, 'g');\r\n  var escapedDelimiter = textDelimiter + textDelimiter;\r\n\r\n  var enclosingCondition = textDelimiter === '\"' ? function (value) {\r\n    return value.indexOf(rowDelimiter) >= 0 || value.indexOf(endOfLine) >= 0 || value.indexOf('\"') >= 0;\r\n  } : function (value) {\r\n    return value.indexOf(rowDelimiter) >= 0 || value.indexOf(endOfLine) >= 0;\r\n  };\r\n\r\n  return function (value) {\r\n    if (forceTextDelimiter) value = \"\" + value;\r\n\r\n    if (!value.replace) return value;\r\n    // Escape the textDelimiters contained in the field\r\n    value = value.replace(textDelimiterRegex, escapedDelimiter);\r\n\r\n    // Escape the whole field if it contains a rowDelimiter or a linebreak or double quote\r\n    if (forceTextDelimiter || enclosingCondition(value)) {\r\n      value = textDelimiter + value + textDelimiter;\r\n    }\r\n\r\n    return value;\r\n  };\r\n};", "/* jshint node:true */\r\n'use strict';\r\n\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar joinRows = require('../core/join-rows');\r\nvar Handler = require('./handler');\r\nvar helper = require('../core/helper');\r\n\r\nvar Parser = function () {\r\n  function Parser(options) {\r\n    _classCallCheck(this, Parser);\r\n\r\n    this._options = options || {};\r\n    this._handler = new Handler(this._options);\r\n    this._headers = this._options.headers || [];\r\n    this._escape = require('../core/escape-delimiters')(this._options.textDelimiter, this._options.rowDelimiter, this._options.forceTextDelimiter);\r\n  }\r\n\r\n  /**\r\n   * Generates a CSV file with optional headers based on the passed JSON,\r\n   * with can be an Object or Array.\r\n   *\r\n   * @param {Object|Array} json\r\n   * @param {Function} done(err,csv) - Callback function\r\n   *      if error, returning error in call back.\r\n   *      if csv is created successfully, returning csv output to callback.\r\n   */\r\n\r\n\r\n  _createClass(Parser, [{\r\n    key: 'parse',\r\n    value: function parse(json, done, stream) {\r\n      if (helper.isArray(json)) return done(null, this._parseArray(json, stream));else if (helper.isObject(json)) return done(null, this._parseObject(json));\r\n      return done(new Error('Unable to parse the JSON object, its not an Array or Object.'));\r\n    }\r\n  }, {\r\n    key: '_checkRows',\r\n    value: function _checkRows(rows) {\r\n      var lastRow = null;\r\n      var finalRows = [];\r\n      var fillGaps = function fillGaps(col, index) {\r\n        return col === '' || col === undefined ? lastRow[index] : col;\r\n      };\r\n      var _iteratorNormalCompletion = true;\r\n      var _didIteratorError = false;\r\n      var _iteratorError = undefined;\r\n\r\n      try {\r\n        for (var _iterator = rows[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\r\n          var row = _step.value;\r\n\r\n          var missing = this._headers.length - row.length;\r\n          if (missing > 0) row = row.concat(Array(missing).join(\".\").split(\".\"));\r\n          if (lastRow && this._options.fillGaps) row = row.map(fillGaps);\r\n          finalRows.push(row.join(this._options.rowDelimiter));\r\n          lastRow = row;\r\n        }\r\n      } catch (err) {\r\n        _didIteratorError = true;\r\n        _iteratorError = err;\r\n      } finally {\r\n        try {\r\n          if (!_iteratorNormalCompletion && _iterator.return) {\r\n            _iterator.return();\r\n          }\r\n        } finally {\r\n          if (_didIteratorError) {\r\n            throw _iteratorError;\r\n          }\r\n        }\r\n      }\r\n\r\n      return finalRows;\r\n    }\r\n  }, {\r\n    key: '_parseArray',\r\n    value: function _parseArray(json, stream) {\r\n      var self = this;\r\n      this._headers = this._headers || [];\r\n      var fileRows = [];\r\n      var outputFile = void 0;\r\n      var fillRows = void 0;\r\n\r\n      var getHeaderIndex = function getHeaderIndex(header) {\r\n        var index = self._headers.indexOf(header);\r\n        if (index === -1) {\r\n          self._headers.push(header);\r\n          index = self._headers.indexOf(header);\r\n        }\r\n        return index;\r\n      };\r\n\r\n      //Generate the csv output\r\n      fillRows = function fillRows(result) {\r\n        var rows = [];\r\n        var fillAndPush = function fillAndPush(row) {\r\n          return rows.push(row.map(function (col) {\r\n            return col != null ? col : '';\r\n          }));\r\n        };\r\n        // initialize the array with empty strings to handle 'unpopular' headers\r\n        var newRow = function newRow() {\r\n          return new Array(self._headers.length).fill(null);\r\n        };\r\n        var emptyRowIndexByHeader = {};\r\n        var currentRow = newRow();\r\n        var _iteratorNormalCompletion2 = true;\r\n        var _didIteratorError2 = false;\r\n        var _iteratorError2 = undefined;\r\n\r\n        try {\r\n          for (var _iterator2 = result[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\r\n            var element = _step2.value;\r\n\r\n            var elementHeaderIndex = getHeaderIndex(element.item);\r\n            if (currentRow[elementHeaderIndex] != undefined) {\r\n              fillAndPush(currentRow);\r\n              currentRow = newRow();\r\n            }\r\n            emptyRowIndexByHeader[elementHeaderIndex] = emptyRowIndexByHeader[elementHeaderIndex] || 0;\r\n            // make sure there isn't a empty row for this header\r\n            if (self._options.fillTopRow && emptyRowIndexByHeader[elementHeaderIndex] < rows.length) {\r\n              rows[emptyRowIndexByHeader[elementHeaderIndex]][elementHeaderIndex] = self._escape(element.value);\r\n              emptyRowIndexByHeader[elementHeaderIndex] += 1;\r\n              continue;\r\n            }\r\n            currentRow[elementHeaderIndex] = self._escape(element.value);\r\n            emptyRowIndexByHeader[elementHeaderIndex] += 1;\r\n          }\r\n          // push last row\r\n        } catch (err) {\r\n          _didIteratorError2 = true;\r\n          _iteratorError2 = err;\r\n        } finally {\r\n          try {\r\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\r\n              _iterator2.return();\r\n            }\r\n          } finally {\r\n            if (_didIteratorError2) {\r\n              throw _iteratorError2;\r\n            }\r\n          }\r\n        }\r\n\r\n        if (currentRow.length > 0) {\r\n          fillAndPush(currentRow);\r\n        }\r\n        fileRows = fileRows.concat(self._checkRows(rows));\r\n      };\r\n      var _iteratorNormalCompletion3 = true;\r\n      var _didIteratorError3 = false;\r\n      var _iteratorError3 = undefined;\r\n\r\n      try {\r\n        for (var _iterator3 = json[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\r\n          var item = _step3.value;\r\n\r\n          //Call checkType to list all items inside this object\r\n          //Items are returned as a object {item: 'Prop Value, Item Name', value: 'Prop Data Value'}\r\n          var itemResult = self._handler.check(item, self._options.mainPathItem, item, json);\r\n          fillRows(itemResult);\r\n        }\r\n      } catch (err) {\r\n        _didIteratorError3 = true;\r\n        _iteratorError3 = err;\r\n      } finally {\r\n        try {\r\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\r\n            _iterator3.return();\r\n          }\r\n        } finally {\r\n          if (_didIteratorError3) {\r\n            throw _iteratorError3;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!stream && self._options.includeHeaders) {\r\n        //Add the headers to the first line\r\n        fileRows.unshift(this.headers);\r\n      }\r\n\r\n      return joinRows(fileRows, self._options.endOfLine);\r\n    }\r\n  }, {\r\n    key: '_parseObject',\r\n    value: function _parseObject(json) {\r\n      var self = this;\r\n      var fileRows = [];\r\n      var parseResult = [];\r\n      var outputFile = void 0;\r\n      var fillRows = void 0;\r\n      var horizontalRows = [[], []];\r\n\r\n      fillRows = function fillRows(result) {\r\n        var value = result.value || result.value === 0 ? result.value.toString() : self._options.undefinedString;\r\n        value = self._escape(value);\r\n\r\n        //Type header;value\r\n        if (self._options.verticalOutput) {\r\n          var row = [result.item, value];\r\n          fileRows.push(row.join(self._options.rowDelimiter));\r\n        } else {\r\n          horizontalRows[0].push(result.item);\r\n          horizontalRows[1].push(value);\r\n        }\r\n      };\r\n      for (var prop in json) {\r\n        var prefix = \"\";\r\n        if (this._options.mainPathItem) prefix = this._options.mainPathItem + this._options.headerPathString;\r\n        parseResult = this._handler.check(json[prop], prefix + prop, prop, json);\r\n\r\n        parseResult.forEach(fillRows);\r\n      }\r\n      if (!this._options.verticalOutput) {\r\n        fileRows.push(horizontalRows[0].join(this._options.rowDelimiter));\r\n        fileRows.push(horizontalRows[1].join(this._options.rowDelimiter));\r\n      }\r\n      return joinRows(fileRows, this._options.endOfLine);\r\n    }\r\n  }, {\r\n    key: 'headers',\r\n    get: function get() {\r\n      var _this = this;\r\n\r\n      var headers = this._headers;\r\n\r\n      if (this._options.rename && this._options.rename.length > 0) headers = headers.map(function (header) {\r\n        return _this._options.rename[_this._options.headers.indexOf(header)] || header;\r\n      });\r\n\r\n      if (this._options.forceTextDelimiter) {\r\n        headers = headers.map(function (header) {\r\n          return '' + _this._options.textDelimiter + header + _this._options.textDelimiter;\r\n        });\r\n      }\r\n\r\n      if (this._options.mapHeaders) headers = headers.map(this._options.mapHeaders);\r\n\r\n      return headers.join(this._options.rowDelimiter);\r\n    }\r\n  }]);\r\n\r\n  return Parser;\r\n}();\r\n\r\nmodule.exports = Parser;", "/* jshint node:true */\r\n  'use strict';\r\n\r\n  var Stream = function (_Transform) {\r\n    throw new Error(\"jsonexport called without third argument as a callback and is required\")\r\n  }\r\n\r\n  module.exports = Stream;\r\n  ", "/* jshint node:true */\r\n'use strict';\r\n/**\r\n * Module dependencies.\r\n */\r\n//const _ = require('underscore');\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar Parser = require('./parser/csv');\r\nvar Stream = require('./core/stream');\r\nvar helper = require('./core/helper');\r\nvar EOL = require('./core/eol');\r\n\r\n/**\r\n * Main function that converts json to csv\r\n *\r\n * @param {Object|Array} json\r\n * @param {Object} [options]\r\n * @param {Function} callback(err, csv) - Callback function\r\n *      if error, returning error in call back.\r\n *      if csv is created successfully, returning csv output to callback.\r\n */\r\nmodule.exports = function () {\r\n  var DEFAULT_OPTIONS = {\r\n    headers: [], //              Array\r\n    rename: [], //               Array\r\n    headerPathString: '.', //    String\r\n    rowDelimiter: ',', //        String\r\n    textDelimiter: '\"', //       String\r\n    arrayPathString: ';', //     String\r\n    undefinedString: '', //      String\r\n    endOfLine: EOL || '\\n', //   String\r\n    mainPathItem: null, //       String\r\n    booleanTrueString: null, //  String\r\n    booleanFalseString: null, // String\r\n    includeHeaders: true, //     Boolean\r\n    fillGaps: false, //          Boolean\r\n    verticalOutput: true, //     Boolean\r\n    forceTextDelimiter: false //Boolean\r\n  };\r\n  // argument parsing\r\n  var json = void 0,\r\n      userOptions = void 0,\r\n      callback = void 0;\r\n  if (arguments.length === 3) {\r\n    var _arguments = Array.prototype.slice.call(arguments);\r\n\r\n    json = _arguments[0];\r\n    userOptions = _arguments[1];\r\n    callback = _arguments[2];\r\n  } else if (arguments.length === 2) {\r\n    var any = void 0;\r\n\r\n    var _arguments2 = Array.prototype.slice.call(arguments);\r\n\r\n    json = _arguments2[0];\r\n    any = _arguments2[1];\r\n\r\n    if (typeof any === 'function') {\r\n      callback = any;\r\n    } else if ((typeof any === 'undefined' ? 'undefined' : _typeof(any)) === 'object') {\r\n      userOptions = any;\r\n    }\r\n  } else if (arguments.length === 1) {\r\n    var _arguments3 = Array.prototype.slice.call(arguments),\r\n        _any = _arguments3[0];\r\n\r\n    if ((typeof _any === 'undefined' ? 'undefined' : _typeof(_any)) === 'object') {\r\n      var defaultKeys = Object.keys(DEFAULT_OPTIONS);\r\n      var objectKeys = Object.keys(_any);\r\n      var isOptions = objectKeys.every(function (key) {\r\n        return defaultKeys.includes(key);\r\n      });\r\n      if (objectKeys.length > 0 && isOptions) {\r\n        userOptions = _any;\r\n      } else {\r\n        json = _any;\r\n      }\r\n    } else {\r\n      json = _any;\r\n    }\r\n  } else {\r\n    return new Stream(new Parser(DEFAULT_OPTIONS));\r\n  }\r\n  var options = Object.assign({}, DEFAULT_OPTIONS, userOptions);\r\n  var parser = new Parser(options);\r\n  // if no json is provided Stream API will be used\r\n  if (!json) {\r\n    return new Stream(parser);\r\n  }\r\n  // always return an promise\r\n  return new Promise(function (resolve, reject) {\r\n    parser.parse(json, function (err, result) {\r\n      if (callback) return callback(err, result);\r\n      if (err) return reject(err);\r\n      if (reject) return resolve(result);\r\n    });\r\n  });\r\n};", "var Stack = require('./_Stack'),\r\n    baseIsEqual = require('./_baseIsEqual');\r\n\r\n/** Used to compose bitmasks for value comparisons. */\r\nvar COMPARE_PARTIAL_FLAG = 1,\r\n    COMPARE_UNORDERED_FLAG = 2;\r\n\r\n/**\r\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\r\n *\r\n * @private\r\n * @param {Object} object The object to inspect.\r\n * @param {Object} source The object of property values to match.\r\n * @param {Array} matchData The property names, values, and compare flags to match.\r\n * @param {Function} [customizer] The function to customize comparisons.\r\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\r\n */\r\nfunction baseIsMatch(object, source, matchData, customizer) {\r\n  var index = matchData.length,\r\n      length = index,\r\n      noCustomizer = !customizer;\r\n\r\n  if (object == null) {\r\n    return !length;\r\n  }\r\n  object = Object(object);\r\n  while (index--) {\r\n    var data = matchData[index];\r\n    if ((noCustomizer && data[2])\r\n          ? data[1] !== object[data[0]]\r\n          : !(data[0] in object)\r\n        ) {\r\n      return false;\r\n    }\r\n  }\r\n  while (++index < length) {\r\n    data = matchData[index];\r\n    var key = data[0],\r\n        objValue = object[key],\r\n        srcValue = data[1];\r\n\r\n    if (noCustomizer && data[2]) {\r\n      if (objValue === undefined && !(key in object)) {\r\n        return false;\r\n      }\r\n    } else {\r\n      var stack = new Stack;\r\n      if (customizer) {\r\n        var result = customizer(objValue, srcValue, key, object, source, stack);\r\n      }\r\n      if (!(result === undefined\r\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\r\n            : result\r\n          )) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nmodule.exports = baseIsMatch;\r\n", "var isObject = require('./isObject');\r\n\r\n/**\r\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` if suitable for strict\r\n *  equality comparisons, else `false`.\r\n */\r\nfunction isStrictComparable(value) {\r\n  return value === value && !isObject(value);\r\n}\r\n\r\nmodule.exports = isStrictComparable;\r\n", "var isStrictComparable = require('./_isStrictComparable'),\r\n    keys = require('./keys');\r\n\r\n/**\r\n * Gets the property names, values, and compare flags of `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the match data of `object`.\r\n */\r\nfunction getMatchData(object) {\r\n  var result = keys(object),\r\n      length = result.length;\r\n\r\n  while (length--) {\r\n    var key = result[length],\r\n        value = object[key];\r\n\r\n    result[length] = [key, value, isStrictComparable(value)];\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = getMatchData;\r\n", "/**\r\n * A specialized version of `matchesProperty` for source values suitable\r\n * for strict equality comparisons, i.e. `===`.\r\n *\r\n * @private\r\n * @param {string} key The key of the property to get.\r\n * @param {*} srcValue The value to match.\r\n * @returns {Function} Returns the new spec function.\r\n */\r\nfunction matchesStrictComparable(key, srcValue) {\r\n  return function(object) {\r\n    if (object == null) {\r\n      return false;\r\n    }\r\n    return object[key] === srcValue &&\r\n      (srcValue !== undefined || (key in Object(object)));\r\n  };\r\n}\r\n\r\nmodule.exports = matchesStrictComparable;\r\n", "var baseIsMatch = require('./_baseIsMatch'),\r\n    getMatchData = require('./_getMatchData'),\r\n    matchesStrictComparable = require('./_matchesStrictComparable');\r\n\r\n/**\r\n * The base implementation of `_.matches` which doesn't clone `source`.\r\n *\r\n * @private\r\n * @param {Object} source The object of property values to match.\r\n * @returns {Function} Returns the new spec function.\r\n */\r\nfunction baseMatches(source) {\r\n  var matchData = getMatchData(source);\r\n  if (matchData.length == 1 && matchData[0][2]) {\r\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\r\n  }\r\n  return function(object) {\r\n    return object === source || baseIsMatch(object, source, matchData);\r\n  };\r\n}\r\n\r\nmodule.exports = baseMatches;\r\n", "var baseIsEqual = require('./_baseIsEqual'),\r\n    get = require('./get'),\r\n    hasIn = require('./hasIn'),\r\n    isKey = require('./_isKey'),\r\n    isStrictComparable = require('./_isStrictComparable'),\r\n    matchesStrictComparable = require('./_matchesStrictComparable'),\r\n    toKey = require('./_toKey');\r\n\r\n/** Used to compose bitmasks for value comparisons. */\r\nvar COMPARE_PARTIAL_FLAG = 1,\r\n    COMPARE_UNORDERED_FLAG = 2;\r\n\r\n/**\r\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\r\n *\r\n * @private\r\n * @param {string} path The path of the property to get.\r\n * @param {*} srcValue The value to match.\r\n * @returns {Function} Returns the new spec function.\r\n */\r\nfunction baseMatchesProperty(path, srcValue) {\r\n  if (isKey(path) && isStrictComparable(srcValue)) {\r\n    return matchesStrictComparable(toKey(path), srcValue);\r\n  }\r\n  return function(object) {\r\n    var objValue = get(object, path);\r\n    return (objValue === undefined && objValue === srcValue)\r\n      ? hasIn(object, path)\r\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\r\n  };\r\n}\r\n\r\nmodule.exports = baseMatchesProperty;\r\n", "/**\r\n * The base implementation of `_.property` without support for deep paths.\r\n *\r\n * @private\r\n * @param {string} key The key of the property to get.\r\n * @returns {Function} Returns the new accessor function.\r\n */\r\nfunction baseProperty(key) {\r\n  return function(object) {\r\n    return object == null ? undefined : object[key];\r\n  };\r\n}\r\n\r\nmodule.exports = baseProperty;\r\n", "var baseGet = require('./_baseGet');\r\n\r\n/**\r\n * A specialized version of `baseProperty` which supports deep paths.\r\n *\r\n * @private\r\n * @param {Array|string} path The path of the property to get.\r\n * @returns {Function} Returns the new accessor function.\r\n */\r\nfunction basePropertyDeep(path) {\r\n  return function(object) {\r\n    return baseGet(object, path);\r\n  };\r\n}\r\n\r\nmodule.exports = basePropertyDeep;\r\n", "var baseProperty = require('./_baseProperty'),\r\n    basePropertyDeep = require('./_basePropertyDeep'),\r\n    isKey = require('./_isKey'),\r\n    toKey = require('./_toKey');\r\n\r\n/**\r\n * Creates a function that returns the value at `path` of a given object.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 2.4.0\r\n * @category Util\r\n * @param {Array|string} path The path of the property to get.\r\n * @returns {Function} Returns the new accessor function.\r\n * @example\r\n *\r\n * var objects = [\r\n *   { 'a': { 'b': 2 } },\r\n *   { 'a': { 'b': 1 } }\r\n * ];\r\n *\r\n * _.map(objects, _.property('a.b'));\r\n * // => [2, 1]\r\n *\r\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\r\n * // => [1, 2]\r\n */\r\nfunction property(path) {\r\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\r\n}\r\n\r\nmodule.exports = property;\r\n", "var baseMatches = require('./_baseMatches'),\r\n    baseMatchesProperty = require('./_baseMatchesProperty'),\r\n    identity = require('./identity'),\r\n    isArray = require('./isArray'),\r\n    property = require('./property');\r\n\r\n/**\r\n * The base implementation of `_.iteratee`.\r\n *\r\n * @private\r\n * @param {*} [value=_.identity] The value to convert to an iteratee.\r\n * @returns {Function} Returns the iteratee.\r\n */\r\nfunction baseIteratee(value) {\r\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\r\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\r\n  if (typeof value == 'function') {\r\n    return value;\r\n  }\r\n  if (value == null) {\r\n    return identity;\r\n  }\r\n  if (typeof value == 'object') {\r\n    return isArray(value)\r\n      ? baseMatchesProperty(value[0], value[1])\r\n      : baseMatches(value);\r\n  }\r\n  return property(value);\r\n}\r\n\r\nmodule.exports = baseIteratee;\r\n", "var arrayPush = require('./_arrayPush'),\r\n    getPrototype = require('./_getPrototype'),\r\n    getSymbols = require('./_getSymbols'),\r\n    stubArray = require('./stubArray');\r\n\r\n/* Built-in method references for those with the same name as other `lodash` methods. */\r\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\r\n\r\n/**\r\n * Creates an array of the own and inherited enumerable symbols of `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of symbols.\r\n */\r\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\r\n  var result = [];\r\n  while (object) {\r\n    arrayPush(result, getSymbols(object));\r\n    object = getPrototype(object);\r\n  }\r\n  return result;\r\n};\r\n\r\nmodule.exports = getSymbolsIn;\r\n", "var baseGetAllKeys = require('./_baseGetAllKeys'),\r\n    getSymbolsIn = require('./_getSymbolsIn'),\r\n    keysIn = require('./keysIn');\r\n\r\n/**\r\n * Creates an array of own and inherited enumerable property names and\r\n * symbols of `object`.\r\n *\r\n * @private\r\n * @param {Object} object The object to query.\r\n * @returns {Array} Returns the array of property names and symbols.\r\n */\r\nfunction getAllKeysIn(object) {\r\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\r\n}\r\n\r\nmodule.exports = getAllKeysIn;\r\n", "var arrayMap = require('./_arrayMap'),\r\n    baseIteratee = require('./_baseIteratee'),\r\n    basePickBy = require('./_basePickBy'),\r\n    getAllKeysIn = require('./_getAllKeysIn');\r\n\r\n/**\r\n * Creates an object composed of the `object` properties `predicate` returns\r\n * truthy for. The predicate is invoked with two arguments: (value, key).\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.0.0\r\n * @category Object\r\n * @param {Object} object The source object.\r\n * @param {Function} [predicate=_.identity] The function invoked per property.\r\n * @returns {Object} Returns the new object.\r\n * @example\r\n *\r\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\r\n *\r\n * _.pickBy(object, _.isNumber);\r\n * // => { 'a': 1, 'c': 3 }\r\n */\r\nfunction pickBy(object, predicate) {\r\n  if (object == null) {\r\n    return {};\r\n  }\r\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\r\n    return [prop];\r\n  });\r\n  predicate = baseIteratee(predicate);\r\n  return basePickBy(object, props, function(value, path) {\r\n    return predicate(value, path[0]);\r\n  });\r\n}\r\n\r\nmodule.exports = pickBy;\r\n", "/** @license React v17.0.2\r\n * react-is.development.js\r\n *\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */\r\n\r\n'use strict';\r\n\r\nif (process.env.NODE_ENV !== \"production\") {\r\n  (function() {\r\n'use strict';\r\n\r\n// ATTENTION\r\n// When adding new symbols to this file,\r\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\r\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\r\n// nor polyfill, then a plain number is used for performance.\r\nvar REACT_ELEMENT_TYPE = 0xeac7;\r\nvar REACT_PORTAL_TYPE = 0xeaca;\r\nvar REACT_FRAGMENT_TYPE = 0xeacb;\r\nvar REACT_STRICT_MODE_TYPE = 0xeacc;\r\nvar REACT_PROFILER_TYPE = 0xead2;\r\nvar REACT_PROVIDER_TYPE = 0xeacd;\r\nvar REACT_CONTEXT_TYPE = 0xeace;\r\nvar REACT_FORWARD_REF_TYPE = 0xead0;\r\nvar REACT_SUSPENSE_TYPE = 0xead1;\r\nvar REACT_SUSPENSE_LIST_TYPE = 0xead8;\r\nvar REACT_MEMO_TYPE = 0xead3;\r\nvar REACT_LAZY_TYPE = 0xead4;\r\nvar REACT_BLOCK_TYPE = 0xead9;\r\nvar REACT_SERVER_BLOCK_TYPE = 0xeada;\r\nvar REACT_FUNDAMENTAL_TYPE = 0xead5;\r\nvar REACT_SCOPE_TYPE = 0xead7;\r\nvar REACT_OPAQUE_ID_TYPE = 0xeae0;\r\nvar REACT_DEBUG_TRACING_MODE_TYPE = 0xeae1;\r\nvar REACT_OFFSCREEN_TYPE = 0xeae2;\r\nvar REACT_LEGACY_HIDDEN_TYPE = 0xeae3;\r\n\r\nif (typeof Symbol === 'function' && Symbol.for) {\r\n  var symbolFor = Symbol.for;\r\n  REACT_ELEMENT_TYPE = symbolFor('react.element');\r\n  REACT_PORTAL_TYPE = symbolFor('react.portal');\r\n  REACT_FRAGMENT_TYPE = symbolFor('react.fragment');\r\n  REACT_STRICT_MODE_TYPE = symbolFor('react.strict_mode');\r\n  REACT_PROFILER_TYPE = symbolFor('react.profiler');\r\n  REACT_PROVIDER_TYPE = symbolFor('react.provider');\r\n  REACT_CONTEXT_TYPE = symbolFor('react.context');\r\n  REACT_FORWARD_REF_TYPE = symbolFor('react.forward_ref');\r\n  REACT_SUSPENSE_TYPE = symbolFor('react.suspense');\r\n  REACT_SUSPENSE_LIST_TYPE = symbolFor('react.suspense_list');\r\n  REACT_MEMO_TYPE = symbolFor('react.memo');\r\n  REACT_LAZY_TYPE = symbolFor('react.lazy');\r\n  REACT_BLOCK_TYPE = symbolFor('react.block');\r\n  REACT_SERVER_BLOCK_TYPE = symbolFor('react.server.block');\r\n  REACT_FUNDAMENTAL_TYPE = symbolFor('react.fundamental');\r\n  REACT_SCOPE_TYPE = symbolFor('react.scope');\r\n  REACT_OPAQUE_ID_TYPE = symbolFor('react.opaque.id');\r\n  REACT_DEBUG_TRACING_MODE_TYPE = symbolFor('react.debug_trace_mode');\r\n  REACT_OFFSCREEN_TYPE = symbolFor('react.offscreen');\r\n  REACT_LEGACY_HIDDEN_TYPE = symbolFor('react.legacy_hidden');\r\n}\r\n\r\n// Filter certain DOM attributes (e.g. src, href) if their values are empty strings.\r\n\r\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\r\n\r\nfunction isValidElementType(type) {\r\n  if (typeof type === 'string' || typeof type === 'function') {\r\n    return true;\r\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\r\n\r\n\r\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || type === REACT_DEBUG_TRACING_MODE_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || type === REACT_LEGACY_HIDDEN_TYPE || enableScopeAPI ) {\r\n    return true;\r\n  }\r\n\r\n  if (typeof type === 'object' && type !== null) {\r\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_BLOCK_TYPE || type[0] === REACT_SERVER_BLOCK_TYPE) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction typeOf(object) {\r\n  if (typeof object === 'object' && object !== null) {\r\n    var $$typeof = object.$$typeof;\r\n\r\n    switch ($$typeof) {\r\n      case REACT_ELEMENT_TYPE:\r\n        var type = object.type;\r\n\r\n        switch (type) {\r\n          case REACT_FRAGMENT_TYPE:\r\n          case REACT_PROFILER_TYPE:\r\n          case REACT_STRICT_MODE_TYPE:\r\n          case REACT_SUSPENSE_TYPE:\r\n          case REACT_SUSPENSE_LIST_TYPE:\r\n            return type;\r\n\r\n          default:\r\n            var $$typeofType = type && type.$$typeof;\r\n\r\n            switch ($$typeofType) {\r\n              case REACT_CONTEXT_TYPE:\r\n              case REACT_FORWARD_REF_TYPE:\r\n              case REACT_LAZY_TYPE:\r\n              case REACT_MEMO_TYPE:\r\n              case REACT_PROVIDER_TYPE:\r\n                return $$typeofType;\r\n\r\n              default:\r\n                return $$typeof;\r\n            }\r\n\r\n        }\r\n\r\n      case REACT_PORTAL_TYPE:\r\n        return $$typeof;\r\n    }\r\n  }\r\n\r\n  return undefined;\r\n}\r\nvar ContextConsumer = REACT_CONTEXT_TYPE;\r\nvar ContextProvider = REACT_PROVIDER_TYPE;\r\nvar Element = REACT_ELEMENT_TYPE;\r\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\r\nvar Fragment = REACT_FRAGMENT_TYPE;\r\nvar Lazy = REACT_LAZY_TYPE;\r\nvar Memo = REACT_MEMO_TYPE;\r\nvar Portal = REACT_PORTAL_TYPE;\r\nvar Profiler = REACT_PROFILER_TYPE;\r\nvar StrictMode = REACT_STRICT_MODE_TYPE;\r\nvar Suspense = REACT_SUSPENSE_TYPE;\r\nvar hasWarnedAboutDeprecatedIsAsyncMode = false;\r\nvar hasWarnedAboutDeprecatedIsConcurrentMode = false; // AsyncMode should be deprecated\r\n\r\nfunction isAsyncMode(object) {\r\n  {\r\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\r\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\r\n\r\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 18+.');\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\nfunction isConcurrentMode(object) {\r\n  {\r\n    if (!hasWarnedAboutDeprecatedIsConcurrentMode) {\r\n      hasWarnedAboutDeprecatedIsConcurrentMode = true; // Using console['warn'] to evade Babel and ESLint\r\n\r\n      console['warn']('The ReactIs.isConcurrentMode() alias has been deprecated, ' + 'and will be removed in React 18+.');\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\nfunction isContextConsumer(object) {\r\n  return typeOf(object) === REACT_CONTEXT_TYPE;\r\n}\r\nfunction isContextProvider(object) {\r\n  return typeOf(object) === REACT_PROVIDER_TYPE;\r\n}\r\nfunction isElement(object) {\r\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\r\n}\r\nfunction isForwardRef(object) {\r\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\r\n}\r\nfunction isFragment(object) {\r\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\r\n}\r\nfunction isLazy(object) {\r\n  return typeOf(object) === REACT_LAZY_TYPE;\r\n}\r\nfunction isMemo(object) {\r\n  return typeOf(object) === REACT_MEMO_TYPE;\r\n}\r\nfunction isPortal(object) {\r\n  return typeOf(object) === REACT_PORTAL_TYPE;\r\n}\r\nfunction isProfiler(object) {\r\n  return typeOf(object) === REACT_PROFILER_TYPE;\r\n}\r\nfunction isStrictMode(object) {\r\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\r\n}\r\nfunction isSuspense(object) {\r\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\r\n}\r\n\r\nexports.ContextConsumer = ContextConsumer;\r\nexports.ContextProvider = ContextProvider;\r\nexports.Element = Element;\r\nexports.ForwardRef = ForwardRef;\r\nexports.Fragment = Fragment;\r\nexports.Lazy = Lazy;\r\nexports.Memo = Memo;\r\nexports.Portal = Portal;\r\nexports.Profiler = Profiler;\r\nexports.StrictMode = StrictMode;\r\nexports.Suspense = Suspense;\r\nexports.isAsyncMode = isAsyncMode;\r\nexports.isConcurrentMode = isConcurrentMode;\r\nexports.isContextConsumer = isContextConsumer;\r\nexports.isContextProvider = isContextProvider;\r\nexports.isElement = isElement;\r\nexports.isForwardRef = isForwardRef;\r\nexports.isFragment = isFragment;\r\nexports.isLazy = isLazy;\r\nexports.isMemo = isMemo;\r\nexports.isPortal = isPortal;\r\nexports.isProfiler = isProfiler;\r\nexports.isStrictMode = isStrictMode;\r\nexports.isSuspense = isSuspense;\r\nexports.isValidElementType = isValidElementType;\r\nexports.typeOf = typeOf;\r\n  })();\r\n}\r\n", "'use strict';\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  module.exports = require('./cjs/react-is.production.min.js');\r\n} else {\r\n  module.exports = require('./cjs/react-is.development.js');\r\n}\r\n", "/*!\r\n * inflection\r\n * Copyright(c) 2011 Ben Lin <ben@dreamerslab.com>\r\n * MIT Licensed\r\n *\r\n * @fileoverview\r\n * A port of inflection-js to node.js module.\r\n */\r\n\r\n( function ( root, factory ){\r\n  if( typeof define === 'function' && define.amd ){\r\n    define([], factory );\r\n  }else if( typeof exports === 'object' ){\r\n    module.exports = factory();\r\n  }else{\r\n    root.inflection = factory();\r\n  }\r\n}( this, function (){\r\n\r\n  /**\r\n   * @description This is a list of nouns that use the same form for both singular and plural.\r\n   *              This list should remain entirely in lower case to correctly match Strings.\r\n   * @private\r\n   */\r\n  var uncountable_words = [\r\n    // 'access',\r\n    'accommodation',\r\n    'adulthood',\r\n    'advertising',\r\n    'advice',\r\n    'aggression',\r\n    'aid',\r\n    'air',\r\n    'aircraft',\r\n    'alcohol',\r\n    'anger',\r\n    'applause',\r\n    'arithmetic',\r\n    // 'art',\r\n    'assistance',\r\n    'athletics',\r\n    // 'attention',\r\n\r\n    'bacon',\r\n    'baggage',\r\n    // 'ballet',\r\n    // 'beauty',\r\n    'beef',\r\n    // 'beer',\r\n    // 'behavior',\r\n    'biology',\r\n    // 'billiards',\r\n    'blood',\r\n    'botany',\r\n    // 'bowels',\r\n    'bread',\r\n    // 'business',\r\n    'butter',\r\n\r\n    'carbon',\r\n    'cardboard',\r\n    'cash',\r\n    'chalk',\r\n    'chaos',\r\n    'chess',\r\n    'crossroads',\r\n    'countryside',\r\n\r\n    // 'damage',\r\n    'dancing',\r\n    // 'danger',\r\n    'deer',\r\n    // 'delight',\r\n    // 'dessert',\r\n    'dignity',\r\n    'dirt',\r\n    // 'distribution',\r\n    'dust',\r\n\r\n    'economics',\r\n    'education',\r\n    'electricity',\r\n    // 'employment',\r\n    // 'energy',\r\n    'engineering',\r\n    'enjoyment',\r\n    // 'entertainment',\r\n    'envy',\r\n    'equipment',\r\n    'ethics',\r\n    'evidence',\r\n    'evolution',\r\n\r\n    // 'failure',\r\n    // 'faith',\r\n    'fame',\r\n    'fiction',\r\n    // 'fish',\r\n    'flour',\r\n    'flu',\r\n    'food',\r\n    // 'freedom',\r\n    // 'fruit',\r\n    'fuel',\r\n    'fun',\r\n    // 'funeral',\r\n    'furniture',\r\n\r\n    'gallows',\r\n    'garbage',\r\n    'garlic',\r\n    // 'gas',\r\n    'genetics',\r\n    // 'glass',\r\n    'gold',\r\n    'golf',\r\n    'gossip',\r\n    'grammar',\r\n    // 'grass',\r\n    'gratitude',\r\n    'grief',\r\n    // 'ground',\r\n    'guilt',\r\n    'gymnastics',\r\n\r\n    // 'hair',\r\n    'happiness',\r\n    'hardware',\r\n    'harm',\r\n    'hate',\r\n    'hatred',\r\n    'health',\r\n    'heat',\r\n    // 'height',\r\n    'help',\r\n    'homework',\r\n    'honesty',\r\n    'honey',\r\n    'hospitality',\r\n    'housework',\r\n    'humour',\r\n    'hunger',\r\n    'hydrogen',\r\n\r\n    'ice',\r\n    'importance',\r\n    'inflation',\r\n    'information',\r\n    // 'injustice',\r\n    'innocence',\r\n    // 'intelligence',\r\n    'iron',\r\n    'irony',\r\n\r\n    'jam',\r\n    // 'jealousy',\r\n    // 'jelly',\r\n    'jewelry',\r\n    // 'joy',\r\n    'judo',\r\n    // 'juice',\r\n    // 'justice',\r\n\r\n    'karate',\r\n    // 'kindness',\r\n    'knowledge',\r\n\r\n    // 'labour',\r\n    'lack',\r\n    // 'land',\r\n    'laughter',\r\n    'lava',\r\n    'leather',\r\n    'leisure',\r\n    'lightning',\r\n    'linguine',\r\n    'linguini',\r\n    'linguistics',\r\n    'literature',\r\n    'litter',\r\n    'livestock',\r\n    'logic',\r\n    'loneliness',\r\n    // 'love',\r\n    'luck',\r\n    'luggage',\r\n\r\n    'macaroni',\r\n    'machinery',\r\n    'magic',\r\n    // 'mail',\r\n    'management',\r\n    'mankind',\r\n    'marble',\r\n    'mathematics',\r\n    'mayonnaise',\r\n    'measles',\r\n    // 'meat',\r\n    // 'metal',\r\n    'methane',\r\n    'milk',\r\n    'minus',\r\n    'money',\r\n    // 'moose',\r\n    'mud',\r\n    'music',\r\n    'mumps',\r\n\r\n    'nature',\r\n    'news',\r\n    'nitrogen',\r\n    'nonsense',\r\n    'nurture',\r\n    'nutrition',\r\n\r\n    'obedience',\r\n    'obesity',\r\n    // 'oil',\r\n    'oxygen',\r\n\r\n    // 'paper',\r\n    // 'passion',\r\n    'pasta',\r\n    'patience',\r\n    // 'permission',\r\n    'physics',\r\n    'poetry',\r\n    'pollution',\r\n    'poverty',\r\n    // 'power',\r\n    'pride',\r\n    // 'production',\r\n    // 'progress',\r\n    // 'pronunciation',\r\n    'psychology',\r\n    'publicity',\r\n    'punctuation',\r\n\r\n    // 'quality',\r\n    // 'quantity',\r\n    'quartz',\r\n\r\n    'racism',\r\n    // 'rain',\r\n    // 'recreation',\r\n    'relaxation',\r\n    'reliability',\r\n    'research',\r\n    'respect',\r\n    'revenge',\r\n    'rice',\r\n    'rubbish',\r\n    'rum',\r\n\r\n    'safety',\r\n    // 'salad',\r\n    // 'salt',\r\n    // 'sand',\r\n    // 'satire',\r\n    'scenery',\r\n    'seafood',\r\n    'seaside',\r\n    'series',\r\n    'shame',\r\n    'sheep',\r\n    'shopping',\r\n    // 'silence',\r\n    'sleep',\r\n    // 'slang'\r\n    'smoke',\r\n    'smoking',\r\n    'snow',\r\n    'soap',\r\n    'software',\r\n    'soil',\r\n    // 'sorrow',\r\n    // 'soup',\r\n    'spaghetti',\r\n    // 'speed',\r\n    'species',\r\n    // 'spelling',\r\n    // 'sport',\r\n    'steam',\r\n    // 'strength',\r\n    'stuff',\r\n    'stupidity',\r\n    // 'success',\r\n    // 'sugar',\r\n    'sunshine',\r\n    'symmetry',\r\n\r\n    // 'tea',\r\n    'tennis',\r\n    'thirst',\r\n    'thunder',\r\n    'timber',\r\n    // 'time',\r\n    // 'toast',\r\n    // 'tolerance',\r\n    // 'trade',\r\n    'traffic',\r\n    'transportation',\r\n    // 'travel',\r\n    'trust',\r\n\r\n    // 'understanding',\r\n    'underwear',\r\n    'unemployment',\r\n    'unity',\r\n    // 'usage',\r\n\r\n    'validity',\r\n    'veal',\r\n    'vegetation',\r\n    'vegetarianism',\r\n    'vengeance',\r\n    'violence',\r\n    // 'vision',\r\n    'vitality',\r\n\r\n    'warmth',\r\n    // 'water',\r\n    'wealth',\r\n    'weather',\r\n    // 'weight',\r\n    'welfare',\r\n    'wheat',\r\n    // 'whiskey',\r\n    // 'width',\r\n    'wildlife',\r\n    // 'wine',\r\n    'wisdom',\r\n    // 'wood',\r\n    // 'wool',\r\n    // 'work',\r\n\r\n    // 'yeast',\r\n    'yoga',\r\n\r\n    'zinc',\r\n    'zoology'\r\n  ];\r\n\r\n  /**\r\n   * @description These rules translate from the singular form of a noun to its plural form.\r\n   * @private\r\n   */\r\n\r\n  var regex = {\r\n    plural : {\r\n      men       : new RegExp( '^(m|wom)en$'                    , 'gi' ),\r\n      people    : new RegExp( '(pe)ople$'                      , 'gi' ),\r\n      children  : new RegExp( '(child)ren$'                    , 'gi' ),\r\n      tia       : new RegExp( '([ti])a$'                       , 'gi' ),\r\n      analyses  : new RegExp( '((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$','gi' ),\r\n      hives     : new RegExp( '(hi|ti)ves$'                    , 'gi' ),\r\n      curves    : new RegExp( '(curve)s$'                      , 'gi' ),\r\n      lrves     : new RegExp( '([lr])ves$'                     , 'gi' ),\r\n      aves      : new RegExp( '([a])ves$'                      , 'gi' ),\r\n      foves     : new RegExp( '([^fo])ves$'                    , 'gi' ),\r\n      movies    : new RegExp( '(m)ovies$'                      , 'gi' ),\r\n      aeiouyies : new RegExp( '([^aeiouy]|qu)ies$'             , 'gi' ),\r\n      series    : new RegExp( '(s)eries$'                      , 'gi' ),\r\n      xes       : new RegExp( '(x|ch|ss|sh)es$'                , 'gi' ),\r\n      mice      : new RegExp( '([m|l])ice$'                    , 'gi' ),\r\n      buses     : new RegExp( '(bus)es$'                       , 'gi' ),\r\n      oes       : new RegExp( '(o)es$'                         , 'gi' ),\r\n      shoes     : new RegExp( '(shoe)s$'                       , 'gi' ),\r\n      crises    : new RegExp( '(cris|ax|test)es$'              , 'gi' ),\r\n      octopi    : new RegExp( '(octop|vir)i$'                  , 'gi' ),\r\n      aliases   : new RegExp( '(alias|canvas|status|campus)es$', 'gi' ),\r\n      summonses : new RegExp( '^(summons)es$'                  , 'gi' ),\r\n      oxen      : new RegExp( '^(ox)en'                        , 'gi' ),\r\n      matrices  : new RegExp( '(matr)ices$'                    , 'gi' ),\r\n      vertices  : new RegExp( '(vert|ind)ices$'                , 'gi' ),\r\n      feet      : new RegExp( '^feet$'                         , 'gi' ),\r\n      teeth     : new RegExp( '^teeth$'                        , 'gi' ),\r\n      geese     : new RegExp( '^geese$'                        , 'gi' ),\r\n      quizzes   : new RegExp( '(quiz)zes$'                     , 'gi' ),\r\n      whereases : new RegExp( '^(whereas)es$'                  , 'gi' ),\r\n      criteria  : new RegExp( '^(criteri)a$'                   , 'gi' ),\r\n      genera    : new RegExp( '^genera$'                       , 'gi' ),\r\n      ss        : new RegExp( 'ss$'                            , 'gi' ),\r\n      s         : new RegExp( 's$'                             , 'gi' )\r\n    },\r\n\r\n    singular : {\r\n      man       : new RegExp( '^(m|wom)an$'                  , 'gi' ),\r\n      person    : new RegExp( '(pe)rson$'                    , 'gi' ),\r\n      child     : new RegExp( '(child)$'                     , 'gi' ),\r\n      ox        : new RegExp( '^(ox)$'                       , 'gi' ),\r\n      axis      : new RegExp( '(ax|test)is$'                 , 'gi' ),\r\n      octopus   : new RegExp( '(octop|vir)us$'               , 'gi' ),\r\n      alias     : new RegExp( '(alias|status|canvas|campus)$', 'gi' ),\r\n      summons   : new RegExp( '^(summons)$'                  , 'gi' ),\r\n      bus       : new RegExp( '(bu)s$'                       , 'gi' ),\r\n      buffalo   : new RegExp( '(buffal|tomat|potat)o$'       , 'gi' ),\r\n      tium      : new RegExp( '([ti])um$'                    , 'gi' ),\r\n      sis       : new RegExp( 'sis$'                         , 'gi' ),\r\n      ffe       : new RegExp( '(?:([^f])fe|([lr])f)$'        , 'gi' ),\r\n      hive      : new RegExp( '(hi|ti)ve$'                   , 'gi' ),\r\n      aeiouyy   : new RegExp( '([^aeiouy]|qu)y$'             , 'gi' ),\r\n      x         : new RegExp( '(x|ch|ss|sh)$'                , 'gi' ),\r\n      matrix    : new RegExp( '(matr)ix$'                    , 'gi' ),\r\n      vertex    : new RegExp( '(vert|ind)ex$'                , 'gi' ),\r\n      mouse     : new RegExp( '([m|l])ouse$'                 , 'gi' ),\r\n      foot      : new RegExp( '^foot$'                       , 'gi' ),\r\n      tooth     : new RegExp( '^tooth$'                      , 'gi' ),\r\n      goose     : new RegExp( '^goose$'                      , 'gi' ),\r\n      quiz      : new RegExp( '(quiz)$'                      , 'gi' ),\r\n      whereas   : new RegExp( '^(whereas)$'                  , 'gi' ),\r\n      criterion : new RegExp( '^(criteri)on$'                , 'gi' ),\r\n      genus     : new RegExp( '^genus$'                      , 'gi' ),\r\n      s         : new RegExp( 's$'                           , 'gi' ),\r\n      common    : new RegExp( '$'                            , 'gi' )\r\n    }\r\n  };\r\n\r\n  var plural_rules = [\r\n\r\n    // do not replace if its already a plural word\r\n    [ regex.plural.men       ],\r\n    [ regex.plural.people    ],\r\n    [ regex.plural.children  ],\r\n    [ regex.plural.tia       ],\r\n    [ regex.plural.analyses  ],\r\n    [ regex.plural.hives     ],\r\n    [ regex.plural.curves    ],\r\n    [ regex.plural.lrves     ],\r\n    [ regex.plural.foves     ],\r\n    [ regex.plural.aeiouyies ],\r\n    [ regex.plural.series    ],\r\n    [ regex.plural.movies    ],\r\n    [ regex.plural.xes       ],\r\n    [ regex.plural.mice      ],\r\n    [ regex.plural.buses     ],\r\n    [ regex.plural.oes       ],\r\n    [ regex.plural.shoes     ],\r\n    [ regex.plural.crises    ],\r\n    [ regex.plural.octopi    ],\r\n    [ regex.plural.aliases   ],\r\n    [ regex.plural.summonses ],\r\n    [ regex.plural.oxen      ],\r\n    [ regex.plural.matrices  ],\r\n    [ regex.plural.feet      ],\r\n    [ regex.plural.teeth     ],\r\n    [ regex.plural.geese     ],\r\n    [ regex.plural.quizzes   ],\r\n    [ regex.plural.whereases ],\r\n    [ regex.plural.criteria  ],\r\n    [ regex.plural.genera    ],\r\n\r\n    // original rule\r\n    [ regex.singular.man      , '$1en' ],\r\n    [ regex.singular.person   , '$1ople' ],\r\n    [ regex.singular.child    , '$1ren' ],\r\n    [ regex.singular.ox       , '$1en' ],\r\n    [ regex.singular.axis     , '$1es' ],\r\n    [ regex.singular.octopus  , '$1i' ],\r\n    [ regex.singular.alias    , '$1es' ],\r\n    [ regex.singular.summons  , '$1es' ],\r\n    [ regex.singular.bus      , '$1ses' ],\r\n    [ regex.singular.buffalo  , '$1oes' ],\r\n    [ regex.singular.tium     , '$1a' ],\r\n    [ regex.singular.sis      , 'ses' ],\r\n    [ regex.singular.ffe      , '$1$2ves' ],\r\n    [ regex.singular.hive     , '$1ves' ],\r\n    [ regex.singular.aeiouyy  , '$1ies' ],\r\n    [ regex.singular.matrix   , '$1ices' ],\r\n    [ regex.singular.vertex   , '$1ices' ],\r\n    [ regex.singular.x        , '$1es' ],\r\n    [ regex.singular.mouse    , '$1ice' ],\r\n    [ regex.singular.foot     , 'feet' ],\r\n    [ regex.singular.tooth    , 'teeth' ],\r\n    [ regex.singular.goose    , 'geese' ],\r\n    [ regex.singular.quiz     , '$1zes' ],\r\n    [ regex.singular.whereas  , '$1es' ],\r\n    [ regex.singular.criterion, '$1a' ],\r\n    [ regex.singular.genus    , 'genera' ],\r\n\r\n    [ regex.singular.s     , 's' ],\r\n    [ regex.singular.common, 's' ]\r\n  ];\r\n\r\n  /**\r\n   * @description These rules translate from the plural form of a noun to its singular form.\r\n   * @private\r\n   */\r\n  var singular_rules = [\r\n\r\n    // do not replace if its already a singular word\r\n    [ regex.singular.man     ],\r\n    [ regex.singular.person  ],\r\n    [ regex.singular.child   ],\r\n    [ regex.singular.ox      ],\r\n    [ regex.singular.axis    ],\r\n    [ regex.singular.octopus ],\r\n    [ regex.singular.alias   ],\r\n    [ regex.singular.summons ],\r\n    [ regex.singular.bus     ],\r\n    [ regex.singular.buffalo ],\r\n    [ regex.singular.tium    ],\r\n    [ regex.singular.sis     ],\r\n    [ regex.singular.ffe     ],\r\n    [ regex.singular.hive    ],\r\n    [ regex.singular.aeiouyy ],\r\n    [ regex.singular.x       ],\r\n    [ regex.singular.matrix  ],\r\n    [ regex.singular.mouse   ],\r\n    [ regex.singular.foot    ],\r\n    [ regex.singular.tooth   ],\r\n    [ regex.singular.goose   ],\r\n    [ regex.singular.quiz    ],\r\n    [ regex.singular.whereas ],\r\n    [ regex.singular.criterion ],\r\n    [ regex.singular.genus ],\r\n\r\n    // original rule\r\n    [ regex.plural.men      , '$1an' ],\r\n    [ regex.plural.people   , '$1rson' ],\r\n    [ regex.plural.children , '$1' ],\r\n    [ regex.plural.genera   , 'genus'],\r\n    [ regex.plural.criteria , '$1on'],\r\n    [ regex.plural.tia      , '$1um' ],\r\n    [ regex.plural.analyses , '$1$2sis' ],\r\n    [ regex.plural.hives    , '$1ve' ],\r\n    [ regex.plural.curves   , '$1' ],\r\n    [ regex.plural.lrves    , '$1f' ],\r\n    [ regex.plural.aves     , '$1ve' ],\r\n    [ regex.plural.foves    , '$1fe' ],\r\n    [ regex.plural.movies   , '$1ovie' ],\r\n    [ regex.plural.aeiouyies, '$1y' ],\r\n    [ regex.plural.series   , '$1eries' ],\r\n    [ regex.plural.xes      , '$1' ],\r\n    [ regex.plural.mice     , '$1ouse' ],\r\n    [ regex.plural.buses    , '$1' ],\r\n    [ regex.plural.oes      , '$1' ],\r\n    [ regex.plural.shoes    , '$1' ],\r\n    [ regex.plural.crises   , '$1is' ],\r\n    [ regex.plural.octopi   , '$1us' ],\r\n    [ regex.plural.aliases  , '$1' ],\r\n    [ regex.plural.summonses, '$1' ],\r\n    [ regex.plural.oxen     , '$1' ],\r\n    [ regex.plural.matrices , '$1ix' ],\r\n    [ regex.plural.vertices , '$1ex' ],\r\n    [ regex.plural.feet     , 'foot' ],\r\n    [ regex.plural.teeth    , 'tooth' ],\r\n    [ regex.plural.geese    , 'goose' ],\r\n    [ regex.plural.quizzes  , '$1' ],\r\n    [ regex.plural.whereases, '$1' ],\r\n\r\n    [ regex.plural.ss, 'ss' ],\r\n    [ regex.plural.s , '' ]\r\n  ];\r\n\r\n  /**\r\n   * @description This is a list of words that should not be capitalized for title case.\r\n   * @private\r\n   */\r\n  var non_titlecased_words = [\r\n    'and', 'or', 'nor', 'a', 'an', 'the', 'so', 'but', 'to', 'of', 'at','by',\r\n    'from', 'into', 'on', 'onto', 'off', 'out', 'in', 'over', 'with', 'for'\r\n  ];\r\n\r\n  /**\r\n   * @description These are regular expressions used for converting between String formats.\r\n   * @private\r\n   */\r\n  var id_suffix         = new RegExp( '(_ids|_id)$', 'g' );\r\n  var underbar          = new RegExp( '_', 'g' );\r\n  var space_or_underbar = new RegExp( '[\\ _]', 'g' );\r\n  var uppercase         = new RegExp( '([A-Z])', 'g' );\r\n  var underbar_prefix   = new RegExp( '^_' );\r\n\r\n  var inflector = {\r\n\r\n  /**\r\n   * A helper method that applies rules based replacement to a String.\r\n   * @private\r\n   * @function\r\n   * @param {String} str String to modify and return based on the passed rules.\r\n   * @param {Array: [RegExp, String]} rules Regexp to match paired with String to use for replacement\r\n   * @param {Array: [String]} skip Strings to skip if they match\r\n   * @param {String} override String to return as though this method succeeded (used to conform to APIs)\r\n   * @returns {String} Return passed String modified by passed rules.\r\n   * @example\r\n   *\r\n   *     this._apply_rules( 'cows', singular_rules ); // === 'cow'\r\n   */\r\n    _apply_rules : function ( str, rules, skip, override ){\r\n      if( override ){\r\n        str = override;\r\n      }else{\r\n        var ignore = ( inflector.indexOf( skip, str.toLowerCase()) > -1 );\r\n\r\n        if( !ignore ){\r\n          var i = 0;\r\n          var j = rules.length;\r\n\r\n          for( ; i < j; i++ ){\r\n            if( str.match( rules[ i ][ 0 ])){\r\n              if( rules[ i ][ 1 ] !== undefined ){\r\n                str = str.replace( rules[ i ][ 0 ], rules[ i ][ 1 ]);\r\n              }\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return str;\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This lets us detect if an Array contains a given element.\r\n   * @public\r\n   * @function\r\n   * @param {Array} arr The subject array.\r\n   * @param {Object} item Object to locate in the Array.\r\n   * @param {Number} from_index Starts checking from this position in the Array.(optional)\r\n   * @param {Function} compare_func Function used to compare Array item vs passed item.(optional)\r\n   * @returns {Number} Return index position in the Array of the passed item.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.indexOf([ 'hi','there' ], 'guys' ); // === -1\r\n   *     inflection.indexOf([ 'hi','there' ], 'hi' ); // === 0\r\n   */\r\n    indexOf : function ( arr, item, from_index, compare_func ){\r\n      if( !from_index ){\r\n        from_index = -1;\r\n      }\r\n\r\n      var index = -1;\r\n      var i     = from_index;\r\n      var j     = arr.length;\r\n\r\n      for( ; i < j; i++ ){\r\n        if( arr[ i ]  === item || compare_func && compare_func( arr[ i ], item )){\r\n          index = i;\r\n          break;\r\n        }\r\n      }\r\n\r\n      return index;\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function adds pluralization support to every String object.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @param {String} plural Overrides normal output with said String.(optional)\r\n   * @returns {String} Singular English language nouns are returned in plural form.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.pluralize( 'person' ); // === 'people'\r\n   *     inflection.pluralize( 'octopus' ); // === 'octopi'\r\n   *     inflection.pluralize( 'Hat' ); // === 'Hats'\r\n   *     inflection.pluralize( 'person', 'guys' ); // === 'guys'\r\n   */\r\n    pluralize : function ( str, plural ){\r\n      return inflector._apply_rules( str, plural_rules, uncountable_words, plural );\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function adds singularization support to every String object.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @param {String} singular Overrides normal output with said String.(optional)\r\n   * @returns {String} Plural English language nouns are returned in singular form.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.singularize( 'people' ); // === 'person'\r\n   *     inflection.singularize( 'octopi' ); // === 'octopus'\r\n   *     inflection.singularize( 'Hats' ); // === 'Hat'\r\n   *     inflection.singularize( 'guys', 'person' ); // === 'person'\r\n   */\r\n    singularize : function ( str, singular ){\r\n      return inflector._apply_rules( str, singular_rules, uncountable_words, singular );\r\n    },\r\n\r\n\r\n  /**\r\n   * This function will pluralize or singularlize a String appropriately based on an integer value\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @param {Number} count The number to base pluralization off of.\r\n   * @param {String} singular Overrides normal output with said String.(optional)\r\n   * @param {String} plural Overrides normal output with said String.(optional)\r\n   * @returns {String} English language nouns are returned in the plural or singular form based on the count.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.inflect( 'people' 1 ); // === 'person'\r\n   *     inflection.inflect( 'octopi' 1 ); // === 'octopus'\r\n   *     inflection.inflect( 'Hats' 1 ); // === 'Hat'\r\n   *     inflection.inflect( 'guys', 1 , 'person' ); // === 'person'\r\n   *     inflection.inflect( 'person', 2 ); // === 'people'\r\n   *     inflection.inflect( 'octopus', 2 ); // === 'octopi'\r\n   *     inflection.inflect( 'Hat', 2 ); // === 'Hats'\r\n   *     inflection.inflect( 'person', 2, null, 'guys' ); // === 'guys'\r\n   */\r\n    inflect : function ( str, count, singular, plural ){\r\n      count = parseInt( count, 10 );\r\n\r\n      if( isNaN( count )) return str;\r\n\r\n      if( count === 0 || count > 1 ){\r\n        return inflector._apply_rules( str, plural_rules, uncountable_words, plural );\r\n      }else{\r\n        return inflector._apply_rules( str, singular_rules, uncountable_words, singular );\r\n      }\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function adds camelization support to every String object.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @param {Boolean} low_first_letter Default is to capitalize the first letter of the results.(optional)\r\n   *                                 Passing true will lowercase it.\r\n   * @returns {String} Lower case underscored words will be returned in camel case.\r\n   *                  additionally '/' is translated to '::'\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.camelize( 'message_properties' ); // === 'MessageProperties'\r\n   *     inflection.camelize( 'message_properties', true ); // === 'messageProperties'\r\n   */\r\n    camelize : function ( str, low_first_letter ){\r\n      var str_path = str.split( '/' );\r\n      var i        = 0;\r\n      var j        = str_path.length;\r\n      var str_arr, init_x, k, l, first;\r\n\r\n      for( ; i < j; i++ ){\r\n        str_arr = str_path[ i ].split( '_' );\r\n        k       = 0;\r\n        l       = str_arr.length;\r\n\r\n        for( ; k < l; k++ ){\r\n          if( k !== 0 ){\r\n            str_arr[ k ] = str_arr[ k ].toLowerCase();\r\n          }\r\n\r\n          first = str_arr[ k ].charAt( 0 );\r\n          first = low_first_letter && i === 0 && k === 0\r\n            ? first.toLowerCase() : first.toUpperCase();\r\n          str_arr[ k ] = first + str_arr[ k ].substring( 1 );\r\n        }\r\n\r\n        str_path[ i ] = str_arr.join( '' );\r\n      }\r\n\r\n      return str_path.join( '::' );\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function adds underscore support to every String object.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @param {Boolean} all_upper_case Default is to lowercase and add underscore prefix.(optional)\r\n   *                  Passing true will return as entered.\r\n   * @returns {String} Camel cased words are returned as lower cased and underscored.\r\n   *                  additionally '::' is translated to '/'.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.underscore( 'MessageProperties' ); // === 'message_properties'\r\n   *     inflection.underscore( 'messageProperties' ); // === 'message_properties'\r\n   *     inflection.underscore( 'MP', true ); // === 'MP'\r\n   */\r\n    underscore : function ( str, all_upper_case ){\r\n      if( all_upper_case && str === str.toUpperCase()) return str;\r\n\r\n      var str_path = str.split( '::' );\r\n      var i        = 0;\r\n      var j        = str_path.length;\r\n\r\n      for( ; i < j; i++ ){\r\n        str_path[ i ] = str_path[ i ].replace( uppercase, '_$1' );\r\n        str_path[ i ] = str_path[ i ].replace( underbar_prefix, '' );\r\n      }\r\n\r\n      return str_path.join( '/' ).toLowerCase();\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function adds humanize support to every String object.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @param {Boolean} low_first_letter Default is to capitalize the first letter of the results.(optional)\r\n   *                                 Passing true will lowercase it.\r\n   * @returns {String} Lower case underscored words will be returned in humanized form.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.humanize( 'message_properties' ); // === 'Message properties'\r\n   *     inflection.humanize( 'message_properties', true ); // === 'message properties'\r\n   */\r\n    humanize : function ( str, low_first_letter ){\r\n      str = str.toLowerCase();\r\n      str = str.replace( id_suffix, '' );\r\n      str = str.replace( underbar, ' ' );\r\n\r\n      if( !low_first_letter ){\r\n        str = inflector.capitalize( str );\r\n      }\r\n\r\n      return str;\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function adds capitalization support to every String object.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @returns {String} All characters will be lower case and the first will be upper.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.capitalize( 'message_properties' ); // === 'Message_properties'\r\n   *     inflection.capitalize( 'message properties', true ); // === 'Message properties'\r\n   */\r\n    capitalize : function ( str ){\r\n      str = str.toLowerCase();\r\n\r\n      return str.substring( 0, 1 ).toUpperCase() + str.substring( 1 );\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function replaces underscores with dashes in the string.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @returns {String} Replaces all spaces or underscores with dashes.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.dasherize( 'message_properties' ); // === 'message-properties'\r\n   *     inflection.dasherize( 'Message Properties' ); // === 'Message-Properties'\r\n   */\r\n    dasherize : function ( str ){\r\n      return str.replace( space_or_underbar, '-' );\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function adds titleize support to every String object.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @returns {String} Capitalizes words as you would for a book title.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.titleize( 'message_properties' ); // === 'Message Properties'\r\n   *     inflection.titleize( 'message properties to keep' ); // === 'Message Properties to Keep'\r\n   */\r\n    titleize : function ( str ){\r\n      str         = str.toLowerCase().replace( underbar, ' ' );\r\n      var str_arr = str.split( ' ' );\r\n      var i       = 0;\r\n      var j       = str_arr.length;\r\n      var d, k, l;\r\n\r\n      for( ; i < j; i++ ){\r\n        d = str_arr[ i ].split( '-' );\r\n        k = 0;\r\n        l = d.length;\r\n\r\n        for( ; k < l; k++){\r\n          if( inflector.indexOf( non_titlecased_words, d[ k ].toLowerCase()) < 0 ){\r\n            d[ k ] = inflector.capitalize( d[ k ]);\r\n          }\r\n        }\r\n\r\n        str_arr[ i ] = d.join( '-' );\r\n      }\r\n\r\n      str = str_arr.join( ' ' );\r\n      str = str.substring( 0, 1 ).toUpperCase() + str.substring( 1 );\r\n\r\n      return str;\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function adds demodulize support to every String object.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @returns {String} Removes module names leaving only class names.(Ruby style)\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.demodulize( 'Message::Bus::Properties' ); // === 'Properties'\r\n   */\r\n    demodulize : function ( str ){\r\n      var str_arr = str.split( '::' );\r\n\r\n      return str_arr[ str_arr.length - 1 ];\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function adds tableize support to every String object.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @returns {String} Return camel cased words into their underscored plural form.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.tableize( 'MessageBusProperty' ); // === 'message_bus_properties'\r\n   */\r\n    tableize : function ( str ){\r\n      str = inflector.underscore( str );\r\n      str = inflector.pluralize( str );\r\n\r\n      return str;\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function adds classification support to every String object.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @returns {String} Underscored plural nouns become the camel cased singular form.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.classify( 'message_bus_properties' ); // === 'MessageBusProperty'\r\n   */\r\n    classify : function ( str ){\r\n      str = inflector.camelize( str );\r\n      str = inflector.singularize( str );\r\n\r\n      return str;\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function adds foreign key support to every String object.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @param {Boolean} drop_id_ubar Default is to seperate id with an underbar at the end of the class name,\r\n                                 you can pass true to skip it.(optional)\r\n   * @returns {String} Underscored plural nouns become the camel cased singular form.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.foreign_key( 'MessageBusProperty' ); // === 'message_bus_property_id'\r\n   *     inflection.foreign_key( 'MessageBusProperty', true ); // === 'message_bus_propertyid'\r\n   */\r\n    foreign_key : function ( str, drop_id_ubar ){\r\n      str = inflector.demodulize( str );\r\n      str = inflector.underscore( str ) + (( drop_id_ubar ) ? ( '' ) : ( '_' )) + 'id';\r\n\r\n      return str;\r\n    },\r\n\r\n\r\n\r\n  /**\r\n   * This function adds ordinalize support to every String object.\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @returns {String} Return all found numbers their sequence like '22nd'.\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.ordinalize( 'the 1 pitch' ); // === 'the 1st pitch'\r\n   */\r\n    ordinalize : function ( str ){\r\n      var str_arr = str.split( ' ' );\r\n      var i       = 0;\r\n      var j       = str_arr.length;\r\n\r\n      for( ; i < j; i++ ){\r\n        var k = parseInt( str_arr[ i ], 10 );\r\n\r\n        if( !isNaN( k )){\r\n          var ltd = str_arr[ i ].substring( str_arr[ i ].length - 2 );\r\n          var ld  = str_arr[ i ].substring( str_arr[ i ].length - 1 );\r\n          var suf = 'th';\r\n\r\n          if( ltd != '11' && ltd != '12' && ltd != '13' ){\r\n            if( ld === '1' ){\r\n              suf = 'st';\r\n            }else if( ld === '2' ){\r\n              suf = 'nd';\r\n            }else if( ld === '3' ){\r\n              suf = 'rd';\r\n            }\r\n          }\r\n\r\n          str_arr[ i ] += suf;\r\n        }\r\n      }\r\n\r\n      return str_arr.join( ' ' );\r\n    },\r\n\r\n  /**\r\n   * This function performs multiple inflection methods on a string\r\n   * @public\r\n   * @function\r\n   * @param {String} str The subject string.\r\n   * @param {Array} arr An array of inflection methods.\r\n   * @returns {String}\r\n   * @example\r\n   *\r\n   *     var inflection = require( 'inflection' );\r\n   *\r\n   *     inflection.transform( 'all job', [ 'pluralize', 'capitalize', 'dasherize' ]); // === 'All-jobs'\r\n   */\r\n    transform : function ( str, arr ){\r\n      var i = 0;\r\n      var j = arr.length;\r\n\r\n      for( ;i < j; i++ ){\r\n        var method = arr[ i ];\r\n\r\n        if( inflector.hasOwnProperty( method )){\r\n          str = inflector[ method ]( str );\r\n        }\r\n      }\r\n\r\n      return str;\r\n    }\r\n  };\r\n\r\n/**\r\n * @public\r\n */\r\n  inflector.version = '1.12.0';\r\n\r\n  return inflector;\r\n}));\r\n", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z\"\r\n}), 'Queue');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\r\n}), 'Add');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\r\n}), 'RemoveRedEye');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z\"\r\n}), 'Sort');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"m7 10 5 5 5-5z\"\r\n}), 'ArrowDropDown');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\r\n}), 'Delete');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"\r\n}), 'Menu');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z\"\r\n}), 'AccountCircle');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M13 3h-2v10h2V3zm4.83 2.17-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z\"\r\n}), 'PowerSettingsNew');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z\"\r\n}), 'Brightness4');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z\"\r\n}), 'Brightness7');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\r\n}), 'CheckCircle');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\r\n}), 'ErrorOutline');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z\"\r\n}), 'Dashboard');\r\nexports.default = _default;", "/*\r\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\r\nCopyrights licensed under the New BSD License.\r\nSee the accompanying LICENSE file for terms.\r\n*/\r\n\r\n'use strict';\r\n\r\nexports.match = matchQuery;\r\nexports.parse = parseQuery;\r\n\r\n// -----------------------------------------------------------------------------\r\n\r\nvar RE_MEDIA_QUERY     = /(?:(only|not)?\\s*([^\\s\\(\\)]+)(?:\\s*and)?\\s*)?(.+)?/i,\r\n    RE_MQ_EXPRESSION   = /\\(\\s*([^\\s\\:\\)]+)\\s*(?:\\:\\s*([^\\s\\)]+))?\\s*\\)/,\r\n    RE_MQ_FEATURE      = /^(?:(min|max)-)?(.+)/,\r\n    RE_LENGTH_UNIT     = /(em|rem|px|cm|mm|in|pt|pc)?$/,\r\n    RE_RESOLUTION_UNIT = /(dpi|dpcm|dppx)?$/;\r\n\r\nfunction matchQuery(mediaQuery, values) {\r\n    return parseQuery(mediaQuery).some(function (query) {\r\n        var inverse = query.inverse;\r\n\r\n        // Either the parsed or specified `type` is \"all\", or the types must be\r\n        // equal for a match.\r\n        var typeMatch = query.type === 'all' || values.type === query.type;\r\n\r\n        // Quit early when `type` doesn't match, but take \"not\" into account.\r\n        if ((typeMatch && inverse) || !(typeMatch || inverse)) {\r\n            return false;\r\n        }\r\n\r\n        var expressionsMatch = query.expressions.every(function (expression) {\r\n            var feature  = expression.feature,\r\n                modifier = expression.modifier,\r\n                expValue = expression.value,\r\n                value    = values[feature];\r\n\r\n            // Missing or falsy values don't match.\r\n            if (!value) { return false; }\r\n\r\n            switch (feature) {\r\n                case 'orientation':\r\n                case 'scan':\r\n                    return value.toLowerCase() === expValue.toLowerCase();\r\n\r\n                case 'width':\r\n                case 'height':\r\n                case 'device-width':\r\n                case 'device-height':\r\n                    expValue = toPx(expValue);\r\n                    value    = toPx(value);\r\n                    break;\r\n\r\n                case 'resolution':\r\n                    expValue = toDpi(expValue);\r\n                    value    = toDpi(value);\r\n                    break;\r\n\r\n                case 'aspect-ratio':\r\n                case 'device-aspect-ratio':\r\n                case /* Deprecated */ 'device-pixel-ratio':\r\n                    expValue = toDecimal(expValue);\r\n                    value    = toDecimal(value);\r\n                    break;\r\n\r\n                case 'grid':\r\n                case 'color':\r\n                case 'color-index':\r\n                case 'monochrome':\r\n                    expValue = parseInt(expValue, 10) || 1;\r\n                    value    = parseInt(value, 10) || 0;\r\n                    break;\r\n            }\r\n\r\n            switch (modifier) {\r\n                case 'min': return value >= expValue;\r\n                case 'max': return value <= expValue;\r\n                default   : return value === expValue;\r\n            }\r\n        });\r\n\r\n        return (expressionsMatch && !inverse) || (!expressionsMatch && inverse);\r\n    });\r\n}\r\n\r\nfunction parseQuery(mediaQuery) {\r\n    return mediaQuery.split(',').map(function (query) {\r\n        query = query.trim();\r\n\r\n        var captures    = query.match(RE_MEDIA_QUERY),\r\n            modifier    = captures[1],\r\n            type        = captures[2],\r\n            expressions = captures[3] || '',\r\n            parsed      = {};\r\n\r\n        parsed.inverse = !!modifier && modifier.toLowerCase() === 'not';\r\n        parsed.type    = type ? type.toLowerCase() : 'all';\r\n\r\n        // Split expressions into a list.\r\n        expressions = expressions.match(/\\([^\\)]+\\)/g) || [];\r\n\r\n        parsed.expressions = expressions.map(function (expression) {\r\n            var captures = expression.match(RE_MQ_EXPRESSION),\r\n                feature  = captures[1].toLowerCase().match(RE_MQ_FEATURE);\r\n\r\n            return {\r\n                modifier: feature[1],\r\n                feature : feature[2],\r\n                value   : captures[2]\r\n            };\r\n        });\r\n\r\n        return parsed;\r\n    });\r\n}\r\n\r\n// -- Utilities ----------------------------------------------------------------\r\n\r\nfunction toDecimal(ratio) {\r\n    var decimal = Number(ratio),\r\n        numbers;\r\n\r\n    if (!decimal) {\r\n        numbers = ratio.match(/^(\\d+)\\s*\\/\\s*(\\d+)$/);\r\n        decimal = numbers[1] / numbers[2];\r\n    }\r\n\r\n    return decimal;\r\n}\r\n\r\nfunction toDpi(resolution) {\r\n    var value = parseFloat(resolution),\r\n        units = String(resolution).match(RE_RESOLUTION_UNIT)[1];\r\n\r\n    switch (units) {\r\n        case 'dpcm': return value / 2.54;\r\n        case 'dppx': return value * 96;\r\n        default    : return value;\r\n    }\r\n}\r\n\r\nfunction toPx(length) {\r\n    var value = parseFloat(length),\r\n        units = String(length).match(RE_LENGTH_UNIT)[1];\r\n\r\n    switch (units) {\r\n        case 'em' : return value * 16;\r\n        case 'rem': return value * 16;\r\n        case 'cm' : return value * 96 / 2.54;\r\n        case 'mm' : return value * 96 / 2.54 / 10;\r\n        case 'in' : return value * 96;\r\n        case 'pt' : return value * 72;\r\n        case 'pc' : return value * 72 / 12;\r\n        default   : return value;\r\n    }\r\n}\r\n", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z\"\r\n}), 'ExpandMore');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z\"\r\n}), 'Settings');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\r\n}), 'DragIndicator');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z\"\r\n}), 'CancelOutlined');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z\"\r\n}), 'DeleteOutline');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z\"\r\n}), 'ViewList');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)([/*#__PURE__*/(0, _jsxRuntime.jsx)(\"circle\", {\r\n  cx: \"7\",\r\n  cy: \"6\",\r\n  r: \"2\"\r\n}, \"0\"), /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M11.15 12c-.31-.22-.59-.46-.82-.72l-1.4-1.55c-.19-.21-.43-.38-.69-.5-.29-.14-.62-.23-.96-.23h-.03C6.01 9 5 10.01 5 11.25V12H2v8c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-8H11.15zM7 20H5v-6h2v6zm4 0H9v-6h2v6zm4 0h-2v-6h2v6zm4 0h-2v-6h2v6zm-.35-14.14-.07-.07c-.57-.62-.82-1.41-.67-2.2L18 3h-1.89l-.06.43c-.2 1.36.27 2.71 1.3 3.72l.07.06c.57.62.82 1.41.67 2.2l-.11.59h1.91l.06-.43c.21-1.36-.27-2.71-1.3-3.71zm-4 0-.07-.07c-.57-.62-.82-1.41-.67-2.2L14 3h-1.89l-.06.43c-.2 1.36.27 2.71 1.3 3.72l.07.06c.57.62.82 1.41.67 2.2l-.11.59h1.91l.06-.43c.21-1.36-.27-2.71-1.3-3.71z\"\r\n}, \"1\")], 'HotTub');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"\r\n}), 'GetApp');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z\"\r\n}), 'Update');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\r\n}), 'Create');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7 1.62-4.33L19.12 17h-3.24z\"\r\n}), 'Translate');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z\"\r\n}), 'List');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"\r\n}), 'Refresh');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\r\n}), 'Save');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\r\n}), 'AddCircleOutline');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\r\n}), 'RemoveCircleOutline');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0 2c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10zm-1-10v4h2v-4h3l-4-4-4 4h3z\"\r\n}), 'ArrowCircleUp');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 10V8h-2v4H8l4 4 4-4h-3z\"\r\n}), 'ArrowCircleDown');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\r\n}), 'HighlightOff');\r\nexports.default = _default;", "var SetCache = require('./_SetCache'),\r\n    arrayIncludes = require('./_arrayIncludes'),\r\n    arrayIncludesWith = require('./_arrayIncludesWith'),\r\n    arrayMap = require('./_arrayMap'),\r\n    baseUnary = require('./_baseUnary'),\r\n    cacheHas = require('./_cacheHas');\r\n\r\n/** Used as the size to enable large array optimizations. */\r\nvar LARGE_ARRAY_SIZE = 200;\r\n\r\n/**\r\n * The base implementation of methods like `_.difference` without support\r\n * for excluding multiple arrays or iteratee shorthands.\r\n *\r\n * @private\r\n * @param {Array} array The array to inspect.\r\n * @param {Array} values The values to exclude.\r\n * @param {Function} [iteratee] The iteratee invoked per element.\r\n * @param {Function} [comparator] The comparator invoked per element.\r\n * @returns {Array} Returns the new array of filtered values.\r\n */\r\nfunction baseDifference(array, values, iteratee, comparator) {\r\n  var index = -1,\r\n      includes = arrayIncludes,\r\n      isCommon = true,\r\n      length = array.length,\r\n      result = [],\r\n      valuesLength = values.length;\r\n\r\n  if (!length) {\r\n    return result;\r\n  }\r\n  if (iteratee) {\r\n    values = arrayMap(values, baseUnary(iteratee));\r\n  }\r\n  if (comparator) {\r\n    includes = arrayIncludesWith;\r\n    isCommon = false;\r\n  }\r\n  else if (values.length >= LARGE_ARRAY_SIZE) {\r\n    includes = cacheHas;\r\n    isCommon = false;\r\n    values = new SetCache(values);\r\n  }\r\n  outer:\r\n  while (++index < length) {\r\n    var value = array[index],\r\n        computed = iteratee == null ? value : iteratee(value);\r\n\r\n    value = (comparator || value !== 0) ? value : 0;\r\n    if (isCommon && computed === computed) {\r\n      var valuesIndex = valuesLength;\r\n      while (valuesIndex--) {\r\n        if (values[valuesIndex] === computed) {\r\n          continue outer;\r\n        }\r\n      }\r\n      result.push(value);\r\n    }\r\n    else if (!includes(values, computed, comparator)) {\r\n      result.push(value);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = baseDifference;\r\n", "var baseDifference = require('./_baseDifference'),\r\n    baseFlatten = require('./_baseFlatten'),\r\n    baseRest = require('./_baseRest'),\r\n    isArrayLikeObject = require('./isArrayLikeObject');\r\n\r\n/**\r\n * Creates an array of `array` values not included in the other given arrays\r\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\r\n * for equality comparisons. The order and references of result values are\r\n * determined by the first array.\r\n *\r\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 0.1.0\r\n * @category Array\r\n * @param {Array} array The array to inspect.\r\n * @param {...Array} [values] The values to exclude.\r\n * @returns {Array} Returns the new array of filtered values.\r\n * @see _.without, _.xor\r\n * @example\r\n *\r\n * _.difference([2, 1], [2, 3]);\r\n * // => [1]\r\n */\r\nvar difference = baseRest(function(array, values) {\r\n  return isArrayLikeObject(array)\r\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\r\n    : [];\r\n});\r\n\r\nmodule.exports = difference;\r\n", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\r\n}), 'Close');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M5.33 20H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h1.33c1.1 0 2 .9 2 2v12c0 1.1-.89 2-2 2zM22 18V6c0-1.1-.9-2-2-2h-1.33c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2H20c1.11 0 2-.9 2-2zm-7.33 0V6c0-1.1-.9-2-2-2h-1.33c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h1.33c1.1 0 2-.9 2-2z\"\r\n}), 'ViewWeek');\r\nexports.default = _default;", "/**\r\n * A specialized version of `_.forEach` for arrays without support for\r\n * iteratee shorthands.\r\n *\r\n * @private\r\n * @param {Array} [array] The array to iterate over.\r\n * @param {Function} iteratee The function invoked per iteration.\r\n * @returns {Array} Returns `array`.\r\n */\r\nfunction arrayEach(array, iteratee) {\r\n  var index = -1,\r\n      length = array == null ? 0 : array.length;\r\n\r\n  while (++index < length) {\r\n    if (iteratee(array[index], index, array) === false) {\r\n      break;\r\n    }\r\n  }\r\n  return array;\r\n}\r\n\r\nmodule.exports = arrayEach;\r\n", "var copyObject = require('./_copyObject'),\r\n    keys = require('./keys');\r\n\r\n/**\r\n * The base implementation of `_.assign` without support for multiple sources\r\n * or `customizer` functions.\r\n *\r\n * @private\r\n * @param {Object} object The destination object.\r\n * @param {Object} source The source object.\r\n * @returns {Object} Returns `object`.\r\n */\r\nfunction baseAssign(object, source) {\r\n  return object && copyObject(source, keys(source), object);\r\n}\r\n\r\nmodule.exports = baseAssign;\r\n", "var copyObject = require('./_copyObject'),\r\n    keysIn = require('./keysIn');\r\n\r\n/**\r\n * The base implementation of `_.assignIn` without support for multiple sources\r\n * or `customizer` functions.\r\n *\r\n * @private\r\n * @param {Object} object The destination object.\r\n * @param {Object} source The source object.\r\n * @returns {Object} Returns `object`.\r\n */\r\nfunction baseAssignIn(object, source) {\r\n  return object && copyObject(source, keysIn(source), object);\r\n}\r\n\r\nmodule.exports = baseAssignIn;\r\n", "var copyObject = require('./_copyObject'),\r\n    getSymbols = require('./_getSymbols');\r\n\r\n/**\r\n * Copies own symbols of `source` to `object`.\r\n *\r\n * @private\r\n * @param {Object} source The object to copy symbols from.\r\n * @param {Object} [object={}] The object to copy symbols to.\r\n * @returns {Object} Returns `object`.\r\n */\r\nfunction copySymbols(source, object) {\r\n  return copyObject(source, getSymbols(source), object);\r\n}\r\n\r\nmodule.exports = copySymbols;\r\n", "var copyObject = require('./_copyObject'),\r\n    getSymbolsIn = require('./_getSymbolsIn');\r\n\r\n/**\r\n * Copies own and inherited symbols of `source` to `object`.\r\n *\r\n * @private\r\n * @param {Object} source The object to copy symbols from.\r\n * @param {Object} [object={}] The object to copy symbols to.\r\n * @returns {Object} Returns `object`.\r\n */\r\nfunction copySymbolsIn(source, object) {\r\n  return copyObject(source, getSymbolsIn(source), object);\r\n}\r\n\r\nmodule.exports = copySymbolsIn;\r\n", "/** Used for built-in method references. */\r\nvar objectProto = Object.prototype;\r\n\r\n/** Used to check objects for own properties. */\r\nvar hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n/**\r\n * Initializes an array clone.\r\n *\r\n * @private\r\n * @param {Array} array The array to clone.\r\n * @returns {Array} Returns the initialized clone.\r\n */\r\nfunction initCloneArray(array) {\r\n  var length = array.length,\r\n      result = new array.constructor(length);\r\n\r\n  // Add properties assigned by `RegExp#exec`.\r\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\r\n    result.index = array.index;\r\n    result.input = array.input;\r\n  }\r\n  return result;\r\n}\r\n\r\nmodule.exports = initCloneArray;\r\n", "var cloneArrayBuffer = require('./_cloneArrayBuffer');\r\n\r\n/**\r\n * Creates a clone of `dataView`.\r\n *\r\n * @private\r\n * @param {Object} dataView The data view to clone.\r\n * @param {boolean} [isDeep] Specify a deep clone.\r\n * @returns {Object} Returns the cloned data view.\r\n */\r\nfunction cloneDataView(dataView, isDeep) {\r\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\r\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\r\n}\r\n\r\nmodule.exports = cloneDataView;\r\n", "/** Used to match `RegExp` flags from their coerced string values. */\r\nvar reFlags = /\\w*$/;\r\n\r\n/**\r\n * Creates a clone of `regexp`.\r\n *\r\n * @private\r\n * @param {Object} regexp The regexp to clone.\r\n * @returns {Object} Returns the cloned regexp.\r\n */\r\nfunction cloneRegExp(regexp) {\r\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\r\n  result.lastIndex = regexp.lastIndex;\r\n  return result;\r\n}\r\n\r\nmodule.exports = cloneRegExp;\r\n", "var Symbol = require('./_Symbol');\r\n\r\n/** Used to convert symbols to primitives and strings. */\r\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\r\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\r\n\r\n/**\r\n * Creates a clone of the `symbol` object.\r\n *\r\n * @private\r\n * @param {Object} symbol The symbol object to clone.\r\n * @returns {Object} Returns the cloned symbol object.\r\n */\r\nfunction cloneSymbol(symbol) {\r\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\r\n}\r\n\r\nmodule.exports = cloneSymbol;\r\n", "var cloneArrayBuffer = require('./_cloneArrayBuffer'),\r\n    cloneDataView = require('./_cloneDataView'),\r\n    cloneRegExp = require('./_cloneRegExp'),\r\n    cloneSymbol = require('./_cloneSymbol'),\r\n    cloneTypedArray = require('./_cloneTypedArray');\r\n\r\n/** `Object#toString` result references. */\r\nvar boolTag = '[object Boolean]',\r\n    dateTag = '[object Date]',\r\n    mapTag = '[object Map]',\r\n    numberTag = '[object Number]',\r\n    regexpTag = '[object RegExp]',\r\n    setTag = '[object Set]',\r\n    stringTag = '[object String]',\r\n    symbolTag = '[object Symbol]';\r\n\r\nvar arrayBufferTag = '[object ArrayBuffer]',\r\n    dataViewTag = '[object DataView]',\r\n    float32Tag = '[object Float32Array]',\r\n    float64Tag = '[object Float64Array]',\r\n    int8Tag = '[object Int8Array]',\r\n    int16Tag = '[object Int16Array]',\r\n    int32Tag = '[object Int32Array]',\r\n    uint8Tag = '[object Uint8Array]',\r\n    uint8ClampedTag = '[object Uint8ClampedArray]',\r\n    uint16Tag = '[object Uint16Array]',\r\n    uint32Tag = '[object Uint32Array]';\r\n\r\n/**\r\n * Initializes an object clone based on its `toStringTag`.\r\n *\r\n * **Note:** This function only supports cloning values with tags of\r\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\r\n *\r\n * @private\r\n * @param {Object} object The object to clone.\r\n * @param {string} tag The `toStringTag` of the object to clone.\r\n * @param {boolean} [isDeep] Specify a deep clone.\r\n * @returns {Object} Returns the initialized clone.\r\n */\r\nfunction initCloneByTag(object, tag, isDeep) {\r\n  var Ctor = object.constructor;\r\n  switch (tag) {\r\n    case arrayBufferTag:\r\n      return cloneArrayBuffer(object);\r\n\r\n    case boolTag:\r\n    case dateTag:\r\n      return new Ctor(+object);\r\n\r\n    case dataViewTag:\r\n      return cloneDataView(object, isDeep);\r\n\r\n    case float32Tag: case float64Tag:\r\n    case int8Tag: case int16Tag: case int32Tag:\r\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\r\n      return cloneTypedArray(object, isDeep);\r\n\r\n    case mapTag:\r\n      return new Ctor;\r\n\r\n    case numberTag:\r\n    case stringTag:\r\n      return new Ctor(object);\r\n\r\n    case regexpTag:\r\n      return cloneRegExp(object);\r\n\r\n    case setTag:\r\n      return new Ctor;\r\n\r\n    case symbolTag:\r\n      return cloneSymbol(object);\r\n  }\r\n}\r\n\r\nmodule.exports = initCloneByTag;\r\n", "var getTag = require('./_getTag'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/** `Object#toString` result references. */\r\nvar mapTag = '[object Map]';\r\n\r\n/**\r\n * The base implementation of `_.isMap` without Node.js optimizations.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\r\n */\r\nfunction baseIsMap(value) {\r\n  return isObjectLike(value) && getTag(value) == mapTag;\r\n}\r\n\r\nmodule.exports = baseIsMap;\r\n", "var baseIsMap = require('./_baseIsMap'),\r\n    baseUnary = require('./_baseUnary'),\r\n    nodeUtil = require('./_nodeUtil');\r\n\r\n/* Node.js helper references. */\r\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\r\n\r\n/**\r\n * Checks if `value` is classified as a `Map` object.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.3.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\r\n * @example\r\n *\r\n * _.isMap(new Map);\r\n * // => true\r\n *\r\n * _.isMap(new WeakMap);\r\n * // => false\r\n */\r\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\r\n\r\nmodule.exports = isMap;\r\n", "var getTag = require('./_getTag'),\r\n    isObjectLike = require('./isObjectLike');\r\n\r\n/** `Object#toString` result references. */\r\nvar setTag = '[object Set]';\r\n\r\n/**\r\n * The base implementation of `_.isSet` without Node.js optimizations.\r\n *\r\n * @private\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\r\n */\r\nfunction baseIsSet(value) {\r\n  return isObjectLike(value) && getTag(value) == setTag;\r\n}\r\n\r\nmodule.exports = baseIsSet;\r\n", "var baseIsSet = require('./_baseIsSet'),\r\n    baseUnary = require('./_baseUnary'),\r\n    nodeUtil = require('./_nodeUtil');\r\n\r\n/* Node.js helper references. */\r\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\r\n\r\n/**\r\n * Checks if `value` is classified as a `Set` object.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 4.3.0\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\r\n * @example\r\n *\r\n * _.isSet(new Set);\r\n * // => true\r\n *\r\n * _.isSet(new WeakSet);\r\n * // => false\r\n */\r\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\r\n\r\nmodule.exports = isSet;\r\n", "var Stack = require('./_Stack'),\r\n    arrayEach = require('./_arrayEach'),\r\n    assignValue = require('./_assignValue'),\r\n    baseAssign = require('./_baseAssign'),\r\n    baseAssignIn = require('./_baseAssignIn'),\r\n    cloneBuffer = require('./_cloneBuffer'),\r\n    copyArray = require('./_copyArray'),\r\n    copySymbols = require('./_copySymbols'),\r\n    copySymbolsIn = require('./_copySymbolsIn'),\r\n    getAllKeys = require('./_getAllKeys'),\r\n    getAllKeysIn = require('./_getAllKeysIn'),\r\n    getTag = require('./_getTag'),\r\n    initCloneArray = require('./_initCloneArray'),\r\n    initCloneByTag = require('./_initCloneByTag'),\r\n    initCloneObject = require('./_initCloneObject'),\r\n    isArray = require('./isArray'),\r\n    isBuffer = require('./isBuffer'),\r\n    isMap = require('./isMap'),\r\n    isObject = require('./isObject'),\r\n    isSet = require('./isSet'),\r\n    keys = require('./keys'),\r\n    keysIn = require('./keysIn');\r\n\r\n/** Used to compose bitmasks for cloning. */\r\nvar CLONE_DEEP_FLAG = 1,\r\n    CLONE_FLAT_FLAG = 2,\r\n    CLONE_SYMBOLS_FLAG = 4;\r\n\r\n/** `Object#toString` result references. */\r\nvar argsTag = '[object Arguments]',\r\n    arrayTag = '[object Array]',\r\n    boolTag = '[object Boolean]',\r\n    dateTag = '[object Date]',\r\n    errorTag = '[object Error]',\r\n    funcTag = '[object Function]',\r\n    genTag = '[object GeneratorFunction]',\r\n    mapTag = '[object Map]',\r\n    numberTag = '[object Number]',\r\n    objectTag = '[object Object]',\r\n    regexpTag = '[object RegExp]',\r\n    setTag = '[object Set]',\r\n    stringTag = '[object String]',\r\n    symbolTag = '[object Symbol]',\r\n    weakMapTag = '[object WeakMap]';\r\n\r\nvar arrayBufferTag = '[object ArrayBuffer]',\r\n    dataViewTag = '[object DataView]',\r\n    float32Tag = '[object Float32Array]',\r\n    float64Tag = '[object Float64Array]',\r\n    int8Tag = '[object Int8Array]',\r\n    int16Tag = '[object Int16Array]',\r\n    int32Tag = '[object Int32Array]',\r\n    uint8Tag = '[object Uint8Array]',\r\n    uint8ClampedTag = '[object Uint8ClampedArray]',\r\n    uint16Tag = '[object Uint16Array]',\r\n    uint32Tag = '[object Uint32Array]';\r\n\r\n/** Used to identify `toStringTag` values supported by `_.clone`. */\r\nvar cloneableTags = {};\r\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\r\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\r\ncloneableTags[boolTag] = cloneableTags[dateTag] =\r\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\r\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\r\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\r\ncloneableTags[numberTag] = cloneableTags[objectTag] =\r\ncloneableTags[regexpTag] = cloneableTags[setTag] =\r\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\r\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\r\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\r\ncloneableTags[errorTag] = cloneableTags[funcTag] =\r\ncloneableTags[weakMapTag] = false;\r\n\r\n/**\r\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\r\n * traversed objects.\r\n *\r\n * @private\r\n * @param {*} value The value to clone.\r\n * @param {boolean} bitmask The bitmask flags.\r\n *  1 - Deep clone\r\n *  2 - Flatten inherited properties\r\n *  4 - Clone symbols\r\n * @param {Function} [customizer] The function to customize cloning.\r\n * @param {string} [key] The key of `value`.\r\n * @param {Object} [object] The parent object of `value`.\r\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\r\n * @returns {*} Returns the cloned value.\r\n */\r\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\r\n  var result,\r\n      isDeep = bitmask & CLONE_DEEP_FLAG,\r\n      isFlat = bitmask & CLONE_FLAT_FLAG,\r\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\r\n\r\n  if (customizer) {\r\n    result = object ? customizer(value, key, object, stack) : customizer(value);\r\n  }\r\n  if (result !== undefined) {\r\n    return result;\r\n  }\r\n  if (!isObject(value)) {\r\n    return value;\r\n  }\r\n  var isArr = isArray(value);\r\n  if (isArr) {\r\n    result = initCloneArray(value);\r\n    if (!isDeep) {\r\n      return copyArray(value, result);\r\n    }\r\n  } else {\r\n    var tag = getTag(value),\r\n        isFunc = tag == funcTag || tag == genTag;\r\n\r\n    if (isBuffer(value)) {\r\n      return cloneBuffer(value, isDeep);\r\n    }\r\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\r\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\r\n      if (!isDeep) {\r\n        return isFlat\r\n          ? copySymbolsIn(value, baseAssignIn(result, value))\r\n          : copySymbols(value, baseAssign(result, value));\r\n      }\r\n    } else {\r\n      if (!cloneableTags[tag]) {\r\n        return object ? value : {};\r\n      }\r\n      result = initCloneByTag(value, tag, isDeep);\r\n    }\r\n  }\r\n  // Check for circular references and return its corresponding clone.\r\n  stack || (stack = new Stack);\r\n  var stacked = stack.get(value);\r\n  if (stacked) {\r\n    return stacked;\r\n  }\r\n  stack.set(value, result);\r\n\r\n  if (isSet(value)) {\r\n    value.forEach(function(subValue) {\r\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\r\n    });\r\n  } else if (isMap(value)) {\r\n    value.forEach(function(subValue, key) {\r\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\r\n    });\r\n  }\r\n\r\n  var keysFunc = isFull\r\n    ? (isFlat ? getAllKeysIn : getAllKeys)\r\n    : (isFlat ? keysIn : keys);\r\n\r\n  var props = isArr ? undefined : keysFunc(value);\r\n  arrayEach(props || value, function(subValue, key) {\r\n    if (props) {\r\n      key = subValue;\r\n      subValue = value[key];\r\n    }\r\n    // Recursively populate clone (susceptible to call stack limits).\r\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\r\n  });\r\n  return result;\r\n}\r\n\r\nmodule.exports = baseClone;\r\n", "var baseClone = require('./_baseClone');\r\n\r\n/** Used to compose bitmasks for cloning. */\r\nvar CLONE_DEEP_FLAG = 1,\r\n    CLONE_SYMBOLS_FLAG = 4;\r\n\r\n/**\r\n * This method is like `_.clone` except that it recursively clones `value`.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 1.0.0\r\n * @category Lang\r\n * @param {*} value The value to recursively clone.\r\n * @returns {*} Returns the deep cloned value.\r\n * @see _.clone\r\n * @example\r\n *\r\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\r\n *\r\n * var deep = _.cloneDeep(objects);\r\n * console.log(deep[0] === objects[0]);\r\n * // => false\r\n */\r\nfunction cloneDeep(value) {\r\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\r\n}\r\n\r\nmodule.exports = cloneDeep;\r\n", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z\"\r\n}), 'FilterList');\r\nexports.default = _default;", "var baseClone = require('./_baseClone'),\r\n    baseMatches = require('./_baseMatches');\r\n\r\n/** Used to compose bitmasks for cloning. */\r\nvar CLONE_DEEP_FLAG = 1;\r\n\r\n/**\r\n * Creates a function that performs a partial deep comparison between a given\r\n * object and `source`, returning `true` if the given object has equivalent\r\n * property values, else `false`.\r\n *\r\n * **Note:** The created function is equivalent to `_.isMatch` with `source`\r\n * partially applied.\r\n *\r\n * Partial comparisons will match empty array and empty object `source`\r\n * values against any array or object value, respectively. See `_.isEqual`\r\n * for a list of supported value comparisons.\r\n *\r\n * **Note:** Multiple values can be checked by combining several matchers\r\n * using `_.overSome`\r\n *\r\n * @static\r\n * @memberOf _\r\n * @since 3.0.0\r\n * @category Util\r\n * @param {Object} source The object of property values to match.\r\n * @returns {Function} Returns the new spec function.\r\n * @example\r\n *\r\n * var objects = [\r\n *   { 'a': 1, 'b': 2, 'c': 3 },\r\n *   { 'a': 4, 'b': 5, 'c': 6 }\r\n * ];\r\n *\r\n * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\r\n * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\r\n *\r\n * // Checking for several possible values\r\n * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\r\n * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\r\n */\r\nfunction matches(source) {\r\n  return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\r\n}\r\n\r\nmodule.exports = matches;\r\n", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15-5-2.18L7 18V5h10v13z\"\r\n}), 'BookmarkBorder');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z\"\r\n}), 'HelpOutline');\r\nexports.default = _default;", "\"use strict\";\r\n\r\nexports.__esModule = true;\r\n\r\nexports.default = function (file, acceptedFiles) {\r\n  if (file && acceptedFiles) {\r\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\r\n    var fileName = file.name || '';\r\n    var mimeType = (file.type || '').toLowerCase();\r\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\r\n    return acceptedFilesArray.some(function (type) {\r\n      var validType = type.trim().toLowerCase();\r\n\r\n      if (validType.charAt(0) === '.') {\r\n        return fileName.toLowerCase().endsWith(validType);\r\n      } else if (validType.endsWith('/*')) {\r\n        // This is something like a image/* mime type\r\n        return baseMimeType === validType.replace(/\\/.*$/, '');\r\n      }\r\n\r\n      return mimeType === validType;\r\n    });\r\n  }\r\n\r\n  return true;\r\n};", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z\"\r\n}), 'RemoveCircle');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\r\n}), 'Clear');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\r\n}), 'Visibility');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"\r\n}), 'VisibilityOff');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\r\n}), 'Done');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"\r\n}), 'Error');\r\nexports.default = _default;", "\"use strict\";\r\n\"use client\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\r\nvar _jsxRuntime = require(\"react/jsx-runtime\");\r\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\r\n  d: \"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z\"\r\n}), 'Inbox');\r\nexports.default = _default;", "import * as React from 'react';\r\nimport { ComponentType } from 'react';\r\nimport { CoreAdminProps, localStorageStore } from 'ra-core';\r\nimport { AdminUI, AdminContext, RaThemeOptions } from 'ra-ui-materialui';\r\n\r\nimport { defaultI18nProvider } from './defaultI18nProvider';\r\nconst defaultStore = localStorageStore();\r\n\r\n/**\r\n * Main admin component, entry point to the application.\r\n *\r\n * Initializes the various contexts (auth, data, i18n, router)\r\n * and defines the main routes.\r\n *\r\n * Expects a list of resources as children, or a function returning a list of\r\n * resources based on the permissions.\r\n *\r\n * @example\r\n *\r\n * // static list of resources\r\n *\r\n * import {\r\n *     Admin,\r\n *     Resource,\r\n *     ListGuesser,\r\n *     useDataProvider,\r\n * } from 'react-admin';\r\n *\r\n * const App = () => (\r\n *     <Admin dataProvider={myDataProvider}>\r\n *         <Resource name=\"posts\" list={ListGuesser} />\r\n *     </Admin>\r\n * );\r\n *\r\n * // dynamic list of resources based on permissions\r\n *\r\n * import {\r\n *     Admin,\r\n *     Resource,\r\n *     ListGuesser,\r\n *     useDataProvider,\r\n * } from 'react-admin';\r\n *\r\n * const App = () => (\r\n *     <Admin dataProvider={myDataProvider}>\r\n *         {permissions => [\r\n *             <Resource name=\"posts\" key=\"posts\" list={ListGuesser} />,\r\n *         ]}\r\n *     </Admin>\r\n * );\r\n *\r\n * // If you have to build a dynamic list of resources using a side effect,\r\n * // you can't use <Admin>. But as it delegates to sub components,\r\n * // it's relatively straightforward to replace it:\r\n *\r\n * import * as React from 'react';\r\nimport { useEffect, useState } from 'react';\r\n * import {\r\n *     AdminContext,\r\n *     AdminUI,\r\n *     defaultI18nProvider,\r\n *     localStorageStore,\r\n *     Resource,\r\n *     ListGuesser,\r\n *     useDataProvider,\r\n * } from 'react-admin';\r\n *\r\n * const store = localStorageStore();\r\n *\r\n * const App = () => (\r\n *     <AdminContext dataProvider={myDataProvider} i18nProvider={defaultI18nProvider} store={store}>\r\n *         <Resources />\r\n *     </AdminContext>\r\n * );\r\n *\r\n * const Resources = () => {\r\n *     const [resources, setResources] = useState([]);\r\n *     const dataProvider = useDataProvider();\r\n *     useEffect(() => {\r\n *         dataProvider.introspect().then(r => setResources(r));\r\n *     }, []);\r\n *\r\n *     return (\r\n *         <AdminUI>\r\n *             {resources.map(resource => (\r\n *                 <Resource name={resource.name} key={resource.key} list={ListGuesser} />\r\n *             ))}\r\n *         </AdminUI>\r\n *     );\r\n * };\r\n */\r\nexport const Admin = (props: AdminProps) => {\r\n    const {\r\n        authProvider,\r\n        basename,\r\n        catchAll,\r\n        children,\r\n        dashboard,\r\n        dataProvider,\r\n        disableTelemetry,\r\n        history,\r\n        i18nProvider = defaultI18nProvider,\r\n        layout,\r\n        loading,\r\n        loginPage,\r\n        authCallbackPage,\r\n        menu, // deprecated, use a custom layout instead\r\n        notification,\r\n        queryClient,\r\n        requireAuth,\r\n        store = defaultStore,\r\n        ready,\r\n        theme,\r\n        lightTheme,\r\n        darkTheme,\r\n        defaultTheme,\r\n        title = 'React Admin',\r\n    } = props;\r\n\r\n    if (loginPage === true && process.env.NODE_ENV !== 'production') {\r\n        console.warn(\r\n            'You passed true to the loginPage prop. You must either pass false to disable it or a component class to customize it'\r\n        );\r\n    }\r\n\r\n    return (\r\n        <AdminContext\r\n            authProvider={authProvider}\r\n            basename={basename}\r\n            dataProvider={dataProvider}\r\n            i18nProvider={i18nProvider}\r\n            store={store}\r\n            history={history}\r\n            queryClient={queryClient}\r\n            theme={theme}\r\n            lightTheme={lightTheme}\r\n            darkTheme={darkTheme}\r\n            defaultTheme={defaultTheme}\r\n        >\r\n            <AdminUI\r\n                layout={layout}\r\n                dashboard={dashboard}\r\n                disableTelemetry={disableTelemetry}\r\n                menu={menu}\r\n                catchAll={catchAll}\r\n                title={title}\r\n                loading={loading}\r\n                loginPage={loginPage}\r\n                authCallbackPage={authCallbackPage}\r\n                notification={notification}\r\n                requireAuth={requireAuth}\r\n                ready={ready}\r\n            >\r\n                {children}\r\n            </AdminUI>\r\n        </AdminContext>\r\n    );\r\n};\r\n\r\nexport default Admin;\r\n\r\nexport interface AdminProps extends CoreAdminProps {\r\n    theme?: RaThemeOptions;\r\n    lightTheme?: RaThemeOptions;\r\n    darkTheme?: RaThemeOptions;\r\n    defaultTheme?: 'light' | 'dark';\r\n    notification?: ComponentType;\r\n}\r\n", "import { createContext } from 'react';\r\n\r\nimport { AuthProvider, UserIdentity } from '../types';\r\n\r\nconst defaultIdentity: UserIdentity = { id: '' };\r\n\r\nconst defaultProvider: AuthProvider = {\r\n    login: () => Promise.resolve(),\r\n    logout: () => Promise.resolve(),\r\n    checkAuth: () => Promise.resolve(),\r\n    checkError: () => Promise.resolve(),\r\n    getPermissions: () => Promise.resolve(),\r\n    getIdentity: () => Promise.resolve(defaultIdentity),\r\n};\r\n\r\nconst AuthContext = createContext<AuthProvider>(defaultProvider);\r\n\r\nAuthContext.displayName = 'AuthContext';\r\n\r\nexport default AuthContext;\r\n", "import { useContext } from 'react';\r\n\r\nimport { AuthProvider } from '../types';\r\nimport AuthContext from './AuthContext';\r\n\r\nexport const defaultAuthParams = {\r\n    loginUrl: '/login',\r\n    afterLoginUrl: '/',\r\n};\r\n\r\n/**\r\n * Get the authProvider stored in the context\r\n */\r\nconst useAuthProvider = <\r\n    AuthProviderType extends AuthProvider = AuthProvider\r\n>(): AuthProviderType => useContext(AuthContext) as AuthProviderType;\r\n\r\nexport default useAuthProvider;\r\n", "import { useMemo } from 'react';\r\nimport { useQuery, UseQueryOptions } from 'react-query';\r\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\r\nimport useLogout from './useLogout';\r\nimport { removeDoubleSlashes, useBasename } from '../routing';\r\nimport { useNotify } from '../notification';\r\n\r\ninterface State {\r\n    isLoading: boolean;\r\n    authenticated?: boolean;\r\n}\r\n\r\nconst emptyParams = {};\r\n\r\n/**\r\n * Hook for getting the authentication status\r\n *\r\n * Calls the authProvider.checkAuth() method asynchronously.\r\n *\r\n * The return value updates according to the authProvider request state:\r\n *\r\n * - isLoading: true just after mount, while the authProvider is being called. false once the authProvider has answered.\r\n * - authenticated: true while loading. then true or false depending on the authProvider response.\r\n *\r\n * To avoid rendering a component and force waiting for the authProvider response, use the useAuthState() hook\r\n * instead of the useAuthenticated() hook.\r\n *\r\n * You can render different content depending on the authenticated status.\r\n *\r\n * @see useAuthenticated()\r\n *\r\n * @param {Object} params Any params you want to pass to the authProvider\r\n *\r\n * @param {Boolean} logoutOnFailure: Optional. Whether the user should be logged out if the authProvider fails to authenticate them. False by default.\r\n *\r\n * @returns The current auth check state. Destructure as { authenticated, error, isLoading }.\r\n *\r\n * @example\r\n * import { useAuthState, Loading } from 'react-admin';\r\n *\r\n * const MyPage = () => {\r\n *     const { isLoading, authenticated } = useAuthState();\r\n *     if (isLoading) {\r\n *         return <Loading />;\r\n *     }\r\n *     if (authenticated) {\r\n *        return <AuthenticatedContent />;\r\n *     }\r\n *     return <AnonymousContent />;\r\n * };\r\n */\r\nconst useAuthState = (\r\n    params: any = emptyParams,\r\n    logoutOnFailure: boolean = false,\r\n    queryOptions?: UseQueryOptions<boolean, any>\r\n): State => {\r\n    const authProvider = useAuthProvider();\r\n    const logout = useLogout();\r\n    const basename = useBasename();\r\n    const notify = useNotify();\r\n\r\n    const result = useQuery<boolean, any>(\r\n        ['auth', 'checkAuth', params],\r\n        () => {\r\n            // The authProvider is optional in react-admin\r\n            return authProvider?.checkAuth(params).then(() => true);\r\n        },\r\n        {\r\n            onError: error => {\r\n                const loginUrl = removeDoubleSlashes(\r\n                    `${basename}/${defaultAuthParams.loginUrl}`\r\n                );\r\n                if (logoutOnFailure) {\r\n                    logout(\r\n                        {},\r\n                        error && error.redirectTo != null\r\n                            ? error.redirectTo\r\n                            : loginUrl\r\n                    );\r\n                    const shouldSkipNotify = error && error.message === false;\r\n                    !shouldSkipNotify &&\r\n                        notify(\r\n                            getErrorMessage(error, 'ra.auth.auth_check_error'),\r\n                            { type: 'error' }\r\n                        );\r\n                }\r\n            },\r\n            retry: false,\r\n            ...queryOptions,\r\n        }\r\n    );\r\n\r\n    return useMemo(() => {\r\n        return {\r\n            // If the data is undefined and the query isn't loading anymore, it means the query failed.\r\n            // In that case, we set authenticated to false unless there's no authProvider.\r\n            authenticated:\r\n                result.data ?? result.isLoading ? true : authProvider == null, // Optimistic\r\n            isLoading: result.isLoading,\r\n            error: result.error,\r\n        };\r\n    }, [authProvider, result]);\r\n};\r\n\r\nexport default useAuthState;\r\n\r\nconst getErrorMessage = (error, defaultMessage) =>\r\n    typeof error === 'string'\r\n        ? error\r\n        : typeof error === 'undefined' || !error.message\r\n        ? defaultMessage\r\n        : error.message;\r\n", "export var Subscribable = /*#__PURE__*/function () {\r\n  function Subscribable() {\r\n    this.listeners = [];\r\n  }\r\n\r\n  var _proto = Subscribable.prototype;\r\n\r\n  _proto.subscribe = function subscribe(listener) {\r\n    var _this = this;\r\n\r\n    var callback = listener || function () {\r\n      return undefined;\r\n    };\r\n\r\n    this.listeners.push(callback);\r\n    this.onSubscribe();\r\n    return function () {\r\n      _this.listeners = _this.listeners.filter(function (x) {\r\n        return x !== callback;\r\n      });\r\n\r\n      _this.onUnsubscribe();\r\n    };\r\n  };\r\n\r\n  _proto.hasListeners = function hasListeners() {\r\n    return this.listeners.length > 0;\r\n  };\r\n\r\n  _proto.onSubscribe = function onSubscribe() {// Do nothing\r\n  };\r\n\r\n  _proto.onUnsubscribe = function onUnsubscribe() {// Do nothing\r\n  };\r\n\r\n  return Subscribable;\r\n}();", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\n// TYPES\r\n// UTILS\r\nexport var isServer = typeof window === 'undefined';\r\nexport function noop() {\r\n  return undefined;\r\n}\r\nexport function functionalUpdate(updater, input) {\r\n  return typeof updater === 'function' ? updater(input) : updater;\r\n}\r\nexport function isValidTimeout(value) {\r\n  return typeof value === 'number' && value >= 0 && value !== Infinity;\r\n}\r\nexport function ensureQueryKeyArray(value) {\r\n  return Array.isArray(value) ? value : [value];\r\n}\r\nexport function difference(array1, array2) {\r\n  return array1.filter(function (x) {\r\n    return array2.indexOf(x) === -1;\r\n  });\r\n}\r\nexport function replaceAt(array, index, value) {\r\n  var copy = array.slice(0);\r\n  copy[index] = value;\r\n  return copy;\r\n}\r\nexport function timeUntilStale(updatedAt, staleTime) {\r\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\r\n}\r\nexport function parseQueryArgs(arg1, arg2, arg3) {\r\n  if (!isQueryKey(arg1)) {\r\n    return arg1;\r\n  }\r\n\r\n  if (typeof arg2 === 'function') {\r\n    return _extends({}, arg3, {\r\n      queryKey: arg1,\r\n      queryFn: arg2\r\n    });\r\n  }\r\n\r\n  return _extends({}, arg2, {\r\n    queryKey: arg1\r\n  });\r\n}\r\nexport function parseMutationArgs(arg1, arg2, arg3) {\r\n  if (isQueryKey(arg1)) {\r\n    if (typeof arg2 === 'function') {\r\n      return _extends({}, arg3, {\r\n        mutationKey: arg1,\r\n        mutationFn: arg2\r\n      });\r\n    }\r\n\r\n    return _extends({}, arg2, {\r\n      mutationKey: arg1\r\n    });\r\n  }\r\n\r\n  if (typeof arg1 === 'function') {\r\n    return _extends({}, arg2, {\r\n      mutationFn: arg1\r\n    });\r\n  }\r\n\r\n  return _extends({}, arg1);\r\n}\r\nexport function parseFilterArgs(arg1, arg2, arg3) {\r\n  return isQueryKey(arg1) ? [_extends({}, arg2, {\r\n    queryKey: arg1\r\n  }), arg3] : [arg1 || {}, arg2];\r\n}\r\nexport function parseMutationFilterArgs(arg1, arg2) {\r\n  return isQueryKey(arg1) ? _extends({}, arg2, {\r\n    mutationKey: arg1\r\n  }) : arg1;\r\n}\r\nexport function mapQueryStatusFilter(active, inactive) {\r\n  if (active === true && inactive === true || active == null && inactive == null) {\r\n    return 'all';\r\n  } else if (active === false && inactive === false) {\r\n    return 'none';\r\n  } else {\r\n    // At this point, active|inactive can only be true|false or false|true\r\n    // so, when only one value is provided, the missing one has to be the negated value\r\n    var isActive = active != null ? active : !inactive;\r\n    return isActive ? 'active' : 'inactive';\r\n  }\r\n}\r\nexport function matchQuery(filters, query) {\r\n  var active = filters.active,\r\n      exact = filters.exact,\r\n      fetching = filters.fetching,\r\n      inactive = filters.inactive,\r\n      predicate = filters.predicate,\r\n      queryKey = filters.queryKey,\r\n      stale = filters.stale;\r\n\r\n  if (isQueryKey(queryKey)) {\r\n    if (exact) {\r\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\r\n        return false;\r\n      }\r\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  var queryStatusFilter = mapQueryStatusFilter(active, inactive);\r\n\r\n  if (queryStatusFilter === 'none') {\r\n    return false;\r\n  } else if (queryStatusFilter !== 'all') {\r\n    var isActive = query.isActive();\r\n\r\n    if (queryStatusFilter === 'active' && !isActive) {\r\n      return false;\r\n    }\r\n\r\n    if (queryStatusFilter === 'inactive' && isActive) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\r\n    return false;\r\n  }\r\n\r\n  if (typeof fetching === 'boolean' && query.isFetching() !== fetching) {\r\n    return false;\r\n  }\r\n\r\n  if (predicate && !predicate(query)) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\nexport function matchMutation(filters, mutation) {\r\n  var exact = filters.exact,\r\n      fetching = filters.fetching,\r\n      predicate = filters.predicate,\r\n      mutationKey = filters.mutationKey;\r\n\r\n  if (isQueryKey(mutationKey)) {\r\n    if (!mutation.options.mutationKey) {\r\n      return false;\r\n    }\r\n\r\n    if (exact) {\r\n      if (hashQueryKey(mutation.options.mutationKey) !== hashQueryKey(mutationKey)) {\r\n        return false;\r\n      }\r\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  if (typeof fetching === 'boolean' && mutation.state.status === 'loading' !== fetching) {\r\n    return false;\r\n  }\r\n\r\n  if (predicate && !predicate(mutation)) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\nexport function hashQueryKeyByOptions(queryKey, options) {\r\n  var hashFn = (options == null ? void 0 : options.queryKeyHashFn) || hashQueryKey;\r\n  return hashFn(queryKey);\r\n}\r\n/**\r\n * Default query keys hash function.\r\n */\r\n\r\nexport function hashQueryKey(queryKey) {\r\n  var asArray = ensureQueryKeyArray(queryKey);\r\n  return stableValueHash(asArray);\r\n}\r\n/**\r\n * Hashes the value into a stable hash.\r\n */\r\n\r\nexport function stableValueHash(value) {\r\n  return JSON.stringify(value, function (_, val) {\r\n    return isPlainObject(val) ? Object.keys(val).sort().reduce(function (result, key) {\r\n      result[key] = val[key];\r\n      return result;\r\n    }, {}) : val;\r\n  });\r\n}\r\n/**\r\n * Checks if key `b` partially matches with key `a`.\r\n */\r\n\r\nexport function partialMatchKey(a, b) {\r\n  return partialDeepEqual(ensureQueryKeyArray(a), ensureQueryKeyArray(b));\r\n}\r\n/**\r\n * Checks if `b` partially matches with `a`.\r\n */\r\n\r\nexport function partialDeepEqual(a, b) {\r\n  if (a === b) {\r\n    return true;\r\n  }\r\n\r\n  if (typeof a !== typeof b) {\r\n    return false;\r\n  }\r\n\r\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\r\n    return !Object.keys(b).some(function (key) {\r\n      return !partialDeepEqual(a[key], b[key]);\r\n    });\r\n  }\r\n\r\n  return false;\r\n}\r\n/**\r\n * This function returns `a` if `b` is deeply equal.\r\n * If not, it will replace any deeply equal children of `b` with those of `a`.\r\n * This can be used for structural sharing between JSON values for example.\r\n */\r\n\r\nexport function replaceEqualDeep(a, b) {\r\n  if (a === b) {\r\n    return a;\r\n  }\r\n\r\n  var array = Array.isArray(a) && Array.isArray(b);\r\n\r\n  if (array || isPlainObject(a) && isPlainObject(b)) {\r\n    var aSize = array ? a.length : Object.keys(a).length;\r\n    var bItems = array ? b : Object.keys(b);\r\n    var bSize = bItems.length;\r\n    var copy = array ? [] : {};\r\n    var equalItems = 0;\r\n\r\n    for (var i = 0; i < bSize; i++) {\r\n      var key = array ? i : bItems[i];\r\n      copy[key] = replaceEqualDeep(a[key], b[key]);\r\n\r\n      if (copy[key] === a[key]) {\r\n        equalItems++;\r\n      }\r\n    }\r\n\r\n    return aSize === bSize && equalItems === aSize ? a : copy;\r\n  }\r\n\r\n  return b;\r\n}\r\n/**\r\n * Shallow compare objects. Only works with objects that always have the same properties.\r\n */\r\n\r\nexport function shallowEqualObjects(a, b) {\r\n  if (a && !b || b && !a) {\r\n    return false;\r\n  }\r\n\r\n  for (var key in a) {\r\n    if (a[key] !== b[key]) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n} // Copied from: https://github.com/jonschlinkert/is-plain-object\r\n\r\nexport function isPlainObject(o) {\r\n  if (!hasObjectPrototype(o)) {\r\n    return false;\r\n  } // If has modified constructor\r\n\r\n\r\n  var ctor = o.constructor;\r\n\r\n  if (typeof ctor === 'undefined') {\r\n    return true;\r\n  } // If has modified prototype\r\n\r\n\r\n  var prot = ctor.prototype;\r\n\r\n  if (!hasObjectPrototype(prot)) {\r\n    return false;\r\n  } // If constructor does not have an Object-specific method\r\n\r\n\r\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\r\n    return false;\r\n  } // Most likely a plain Object\r\n\r\n\r\n  return true;\r\n}\r\n\r\nfunction hasObjectPrototype(o) {\r\n  return Object.prototype.toString.call(o) === '[object Object]';\r\n}\r\n\r\nexport function isQueryKey(value) {\r\n  return typeof value === 'string' || Array.isArray(value);\r\n}\r\nexport function isError(value) {\r\n  return value instanceof Error;\r\n}\r\nexport function sleep(timeout) {\r\n  return new Promise(function (resolve) {\r\n    setTimeout(resolve, timeout);\r\n  });\r\n}\r\n/**\r\n * Schedules a microtask.\r\n * This can be useful to schedule state updates after rendering.\r\n */\r\n\r\nexport function scheduleMicrotask(callback) {\r\n  Promise.resolve().then(callback).catch(function (error) {\r\n    return setTimeout(function () {\r\n      throw error;\r\n    });\r\n  });\r\n}\r\nexport function getAbortController() {\r\n  if (typeof AbortController === 'function') {\r\n    return new AbortController();\r\n  }\r\n}", "import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\r\nimport { Subscribable } from './subscribable';\r\nimport { isServer } from './utils';\r\nexport var FocusManager = /*#__PURE__*/function (_Subscribable) {\r\n  _inheritsLoose(FocusManager, _Subscribable);\r\n\r\n  function FocusManager() {\r\n    var _this;\r\n\r\n    _this = _Subscribable.call(this) || this;\r\n\r\n    _this.setup = function (onFocus) {\r\n      var _window;\r\n\r\n      if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {\r\n        var listener = function listener() {\r\n          return onFocus();\r\n        }; // Listen to visibillitychange and focus\r\n\r\n\r\n        window.addEventListener('visibilitychange', listener, false);\r\n        window.addEventListener('focus', listener, false);\r\n        return function () {\r\n          // Be sure to unsubscribe if a new handler is set\r\n          window.removeEventListener('visibilitychange', listener);\r\n          window.removeEventListener('focus', listener);\r\n        };\r\n      }\r\n    };\r\n\r\n    return _this;\r\n  }\r\n\r\n  var _proto = FocusManager.prototype;\r\n\r\n  _proto.onSubscribe = function onSubscribe() {\r\n    if (!this.cleanup) {\r\n      this.setEventListener(this.setup);\r\n    }\r\n  };\r\n\r\n  _proto.onUnsubscribe = function onUnsubscribe() {\r\n    if (!this.hasListeners()) {\r\n      var _this$cleanup;\r\n\r\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\r\n      this.cleanup = undefined;\r\n    }\r\n  };\r\n\r\n  _proto.setEventListener = function setEventListener(setup) {\r\n    var _this$cleanup2,\r\n        _this2 = this;\r\n\r\n    this.setup = setup;\r\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\r\n    this.cleanup = setup(function (focused) {\r\n      if (typeof focused === 'boolean') {\r\n        _this2.setFocused(focused);\r\n      } else {\r\n        _this2.onFocus();\r\n      }\r\n    });\r\n  };\r\n\r\n  _proto.setFocused = function setFocused(focused) {\r\n    this.focused = focused;\r\n\r\n    if (focused) {\r\n      this.onFocus();\r\n    }\r\n  };\r\n\r\n  _proto.onFocus = function onFocus() {\r\n    this.listeners.forEach(function (listener) {\r\n      listener();\r\n    });\r\n  };\r\n\r\n  _proto.isFocused = function isFocused() {\r\n    if (typeof this.focused === 'boolean') {\r\n      return this.focused;\r\n    } // document global can be unavailable in react native\r\n\r\n\r\n    if (typeof document === 'undefined') {\r\n      return true;\r\n    }\r\n\r\n    return [undefined, 'visible', 'prerender'].includes(document.visibilityState);\r\n  };\r\n\r\n  return FocusManager;\r\n}(Subscribable);\r\nexport var focusManager = new FocusManager();", "import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\r\nimport { Subscribable } from './subscribable';\r\nimport { isServer } from './utils';\r\nexport var OnlineManager = /*#__PURE__*/function (_Subscribable) {\r\n  _inheritsLoose(OnlineManager, _Subscribable);\r\n\r\n  function OnlineManager() {\r\n    var _this;\r\n\r\n    _this = _Subscribable.call(this) || this;\r\n\r\n    _this.setup = function (onOnline) {\r\n      var _window;\r\n\r\n      if (!isServer && ((_window = window) == null ? void 0 : _window.addEventListener)) {\r\n        var listener = function listener() {\r\n          return onOnline();\r\n        }; // Listen to online\r\n\r\n\r\n        window.addEventListener('online', listener, false);\r\n        window.addEventListener('offline', listener, false);\r\n        return function () {\r\n          // Be sure to unsubscribe if a new handler is set\r\n          window.removeEventListener('online', listener);\r\n          window.removeEventListener('offline', listener);\r\n        };\r\n      }\r\n    };\r\n\r\n    return _this;\r\n  }\r\n\r\n  var _proto = OnlineManager.prototype;\r\n\r\n  _proto.onSubscribe = function onSubscribe() {\r\n    if (!this.cleanup) {\r\n      this.setEventListener(this.setup);\r\n    }\r\n  };\r\n\r\n  _proto.onUnsubscribe = function onUnsubscribe() {\r\n    if (!this.hasListeners()) {\r\n      var _this$cleanup;\r\n\r\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\r\n      this.cleanup = undefined;\r\n    }\r\n  };\r\n\r\n  _proto.setEventListener = function setEventListener(setup) {\r\n    var _this$cleanup2,\r\n        _this2 = this;\r\n\r\n    this.setup = setup;\r\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\r\n    this.cleanup = setup(function (online) {\r\n      if (typeof online === 'boolean') {\r\n        _this2.setOnline(online);\r\n      } else {\r\n        _this2.onOnline();\r\n      }\r\n    });\r\n  };\r\n\r\n  _proto.setOnline = function setOnline(online) {\r\n    this.online = online;\r\n\r\n    if (online) {\r\n      this.onOnline();\r\n    }\r\n  };\r\n\r\n  _proto.onOnline = function onOnline() {\r\n    this.listeners.forEach(function (listener) {\r\n      listener();\r\n    });\r\n  };\r\n\r\n  _proto.isOnline = function isOnline() {\r\n    if (typeof this.online === 'boolean') {\r\n      return this.online;\r\n    }\r\n\r\n    if (typeof navigator === 'undefined' || typeof navigator.onLine === 'undefined') {\r\n      return true;\r\n    }\r\n\r\n    return navigator.onLine;\r\n  };\r\n\r\n  return OnlineManager;\r\n}(Subscribable);\r\nexport var onlineManager = new OnlineManager();", "import { focusManager } from './focusManager';\r\nimport { onlineManager } from './onlineManager';\r\nimport { sleep } from './utils';\r\n\r\nfunction defaultRetryDelay(failureCount) {\r\n  return Math.min(1000 * Math.pow(2, failureCount), 30000);\r\n}\r\n\r\nexport function isCancelable(value) {\r\n  return typeof (value == null ? void 0 : value.cancel) === 'function';\r\n}\r\nexport var CancelledError = function CancelledError(options) {\r\n  this.revert = options == null ? void 0 : options.revert;\r\n  this.silent = options == null ? void 0 : options.silent;\r\n};\r\nexport function isCancelledError(value) {\r\n  return value instanceof CancelledError;\r\n} // CLASS\r\n\r\nexport var Retryer = function Retryer(config) {\r\n  var _this = this;\r\n\r\n  var cancelRetry = false;\r\n  var cancelFn;\r\n  var continueFn;\r\n  var promiseResolve;\r\n  var promiseReject;\r\n  this.abort = config.abort;\r\n\r\n  this.cancel = function (cancelOptions) {\r\n    return cancelFn == null ? void 0 : cancelFn(cancelOptions);\r\n  };\r\n\r\n  this.cancelRetry = function () {\r\n    cancelRetry = true;\r\n  };\r\n\r\n  this.continueRetry = function () {\r\n    cancelRetry = false;\r\n  };\r\n\r\n  this.continue = function () {\r\n    return continueFn == null ? void 0 : continueFn();\r\n  };\r\n\r\n  this.failureCount = 0;\r\n  this.isPaused = false;\r\n  this.isResolved = false;\r\n  this.isTransportCancelable = false;\r\n  this.promise = new Promise(function (outerResolve, outerReject) {\r\n    promiseResolve = outerResolve;\r\n    promiseReject = outerReject;\r\n  });\r\n\r\n  var resolve = function resolve(value) {\r\n    if (!_this.isResolved) {\r\n      _this.isResolved = true;\r\n      config.onSuccess == null ? void 0 : config.onSuccess(value);\r\n      continueFn == null ? void 0 : continueFn();\r\n      promiseResolve(value);\r\n    }\r\n  };\r\n\r\n  var reject = function reject(value) {\r\n    if (!_this.isResolved) {\r\n      _this.isResolved = true;\r\n      config.onError == null ? void 0 : config.onError(value);\r\n      continueFn == null ? void 0 : continueFn();\r\n      promiseReject(value);\r\n    }\r\n  };\r\n\r\n  var pause = function pause() {\r\n    return new Promise(function (continueResolve) {\r\n      continueFn = continueResolve;\r\n      _this.isPaused = true;\r\n      config.onPause == null ? void 0 : config.onPause();\r\n    }).then(function () {\r\n      continueFn = undefined;\r\n      _this.isPaused = false;\r\n      config.onContinue == null ? void 0 : config.onContinue();\r\n    });\r\n  }; // Create loop function\r\n\r\n\r\n  var run = function run() {\r\n    // Do nothing if already resolved\r\n    if (_this.isResolved) {\r\n      return;\r\n    }\r\n\r\n    var promiseOrValue; // Execute query\r\n\r\n    try {\r\n      promiseOrValue = config.fn();\r\n    } catch (error) {\r\n      promiseOrValue = Promise.reject(error);\r\n    } // Create callback to cancel this fetch\r\n\r\n\r\n    cancelFn = function cancelFn(cancelOptions) {\r\n      if (!_this.isResolved) {\r\n        reject(new CancelledError(cancelOptions));\r\n        _this.abort == null ? void 0 : _this.abort(); // Cancel transport if supported\r\n\r\n        if (isCancelable(promiseOrValue)) {\r\n          try {\r\n            promiseOrValue.cancel();\r\n          } catch (_unused) {}\r\n        }\r\n      }\r\n    }; // Check if the transport layer support cancellation\r\n\r\n\r\n    _this.isTransportCancelable = isCancelable(promiseOrValue);\r\n    Promise.resolve(promiseOrValue).then(resolve).catch(function (error) {\r\n      var _config$retry, _config$retryDelay;\r\n\r\n      // Stop if the fetch is already resolved\r\n      if (_this.isResolved) {\r\n        return;\r\n      } // Do we need to retry the request?\r\n\r\n\r\n      var retry = (_config$retry = config.retry) != null ? _config$retry : 3;\r\n      var retryDelay = (_config$retryDelay = config.retryDelay) != null ? _config$retryDelay : defaultRetryDelay;\r\n      var delay = typeof retryDelay === 'function' ? retryDelay(_this.failureCount, error) : retryDelay;\r\n      var shouldRetry = retry === true || typeof retry === 'number' && _this.failureCount < retry || typeof retry === 'function' && retry(_this.failureCount, error);\r\n\r\n      if (cancelRetry || !shouldRetry) {\r\n        // We are done if the query does not need to be retried\r\n        reject(error);\r\n        return;\r\n      }\r\n\r\n      _this.failureCount++; // Notify on fail\r\n\r\n      config.onFail == null ? void 0 : config.onFail(_this.failureCount, error); // Delay\r\n\r\n      sleep(delay) // Pause if the document is not visible or when the device is offline\r\n      .then(function () {\r\n        if (!focusManager.isFocused() || !onlineManager.isOnline()) {\r\n          return pause();\r\n        }\r\n      }).then(function () {\r\n        if (cancelRetry) {\r\n          reject(error);\r\n        } else {\r\n          run();\r\n        }\r\n      });\r\n    });\r\n  }; // Start loop\r\n\r\n\r\n  run();\r\n};", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport { getAbortController, functionalUpdate, isValidTimeout, noop, replaceEqualDeep, timeUntilStale, ensureQueryKeyArray } from './utils';\r\nimport { notifyManager } from './notifyManager';\r\nimport { getLogger } from './logger';\r\nimport { Retryer, isCancelledError } from './retryer'; // TYPES\r\n\r\n// CLASS\r\nexport var Query = /*#__PURE__*/function () {\r\n  function Query(config) {\r\n    this.abortSignalConsumed = false;\r\n    this.hadObservers = false;\r\n    this.defaultOptions = config.defaultOptions;\r\n    this.setOptions(config.options);\r\n    this.observers = [];\r\n    this.cache = config.cache;\r\n    this.queryKey = config.queryKey;\r\n    this.queryHash = config.queryHash;\r\n    this.initialState = config.state || this.getDefaultState(this.options);\r\n    this.state = this.initialState;\r\n    this.meta = config.meta;\r\n    this.scheduleGc();\r\n  }\r\n\r\n  var _proto = Query.prototype;\r\n\r\n  _proto.setOptions = function setOptions(options) {\r\n    var _this$options$cacheTi;\r\n\r\n    this.options = _extends({}, this.defaultOptions, options);\r\n    this.meta = options == null ? void 0 : options.meta; // Default to 5 minutes if not cache time is set\r\n\r\n    this.cacheTime = Math.max(this.cacheTime || 0, (_this$options$cacheTi = this.options.cacheTime) != null ? _this$options$cacheTi : 5 * 60 * 1000);\r\n  };\r\n\r\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\r\n    this.defaultOptions = options;\r\n  };\r\n\r\n  _proto.scheduleGc = function scheduleGc() {\r\n    var _this = this;\r\n\r\n    this.clearGcTimeout();\r\n\r\n    if (isValidTimeout(this.cacheTime)) {\r\n      this.gcTimeout = setTimeout(function () {\r\n        _this.optionalRemove();\r\n      }, this.cacheTime);\r\n    }\r\n  };\r\n\r\n  _proto.clearGcTimeout = function clearGcTimeout() {\r\n    if (this.gcTimeout) {\r\n      clearTimeout(this.gcTimeout);\r\n      this.gcTimeout = undefined;\r\n    }\r\n  };\r\n\r\n  _proto.optionalRemove = function optionalRemove() {\r\n    if (!this.observers.length) {\r\n      if (this.state.isFetching) {\r\n        if (this.hadObservers) {\r\n          this.scheduleGc();\r\n        }\r\n      } else {\r\n        this.cache.remove(this);\r\n      }\r\n    }\r\n  };\r\n\r\n  _proto.setData = function setData(updater, options) {\r\n    var _this$options$isDataE, _this$options;\r\n\r\n    var prevData = this.state.data; // Get the new data\r\n\r\n    var data = functionalUpdate(updater, prevData); // Use prev data if an isDataEqual function is defined and returns `true`\r\n\r\n    if ((_this$options$isDataE = (_this$options = this.options).isDataEqual) == null ? void 0 : _this$options$isDataE.call(_this$options, prevData, data)) {\r\n      data = prevData;\r\n    } else if (this.options.structuralSharing !== false) {\r\n      // Structurally share data between prev and new data if needed\r\n      data = replaceEqualDeep(prevData, data);\r\n    } // Set data and mark it as cached\r\n\r\n\r\n    this.dispatch({\r\n      data: data,\r\n      type: 'success',\r\n      dataUpdatedAt: options == null ? void 0 : options.updatedAt\r\n    });\r\n    return data;\r\n  };\r\n\r\n  _proto.setState = function setState(state, setStateOptions) {\r\n    this.dispatch({\r\n      type: 'setState',\r\n      state: state,\r\n      setStateOptions: setStateOptions\r\n    });\r\n  };\r\n\r\n  _proto.cancel = function cancel(options) {\r\n    var _this$retryer;\r\n\r\n    var promise = this.promise;\r\n    (_this$retryer = this.retryer) == null ? void 0 : _this$retryer.cancel(options);\r\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\r\n  };\r\n\r\n  _proto.destroy = function destroy() {\r\n    this.clearGcTimeout();\r\n    this.cancel({\r\n      silent: true\r\n    });\r\n  };\r\n\r\n  _proto.reset = function reset() {\r\n    this.destroy();\r\n    this.setState(this.initialState);\r\n  };\r\n\r\n  _proto.isActive = function isActive() {\r\n    return this.observers.some(function (observer) {\r\n      return observer.options.enabled !== false;\r\n    });\r\n  };\r\n\r\n  _proto.isFetching = function isFetching() {\r\n    return this.state.isFetching;\r\n  };\r\n\r\n  _proto.isStale = function isStale() {\r\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || this.observers.some(function (observer) {\r\n      return observer.getCurrentResult().isStale;\r\n    });\r\n  };\r\n\r\n  _proto.isStaleByTime = function isStaleByTime(staleTime) {\r\n    if (staleTime === void 0) {\r\n      staleTime = 0;\r\n    }\r\n\r\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || !timeUntilStale(this.state.dataUpdatedAt, staleTime);\r\n  };\r\n\r\n  _proto.onFocus = function onFocus() {\r\n    var _this$retryer2;\r\n\r\n    var observer = this.observers.find(function (x) {\r\n      return x.shouldFetchOnWindowFocus();\r\n    });\r\n\r\n    if (observer) {\r\n      observer.refetch();\r\n    } // Continue fetch if currently paused\r\n\r\n\r\n    (_this$retryer2 = this.retryer) == null ? void 0 : _this$retryer2.continue();\r\n  };\r\n\r\n  _proto.onOnline = function onOnline() {\r\n    var _this$retryer3;\r\n\r\n    var observer = this.observers.find(function (x) {\r\n      return x.shouldFetchOnReconnect();\r\n    });\r\n\r\n    if (observer) {\r\n      observer.refetch();\r\n    } // Continue fetch if currently paused\r\n\r\n\r\n    (_this$retryer3 = this.retryer) == null ? void 0 : _this$retryer3.continue();\r\n  };\r\n\r\n  _proto.addObserver = function addObserver(observer) {\r\n    if (this.observers.indexOf(observer) === -1) {\r\n      this.observers.push(observer);\r\n      this.hadObservers = true; // Stop the query from being garbage collected\r\n\r\n      this.clearGcTimeout();\r\n      this.cache.notify({\r\n        type: 'observerAdded',\r\n        query: this,\r\n        observer: observer\r\n      });\r\n    }\r\n  };\r\n\r\n  _proto.removeObserver = function removeObserver(observer) {\r\n    if (this.observers.indexOf(observer) !== -1) {\r\n      this.observers = this.observers.filter(function (x) {\r\n        return x !== observer;\r\n      });\r\n\r\n      if (!this.observers.length) {\r\n        // If the transport layer does not support cancellation\r\n        // we'll let the query continue so the result can be cached\r\n        if (this.retryer) {\r\n          if (this.retryer.isTransportCancelable || this.abortSignalConsumed) {\r\n            this.retryer.cancel({\r\n              revert: true\r\n            });\r\n          } else {\r\n            this.retryer.cancelRetry();\r\n          }\r\n        }\r\n\r\n        if (this.cacheTime) {\r\n          this.scheduleGc();\r\n        } else {\r\n          this.cache.remove(this);\r\n        }\r\n      }\r\n\r\n      this.cache.notify({\r\n        type: 'observerRemoved',\r\n        query: this,\r\n        observer: observer\r\n      });\r\n    }\r\n  };\r\n\r\n  _proto.getObserversCount = function getObserversCount() {\r\n    return this.observers.length;\r\n  };\r\n\r\n  _proto.invalidate = function invalidate() {\r\n    if (!this.state.isInvalidated) {\r\n      this.dispatch({\r\n        type: 'invalidate'\r\n      });\r\n    }\r\n  };\r\n\r\n  _proto.fetch = function fetch(options, fetchOptions) {\r\n    var _this2 = this,\r\n        _this$options$behavio,\r\n        _context$fetchOptions,\r\n        _abortController$abor;\r\n\r\n    if (this.state.isFetching) {\r\n      if (this.state.dataUpdatedAt && (fetchOptions == null ? void 0 : fetchOptions.cancelRefetch)) {\r\n        // Silently cancel current fetch if the user wants to cancel refetches\r\n        this.cancel({\r\n          silent: true\r\n        });\r\n      } else if (this.promise) {\r\n        var _this$retryer4;\r\n\r\n        // make sure that retries that were potentially cancelled due to unmounts can continue\r\n        (_this$retryer4 = this.retryer) == null ? void 0 : _this$retryer4.continueRetry(); // Return current promise if we are already fetching\r\n\r\n        return this.promise;\r\n      }\r\n    } // Update config if passed, otherwise the config from the last execution is used\r\n\r\n\r\n    if (options) {\r\n      this.setOptions(options);\r\n    } // Use the options from the first observer with a query function if no function is found.\r\n    // This can happen when the query is hydrated or created with setQueryData.\r\n\r\n\r\n    if (!this.options.queryFn) {\r\n      var observer = this.observers.find(function (x) {\r\n        return x.options.queryFn;\r\n      });\r\n\r\n      if (observer) {\r\n        this.setOptions(observer.options);\r\n      }\r\n    }\r\n\r\n    var queryKey = ensureQueryKeyArray(this.queryKey);\r\n    var abortController = getAbortController(); // Create query function context\r\n\r\n    var queryFnContext = {\r\n      queryKey: queryKey,\r\n      pageParam: undefined,\r\n      meta: this.meta\r\n    };\r\n    Object.defineProperty(queryFnContext, 'signal', {\r\n      enumerable: true,\r\n      get: function get() {\r\n        if (abortController) {\r\n          _this2.abortSignalConsumed = true;\r\n          return abortController.signal;\r\n        }\r\n\r\n        return undefined;\r\n      }\r\n    }); // Create fetch function\r\n\r\n    var fetchFn = function fetchFn() {\r\n      if (!_this2.options.queryFn) {\r\n        return Promise.reject('Missing queryFn');\r\n      }\r\n\r\n      _this2.abortSignalConsumed = false;\r\n      return _this2.options.queryFn(queryFnContext);\r\n    }; // Trigger behavior hook\r\n\r\n\r\n    var context = {\r\n      fetchOptions: fetchOptions,\r\n      options: this.options,\r\n      queryKey: queryKey,\r\n      state: this.state,\r\n      fetchFn: fetchFn,\r\n      meta: this.meta\r\n    };\r\n\r\n    if ((_this$options$behavio = this.options.behavior) == null ? void 0 : _this$options$behavio.onFetch) {\r\n      var _this$options$behavio2;\r\n\r\n      (_this$options$behavio2 = this.options.behavior) == null ? void 0 : _this$options$behavio2.onFetch(context);\r\n    } // Store state in case the current fetch needs to be reverted\r\n\r\n\r\n    this.revertState = this.state; // Set to fetching state if not already in it\r\n\r\n    if (!this.state.isFetching || this.state.fetchMeta !== ((_context$fetchOptions = context.fetchOptions) == null ? void 0 : _context$fetchOptions.meta)) {\r\n      var _context$fetchOptions2;\r\n\r\n      this.dispatch({\r\n        type: 'fetch',\r\n        meta: (_context$fetchOptions2 = context.fetchOptions) == null ? void 0 : _context$fetchOptions2.meta\r\n      });\r\n    } // Try to fetch the data\r\n\r\n\r\n    this.retryer = new Retryer({\r\n      fn: context.fetchFn,\r\n      abort: abortController == null ? void 0 : (_abortController$abor = abortController.abort) == null ? void 0 : _abortController$abor.bind(abortController),\r\n      onSuccess: function onSuccess(data) {\r\n        _this2.setData(data); // Notify cache callback\r\n\r\n\r\n        _this2.cache.config.onSuccess == null ? void 0 : _this2.cache.config.onSuccess(data, _this2); // Remove query after fetching if cache time is 0\r\n\r\n        if (_this2.cacheTime === 0) {\r\n          _this2.optionalRemove();\r\n        }\r\n      },\r\n      onError: function onError(error) {\r\n        // Optimistically update state if needed\r\n        if (!(isCancelledError(error) && error.silent)) {\r\n          _this2.dispatch({\r\n            type: 'error',\r\n            error: error\r\n          });\r\n        }\r\n\r\n        if (!isCancelledError(error)) {\r\n          // Notify cache callback\r\n          _this2.cache.config.onError == null ? void 0 : _this2.cache.config.onError(error, _this2); // Log error\r\n\r\n          getLogger().error(error);\r\n        } // Remove query after fetching if cache time is 0\r\n\r\n\r\n        if (_this2.cacheTime === 0) {\r\n          _this2.optionalRemove();\r\n        }\r\n      },\r\n      onFail: function onFail() {\r\n        _this2.dispatch({\r\n          type: 'failed'\r\n        });\r\n      },\r\n      onPause: function onPause() {\r\n        _this2.dispatch({\r\n          type: 'pause'\r\n        });\r\n      },\r\n      onContinue: function onContinue() {\r\n        _this2.dispatch({\r\n          type: 'continue'\r\n        });\r\n      },\r\n      retry: context.options.retry,\r\n      retryDelay: context.options.retryDelay\r\n    });\r\n    this.promise = this.retryer.promise;\r\n    return this.promise;\r\n  };\r\n\r\n  _proto.dispatch = function dispatch(action) {\r\n    var _this3 = this;\r\n\r\n    this.state = this.reducer(this.state, action);\r\n    notifyManager.batch(function () {\r\n      _this3.observers.forEach(function (observer) {\r\n        observer.onQueryUpdate(action);\r\n      });\r\n\r\n      _this3.cache.notify({\r\n        query: _this3,\r\n        type: 'queryUpdated',\r\n        action: action\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto.getDefaultState = function getDefaultState(options) {\r\n    var data = typeof options.initialData === 'function' ? options.initialData() : options.initialData;\r\n    var hasInitialData = typeof options.initialData !== 'undefined';\r\n    var initialDataUpdatedAt = hasInitialData ? typeof options.initialDataUpdatedAt === 'function' ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\r\n    var hasData = typeof data !== 'undefined';\r\n    return {\r\n      data: data,\r\n      dataUpdateCount: 0,\r\n      dataUpdatedAt: hasData ? initialDataUpdatedAt != null ? initialDataUpdatedAt : Date.now() : 0,\r\n      error: null,\r\n      errorUpdateCount: 0,\r\n      errorUpdatedAt: 0,\r\n      fetchFailureCount: 0,\r\n      fetchMeta: null,\r\n      isFetching: false,\r\n      isInvalidated: false,\r\n      isPaused: false,\r\n      status: hasData ? 'success' : 'idle'\r\n    };\r\n  };\r\n\r\n  _proto.reducer = function reducer(state, action) {\r\n    var _action$meta, _action$dataUpdatedAt;\r\n\r\n    switch (action.type) {\r\n      case 'failed':\r\n        return _extends({}, state, {\r\n          fetchFailureCount: state.fetchFailureCount + 1\r\n        });\r\n\r\n      case 'pause':\r\n        return _extends({}, state, {\r\n          isPaused: true\r\n        });\r\n\r\n      case 'continue':\r\n        return _extends({}, state, {\r\n          isPaused: false\r\n        });\r\n\r\n      case 'fetch':\r\n        return _extends({}, state, {\r\n          fetchFailureCount: 0,\r\n          fetchMeta: (_action$meta = action.meta) != null ? _action$meta : null,\r\n          isFetching: true,\r\n          isPaused: false\r\n        }, !state.dataUpdatedAt && {\r\n          error: null,\r\n          status: 'loading'\r\n        });\r\n\r\n      case 'success':\r\n        return _extends({}, state, {\r\n          data: action.data,\r\n          dataUpdateCount: state.dataUpdateCount + 1,\r\n          dataUpdatedAt: (_action$dataUpdatedAt = action.dataUpdatedAt) != null ? _action$dataUpdatedAt : Date.now(),\r\n          error: null,\r\n          fetchFailureCount: 0,\r\n          isFetching: false,\r\n          isInvalidated: false,\r\n          isPaused: false,\r\n          status: 'success'\r\n        });\r\n\r\n      case 'error':\r\n        var error = action.error;\r\n\r\n        if (isCancelledError(error) && error.revert && this.revertState) {\r\n          return _extends({}, this.revertState);\r\n        }\r\n\r\n        return _extends({}, state, {\r\n          error: error,\r\n          errorUpdateCount: state.errorUpdateCount + 1,\r\n          errorUpdatedAt: Date.now(),\r\n          fetchFailureCount: state.fetchFailureCount + 1,\r\n          isFetching: false,\r\n          isPaused: false,\r\n          status: 'error'\r\n        });\r\n\r\n      case 'invalidate':\r\n        return _extends({}, state, {\r\n          isInvalidated: true\r\n        });\r\n\r\n      case 'setState':\r\n        return _extends({}, state, action.state);\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  return Query;\r\n}();", "import { scheduleMicrotask } from './utils'; // TYPES\r\n\r\n// CLASS\r\nexport var NotifyManager = /*#__PURE__*/function () {\r\n  function NotifyManager() {\r\n    this.queue = [];\r\n    this.transactions = 0;\r\n\r\n    this.notifyFn = function (callback) {\r\n      callback();\r\n    };\r\n\r\n    this.batchNotifyFn = function (callback) {\r\n      callback();\r\n    };\r\n  }\r\n\r\n  var _proto = NotifyManager.prototype;\r\n\r\n  _proto.batch = function batch(callback) {\r\n    var result;\r\n    this.transactions++;\r\n\r\n    try {\r\n      result = callback();\r\n    } finally {\r\n      this.transactions--;\r\n\r\n      if (!this.transactions) {\r\n        this.flush();\r\n      }\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  _proto.schedule = function schedule(callback) {\r\n    var _this = this;\r\n\r\n    if (this.transactions) {\r\n      this.queue.push(callback);\r\n    } else {\r\n      scheduleMicrotask(function () {\r\n        _this.notifyFn(callback);\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * All calls to the wrapped function will be batched.\r\n   */\r\n  ;\r\n\r\n  _proto.batchCalls = function batchCalls(callback) {\r\n    var _this2 = this;\r\n\r\n    return function () {\r\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n        args[_key] = arguments[_key];\r\n      }\r\n\r\n      _this2.schedule(function () {\r\n        callback.apply(void 0, args);\r\n      });\r\n    };\r\n  };\r\n\r\n  _proto.flush = function flush() {\r\n    var _this3 = this;\r\n\r\n    var queue = this.queue;\r\n    this.queue = [];\r\n\r\n    if (queue.length) {\r\n      scheduleMicrotask(function () {\r\n        _this3.batchNotifyFn(function () {\r\n          queue.forEach(function (callback) {\r\n            _this3.notifyFn(callback);\r\n          });\r\n        });\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Use this method to set a custom notify function.\r\n   * This can be used to for example wrap notifications with `React.act` while running tests.\r\n   */\r\n  ;\r\n\r\n  _proto.setNotifyFunction = function setNotifyFunction(fn) {\r\n    this.notifyFn = fn;\r\n  }\r\n  /**\r\n   * Use this method to set a custom function to batch notifications together into a single tick.\r\n   * By default React Query will use the batch function provided by ReactDOM or React Native.\r\n   */\r\n  ;\r\n\r\n  _proto.setBatchNotifyFunction = function setBatchNotifyFunction(fn) {\r\n    this.batchNotifyFn = fn;\r\n  };\r\n\r\n  return NotifyManager;\r\n}(); // SINGLETON\r\n\r\nexport var notifyManager = new NotifyManager();", "// TYPES\r\n// FUNCTIONS\r\nvar logger = console;\r\nexport function getLogger() {\r\n  return logger;\r\n}\r\nexport function setLogger(newLogger) {\r\n  logger = newLogger;\r\n}", "import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\r\nimport { hashQueryKeyByOptions, matchQuery, parseFilterArgs } from './utils';\r\nimport { Query } from './query';\r\nimport { notifyManager } from './notifyManager';\r\nimport { Subscribable } from './subscribable';\r\n// CLASS\r\nexport var QueryCache = /*#__PURE__*/function (_Subscribable) {\r\n  _inheritsLoose(QueryCache, _Subscribable);\r\n\r\n  function QueryCache(config) {\r\n    var _this;\r\n\r\n    _this = _Subscribable.call(this) || this;\r\n    _this.config = config || {};\r\n    _this.queries = [];\r\n    _this.queriesMap = {};\r\n    return _this;\r\n  }\r\n\r\n  var _proto = QueryCache.prototype;\r\n\r\n  _proto.build = function build(client, options, state) {\r\n    var _options$queryHash;\r\n\r\n    var queryKey = options.queryKey;\r\n    var queryHash = (_options$queryHash = options.queryHash) != null ? _options$queryHash : hashQueryKeyByOptions(queryKey, options);\r\n    var query = this.get(queryHash);\r\n\r\n    if (!query) {\r\n      query = new Query({\r\n        cache: this,\r\n        queryKey: queryKey,\r\n        queryHash: queryHash,\r\n        options: client.defaultQueryOptions(options),\r\n        state: state,\r\n        defaultOptions: client.getQueryDefaults(queryKey),\r\n        meta: options.meta\r\n      });\r\n      this.add(query);\r\n    }\r\n\r\n    return query;\r\n  };\r\n\r\n  _proto.add = function add(query) {\r\n    if (!this.queriesMap[query.queryHash]) {\r\n      this.queriesMap[query.queryHash] = query;\r\n      this.queries.push(query);\r\n      this.notify({\r\n        type: 'queryAdded',\r\n        query: query\r\n      });\r\n    }\r\n  };\r\n\r\n  _proto.remove = function remove(query) {\r\n    var queryInMap = this.queriesMap[query.queryHash];\r\n\r\n    if (queryInMap) {\r\n      query.destroy();\r\n      this.queries = this.queries.filter(function (x) {\r\n        return x !== query;\r\n      });\r\n\r\n      if (queryInMap === query) {\r\n        delete this.queriesMap[query.queryHash];\r\n      }\r\n\r\n      this.notify({\r\n        type: 'queryRemoved',\r\n        query: query\r\n      });\r\n    }\r\n  };\r\n\r\n  _proto.clear = function clear() {\r\n    var _this2 = this;\r\n\r\n    notifyManager.batch(function () {\r\n      _this2.queries.forEach(function (query) {\r\n        _this2.remove(query);\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto.get = function get(queryHash) {\r\n    return this.queriesMap[queryHash];\r\n  };\r\n\r\n  _proto.getAll = function getAll() {\r\n    return this.queries;\r\n  };\r\n\r\n  _proto.find = function find(arg1, arg2) {\r\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\r\n        filters = _parseFilterArgs[0];\r\n\r\n    if (typeof filters.exact === 'undefined') {\r\n      filters.exact = true;\r\n    }\r\n\r\n    return this.queries.find(function (query) {\r\n      return matchQuery(filters, query);\r\n    });\r\n  };\r\n\r\n  _proto.findAll = function findAll(arg1, arg2) {\r\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\r\n        filters = _parseFilterArgs2[0];\r\n\r\n    return Object.keys(filters).length > 0 ? this.queries.filter(function (query) {\r\n      return matchQuery(filters, query);\r\n    }) : this.queries;\r\n  };\r\n\r\n  _proto.notify = function notify(event) {\r\n    var _this3 = this;\r\n\r\n    notifyManager.batch(function () {\r\n      _this3.listeners.forEach(function (listener) {\r\n        listener(event);\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto.onFocus = function onFocus() {\r\n    var _this4 = this;\r\n\r\n    notifyManager.batch(function () {\r\n      _this4.queries.forEach(function (query) {\r\n        query.onFocus();\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto.onOnline = function onOnline() {\r\n    var _this5 = this;\r\n\r\n    notifyManager.batch(function () {\r\n      _this5.queries.forEach(function (query) {\r\n        query.onOnline();\r\n      });\r\n    });\r\n  };\r\n\r\n  return QueryCache;\r\n}(Subscribable);", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport { hashQueryKey, noop, parseFilterArgs, parseQueryArgs, partialMatchKey, hashQueryKeyByOptions } from './utils';\r\nimport { QueryCache } from './queryCache';\r\nimport { MutationCache } from './mutationCache';\r\nimport { focusManager } from './focusManager';\r\nimport { onlineManager } from './onlineManager';\r\nimport { notifyManager } from './notifyManager';\r\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior';\r\n// CLASS\r\nexport var QueryClient = /*#__PURE__*/function () {\r\n  function QueryClient(config) {\r\n    if (config === void 0) {\r\n      config = {};\r\n    }\r\n\r\n    this.queryCache = config.queryCache || new QueryCache();\r\n    this.mutationCache = config.mutationCache || new MutationCache();\r\n    this.defaultOptions = config.defaultOptions || {};\r\n    this.queryDefaults = [];\r\n    this.mutationDefaults = [];\r\n  }\r\n\r\n  var _proto = QueryClient.prototype;\r\n\r\n  _proto.mount = function mount() {\r\n    var _this = this;\r\n\r\n    this.unsubscribeFocus = focusManager.subscribe(function () {\r\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\r\n        _this.mutationCache.onFocus();\r\n\r\n        _this.queryCache.onFocus();\r\n      }\r\n    });\r\n    this.unsubscribeOnline = onlineManager.subscribe(function () {\r\n      if (focusManager.isFocused() && onlineManager.isOnline()) {\r\n        _this.mutationCache.onOnline();\r\n\r\n        _this.queryCache.onOnline();\r\n      }\r\n    });\r\n  };\r\n\r\n  _proto.unmount = function unmount() {\r\n    var _this$unsubscribeFocu, _this$unsubscribeOnli;\r\n\r\n    (_this$unsubscribeFocu = this.unsubscribeFocus) == null ? void 0 : _this$unsubscribeFocu.call(this);\r\n    (_this$unsubscribeOnli = this.unsubscribeOnline) == null ? void 0 : _this$unsubscribeOnli.call(this);\r\n  };\r\n\r\n  _proto.isFetching = function isFetching(arg1, arg2) {\r\n    var _parseFilterArgs = parseFilterArgs(arg1, arg2),\r\n        filters = _parseFilterArgs[0];\r\n\r\n    filters.fetching = true;\r\n    return this.queryCache.findAll(filters).length;\r\n  };\r\n\r\n  _proto.isMutating = function isMutating(filters) {\r\n    return this.mutationCache.findAll(_extends({}, filters, {\r\n      fetching: true\r\n    })).length;\r\n  };\r\n\r\n  _proto.getQueryData = function getQueryData(queryKey, filters) {\r\n    var _this$queryCache$find;\r\n\r\n    return (_this$queryCache$find = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find.state.data;\r\n  };\r\n\r\n  _proto.getQueriesData = function getQueriesData(queryKeyOrFilters) {\r\n    return this.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref) {\r\n      var queryKey = _ref.queryKey,\r\n          state = _ref.state;\r\n      var data = state.data;\r\n      return [queryKey, data];\r\n    });\r\n  };\r\n\r\n  _proto.setQueryData = function setQueryData(queryKey, updater, options) {\r\n    var parsedOptions = parseQueryArgs(queryKey);\r\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions);\r\n    return this.queryCache.build(this, defaultedOptions).setData(updater, options);\r\n  };\r\n\r\n  _proto.setQueriesData = function setQueriesData(queryKeyOrFilters, updater, options) {\r\n    var _this2 = this;\r\n\r\n    return notifyManager.batch(function () {\r\n      return _this2.getQueryCache().findAll(queryKeyOrFilters).map(function (_ref2) {\r\n        var queryKey = _ref2.queryKey;\r\n        return [queryKey, _this2.setQueryData(queryKey, updater, options)];\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto.getQueryState = function getQueryState(queryKey, filters) {\r\n    var _this$queryCache$find2;\r\n\r\n    return (_this$queryCache$find2 = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find2.state;\r\n  };\r\n\r\n  _proto.removeQueries = function removeQueries(arg1, arg2) {\r\n    var _parseFilterArgs2 = parseFilterArgs(arg1, arg2),\r\n        filters = _parseFilterArgs2[0];\r\n\r\n    var queryCache = this.queryCache;\r\n    notifyManager.batch(function () {\r\n      queryCache.findAll(filters).forEach(function (query) {\r\n        queryCache.remove(query);\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto.resetQueries = function resetQueries(arg1, arg2, arg3) {\r\n    var _this3 = this;\r\n\r\n    var _parseFilterArgs3 = parseFilterArgs(arg1, arg2, arg3),\r\n        filters = _parseFilterArgs3[0],\r\n        options = _parseFilterArgs3[1];\r\n\r\n    var queryCache = this.queryCache;\r\n\r\n    var refetchFilters = _extends({}, filters, {\r\n      active: true\r\n    });\r\n\r\n    return notifyManager.batch(function () {\r\n      queryCache.findAll(filters).forEach(function (query) {\r\n        query.reset();\r\n      });\r\n      return _this3.refetchQueries(refetchFilters, options);\r\n    });\r\n  };\r\n\r\n  _proto.cancelQueries = function cancelQueries(arg1, arg2, arg3) {\r\n    var _this4 = this;\r\n\r\n    var _parseFilterArgs4 = parseFilterArgs(arg1, arg2, arg3),\r\n        filters = _parseFilterArgs4[0],\r\n        _parseFilterArgs4$ = _parseFilterArgs4[1],\r\n        cancelOptions = _parseFilterArgs4$ === void 0 ? {} : _parseFilterArgs4$;\r\n\r\n    if (typeof cancelOptions.revert === 'undefined') {\r\n      cancelOptions.revert = true;\r\n    }\r\n\r\n    var promises = notifyManager.batch(function () {\r\n      return _this4.queryCache.findAll(filters).map(function (query) {\r\n        return query.cancel(cancelOptions);\r\n      });\r\n    });\r\n    return Promise.all(promises).then(noop).catch(noop);\r\n  };\r\n\r\n  _proto.invalidateQueries = function invalidateQueries(arg1, arg2, arg3) {\r\n    var _ref3,\r\n        _filters$refetchActiv,\r\n        _filters$refetchInact,\r\n        _this5 = this;\r\n\r\n    var _parseFilterArgs5 = parseFilterArgs(arg1, arg2, arg3),\r\n        filters = _parseFilterArgs5[0],\r\n        options = _parseFilterArgs5[1];\r\n\r\n    var refetchFilters = _extends({}, filters, {\r\n      // if filters.refetchActive is not provided and filters.active is explicitly false,\r\n      // e.g. invalidateQueries({ active: false }), we don't want to refetch active queries\r\n      active: (_ref3 = (_filters$refetchActiv = filters.refetchActive) != null ? _filters$refetchActiv : filters.active) != null ? _ref3 : true,\r\n      inactive: (_filters$refetchInact = filters.refetchInactive) != null ? _filters$refetchInact : false\r\n    });\r\n\r\n    return notifyManager.batch(function () {\r\n      _this5.queryCache.findAll(filters).forEach(function (query) {\r\n        query.invalidate();\r\n      });\r\n\r\n      return _this5.refetchQueries(refetchFilters, options);\r\n    });\r\n  };\r\n\r\n  _proto.refetchQueries = function refetchQueries(arg1, arg2, arg3) {\r\n    var _this6 = this;\r\n\r\n    var _parseFilterArgs6 = parseFilterArgs(arg1, arg2, arg3),\r\n        filters = _parseFilterArgs6[0],\r\n        options = _parseFilterArgs6[1];\r\n\r\n    var promises = notifyManager.batch(function () {\r\n      return _this6.queryCache.findAll(filters).map(function (query) {\r\n        return query.fetch(undefined, _extends({}, options, {\r\n          meta: {\r\n            refetchPage: filters == null ? void 0 : filters.refetchPage\r\n          }\r\n        }));\r\n      });\r\n    });\r\n    var promise = Promise.all(promises).then(noop);\r\n\r\n    if (!(options == null ? void 0 : options.throwOnError)) {\r\n      promise = promise.catch(noop);\r\n    }\r\n\r\n    return promise;\r\n  };\r\n\r\n  _proto.fetchQuery = function fetchQuery(arg1, arg2, arg3) {\r\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\r\n    var defaultedOptions = this.defaultQueryOptions(parsedOptions); // https://github.com/tannerlinsley/react-query/issues/652\r\n\r\n    if (typeof defaultedOptions.retry === 'undefined') {\r\n      defaultedOptions.retry = false;\r\n    }\r\n\r\n    var query = this.queryCache.build(this, defaultedOptions);\r\n    return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\r\n  };\r\n\r\n  _proto.prefetchQuery = function prefetchQuery(arg1, arg2, arg3) {\r\n    return this.fetchQuery(arg1, arg2, arg3).then(noop).catch(noop);\r\n  };\r\n\r\n  _proto.fetchInfiniteQuery = function fetchInfiniteQuery(arg1, arg2, arg3) {\r\n    var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\r\n    parsedOptions.behavior = infiniteQueryBehavior();\r\n    return this.fetchQuery(parsedOptions);\r\n  };\r\n\r\n  _proto.prefetchInfiniteQuery = function prefetchInfiniteQuery(arg1, arg2, arg3) {\r\n    return this.fetchInfiniteQuery(arg1, arg2, arg3).then(noop).catch(noop);\r\n  };\r\n\r\n  _proto.cancelMutations = function cancelMutations() {\r\n    var _this7 = this;\r\n\r\n    var promises = notifyManager.batch(function () {\r\n      return _this7.mutationCache.getAll().map(function (mutation) {\r\n        return mutation.cancel();\r\n      });\r\n    });\r\n    return Promise.all(promises).then(noop).catch(noop);\r\n  };\r\n\r\n  _proto.resumePausedMutations = function resumePausedMutations() {\r\n    return this.getMutationCache().resumePausedMutations();\r\n  };\r\n\r\n  _proto.executeMutation = function executeMutation(options) {\r\n    return this.mutationCache.build(this, options).execute();\r\n  };\r\n\r\n  _proto.getQueryCache = function getQueryCache() {\r\n    return this.queryCache;\r\n  };\r\n\r\n  _proto.getMutationCache = function getMutationCache() {\r\n    return this.mutationCache;\r\n  };\r\n\r\n  _proto.getDefaultOptions = function getDefaultOptions() {\r\n    return this.defaultOptions;\r\n  };\r\n\r\n  _proto.setDefaultOptions = function setDefaultOptions(options) {\r\n    this.defaultOptions = options;\r\n  };\r\n\r\n  _proto.setQueryDefaults = function setQueryDefaults(queryKey, options) {\r\n    var result = this.queryDefaults.find(function (x) {\r\n      return hashQueryKey(queryKey) === hashQueryKey(x.queryKey);\r\n    });\r\n\r\n    if (result) {\r\n      result.defaultOptions = options;\r\n    } else {\r\n      this.queryDefaults.push({\r\n        queryKey: queryKey,\r\n        defaultOptions: options\r\n      });\r\n    }\r\n  };\r\n\r\n  _proto.getQueryDefaults = function getQueryDefaults(queryKey) {\r\n    var _this$queryDefaults$f;\r\n\r\n    return queryKey ? (_this$queryDefaults$f = this.queryDefaults.find(function (x) {\r\n      return partialMatchKey(queryKey, x.queryKey);\r\n    })) == null ? void 0 : _this$queryDefaults$f.defaultOptions : undefined;\r\n  };\r\n\r\n  _proto.setMutationDefaults = function setMutationDefaults(mutationKey, options) {\r\n    var result = this.mutationDefaults.find(function (x) {\r\n      return hashQueryKey(mutationKey) === hashQueryKey(x.mutationKey);\r\n    });\r\n\r\n    if (result) {\r\n      result.defaultOptions = options;\r\n    } else {\r\n      this.mutationDefaults.push({\r\n        mutationKey: mutationKey,\r\n        defaultOptions: options\r\n      });\r\n    }\r\n  };\r\n\r\n  _proto.getMutationDefaults = function getMutationDefaults(mutationKey) {\r\n    var _this$mutationDefault;\r\n\r\n    return mutationKey ? (_this$mutationDefault = this.mutationDefaults.find(function (x) {\r\n      return partialMatchKey(mutationKey, x.mutationKey);\r\n    })) == null ? void 0 : _this$mutationDefault.defaultOptions : undefined;\r\n  };\r\n\r\n  _proto.defaultQueryOptions = function defaultQueryOptions(options) {\r\n    if (options == null ? void 0 : options._defaulted) {\r\n      return options;\r\n    }\r\n\r\n    var defaultedOptions = _extends({}, this.defaultOptions.queries, this.getQueryDefaults(options == null ? void 0 : options.queryKey), options, {\r\n      _defaulted: true\r\n    });\r\n\r\n    if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {\r\n      defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);\r\n    }\r\n\r\n    return defaultedOptions;\r\n  };\r\n\r\n  _proto.defaultQueryObserverOptions = function defaultQueryObserverOptions(options) {\r\n    return this.defaultQueryOptions(options);\r\n  };\r\n\r\n  _proto.defaultMutationOptions = function defaultMutationOptions(options) {\r\n    if (options == null ? void 0 : options._defaulted) {\r\n      return options;\r\n    }\r\n\r\n    return _extends({}, this.defaultOptions.mutations, this.getMutationDefaults(options == null ? void 0 : options.mutationKey), options, {\r\n      _defaulted: true\r\n    });\r\n  };\r\n\r\n  _proto.clear = function clear() {\r\n    this.queryCache.clear();\r\n    this.mutationCache.clear();\r\n  };\r\n\r\n  return QueryClient;\r\n}();", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport { getLogger } from './logger';\r\nimport { notifyManager } from './notifyManager';\r\nimport { Retryer } from './retryer';\r\nimport { noop } from './utils'; // TYPES\r\n\r\n// CLASS\r\nexport var Mutation = /*#__PURE__*/function () {\r\n  function Mutation(config) {\r\n    this.options = _extends({}, config.defaultOptions, config.options);\r\n    this.mutationId = config.mutationId;\r\n    this.mutationCache = config.mutationCache;\r\n    this.observers = [];\r\n    this.state = config.state || getDefaultState();\r\n    this.meta = config.meta;\r\n  }\r\n\r\n  var _proto = Mutation.prototype;\r\n\r\n  _proto.setState = function setState(state) {\r\n    this.dispatch({\r\n      type: 'setState',\r\n      state: state\r\n    });\r\n  };\r\n\r\n  _proto.addObserver = function addObserver(observer) {\r\n    if (this.observers.indexOf(observer) === -1) {\r\n      this.observers.push(observer);\r\n    }\r\n  };\r\n\r\n  _proto.removeObserver = function removeObserver(observer) {\r\n    this.observers = this.observers.filter(function (x) {\r\n      return x !== observer;\r\n    });\r\n  };\r\n\r\n  _proto.cancel = function cancel() {\r\n    if (this.retryer) {\r\n      this.retryer.cancel();\r\n      return this.retryer.promise.then(noop).catch(noop);\r\n    }\r\n\r\n    return Promise.resolve();\r\n  };\r\n\r\n  _proto.continue = function _continue() {\r\n    if (this.retryer) {\r\n      this.retryer.continue();\r\n      return this.retryer.promise;\r\n    }\r\n\r\n    return this.execute();\r\n  };\r\n\r\n  _proto.execute = function execute() {\r\n    var _this = this;\r\n\r\n    var data;\r\n    var restored = this.state.status === 'loading';\r\n    var promise = Promise.resolve();\r\n\r\n    if (!restored) {\r\n      this.dispatch({\r\n        type: 'loading',\r\n        variables: this.options.variables\r\n      });\r\n      promise = promise.then(function () {\r\n        // Notify cache callback\r\n        _this.mutationCache.config.onMutate == null ? void 0 : _this.mutationCache.config.onMutate(_this.state.variables, _this);\r\n      }).then(function () {\r\n        return _this.options.onMutate == null ? void 0 : _this.options.onMutate(_this.state.variables);\r\n      }).then(function (context) {\r\n        if (context !== _this.state.context) {\r\n          _this.dispatch({\r\n            type: 'loading',\r\n            context: context,\r\n            variables: _this.state.variables\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n    return promise.then(function () {\r\n      return _this.executeMutation();\r\n    }).then(function (result) {\r\n      data = result; // Notify cache callback\r\n\r\n      _this.mutationCache.config.onSuccess == null ? void 0 : _this.mutationCache.config.onSuccess(data, _this.state.variables, _this.state.context, _this);\r\n    }).then(function () {\r\n      return _this.options.onSuccess == null ? void 0 : _this.options.onSuccess(data, _this.state.variables, _this.state.context);\r\n    }).then(function () {\r\n      return _this.options.onSettled == null ? void 0 : _this.options.onSettled(data, null, _this.state.variables, _this.state.context);\r\n    }).then(function () {\r\n      _this.dispatch({\r\n        type: 'success',\r\n        data: data\r\n      });\r\n\r\n      return data;\r\n    }).catch(function (error) {\r\n      // Notify cache callback\r\n      _this.mutationCache.config.onError == null ? void 0 : _this.mutationCache.config.onError(error, _this.state.variables, _this.state.context, _this); // Log error\r\n\r\n      getLogger().error(error);\r\n      return Promise.resolve().then(function () {\r\n        return _this.options.onError == null ? void 0 : _this.options.onError(error, _this.state.variables, _this.state.context);\r\n      }).then(function () {\r\n        return _this.options.onSettled == null ? void 0 : _this.options.onSettled(undefined, error, _this.state.variables, _this.state.context);\r\n      }).then(function () {\r\n        _this.dispatch({\r\n          type: 'error',\r\n          error: error\r\n        });\r\n\r\n        throw error;\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto.executeMutation = function executeMutation() {\r\n    var _this2 = this,\r\n        _this$options$retry;\r\n\r\n    this.retryer = new Retryer({\r\n      fn: function fn() {\r\n        if (!_this2.options.mutationFn) {\r\n          return Promise.reject('No mutationFn found');\r\n        }\r\n\r\n        return _this2.options.mutationFn(_this2.state.variables);\r\n      },\r\n      onFail: function onFail() {\r\n        _this2.dispatch({\r\n          type: 'failed'\r\n        });\r\n      },\r\n      onPause: function onPause() {\r\n        _this2.dispatch({\r\n          type: 'pause'\r\n        });\r\n      },\r\n      onContinue: function onContinue() {\r\n        _this2.dispatch({\r\n          type: 'continue'\r\n        });\r\n      },\r\n      retry: (_this$options$retry = this.options.retry) != null ? _this$options$retry : 0,\r\n      retryDelay: this.options.retryDelay\r\n    });\r\n    return this.retryer.promise;\r\n  };\r\n\r\n  _proto.dispatch = function dispatch(action) {\r\n    var _this3 = this;\r\n\r\n    this.state = reducer(this.state, action);\r\n    notifyManager.batch(function () {\r\n      _this3.observers.forEach(function (observer) {\r\n        observer.onMutationUpdate(action);\r\n      });\r\n\r\n      _this3.mutationCache.notify(_this3);\r\n    });\r\n  };\r\n\r\n  return Mutation;\r\n}();\r\nexport function getDefaultState() {\r\n  return {\r\n    context: undefined,\r\n    data: undefined,\r\n    error: null,\r\n    failureCount: 0,\r\n    isPaused: false,\r\n    status: 'idle',\r\n    variables: undefined\r\n  };\r\n}\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case 'failed':\r\n      return _extends({}, state, {\r\n        failureCount: state.failureCount + 1\r\n      });\r\n\r\n    case 'pause':\r\n      return _extends({}, state, {\r\n        isPaused: true\r\n      });\r\n\r\n    case 'continue':\r\n      return _extends({}, state, {\r\n        isPaused: false\r\n      });\r\n\r\n    case 'loading':\r\n      return _extends({}, state, {\r\n        context: action.context,\r\n        data: undefined,\r\n        error: null,\r\n        isPaused: false,\r\n        status: 'loading',\r\n        variables: action.variables\r\n      });\r\n\r\n    case 'success':\r\n      return _extends({}, state, {\r\n        data: action.data,\r\n        error: null,\r\n        status: 'success',\r\n        isPaused: false\r\n      });\r\n\r\n    case 'error':\r\n      return _extends({}, state, {\r\n        data: undefined,\r\n        error: action.error,\r\n        failureCount: state.failureCount + 1,\r\n        isPaused: false,\r\n        status: 'error'\r\n      });\r\n\r\n    case 'setState':\r\n      return _extends({}, state, action.state);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}", "import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\r\nimport { notifyManager } from './notifyManager';\r\nimport { Mutation } from './mutation';\r\nimport { matchMutation, noop } from './utils';\r\nimport { Subscribable } from './subscribable'; // TYPES\r\n\r\n// CLASS\r\nexport var MutationCache = /*#__PURE__*/function (_Subscribable) {\r\n  _inheritsLoose(MutationCache, _Subscribable);\r\n\r\n  function MutationCache(config) {\r\n    var _this;\r\n\r\n    _this = _Subscribable.call(this) || this;\r\n    _this.config = config || {};\r\n    _this.mutations = [];\r\n    _this.mutationId = 0;\r\n    return _this;\r\n  }\r\n\r\n  var _proto = MutationCache.prototype;\r\n\r\n  _proto.build = function build(client, options, state) {\r\n    var mutation = new Mutation({\r\n      mutationCache: this,\r\n      mutationId: ++this.mutationId,\r\n      options: client.defaultMutationOptions(options),\r\n      state: state,\r\n      defaultOptions: options.mutationKey ? client.getMutationDefaults(options.mutationKey) : undefined,\r\n      meta: options.meta\r\n    });\r\n    this.add(mutation);\r\n    return mutation;\r\n  };\r\n\r\n  _proto.add = function add(mutation) {\r\n    this.mutations.push(mutation);\r\n    this.notify(mutation);\r\n  };\r\n\r\n  _proto.remove = function remove(mutation) {\r\n    this.mutations = this.mutations.filter(function (x) {\r\n      return x !== mutation;\r\n    });\r\n    mutation.cancel();\r\n    this.notify(mutation);\r\n  };\r\n\r\n  _proto.clear = function clear() {\r\n    var _this2 = this;\r\n\r\n    notifyManager.batch(function () {\r\n      _this2.mutations.forEach(function (mutation) {\r\n        _this2.remove(mutation);\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto.getAll = function getAll() {\r\n    return this.mutations;\r\n  };\r\n\r\n  _proto.find = function find(filters) {\r\n    if (typeof filters.exact === 'undefined') {\r\n      filters.exact = true;\r\n    }\r\n\r\n    return this.mutations.find(function (mutation) {\r\n      return matchMutation(filters, mutation);\r\n    });\r\n  };\r\n\r\n  _proto.findAll = function findAll(filters) {\r\n    return this.mutations.filter(function (mutation) {\r\n      return matchMutation(filters, mutation);\r\n    });\r\n  };\r\n\r\n  _proto.notify = function notify(mutation) {\r\n    var _this3 = this;\r\n\r\n    notifyManager.batch(function () {\r\n      _this3.listeners.forEach(function (listener) {\r\n        listener(mutation);\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto.onFocus = function onFocus() {\r\n    this.resumePausedMutations();\r\n  };\r\n\r\n  _proto.onOnline = function onOnline() {\r\n    this.resumePausedMutations();\r\n  };\r\n\r\n  _proto.resumePausedMutations = function resumePausedMutations() {\r\n    var pausedMutations = this.mutations.filter(function (x) {\r\n      return x.state.isPaused;\r\n    });\r\n    return notifyManager.batch(function () {\r\n      return pausedMutations.reduce(function (promise, mutation) {\r\n        return promise.then(function () {\r\n          return mutation.continue().catch(noop);\r\n        });\r\n      }, Promise.resolve());\r\n    });\r\n  };\r\n\r\n  return MutationCache;\r\n}(Subscribable);", "import { isCancelable } from './retryer';\r\nimport { getAbortController } from './utils';\r\nexport function infiniteQueryBehavior() {\r\n  return {\r\n    onFetch: function onFetch(context) {\r\n      context.fetchFn = function () {\r\n        var _context$fetchOptions, _context$fetchOptions2, _context$fetchOptions3, _context$fetchOptions4, _context$state$data, _context$state$data2;\r\n\r\n        var refetchPage = (_context$fetchOptions = context.fetchOptions) == null ? void 0 : (_context$fetchOptions2 = _context$fetchOptions.meta) == null ? void 0 : _context$fetchOptions2.refetchPage;\r\n        var fetchMore = (_context$fetchOptions3 = context.fetchOptions) == null ? void 0 : (_context$fetchOptions4 = _context$fetchOptions3.meta) == null ? void 0 : _context$fetchOptions4.fetchMore;\r\n        var pageParam = fetchMore == null ? void 0 : fetchMore.pageParam;\r\n        var isFetchingNextPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'forward';\r\n        var isFetchingPreviousPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'backward';\r\n        var oldPages = ((_context$state$data = context.state.data) == null ? void 0 : _context$state$data.pages) || [];\r\n        var oldPageParams = ((_context$state$data2 = context.state.data) == null ? void 0 : _context$state$data2.pageParams) || [];\r\n        var abortController = getAbortController();\r\n        var abortSignal = abortController == null ? void 0 : abortController.signal;\r\n        var newPageParams = oldPageParams;\r\n        var cancelled = false; // Get query function\r\n\r\n        var queryFn = context.options.queryFn || function () {\r\n          return Promise.reject('Missing queryFn');\r\n        };\r\n\r\n        var buildNewPages = function buildNewPages(pages, param, page, previous) {\r\n          newPageParams = previous ? [param].concat(newPageParams) : [].concat(newPageParams, [param]);\r\n          return previous ? [page].concat(pages) : [].concat(pages, [page]);\r\n        }; // Create function to fetch a page\r\n\r\n\r\n        var fetchPage = function fetchPage(pages, manual, param, previous) {\r\n          if (cancelled) {\r\n            return Promise.reject('Cancelled');\r\n          }\r\n\r\n          if (typeof param === 'undefined' && !manual && pages.length) {\r\n            return Promise.resolve(pages);\r\n          }\r\n\r\n          var queryFnContext = {\r\n            queryKey: context.queryKey,\r\n            signal: abortSignal,\r\n            pageParam: param,\r\n            meta: context.meta\r\n          };\r\n          var queryFnResult = queryFn(queryFnContext);\r\n          var promise = Promise.resolve(queryFnResult).then(function (page) {\r\n            return buildNewPages(pages, param, page, previous);\r\n          });\r\n\r\n          if (isCancelable(queryFnResult)) {\r\n            var promiseAsAny = promise;\r\n            promiseAsAny.cancel = queryFnResult.cancel;\r\n          }\r\n\r\n          return promise;\r\n        };\r\n\r\n        var promise; // Fetch first page?\r\n\r\n        if (!oldPages.length) {\r\n          promise = fetchPage([]);\r\n        } // Fetch next page?\r\n        else if (isFetchingNextPage) {\r\n            var manual = typeof pageParam !== 'undefined';\r\n            var param = manual ? pageParam : getNextPageParam(context.options, oldPages);\r\n            promise = fetchPage(oldPages, manual, param);\r\n          } // Fetch previous page?\r\n          else if (isFetchingPreviousPage) {\r\n              var _manual = typeof pageParam !== 'undefined';\r\n\r\n              var _param = _manual ? pageParam : getPreviousPageParam(context.options, oldPages);\r\n\r\n              promise = fetchPage(oldPages, _manual, _param, true);\r\n            } // Refetch pages\r\n            else {\r\n                (function () {\r\n                  newPageParams = [];\r\n                  var manual = typeof context.options.getNextPageParam === 'undefined';\r\n                  var shouldFetchFirstPage = refetchPage && oldPages[0] ? refetchPage(oldPages[0], 0, oldPages) : true; // Fetch first page\r\n\r\n                  promise = shouldFetchFirstPage ? fetchPage([], manual, oldPageParams[0]) : Promise.resolve(buildNewPages([], oldPageParams[0], oldPages[0])); // Fetch remaining pages\r\n\r\n                  var _loop = function _loop(i) {\r\n                    promise = promise.then(function (pages) {\r\n                      var shouldFetchNextPage = refetchPage && oldPages[i] ? refetchPage(oldPages[i], i, oldPages) : true;\r\n\r\n                      if (shouldFetchNextPage) {\r\n                        var _param2 = manual ? oldPageParams[i] : getNextPageParam(context.options, pages);\r\n\r\n                        return fetchPage(pages, manual, _param2);\r\n                      }\r\n\r\n                      return Promise.resolve(buildNewPages(pages, oldPageParams[i], oldPages[i]));\r\n                    });\r\n                  };\r\n\r\n                  for (var i = 1; i < oldPages.length; i++) {\r\n                    _loop(i);\r\n                  }\r\n                })();\r\n              }\r\n\r\n        var finalPromise = promise.then(function (pages) {\r\n          return {\r\n            pages: pages,\r\n            pageParams: newPageParams\r\n          };\r\n        });\r\n        var finalPromiseAsAny = finalPromise;\r\n\r\n        finalPromiseAsAny.cancel = function () {\r\n          cancelled = true;\r\n          abortController == null ? void 0 : abortController.abort();\r\n\r\n          if (isCancelable(promise)) {\r\n            promise.cancel();\r\n          }\r\n        };\r\n\r\n        return finalPromise;\r\n      };\r\n    }\r\n  };\r\n}\r\nexport function getNextPageParam(options, pages) {\r\n  return options.getNextPageParam == null ? void 0 : options.getNextPageParam(pages[pages.length - 1], pages);\r\n}\r\nexport function getPreviousPageParam(options, pages) {\r\n  return options.getPreviousPageParam == null ? void 0 : options.getPreviousPageParam(pages[0], pages);\r\n}\r\n/**\r\n * Checks if there is a next page.\r\n * Returns `undefined` if it cannot be determined.\r\n */\r\n\r\nexport function hasNextPage(options, pages) {\r\n  if (options.getNextPageParam && Array.isArray(pages)) {\r\n    var nextPageParam = getNextPageParam(options, pages);\r\n    return typeof nextPageParam !== 'undefined' && nextPageParam !== null && nextPageParam !== false;\r\n  }\r\n}\r\n/**\r\n * Checks if there is a previous page.\r\n * Returns `undefined` if it cannot be determined.\r\n */\r\n\r\nexport function hasPreviousPage(options, pages) {\r\n  if (options.getPreviousPageParam && Array.isArray(pages)) {\r\n    var previousPageParam = getPreviousPageParam(options, pages);\r\n    return typeof previousPageParam !== 'undefined' && previousPageParam !== null && previousPageParam !== false;\r\n  }\r\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\r\nimport { isServer, isValidTimeout, noop, replaceEqualDeep, shallowEqualObjects, timeUntilStale } from './utils';\r\nimport { notifyManager } from './notifyManager';\r\nimport { focusManager } from './focusManager';\r\nimport { Subscribable } from './subscribable';\r\nimport { getLogger } from './logger';\r\nimport { isCancelledError } from './retryer';\r\nexport var QueryObserver = /*#__PURE__*/function (_Subscribable) {\r\n  _inheritsLoose(QueryObserver, _Subscribable);\r\n\r\n  function QueryObserver(client, options) {\r\n    var _this;\r\n\r\n    _this = _Subscribable.call(this) || this;\r\n    _this.client = client;\r\n    _this.options = options;\r\n    _this.trackedProps = [];\r\n    _this.selectError = null;\r\n\r\n    _this.bindMethods();\r\n\r\n    _this.setOptions(options);\r\n\r\n    return _this;\r\n  }\r\n\r\n  var _proto = QueryObserver.prototype;\r\n\r\n  _proto.bindMethods = function bindMethods() {\r\n    this.remove = this.remove.bind(this);\r\n    this.refetch = this.refetch.bind(this);\r\n  };\r\n\r\n  _proto.onSubscribe = function onSubscribe() {\r\n    if (this.listeners.length === 1) {\r\n      this.currentQuery.addObserver(this);\r\n\r\n      if (shouldFetchOnMount(this.currentQuery, this.options)) {\r\n        this.executeFetch();\r\n      }\r\n\r\n      this.updateTimers();\r\n    }\r\n  };\r\n\r\n  _proto.onUnsubscribe = function onUnsubscribe() {\r\n    if (!this.listeners.length) {\r\n      this.destroy();\r\n    }\r\n  };\r\n\r\n  _proto.shouldFetchOnReconnect = function shouldFetchOnReconnect() {\r\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnReconnect);\r\n  };\r\n\r\n  _proto.shouldFetchOnWindowFocus = function shouldFetchOnWindowFocus() {\r\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnWindowFocus);\r\n  };\r\n\r\n  _proto.destroy = function destroy() {\r\n    this.listeners = [];\r\n    this.clearTimers();\r\n    this.currentQuery.removeObserver(this);\r\n  };\r\n\r\n  _proto.setOptions = function setOptions(options, notifyOptions) {\r\n    var prevOptions = this.options;\r\n    var prevQuery = this.currentQuery;\r\n    this.options = this.client.defaultQueryObserverOptions(options);\r\n\r\n    if (typeof this.options.enabled !== 'undefined' && typeof this.options.enabled !== 'boolean') {\r\n      throw new Error('Expected enabled to be a boolean');\r\n    } // Keep previous query key if the user does not supply one\r\n\r\n\r\n    if (!this.options.queryKey) {\r\n      this.options.queryKey = prevOptions.queryKey;\r\n    }\r\n\r\n    this.updateQuery();\r\n    var mounted = this.hasListeners(); // Fetch if there are subscribers\r\n\r\n    if (mounted && shouldFetchOptionally(this.currentQuery, prevQuery, this.options, prevOptions)) {\r\n      this.executeFetch();\r\n    } // Update result\r\n\r\n\r\n    this.updateResult(notifyOptions); // Update stale interval if needed\r\n\r\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || this.options.staleTime !== prevOptions.staleTime)) {\r\n      this.updateStaleTimeout();\r\n    }\r\n\r\n    var nextRefetchInterval = this.computeRefetchInterval(); // Update refetch interval if needed\r\n\r\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || nextRefetchInterval !== this.currentRefetchInterval)) {\r\n      this.updateRefetchInterval(nextRefetchInterval);\r\n    }\r\n  };\r\n\r\n  _proto.getOptimisticResult = function getOptimisticResult(options) {\r\n    var defaultedOptions = this.client.defaultQueryObserverOptions(options);\r\n    var query = this.client.getQueryCache().build(this.client, defaultedOptions);\r\n    return this.createResult(query, defaultedOptions);\r\n  };\r\n\r\n  _proto.getCurrentResult = function getCurrentResult() {\r\n    return this.currentResult;\r\n  };\r\n\r\n  _proto.trackResult = function trackResult(result, defaultedOptions) {\r\n    var _this2 = this;\r\n\r\n    var trackedResult = {};\r\n\r\n    var trackProp = function trackProp(key) {\r\n      if (!_this2.trackedProps.includes(key)) {\r\n        _this2.trackedProps.push(key);\r\n      }\r\n    };\r\n\r\n    Object.keys(result).forEach(function (key) {\r\n      Object.defineProperty(trackedResult, key, {\r\n        configurable: false,\r\n        enumerable: true,\r\n        get: function get() {\r\n          trackProp(key);\r\n          return result[key];\r\n        }\r\n      });\r\n    });\r\n\r\n    if (defaultedOptions.useErrorBoundary || defaultedOptions.suspense) {\r\n      trackProp('error');\r\n    }\r\n\r\n    return trackedResult;\r\n  };\r\n\r\n  _proto.getNextResult = function getNextResult(options) {\r\n    var _this3 = this;\r\n\r\n    return new Promise(function (resolve, reject) {\r\n      var unsubscribe = _this3.subscribe(function (result) {\r\n        if (!result.isFetching) {\r\n          unsubscribe();\r\n\r\n          if (result.isError && (options == null ? void 0 : options.throwOnError)) {\r\n            reject(result.error);\r\n          } else {\r\n            resolve(result);\r\n          }\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  _proto.getCurrentQuery = function getCurrentQuery() {\r\n    return this.currentQuery;\r\n  };\r\n\r\n  _proto.remove = function remove() {\r\n    this.client.getQueryCache().remove(this.currentQuery);\r\n  };\r\n\r\n  _proto.refetch = function refetch(options) {\r\n    return this.fetch(_extends({}, options, {\r\n      meta: {\r\n        refetchPage: options == null ? void 0 : options.refetchPage\r\n      }\r\n    }));\r\n  };\r\n\r\n  _proto.fetchOptimistic = function fetchOptimistic(options) {\r\n    var _this4 = this;\r\n\r\n    var defaultedOptions = this.client.defaultQueryObserverOptions(options);\r\n    var query = this.client.getQueryCache().build(this.client, defaultedOptions);\r\n    return query.fetch().then(function () {\r\n      return _this4.createResult(query, defaultedOptions);\r\n    });\r\n  };\r\n\r\n  _proto.fetch = function fetch(fetchOptions) {\r\n    var _this5 = this;\r\n\r\n    return this.executeFetch(fetchOptions).then(function () {\r\n      _this5.updateResult();\r\n\r\n      return _this5.currentResult;\r\n    });\r\n  };\r\n\r\n  _proto.executeFetch = function executeFetch(fetchOptions) {\r\n    // Make sure we reference the latest query as the current one might have been removed\r\n    this.updateQuery(); // Fetch\r\n\r\n    var promise = this.currentQuery.fetch(this.options, fetchOptions);\r\n\r\n    if (!(fetchOptions == null ? void 0 : fetchOptions.throwOnError)) {\r\n      promise = promise.catch(noop);\r\n    }\r\n\r\n    return promise;\r\n  };\r\n\r\n  _proto.updateStaleTimeout = function updateStaleTimeout() {\r\n    var _this6 = this;\r\n\r\n    this.clearStaleTimeout();\r\n\r\n    if (isServer || this.currentResult.isStale || !isValidTimeout(this.options.staleTime)) {\r\n      return;\r\n    }\r\n\r\n    var time = timeUntilStale(this.currentResult.dataUpdatedAt, this.options.staleTime); // The timeout is sometimes triggered 1 ms before the stale time expiration.\r\n    // To mitigate this issue we always add 1 ms to the timeout.\r\n\r\n    var timeout = time + 1;\r\n    this.staleTimeoutId = setTimeout(function () {\r\n      if (!_this6.currentResult.isStale) {\r\n        _this6.updateResult();\r\n      }\r\n    }, timeout);\r\n  };\r\n\r\n  _proto.computeRefetchInterval = function computeRefetchInterval() {\r\n    var _this$options$refetch;\r\n\r\n    return typeof this.options.refetchInterval === 'function' ? this.options.refetchInterval(this.currentResult.data, this.currentQuery) : (_this$options$refetch = this.options.refetchInterval) != null ? _this$options$refetch : false;\r\n  };\r\n\r\n  _proto.updateRefetchInterval = function updateRefetchInterval(nextInterval) {\r\n    var _this7 = this;\r\n\r\n    this.clearRefetchInterval();\r\n    this.currentRefetchInterval = nextInterval;\r\n\r\n    if (isServer || this.options.enabled === false || !isValidTimeout(this.currentRefetchInterval) || this.currentRefetchInterval === 0) {\r\n      return;\r\n    }\r\n\r\n    this.refetchIntervalId = setInterval(function () {\r\n      if (_this7.options.refetchIntervalInBackground || focusManager.isFocused()) {\r\n        _this7.executeFetch();\r\n      }\r\n    }, this.currentRefetchInterval);\r\n  };\r\n\r\n  _proto.updateTimers = function updateTimers() {\r\n    this.updateStaleTimeout();\r\n    this.updateRefetchInterval(this.computeRefetchInterval());\r\n  };\r\n\r\n  _proto.clearTimers = function clearTimers() {\r\n    this.clearStaleTimeout();\r\n    this.clearRefetchInterval();\r\n  };\r\n\r\n  _proto.clearStaleTimeout = function clearStaleTimeout() {\r\n    if (this.staleTimeoutId) {\r\n      clearTimeout(this.staleTimeoutId);\r\n      this.staleTimeoutId = undefined;\r\n    }\r\n  };\r\n\r\n  _proto.clearRefetchInterval = function clearRefetchInterval() {\r\n    if (this.refetchIntervalId) {\r\n      clearInterval(this.refetchIntervalId);\r\n      this.refetchIntervalId = undefined;\r\n    }\r\n  };\r\n\r\n  _proto.createResult = function createResult(query, options) {\r\n    var prevQuery = this.currentQuery;\r\n    var prevOptions = this.options;\r\n    var prevResult = this.currentResult;\r\n    var prevResultState = this.currentResultState;\r\n    var prevResultOptions = this.currentResultOptions;\r\n    var queryChange = query !== prevQuery;\r\n    var queryInitialState = queryChange ? query.state : this.currentQueryInitialState;\r\n    var prevQueryResult = queryChange ? this.currentResult : this.previousQueryResult;\r\n    var state = query.state;\r\n    var dataUpdatedAt = state.dataUpdatedAt,\r\n        error = state.error,\r\n        errorUpdatedAt = state.errorUpdatedAt,\r\n        isFetching = state.isFetching,\r\n        status = state.status;\r\n    var isPreviousData = false;\r\n    var isPlaceholderData = false;\r\n    var data; // Optimistically set result in fetching state if needed\r\n\r\n    if (options.optimisticResults) {\r\n      var mounted = this.hasListeners();\r\n      var fetchOnMount = !mounted && shouldFetchOnMount(query, options);\r\n      var fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);\r\n\r\n      if (fetchOnMount || fetchOptionally) {\r\n        isFetching = true;\r\n\r\n        if (!dataUpdatedAt) {\r\n          status = 'loading';\r\n        }\r\n      }\r\n    } // Keep previous data if needed\r\n\r\n\r\n    if (options.keepPreviousData && !state.dataUpdateCount && (prevQueryResult == null ? void 0 : prevQueryResult.isSuccess) && status !== 'error') {\r\n      data = prevQueryResult.data;\r\n      dataUpdatedAt = prevQueryResult.dataUpdatedAt;\r\n      status = prevQueryResult.status;\r\n      isPreviousData = true;\r\n    } // Select data if needed\r\n    else if (options.select && typeof state.data !== 'undefined') {\r\n        // Memoize select result\r\n        if (prevResult && state.data === (prevResultState == null ? void 0 : prevResultState.data) && options.select === this.selectFn) {\r\n          data = this.selectResult;\r\n        } else {\r\n          try {\r\n            this.selectFn = options.select;\r\n            data = options.select(state.data);\r\n\r\n            if (options.structuralSharing !== false) {\r\n              data = replaceEqualDeep(prevResult == null ? void 0 : prevResult.data, data);\r\n            }\r\n\r\n            this.selectResult = data;\r\n            this.selectError = null;\r\n          } catch (selectError) {\r\n            getLogger().error(selectError);\r\n            this.selectError = selectError;\r\n          }\r\n        }\r\n      } // Use query data\r\n      else {\r\n          data = state.data;\r\n        } // Show placeholder data if needed\r\n\r\n\r\n    if (typeof options.placeholderData !== 'undefined' && typeof data === 'undefined' && (status === 'loading' || status === 'idle')) {\r\n      var placeholderData; // Memoize placeholder data\r\n\r\n      if ((prevResult == null ? void 0 : prevResult.isPlaceholderData) && options.placeholderData === (prevResultOptions == null ? void 0 : prevResultOptions.placeholderData)) {\r\n        placeholderData = prevResult.data;\r\n      } else {\r\n        placeholderData = typeof options.placeholderData === 'function' ? options.placeholderData() : options.placeholderData;\r\n\r\n        if (options.select && typeof placeholderData !== 'undefined') {\r\n          try {\r\n            placeholderData = options.select(placeholderData);\r\n\r\n            if (options.structuralSharing !== false) {\r\n              placeholderData = replaceEqualDeep(prevResult == null ? void 0 : prevResult.data, placeholderData);\r\n            }\r\n\r\n            this.selectError = null;\r\n          } catch (selectError) {\r\n            getLogger().error(selectError);\r\n            this.selectError = selectError;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (typeof placeholderData !== 'undefined') {\r\n        status = 'success';\r\n        data = placeholderData;\r\n        isPlaceholderData = true;\r\n      }\r\n    }\r\n\r\n    if (this.selectError) {\r\n      error = this.selectError;\r\n      data = this.selectResult;\r\n      errorUpdatedAt = Date.now();\r\n      status = 'error';\r\n    }\r\n\r\n    var result = {\r\n      status: status,\r\n      isLoading: status === 'loading',\r\n      isSuccess: status === 'success',\r\n      isError: status === 'error',\r\n      isIdle: status === 'idle',\r\n      data: data,\r\n      dataUpdatedAt: dataUpdatedAt,\r\n      error: error,\r\n      errorUpdatedAt: errorUpdatedAt,\r\n      failureCount: state.fetchFailureCount,\r\n      errorUpdateCount: state.errorUpdateCount,\r\n      isFetched: state.dataUpdateCount > 0 || state.errorUpdateCount > 0,\r\n      isFetchedAfterMount: state.dataUpdateCount > queryInitialState.dataUpdateCount || state.errorUpdateCount > queryInitialState.errorUpdateCount,\r\n      isFetching: isFetching,\r\n      isRefetching: isFetching && status !== 'loading',\r\n      isLoadingError: status === 'error' && state.dataUpdatedAt === 0,\r\n      isPlaceholderData: isPlaceholderData,\r\n      isPreviousData: isPreviousData,\r\n      isRefetchError: status === 'error' && state.dataUpdatedAt !== 0,\r\n      isStale: isStale(query, options),\r\n      refetch: this.refetch,\r\n      remove: this.remove\r\n    };\r\n    return result;\r\n  };\r\n\r\n  _proto.shouldNotifyListeners = function shouldNotifyListeners(result, prevResult) {\r\n    if (!prevResult) {\r\n      return true;\r\n    }\r\n\r\n    var _this$options = this.options,\r\n        notifyOnChangeProps = _this$options.notifyOnChangeProps,\r\n        notifyOnChangePropsExclusions = _this$options.notifyOnChangePropsExclusions;\r\n\r\n    if (!notifyOnChangeProps && !notifyOnChangePropsExclusions) {\r\n      return true;\r\n    }\r\n\r\n    if (notifyOnChangeProps === 'tracked' && !this.trackedProps.length) {\r\n      return true;\r\n    }\r\n\r\n    var includedProps = notifyOnChangeProps === 'tracked' ? this.trackedProps : notifyOnChangeProps;\r\n    return Object.keys(result).some(function (key) {\r\n      var typedKey = key;\r\n      var changed = result[typedKey] !== prevResult[typedKey];\r\n      var isIncluded = includedProps == null ? void 0 : includedProps.some(function (x) {\r\n        return x === key;\r\n      });\r\n      var isExcluded = notifyOnChangePropsExclusions == null ? void 0 : notifyOnChangePropsExclusions.some(function (x) {\r\n        return x === key;\r\n      });\r\n      return changed && !isExcluded && (!includedProps || isIncluded);\r\n    });\r\n  };\r\n\r\n  _proto.updateResult = function updateResult(notifyOptions) {\r\n    var prevResult = this.currentResult;\r\n    this.currentResult = this.createResult(this.currentQuery, this.options);\r\n    this.currentResultState = this.currentQuery.state;\r\n    this.currentResultOptions = this.options; // Only notify if something has changed\r\n\r\n    if (shallowEqualObjects(this.currentResult, prevResult)) {\r\n      return;\r\n    } // Determine which callbacks to trigger\r\n\r\n\r\n    var defaultNotifyOptions = {\r\n      cache: true\r\n    };\r\n\r\n    if ((notifyOptions == null ? void 0 : notifyOptions.listeners) !== false && this.shouldNotifyListeners(this.currentResult, prevResult)) {\r\n      defaultNotifyOptions.listeners = true;\r\n    }\r\n\r\n    this.notify(_extends({}, defaultNotifyOptions, notifyOptions));\r\n  };\r\n\r\n  _proto.updateQuery = function updateQuery() {\r\n    var query = this.client.getQueryCache().build(this.client, this.options);\r\n\r\n    if (query === this.currentQuery) {\r\n      return;\r\n    }\r\n\r\n    var prevQuery = this.currentQuery;\r\n    this.currentQuery = query;\r\n    this.currentQueryInitialState = query.state;\r\n    this.previousQueryResult = this.currentResult;\r\n\r\n    if (this.hasListeners()) {\r\n      prevQuery == null ? void 0 : prevQuery.removeObserver(this);\r\n      query.addObserver(this);\r\n    }\r\n  };\r\n\r\n  _proto.onQueryUpdate = function onQueryUpdate(action) {\r\n    var notifyOptions = {};\r\n\r\n    if (action.type === 'success') {\r\n      notifyOptions.onSuccess = true;\r\n    } else if (action.type === 'error' && !isCancelledError(action.error)) {\r\n      notifyOptions.onError = true;\r\n    }\r\n\r\n    this.updateResult(notifyOptions);\r\n\r\n    if (this.hasListeners()) {\r\n      this.updateTimers();\r\n    }\r\n  };\r\n\r\n  _proto.notify = function notify(notifyOptions) {\r\n    var _this8 = this;\r\n\r\n    notifyManager.batch(function () {\r\n      // First trigger the configuration callbacks\r\n      if (notifyOptions.onSuccess) {\r\n        _this8.options.onSuccess == null ? void 0 : _this8.options.onSuccess(_this8.currentResult.data);\r\n        _this8.options.onSettled == null ? void 0 : _this8.options.onSettled(_this8.currentResult.data, null);\r\n      } else if (notifyOptions.onError) {\r\n        _this8.options.onError == null ? void 0 : _this8.options.onError(_this8.currentResult.error);\r\n        _this8.options.onSettled == null ? void 0 : _this8.options.onSettled(undefined, _this8.currentResult.error);\r\n      } // Then trigger the listeners\r\n\r\n\r\n      if (notifyOptions.listeners) {\r\n        _this8.listeners.forEach(function (listener) {\r\n          listener(_this8.currentResult);\r\n        });\r\n      } // Then the cache listeners\r\n\r\n\r\n      if (notifyOptions.cache) {\r\n        _this8.client.getQueryCache().notify({\r\n          query: _this8.currentQuery,\r\n          type: 'observerResultsUpdated'\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return QueryObserver;\r\n}(Subscribable);\r\n\r\nfunction shouldLoadOnMount(query, options) {\r\n  return options.enabled !== false && !query.state.dataUpdatedAt && !(query.state.status === 'error' && options.retryOnMount === false);\r\n}\r\n\r\nfunction shouldFetchOnMount(query, options) {\r\n  return shouldLoadOnMount(query, options) || query.state.dataUpdatedAt > 0 && shouldFetchOn(query, options, options.refetchOnMount);\r\n}\r\n\r\nfunction shouldFetchOn(query, options, field) {\r\n  if (options.enabled !== false) {\r\n    var value = typeof field === 'function' ? field(query) : field;\r\n    return value === 'always' || value !== false && isStale(query, options);\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction shouldFetchOptionally(query, prevQuery, options, prevOptions) {\r\n  return options.enabled !== false && (query !== prevQuery || prevOptions.enabled === false) && (!options.suspense || query.state.status !== 'error') && isStale(query, options);\r\n}\r\n\r\nfunction isStale(query, options) {\r\n  return query.isStaleByTime(options.staleTime);\r\n}", "import _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\r\nimport { difference, replaceAt } from './utils';\r\nimport { notifyManager } from './notifyManager';\r\nimport { QueryObserver } from './queryObserver';\r\nimport { Subscribable } from './subscribable';\r\nexport var QueriesObserver = /*#__PURE__*/function (_Subscribable) {\r\n  _inheritsLoose(QueriesObserver, _Subscribable);\r\n\r\n  function QueriesObserver(client, queries) {\r\n    var _this;\r\n\r\n    _this = _Subscribable.call(this) || this;\r\n    _this.client = client;\r\n    _this.queries = [];\r\n    _this.result = [];\r\n    _this.observers = [];\r\n    _this.observersMap = {};\r\n\r\n    if (queries) {\r\n      _this.setQueries(queries);\r\n    }\r\n\r\n    return _this;\r\n  }\r\n\r\n  var _proto = QueriesObserver.prototype;\r\n\r\n  _proto.onSubscribe = function onSubscribe() {\r\n    var _this2 = this;\r\n\r\n    if (this.listeners.length === 1) {\r\n      this.observers.forEach(function (observer) {\r\n        observer.subscribe(function (result) {\r\n          _this2.onUpdate(observer, result);\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  _proto.onUnsubscribe = function onUnsubscribe() {\r\n    if (!this.listeners.length) {\r\n      this.destroy();\r\n    }\r\n  };\r\n\r\n  _proto.destroy = function destroy() {\r\n    this.listeners = [];\r\n    this.observers.forEach(function (observer) {\r\n      observer.destroy();\r\n    });\r\n  };\r\n\r\n  _proto.setQueries = function setQueries(queries, notifyOptions) {\r\n    this.queries = queries;\r\n    this.updateObservers(notifyOptions);\r\n  };\r\n\r\n  _proto.getCurrentResult = function getCurrentResult() {\r\n    return this.result;\r\n  };\r\n\r\n  _proto.getOptimisticResult = function getOptimisticResult(queries) {\r\n    return this.findMatchingObservers(queries).map(function (match) {\r\n      return match.observer.getOptimisticResult(match.defaultedQueryOptions);\r\n    });\r\n  };\r\n\r\n  _proto.findMatchingObservers = function findMatchingObservers(queries) {\r\n    var _this3 = this;\r\n\r\n    var prevObservers = this.observers;\r\n    var defaultedQueryOptions = queries.map(function (options) {\r\n      return _this3.client.defaultQueryObserverOptions(options);\r\n    });\r\n    var matchingObservers = defaultedQueryOptions.flatMap(function (defaultedOptions) {\r\n      var match = prevObservers.find(function (observer) {\r\n        return observer.options.queryHash === defaultedOptions.queryHash;\r\n      });\r\n\r\n      if (match != null) {\r\n        return [{\r\n          defaultedQueryOptions: defaultedOptions,\r\n          observer: match\r\n        }];\r\n      }\r\n\r\n      return [];\r\n    });\r\n    var matchedQueryHashes = matchingObservers.map(function (match) {\r\n      return match.defaultedQueryOptions.queryHash;\r\n    });\r\n    var unmatchedQueries = defaultedQueryOptions.filter(function (defaultedOptions) {\r\n      return !matchedQueryHashes.includes(defaultedOptions.queryHash);\r\n    });\r\n    var unmatchedObservers = prevObservers.filter(function (prevObserver) {\r\n      return !matchingObservers.some(function (match) {\r\n        return match.observer === prevObserver;\r\n      });\r\n    });\r\n    var newOrReusedObservers = unmatchedQueries.map(function (options, index) {\r\n      if (options.keepPreviousData) {\r\n        // return previous data from one of the observers that no longer match\r\n        var previouslyUsedObserver = unmatchedObservers[index];\r\n\r\n        if (previouslyUsedObserver !== undefined) {\r\n          return {\r\n            defaultedQueryOptions: options,\r\n            observer: previouslyUsedObserver\r\n          };\r\n        }\r\n      }\r\n\r\n      return {\r\n        defaultedQueryOptions: options,\r\n        observer: _this3.getObserver(options)\r\n      };\r\n    });\r\n\r\n    var sortMatchesByOrderOfQueries = function sortMatchesByOrderOfQueries(a, b) {\r\n      return defaultedQueryOptions.indexOf(a.defaultedQueryOptions) - defaultedQueryOptions.indexOf(b.defaultedQueryOptions);\r\n    };\r\n\r\n    return matchingObservers.concat(newOrReusedObservers).sort(sortMatchesByOrderOfQueries);\r\n  };\r\n\r\n  _proto.getObserver = function getObserver(options) {\r\n    var defaultedOptions = this.client.defaultQueryObserverOptions(options);\r\n    var currentObserver = this.observersMap[defaultedOptions.queryHash];\r\n    return currentObserver != null ? currentObserver : new QueryObserver(this.client, defaultedOptions);\r\n  };\r\n\r\n  _proto.updateObservers = function updateObservers(notifyOptions) {\r\n    var _this4 = this;\r\n\r\n    notifyManager.batch(function () {\r\n      var prevObservers = _this4.observers;\r\n\r\n      var newObserverMatches = _this4.findMatchingObservers(_this4.queries); // set options for the new observers to notify of changes\r\n\r\n\r\n      newObserverMatches.forEach(function (match) {\r\n        return match.observer.setOptions(match.defaultedQueryOptions, notifyOptions);\r\n      });\r\n      var newObservers = newObserverMatches.map(function (match) {\r\n        return match.observer;\r\n      });\r\n      var newObserversMap = Object.fromEntries(newObservers.map(function (observer) {\r\n        return [observer.options.queryHash, observer];\r\n      }));\r\n      var newResult = newObservers.map(function (observer) {\r\n        return observer.getCurrentResult();\r\n      });\r\n      var hasIndexChange = newObservers.some(function (observer, index) {\r\n        return observer !== prevObservers[index];\r\n      });\r\n\r\n      if (prevObservers.length === newObservers.length && !hasIndexChange) {\r\n        return;\r\n      }\r\n\r\n      _this4.observers = newObservers;\r\n      _this4.observersMap = newObserversMap;\r\n      _this4.result = newResult;\r\n\r\n      if (!_this4.hasListeners()) {\r\n        return;\r\n      }\r\n\r\n      difference(prevObservers, newObservers).forEach(function (observer) {\r\n        observer.destroy();\r\n      });\r\n      difference(newObservers, prevObservers).forEach(function (observer) {\r\n        observer.subscribe(function (result) {\r\n          _this4.onUpdate(observer, result);\r\n        });\r\n      });\r\n\r\n      _this4.notify();\r\n    });\r\n  };\r\n\r\n  _proto.onUpdate = function onUpdate(observer, result) {\r\n    var index = this.observers.indexOf(observer);\r\n\r\n    if (index !== -1) {\r\n      this.result = replaceAt(this.result, index, result);\r\n      this.notify();\r\n    }\r\n  };\r\n\r\n  _proto.notify = function notify() {\r\n    var _this5 = this;\r\n\r\n    notifyManager.batch(function () {\r\n      _this5.listeners.forEach(function (listener) {\r\n        listener(_this5.result);\r\n      });\r\n    });\r\n  };\r\n\r\n  return QueriesObserver;\r\n}(Subscribable);", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\r\nimport { QueryObserver } from './queryObserver';\r\nimport { hasNextPage, hasPreviousPage, infiniteQueryBehavior } from './infiniteQueryBehavior';\r\nexport var InfiniteQueryObserver = /*#__PURE__*/function (_QueryObserver) {\r\n  _inheritsLoose(InfiniteQueryObserver, _QueryObserver);\r\n\r\n  // Type override\r\n  // Type override\r\n  // Type override\r\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\r\n  function InfiniteQueryObserver(client, options) {\r\n    return _QueryObserver.call(this, client, options) || this;\r\n  }\r\n\r\n  var _proto = InfiniteQueryObserver.prototype;\r\n\r\n  _proto.bindMethods = function bindMethods() {\r\n    _QueryObserver.prototype.bindMethods.call(this);\r\n\r\n    this.fetchNextPage = this.fetchNextPage.bind(this);\r\n    this.fetchPreviousPage = this.fetchPreviousPage.bind(this);\r\n  };\r\n\r\n  _proto.setOptions = function setOptions(options, notifyOptions) {\r\n    _QueryObserver.prototype.setOptions.call(this, _extends({}, options, {\r\n      behavior: infiniteQueryBehavior()\r\n    }), notifyOptions);\r\n  };\r\n\r\n  _proto.getOptimisticResult = function getOptimisticResult(options) {\r\n    options.behavior = infiniteQueryBehavior();\r\n    return _QueryObserver.prototype.getOptimisticResult.call(this, options);\r\n  };\r\n\r\n  _proto.fetchNextPage = function fetchNextPage(options) {\r\n    var _options$cancelRefetc;\r\n\r\n    return this.fetch({\r\n      // TODO consider removing `?? true` in future breaking change, to be consistent with `refetch` API (see https://github.com/tannerlinsley/react-query/issues/2617)\r\n      cancelRefetch: (_options$cancelRefetc = options == null ? void 0 : options.cancelRefetch) != null ? _options$cancelRefetc : true,\r\n      throwOnError: options == null ? void 0 : options.throwOnError,\r\n      meta: {\r\n        fetchMore: {\r\n          direction: 'forward',\r\n          pageParam: options == null ? void 0 : options.pageParam\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  _proto.fetchPreviousPage = function fetchPreviousPage(options) {\r\n    var _options$cancelRefetc2;\r\n\r\n    return this.fetch({\r\n      // TODO consider removing `?? true` in future breaking change, to be consistent with `refetch` API (see https://github.com/tannerlinsley/react-query/issues/2617)\r\n      cancelRefetch: (_options$cancelRefetc2 = options == null ? void 0 : options.cancelRefetch) != null ? _options$cancelRefetc2 : true,\r\n      throwOnError: options == null ? void 0 : options.throwOnError,\r\n      meta: {\r\n        fetchMore: {\r\n          direction: 'backward',\r\n          pageParam: options == null ? void 0 : options.pageParam\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  _proto.createResult = function createResult(query, options) {\r\n    var _state$data, _state$data2, _state$fetchMeta, _state$fetchMeta$fetc, _state$fetchMeta2, _state$fetchMeta2$fet;\r\n\r\n    var state = query.state;\r\n\r\n    var result = _QueryObserver.prototype.createResult.call(this, query, options);\r\n\r\n    return _extends({}, result, {\r\n      fetchNextPage: this.fetchNextPage,\r\n      fetchPreviousPage: this.fetchPreviousPage,\r\n      hasNextPage: hasNextPage(options, (_state$data = state.data) == null ? void 0 : _state$data.pages),\r\n      hasPreviousPage: hasPreviousPage(options, (_state$data2 = state.data) == null ? void 0 : _state$data2.pages),\r\n      isFetchingNextPage: state.isFetching && ((_state$fetchMeta = state.fetchMeta) == null ? void 0 : (_state$fetchMeta$fetc = _state$fetchMeta.fetchMore) == null ? void 0 : _state$fetchMeta$fetc.direction) === 'forward',\r\n      isFetchingPreviousPage: state.isFetching && ((_state$fetchMeta2 = state.fetchMeta) == null ? void 0 : (_state$fetchMeta2$fet = _state$fetchMeta2.fetchMore) == null ? void 0 : _state$fetchMeta2$fet.direction) === 'backward'\r\n    });\r\n  };\r\n\r\n  return InfiniteQueryObserver;\r\n}(QueryObserver);", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\r\nimport { getDefaultState } from './mutation';\r\nimport { notifyManager } from './notifyManager';\r\nimport { Subscribable } from './subscribable';\r\n// CLASS\r\nexport var MutationObserver = /*#__PURE__*/function (_Subscribable) {\r\n  _inheritsLoose(MutationObserver, _Subscribable);\r\n\r\n  function MutationObserver(client, options) {\r\n    var _this;\r\n\r\n    _this = _Subscribable.call(this) || this;\r\n    _this.client = client;\r\n\r\n    _this.setOptions(options);\r\n\r\n    _this.bindMethods();\r\n\r\n    _this.updateResult();\r\n\r\n    return _this;\r\n  }\r\n\r\n  var _proto = MutationObserver.prototype;\r\n\r\n  _proto.bindMethods = function bindMethods() {\r\n    this.mutate = this.mutate.bind(this);\r\n    this.reset = this.reset.bind(this);\r\n  };\r\n\r\n  _proto.setOptions = function setOptions(options) {\r\n    this.options = this.client.defaultMutationOptions(options);\r\n  };\r\n\r\n  _proto.onUnsubscribe = function onUnsubscribe() {\r\n    if (!this.listeners.length) {\r\n      var _this$currentMutation;\r\n\r\n      (_this$currentMutation = this.currentMutation) == null ? void 0 : _this$currentMutation.removeObserver(this);\r\n    }\r\n  };\r\n\r\n  _proto.onMutationUpdate = function onMutationUpdate(action) {\r\n    this.updateResult(); // Determine which callbacks to trigger\r\n\r\n    var notifyOptions = {\r\n      listeners: true\r\n    };\r\n\r\n    if (action.type === 'success') {\r\n      notifyOptions.onSuccess = true;\r\n    } else if (action.type === 'error') {\r\n      notifyOptions.onError = true;\r\n    }\r\n\r\n    this.notify(notifyOptions);\r\n  };\r\n\r\n  _proto.getCurrentResult = function getCurrentResult() {\r\n    return this.currentResult;\r\n  };\r\n\r\n  _proto.reset = function reset() {\r\n    this.currentMutation = undefined;\r\n    this.updateResult();\r\n    this.notify({\r\n      listeners: true\r\n    });\r\n  };\r\n\r\n  _proto.mutate = function mutate(variables, options) {\r\n    this.mutateOptions = options;\r\n\r\n    if (this.currentMutation) {\r\n      this.currentMutation.removeObserver(this);\r\n    }\r\n\r\n    this.currentMutation = this.client.getMutationCache().build(this.client, _extends({}, this.options, {\r\n      variables: typeof variables !== 'undefined' ? variables : this.options.variables\r\n    }));\r\n    this.currentMutation.addObserver(this);\r\n    return this.currentMutation.execute();\r\n  };\r\n\r\n  _proto.updateResult = function updateResult() {\r\n    var state = this.currentMutation ? this.currentMutation.state : getDefaultState();\r\n\r\n    var result = _extends({}, state, {\r\n      isLoading: state.status === 'loading',\r\n      isSuccess: state.status === 'success',\r\n      isError: state.status === 'error',\r\n      isIdle: state.status === 'idle',\r\n      mutate: this.mutate,\r\n      reset: this.reset\r\n    });\r\n\r\n    this.currentResult = result;\r\n  };\r\n\r\n  _proto.notify = function notify(options) {\r\n    var _this2 = this;\r\n\r\n    notifyManager.batch(function () {\r\n      // First trigger the mutate callbacks\r\n      if (_this2.mutateOptions) {\r\n        if (options.onSuccess) {\r\n          _this2.mutateOptions.onSuccess == null ? void 0 : _this2.mutateOptions.onSuccess(_this2.currentResult.data, _this2.currentResult.variables, _this2.currentResult.context);\r\n          _this2.mutateOptions.onSettled == null ? void 0 : _this2.mutateOptions.onSettled(_this2.currentResult.data, null, _this2.currentResult.variables, _this2.currentResult.context);\r\n        } else if (options.onError) {\r\n          _this2.mutateOptions.onError == null ? void 0 : _this2.mutateOptions.onError(_this2.currentResult.error, _this2.currentResult.variables, _this2.currentResult.context);\r\n          _this2.mutateOptions.onSettled == null ? void 0 : _this2.mutateOptions.onSettled(undefined, _this2.currentResult.error, _this2.currentResult.variables, _this2.currentResult.context);\r\n        }\r\n      } // Then trigger the listeners\r\n\r\n\r\n      if (options.listeners) {\r\n        _this2.listeners.forEach(function (listener) {\r\n          listener(_this2.currentResult);\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return MutationObserver;\r\n}(Subscribable);", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\n\r\n// TYPES\r\n// FUNCTIONS\r\nfunction dehydrateMutation(mutation) {\r\n  return {\r\n    mutationKey: mutation.options.mutationKey,\r\n    state: mutation.state\r\n  };\r\n} // Most config is not dehydrated but instead meant to configure again when\r\n// consuming the de/rehydrated data, typically with useQuery on the client.\r\n// Sometimes it might make sense to prefetch data on the server and include\r\n// in the html-payload, but not consume it on the initial render.\r\n\r\n\r\nfunction dehydrateQuery(query) {\r\n  return {\r\n    state: query.state,\r\n    queryKey: query.queryKey,\r\n    queryHash: query.queryHash\r\n  };\r\n}\r\n\r\nfunction defaultShouldDehydrateMutation(mutation) {\r\n  return mutation.state.isPaused;\r\n}\r\n\r\nfunction defaultShouldDehydrateQuery(query) {\r\n  return query.state.status === 'success';\r\n}\r\n\r\nexport function dehydrate(client, options) {\r\n  var _options, _options2;\r\n\r\n  options = options || {};\r\n  var mutations = [];\r\n  var queries = [];\r\n\r\n  if (((_options = options) == null ? void 0 : _options.dehydrateMutations) !== false) {\r\n    var shouldDehydrateMutation = options.shouldDehydrateMutation || defaultShouldDehydrateMutation;\r\n    client.getMutationCache().getAll().forEach(function (mutation) {\r\n      if (shouldDehydrateMutation(mutation)) {\r\n        mutations.push(dehydrateMutation(mutation));\r\n      }\r\n    });\r\n  }\r\n\r\n  if (((_options2 = options) == null ? void 0 : _options2.dehydrateQueries) !== false) {\r\n    var shouldDehydrateQuery = options.shouldDehydrateQuery || defaultShouldDehydrateQuery;\r\n    client.getQueryCache().getAll().forEach(function (query) {\r\n      if (shouldDehydrateQuery(query)) {\r\n        queries.push(dehydrateQuery(query));\r\n      }\r\n    });\r\n  }\r\n\r\n  return {\r\n    mutations: mutations,\r\n    queries: queries\r\n  };\r\n}\r\nexport function hydrate(client, dehydratedState, options) {\r\n  if (typeof dehydratedState !== 'object' || dehydratedState === null) {\r\n    return;\r\n  }\r\n\r\n  var mutationCache = client.getMutationCache();\r\n  var queryCache = client.getQueryCache();\r\n  var mutations = dehydratedState.mutations || [];\r\n  var queries = dehydratedState.queries || [];\r\n  mutations.forEach(function (dehydratedMutation) {\r\n    var _options$defaultOptio;\r\n\r\n    mutationCache.build(client, _extends({}, options == null ? void 0 : (_options$defaultOptio = options.defaultOptions) == null ? void 0 : _options$defaultOptio.mutations, {\r\n      mutationKey: dehydratedMutation.mutationKey\r\n    }), dehydratedMutation.state);\r\n  });\r\n  queries.forEach(function (dehydratedQuery) {\r\n    var _options$defaultOptio2;\r\n\r\n    var query = queryCache.get(dehydratedQuery.queryHash); // Do not hydrate if an existing query exists with newer data\r\n\r\n    if (query) {\r\n      if (query.state.dataUpdatedAt < dehydratedQuery.state.dataUpdatedAt) {\r\n        query.setState(dehydratedQuery.state);\r\n      }\r\n\r\n      return;\r\n    } // Restore query\r\n\r\n\r\n    queryCache.build(client, _extends({}, options == null ? void 0 : (_options$defaultOptio2 = options.defaultOptions) == null ? void 0 : _options$defaultOptio2.queries, {\r\n      queryKey: dehydratedQuery.queryKey,\r\n      queryHash: dehydratedQuery.queryHash\r\n    }), dehydratedQuery.state);\r\n  });\r\n}", "import ReactDOM from 'react-dom';\r\nexport var unstable_batchedUpdates = ReactDOM.unstable_batchedUpdates;", "import { notifyManager } from '../core';\r\nimport { unstable_batchedUpdates } from './reactBatchedUpdates';\r\nnotifyManager.setBatchNotifyFunction(unstable_batchedUpdates);", "export var logger = console;", "import { setLogger } from '../core';\r\nimport { logger } from './logger';\r\nsetLogger(logger);", "import React from 'react';\r\nvar defaultContext = /*#__PURE__*/React.createContext(undefined);\r\nvar QueryClientSharingContext = /*#__PURE__*/React.createContext(false); // if contextSharing is on, we share the first and at least one\r\n// instance of the context across the window\r\n// to ensure that if React Query is used across\r\n// different bundles or microfrontends they will\r\n// all use the same **instance** of context, regardless\r\n// of module scoping.\r\n\r\nfunction getQueryClientContext(contextSharing) {\r\n  if (contextSharing && typeof window !== 'undefined') {\r\n    if (!window.ReactQueryClientContext) {\r\n      window.ReactQueryClientContext = defaultContext;\r\n    }\r\n\r\n    return window.ReactQueryClientContext;\r\n  }\r\n\r\n  return defaultContext;\r\n}\r\n\r\nexport var useQueryClient = function useQueryClient() {\r\n  var queryClient = React.useContext(getQueryClientContext(React.useContext(QueryClientSharingContext)));\r\n\r\n  if (!queryClient) {\r\n    throw new Error('No QueryClient set, use QueryClientProvider to set one');\r\n  }\r\n\r\n  return queryClient;\r\n};\r\nexport var QueryClientProvider = function QueryClientProvider(_ref) {\r\n  var client = _ref.client,\r\n      _ref$contextSharing = _ref.contextSharing,\r\n      contextSharing = _ref$contextSharing === void 0 ? false : _ref$contextSharing,\r\n      children = _ref.children;\r\n  React.useEffect(function () {\r\n    client.mount();\r\n    return function () {\r\n      client.unmount();\r\n    };\r\n  }, [client]);\r\n  var Context = getQueryClientContext(contextSharing);\r\n  return /*#__PURE__*/React.createElement(QueryClientSharingContext.Provider, {\r\n    value: contextSharing\r\n  }, /*#__PURE__*/React.createElement(Context.Provider, {\r\n    value: client\r\n  }, children));\r\n};", "import React from 'react'; // CONTEXT\r\n\r\nfunction createValue() {\r\n  var _isReset = false;\r\n  return {\r\n    clearReset: function clearReset() {\r\n      _isReset = false;\r\n    },\r\n    reset: function reset() {\r\n      _isReset = true;\r\n    },\r\n    isReset: function isReset() {\r\n      return _isReset;\r\n    }\r\n  };\r\n}\r\n\r\nvar QueryErrorResetBoundaryContext = /*#__PURE__*/React.createContext(createValue()); // HOOK\r\n\r\nexport var useQueryErrorResetBoundary = function useQueryErrorResetBoundary() {\r\n  return React.useContext(QueryErrorResetBoundaryContext);\r\n}; // COMPONENT\r\n\r\nexport var QueryErrorResetBoundary = function QueryErrorResetBoundary(_ref) {\r\n  var children = _ref.children;\r\n  var value = React.useMemo(function () {\r\n    return createValue();\r\n  }, []);\r\n  return /*#__PURE__*/React.createElement(QueryErrorResetBoundaryContext.Provider, {\r\n    value: value\r\n  }, typeof children === 'function' ? children(value) : children);\r\n};", "import React from 'react';\r\nimport { notifyManager } from '../core/notifyManager';\r\nimport { parseFilterArgs } from '../core/utils';\r\nimport { useQueryClient } from './QueryClientProvider';\r\n\r\nvar checkIsFetching = function checkIsFetching(queryClient, filters, isFetching, setIsFetching) {\r\n  var newIsFetching = queryClient.isFetching(filters);\r\n\r\n  if (isFetching !== newIsFetching) {\r\n    setIsFetching(newIsFetching);\r\n  }\r\n};\r\n\r\nexport function useIsFetching(arg1, arg2) {\r\n  var mountedRef = React.useRef(false);\r\n  var queryClient = useQueryClient();\r\n\r\n  var _parseFilterArgs = parseFilterArgs(arg1, arg2),\r\n      filters = _parseFilterArgs[0];\r\n\r\n  var _React$useState = React.useState(queryClient.isFetching(filters)),\r\n      isFetching = _React$useState[0],\r\n      setIsFetching = _React$useState[1];\r\n\r\n  var filtersRef = React.useRef(filters);\r\n  filtersRef.current = filters;\r\n  var isFetchingRef = React.useRef(isFetching);\r\n  isFetchingRef.current = isFetching;\r\n  React.useEffect(function () {\r\n    mountedRef.current = true;\r\n    checkIsFetching(queryClient, filtersRef.current, isFetchingRef.current, setIsFetching);\r\n    var unsubscribe = queryClient.getQueryCache().subscribe(notifyManager.batchCalls(function () {\r\n      if (mountedRef.current) {\r\n        checkIsFetching(queryClient, filtersRef.current, isFetchingRef.current, setIsFetching);\r\n      }\r\n    }));\r\n    return function () {\r\n      mountedRef.current = false;\r\n      unsubscribe();\r\n    };\r\n  }, [queryClient]);\r\n  return isFetching;\r\n}", "import React from 'react';\r\nimport { notifyManager } from '../core/notifyManager';\r\nimport { parseMutationFilterArgs } from '../core/utils';\r\nimport { useQueryClient } from './QueryClientProvider';\r\nexport function useIsMutating(arg1, arg2) {\r\n  var mountedRef = React.useRef(false);\r\n  var filters = parseMutationFilterArgs(arg1, arg2);\r\n  var queryClient = useQueryClient();\r\n\r\n  var _React$useState = React.useState(queryClient.isMutating(filters)),\r\n      isMutating = _React$useState[0],\r\n      setIsMutating = _React$useState[1];\r\n\r\n  var filtersRef = React.useRef(filters);\r\n  filtersRef.current = filters;\r\n  var isMutatingRef = React.useRef(isMutating);\r\n  isMutatingRef.current = isMutating;\r\n  React.useEffect(function () {\r\n    mountedRef.current = true;\r\n    var unsubscribe = queryClient.getMutationCache().subscribe(notifyManager.batchCalls(function () {\r\n      if (mountedRef.current) {\r\n        var newIsMutating = queryClient.isMutating(filtersRef.current);\r\n\r\n        if (isMutatingRef.current !== newIsMutating) {\r\n          setIsMutating(newIsMutating);\r\n        }\r\n      }\r\n    }));\r\n    return function () {\r\n      mountedRef.current = false;\r\n      unsubscribe();\r\n    };\r\n  }, [queryClient]);\r\n  return isMutating;\r\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport React from 'react';\r\nimport { notifyManager } from '../core/notifyManager';\r\nimport { noop, parseMutationArgs } from '../core/utils';\r\nimport { MutationObserver } from '../core/mutationObserver';\r\nimport { useQueryClient } from './QueryClientProvider';\r\nimport { shouldThrowError } from './utils'; // HOOK\r\n\r\nexport function useMutation(arg1, arg2, arg3) {\r\n  var mountedRef = React.useRef(false);\r\n\r\n  var _React$useState = React.useState(0),\r\n      forceUpdate = _React$useState[1];\r\n\r\n  var options = parseMutationArgs(arg1, arg2, arg3);\r\n  var queryClient = useQueryClient();\r\n  var obsRef = React.useRef();\r\n\r\n  if (!obsRef.current) {\r\n    obsRef.current = new MutationObserver(queryClient, options);\r\n  } else {\r\n    obsRef.current.setOptions(options);\r\n  }\r\n\r\n  var currentResult = obsRef.current.getCurrentResult();\r\n  React.useEffect(function () {\r\n    mountedRef.current = true;\r\n    var unsubscribe = obsRef.current.subscribe(notifyManager.batchCalls(function () {\r\n      if (mountedRef.current) {\r\n        forceUpdate(function (x) {\r\n          return x + 1;\r\n        });\r\n      }\r\n    }));\r\n    return function () {\r\n      mountedRef.current = false;\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n  var mutate = React.useCallback(function (variables, mutateOptions) {\r\n    obsRef.current.mutate(variables, mutateOptions).catch(noop);\r\n  }, []);\r\n\r\n  if (currentResult.error && shouldThrowError(undefined, obsRef.current.options.useErrorBoundary, [currentResult.error])) {\r\n    throw currentResult.error;\r\n  }\r\n\r\n  return _extends({}, currentResult, {\r\n    mutate: mutate,\r\n    mutateAsync: currentResult.mutate\r\n  });\r\n}", "export function shouldThrowError(suspense, _useErrorBoundary, params) {\r\n  // Allow useErrorBoundary function to override throwing behavior on a per-error basis\r\n  if (typeof _useErrorBoundary === 'function') {\r\n    return _useErrorBoundary.apply(void 0, params);\r\n  } // Allow useErrorBoundary to override suspense's throwing behavior\r\n\r\n\r\n  if (typeof _useErrorBoundary === 'boolean') return _useErrorBoundary; // If suspense is enabled default to throwing errors\r\n\r\n  return !!suspense;\r\n}", "import React from 'react';\r\nimport { notifyManager } from '../core/notifyManager';\r\nimport { useQueryErrorResetBoundary } from './QueryErrorResetBoundary';\r\nimport { useQueryClient } from './QueryClientProvider';\r\nimport { shouldThrowError } from './utils';\r\nexport function useBaseQuery(options, Observer) {\r\n  var mountedRef = React.useRef(false);\r\n\r\n  var _React$useState = React.useState(0),\r\n      forceUpdate = _React$useState[1];\r\n\r\n  var queryClient = useQueryClient();\r\n  var errorResetBoundary = useQueryErrorResetBoundary();\r\n  var defaultedOptions = queryClient.defaultQueryObserverOptions(options); // Make sure results are optimistically set in fetching state before subscribing or updating options\r\n\r\n  defaultedOptions.optimisticResults = true; // Include callbacks in batch renders\r\n\r\n  if (defaultedOptions.onError) {\r\n    defaultedOptions.onError = notifyManager.batchCalls(defaultedOptions.onError);\r\n  }\r\n\r\n  if (defaultedOptions.onSuccess) {\r\n    defaultedOptions.onSuccess = notifyManager.batchCalls(defaultedOptions.onSuccess);\r\n  }\r\n\r\n  if (defaultedOptions.onSettled) {\r\n    defaultedOptions.onSettled = notifyManager.batchCalls(defaultedOptions.onSettled);\r\n  }\r\n\r\n  if (defaultedOptions.suspense) {\r\n    // Always set stale time when using suspense to prevent\r\n    // fetching again when directly mounting after suspending\r\n    if (typeof defaultedOptions.staleTime !== 'number') {\r\n      defaultedOptions.staleTime = 1000;\r\n    } // Set cache time to 1 if the option has been set to 0\r\n    // when using suspense to prevent infinite loop of fetches\r\n\r\n\r\n    if (defaultedOptions.cacheTime === 0) {\r\n      defaultedOptions.cacheTime = 1;\r\n    }\r\n  }\r\n\r\n  if (defaultedOptions.suspense || defaultedOptions.useErrorBoundary) {\r\n    // Prevent retrying failed query if the error boundary has not been reset yet\r\n    if (!errorResetBoundary.isReset()) {\r\n      defaultedOptions.retryOnMount = false;\r\n    }\r\n  }\r\n\r\n  var _React$useState2 = React.useState(function () {\r\n    return new Observer(queryClient, defaultedOptions);\r\n  }),\r\n      observer = _React$useState2[0];\r\n\r\n  var result = observer.getOptimisticResult(defaultedOptions);\r\n  React.useEffect(function () {\r\n    mountedRef.current = true;\r\n    errorResetBoundary.clearReset();\r\n    var unsubscribe = observer.subscribe(notifyManager.batchCalls(function () {\r\n      if (mountedRef.current) {\r\n        forceUpdate(function (x) {\r\n          return x + 1;\r\n        });\r\n      }\r\n    })); // Update result to make sure we did not miss any query updates\r\n    // between creating the observer and subscribing to it.\r\n\r\n    observer.updateResult();\r\n    return function () {\r\n      mountedRef.current = false;\r\n      unsubscribe();\r\n    };\r\n  }, [errorResetBoundary, observer]);\r\n  React.useEffect(function () {\r\n    // Do not notify on updates because of changes in the options because\r\n    // these changes should already be reflected in the optimistic result.\r\n    observer.setOptions(defaultedOptions, {\r\n      listeners: false\r\n    });\r\n  }, [defaultedOptions, observer]); // Handle suspense\r\n\r\n  if (defaultedOptions.suspense && result.isLoading) {\r\n    throw observer.fetchOptimistic(defaultedOptions).then(function (_ref) {\r\n      var data = _ref.data;\r\n      defaultedOptions.onSuccess == null ? void 0 : defaultedOptions.onSuccess(data);\r\n      defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(data, null);\r\n    }).catch(function (error) {\r\n      errorResetBoundary.clearReset();\r\n      defaultedOptions.onError == null ? void 0 : defaultedOptions.onError(error);\r\n      defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(undefined, error);\r\n    });\r\n  } // Handle error boundary\r\n\r\n\r\n  if (result.isError && !errorResetBoundary.isReset() && !result.isFetching && shouldThrowError(defaultedOptions.suspense, defaultedOptions.useErrorBoundary, [result.error, observer.getCurrentQuery()])) {\r\n    throw result.error;\r\n  } // Handle result property usage tracking\r\n\r\n\r\n  if (defaultedOptions.notifyOnChangeProps === 'tracked') {\r\n    result = observer.trackResult(result, defaultedOptions);\r\n  }\r\n\r\n  return result;\r\n}", "import { QueryObserver } from '../core';\r\nimport { parseQueryArgs } from '../core/utils';\r\nimport { useBaseQuery } from './useBaseQuery'; // HOOK\r\n\r\nexport function useQuery(arg1, arg2, arg3) {\r\n  var parsedOptions = parseQueryArgs(arg1, arg2, arg3);\r\n  return useBaseQuery(parsedOptions, QueryObserver);\r\n}", "import React, { useMemo } from 'react';\r\nimport { notifyManager } from '../core/notifyManager';\r\nimport { QueriesObserver } from '../core/queriesObserver';\r\nimport { useQueryClient } from './QueryClientProvider';\r\nexport function useQueries(queries) {\r\n  var mountedRef = React.useRef(false);\r\n\r\n  var _React$useState = React.useState(0),\r\n      forceUpdate = _React$useState[1];\r\n\r\n  var queryClient = useQueryClient();\r\n  var defaultedQueries = useMemo(function () {\r\n    return queries.map(function (options) {\r\n      var defaultedOptions = queryClient.defaultQueryObserverOptions(options); // Make sure the results are already in fetching state before subscribing or updating options\r\n\r\n      defaultedOptions.optimisticResults = true;\r\n      return defaultedOptions;\r\n    });\r\n  }, [queries, queryClient]);\r\n\r\n  var _React$useState2 = React.useState(function () {\r\n    return new QueriesObserver(queryClient, defaultedQueries);\r\n  }),\r\n      observer = _React$useState2[0];\r\n\r\n  var result = observer.getOptimisticResult(defaultedQueries);\r\n  React.useEffect(function () {\r\n    mountedRef.current = true;\r\n    var unsubscribe = observer.subscribe(notifyManager.batchCalls(function () {\r\n      if (mountedRef.current) {\r\n        forceUpdate(function (x) {\r\n          return x + 1;\r\n        });\r\n      }\r\n    }));\r\n    return function () {\r\n      mountedRef.current = false;\r\n      unsubscribe();\r\n    };\r\n  }, [observer]);\r\n  React.useEffect(function () {\r\n    // Do not notify on updates because of changes in the options because\r\n    // these changes should already be reflected in the optimistic result.\r\n    observer.setQueries(defaultedQueries, {\r\n      listeners: false\r\n    });\r\n  }, [defaultedQueries, observer]);\r\n  return result;\r\n}", "import { InfiniteQueryObserver } from '../core/infiniteQueryObserver';\r\nimport { parseQueryArgs } from '../core/utils';\r\nimport { useBaseQuery } from './useBaseQuery'; // HOOK\r\n\r\nexport function useInfiniteQuery(arg1, arg2, arg3) {\r\n  var options = parseQueryArgs(arg1, arg2, arg3);\r\n  return useBaseQuery(options, InfiniteQueryObserver);\r\n}", "import React from 'react';\r\nimport { hydrate } from '../core';\r\nimport { useQueryClient } from './QueryClientProvider';\r\nexport function useHydrate(state, options) {\r\n  var queryClient = useQueryClient();\r\n  var optionsRef = React.useRef(options);\r\n  optionsRef.current = options; // Running hydrate again with the same queries is safe,\r\n  // it wont overwrite or initialize existing queries,\r\n  // relying on useMemo here is only a performance optimization.\r\n  // hydrate can and should be run *during* render here for SSR to work properly\r\n\r\n  React.useMemo(function () {\r\n    if (state) {\r\n      hydrate(queryClient, state, optionsRef.current);\r\n    }\r\n  }, [queryClient, state]);\r\n}\r\nexport var Hydrate = function Hydrate(_ref) {\r\n  var children = _ref.children,\r\n      options = _ref.options,\r\n      state = _ref.state;\r\n  useHydrate(state, options);\r\n  return children;\r\n};", "import { useCallback, useEffect, useRef } from 'react';\r\nimport { useLocation, useNavigate, Path } from 'react-router-dom';\r\nimport { useQueryClient } from 'react-query';\r\n\r\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\r\nimport { useResetStore } from '../store';\r\nimport { useBasename } from '../routing';\r\nimport { removeDoubleSlashes } from '../routing/useCreatePath';\r\n\r\n/**\r\n * Get a callback for calling the authProvider.logout() method,\r\n * redirect to the login page, and clear the store.\r\n *\r\n * @see useAuthProvider\r\n *\r\n * @returns {Function} logout callback\r\n *\r\n * @example\r\n *\r\n * import { useLogout } from 'react-admin';\r\n *\r\n * const LogoutButton = () => {\r\n *     const logout = useLogout();\r\n *     const handleClick = () => logout();\r\n *     return <button onClick={handleClick}>Logout</button>;\r\n * }\r\n */\r\nconst useLogout = (): Logout => {\r\n    const authProvider = useAuthProvider();\r\n    const queryClient = useQueryClient();\r\n    const resetStore = useResetStore();\r\n    const navigate = useNavigate();\r\n    // useNavigate forces rerenders on every navigation, even if we don't use the result\r\n    // see https://github.com/remix-run/react-router/issues/7634\r\n    // so we use a ref to bail out of rerenders when we don't need to\r\n    const navigateRef = useRef(navigate);\r\n    const location = useLocation();\r\n    const locationRef = useRef(location);\r\n    const basename = useBasename();\r\n    const loginUrl = removeDoubleSlashes(\r\n        `${basename}/${defaultAuthParams.loginUrl}`\r\n    );\r\n\r\n    /*\r\n     * We need the current location to pass in the router state\r\n     * so that the login hook knows where to redirect to as next route after login.\r\n     *\r\n     * But if we used the location from useLocation as a dependency of the logout\r\n     * function, it would be rebuilt each time the user changes location.\r\n     * Consequently, that would force a rerender of all components using this hook\r\n     * upon navigation (CoreAdminRouter for example).\r\n     *\r\n     * To avoid that, we store the location in a ref.\r\n     */\r\n    useEffect(() => {\r\n        locationRef.current = location;\r\n        navigateRef.current = navigate;\r\n    }, [location, navigate]);\r\n\r\n    const logout: Logout = useCallback(\r\n        (\r\n            params = {},\r\n            redirectTo = loginUrl,\r\n            redirectToCurrentLocationAfterLogin = true\r\n        ) =>\r\n            authProvider.logout(params).then(redirectToFromProvider => {\r\n                if (redirectToFromProvider === false || redirectTo === false) {\r\n                    resetStore();\r\n                    queryClient.clear();\r\n                    // do not redirect\r\n                    return;\r\n                }\r\n\r\n                const finalRedirectTo = redirectToFromProvider || redirectTo;\r\n\r\n                if (finalRedirectTo?.startsWith('http')) {\r\n                    // absolute link (e.g. https://my.oidc.server/login)\r\n                    resetStore();\r\n                    queryClient.clear();\r\n                    window.location.href = finalRedirectTo;\r\n                    return finalRedirectTo;\r\n                }\r\n\r\n                // redirectTo is an internal location that may contain a query string, e.g. '/login?foo=bar'\r\n                // we must split it to pass a structured location to navigate()\r\n                const redirectToParts = finalRedirectTo.split('?');\r\n                const newLocation: Partial<Path> = {\r\n                    pathname: redirectToParts[0],\r\n                };\r\n                let newLocationOptions = {};\r\n\r\n                if (\r\n                    redirectToCurrentLocationAfterLogin &&\r\n                    locationRef.current &&\r\n                    locationRef.current.pathname\r\n                ) {\r\n                    newLocationOptions = {\r\n                        state: {\r\n                            nextPathname: locationRef.current.pathname,\r\n                            nextSearch: locationRef.current.search,\r\n                        },\r\n                    };\r\n                }\r\n                if (redirectToParts[1]) {\r\n                    newLocation.search = redirectToParts[1];\r\n                }\r\n                navigateRef.current(newLocation, newLocationOptions);\r\n                resetStore();\r\n                queryClient.clear();\r\n\r\n                return redirectToFromProvider;\r\n            }),\r\n        [authProvider, resetStore, loginUrl, queryClient]\r\n    );\r\n\r\n    const logoutWithoutProvider = useCallback(\r\n        _ => {\r\n            navigate(\r\n                {\r\n                    pathname: loginUrl,\r\n                },\r\n                {\r\n                    state: {\r\n                        nextPathname: location && location.pathname,\r\n                    },\r\n                }\r\n            );\r\n            resetStore();\r\n            queryClient.clear();\r\n            return Promise.resolve();\r\n        },\r\n        [resetStore, location, navigate, loginUrl, queryClient]\r\n    );\r\n\r\n    return authProvider ? logout : logoutWithoutProvider;\r\n};\r\n\r\n/**\r\n * Log the current user out by calling the authProvider.logout() method,\r\n * and redirect them to the login screen.\r\n *\r\n * @param {Object} params The parameters to pass to the authProvider\r\n * @param {string} redirectTo The path name to redirect the user to (optional, defaults to login)\r\n * @param {boolean} redirectToCurrentLocationAfterLogin Whether the button shall record the current location to redirect to it after login. true by default.\r\n *\r\n * @return {Promise} The authProvider response\r\n */\r\ntype Logout = (\r\n    params?: any,\r\n    redirectTo?: string | false,\r\n    redirectToCurrentLocationAfterLogin?: boolean\r\n) => Promise<any>;\r\n\r\nexport default useLogout;\r\n", "import { Store } from './types';\r\n\r\ntype Subscription = {\r\n    key: string;\r\n    callback: (value: any) => void;\r\n};\r\n\r\nconst RA_STORE = 'RaStore';\r\n\r\n// localStorage isn't available in incognito mode. We need to detect it\r\nconst testLocalStorage = () => {\r\n    // eslint-disable-next-line eqeqeq\r\n    if (typeof window === 'undefined' || window.localStorage == undefined) {\r\n        return false;\r\n    }\r\n\r\n    try {\r\n        window.localStorage.setItem('test', 'test');\r\n        window.localStorage.removeItem('test');\r\n        return true;\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n};\r\n\r\nlet localStorageAvailable = testLocalStorage();\r\n\r\n/**\r\n * Store using localStorage, or memory storage in incognito mode\r\n *\r\n * @example\r\n *\r\n * import { localStorageStore } from 'react-admin';\r\n *\r\n * const App = () => (\r\n *    <Admin store={localStorageStore()}>\r\n *       ...\r\n *   </Admin>\r\n * );\r\n */\r\nexport const localStorageStore = (\r\n    version: string = '1',\r\n    appKey: string = ''\r\n): Store => {\r\n    const prefix = `${RA_STORE}${appKey}`;\r\n    const prefixLength = prefix.length;\r\n    const subscriptions: { [key: string]: Subscription } = {};\r\n    const publish = (key: string, value: any) => {\r\n        Object.keys(subscriptions).forEach(id => {\r\n            if (!subscriptions[id]) return; // may happen if a component unmounts after a first subscriber was notified\r\n            if (subscriptions[id].key === key) {\r\n                subscriptions[id].callback(value);\r\n            }\r\n        });\r\n    };\r\n\r\n    // Whenever the local storage changes in another document, look for matching subscribers.\r\n    // This allows to synchronize state across tabs\r\n    const onLocalStorageChange = (event: StorageEvent): void => {\r\n        if (event.key?.substring(0, prefixLength) !== prefix) {\r\n            return;\r\n        }\r\n        const key = event.key.substring(prefixLength + 1);\r\n        const value = event.newValue ? tryParse(event.newValue) : undefined;\r\n        Object.keys(subscriptions).forEach(id => {\r\n            if (!subscriptions[id]) return; // may happen if a component unmounts after a first subscriber was notified\r\n            if (subscriptions[id].key === key) {\r\n                if (value === null) {\r\n                    // an event with a null value is sent when the key is deleted.\r\n                    // to enable default value, we need to call setValue(undefined) instead of setValue(null)\r\n                    subscriptions[id].callback(undefined);\r\n                } else {\r\n                    subscriptions[id].callback(\r\n                        value == null ? undefined : value\r\n                    );\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    return {\r\n        setup: () => {\r\n            if (localStorageAvailable) {\r\n                const storedVersion = getStorage().getItem(`${prefix}.version`);\r\n                if (storedVersion && storedVersion !== version) {\r\n                    const storage = getStorage();\r\n                    Object.keys(storage).forEach(key => {\r\n                        if (key.startsWith(prefix)) {\r\n                            storage.removeItem(key);\r\n                        }\r\n                    });\r\n                }\r\n                getStorage().setItem(`${prefix}.version`, version);\r\n                window.addEventListener('storage', onLocalStorageChange);\r\n            }\r\n        },\r\n        teardown: () => {\r\n            if (localStorageAvailable) {\r\n                window.removeEventListener('storage', onLocalStorageChange);\r\n            }\r\n        },\r\n        getItem<T = any>(key: string, defaultValue?: T): T {\r\n            const valueFromStorage = getStorage().getItem(`${prefix}.${key}`);\r\n\r\n            // eslint-disable-next-line eqeqeq\r\n            return valueFromStorage == null\r\n                ? defaultValue\r\n                : tryParse(valueFromStorage);\r\n        },\r\n        setItem<T = any>(key: string, value: T): void {\r\n            if (value === undefined) {\r\n                getStorage().removeItem(`${prefix}.${key}`);\r\n            } else {\r\n                getStorage().setItem(`${prefix}.${key}`, JSON.stringify(value));\r\n            }\r\n            publish(key, value);\r\n        },\r\n        removeItem(key: string): void {\r\n            getStorage().removeItem(`${prefix}.${key}`);\r\n            publish(key, undefined);\r\n        },\r\n        removeItems(keyPrefix: string): void {\r\n            const storage = getStorage();\r\n            Object.keys(storage).forEach(key => {\r\n                if (key.startsWith(`${prefix}.${keyPrefix}`)) {\r\n                    storage.removeItem(key);\r\n                    const publishKey = key.substring(prefixLength + 1);\r\n                    publish(publishKey, undefined);\r\n                }\r\n            });\r\n        },\r\n        reset(): void {\r\n            const storage = getStorage();\r\n            Object.keys(storage).forEach(key => {\r\n                if (key.startsWith(prefix)) {\r\n                    storage.removeItem(key);\r\n                    const publishKey = key.substring(prefixLength + 1);\r\n                    publish(publishKey, undefined);\r\n                }\r\n            });\r\n        },\r\n        subscribe: (key: string, callback: (value: string) => void) => {\r\n            const id = Math.random().toString();\r\n            subscriptions[id] = {\r\n                key,\r\n                callback,\r\n            };\r\n            return () => {\r\n                delete subscriptions[id];\r\n            };\r\n        },\r\n    };\r\n};\r\n\r\nconst tryParse = (value: string): any => {\r\n    try {\r\n        return JSON.parse(value);\r\n    } catch (e) {\r\n        return value;\r\n    }\r\n};\r\nclass LocalStorageShim {\r\n    valuesMap: any = new Map();\r\n\r\n    getItem(key: string) {\r\n        if (this.valuesMap.has(key)) {\r\n            return String(this.valuesMap.get(key));\r\n        }\r\n        return null;\r\n    }\r\n\r\n    setItem(key: string, value: string) {\r\n        this.valuesMap.set(key, value);\r\n    }\r\n\r\n    removeItem(key: string) {\r\n        this.valuesMap.delete(key);\r\n    }\r\n\r\n    removeItems(keyPrefix: string) {\r\n        this.valuesMap.forEach((value, key) => {\r\n            if (key.startsWith(keyPrefix)) {\r\n                this.valuesMap.delete(key);\r\n            }\r\n        });\r\n    }\r\n\r\n    clear() {\r\n        this.valuesMap.clear();\r\n    }\r\n\r\n    key(i): string {\r\n        if (arguments.length === 0) {\r\n            throw new TypeError(\r\n                \"Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.\"\r\n            ); // this is a TypeError implemented on Chrome, Firefox throws Not enough arguments to Storage.key.\r\n        }\r\n        const arr = Array.from(this.valuesMap.keys()) as string[];\r\n        return arr[i];\r\n    }\r\n\r\n    get length() {\r\n        return this.valuesMap.size;\r\n    }\r\n}\r\nconst memoryStorage = new LocalStorageShim();\r\n\r\nexport const getStorage = () => {\r\n    return localStorageAvailable ? window.localStorage : memoryStorage;\r\n};\r\n", "import set from 'lodash/set';\r\nimport unset from 'lodash/unset';\r\nimport get from 'lodash/get';\r\nimport { Store } from './types';\r\n\r\ntype Subscription = {\r\n    key: string;\r\n    callback: (value: any) => void;\r\n};\r\n\r\n/**\r\n * Store using memory\r\n *\r\n * @example\r\n *\r\n * import { memoryStore } from 'react-admin';\r\n *\r\n * const App = () => (\r\n *    <Admin store={memoryStore()}>\r\n *       ...\r\n *   </Admin>\r\n * );\r\n */\r\nexport const memoryStore = (storage: any = {}): Store => {\r\n    const subscriptions: { [key: string]: Subscription } = {};\r\n    const publish = (key: string, value: any) => {\r\n        Object.keys(subscriptions).forEach(id => {\r\n            if (!subscriptions[id]) return; // may happen if a component unmounts after a first subscriber was notified\r\n            if (subscriptions[id].key === key) {\r\n                subscriptions[id].callback(value);\r\n            }\r\n        });\r\n    };\r\n    return {\r\n        setup: () => {},\r\n        teardown: () => {\r\n            Object.keys(storage).forEach(key => delete storage[key]);\r\n        },\r\n        getItem<T = any>(key: string, defaultValue?: T): T {\r\n            return get(storage, key, defaultValue);\r\n        },\r\n        setItem<T = any>(key: string, value: T): void {\r\n            set(storage, key, value);\r\n            publish(key, value);\r\n        },\r\n        removeItem(key: string): void {\r\n            unset(storage, key);\r\n            publish(key, undefined);\r\n        },\r\n        removeItems(keyPrefix: string): void {\r\n            const flatStorage = flatten(storage);\r\n            Object.keys(flatStorage).forEach(key => {\r\n                if (!key.startsWith(keyPrefix)) {\r\n                    return;\r\n                }\r\n                unset(storage, key);\r\n                publish(key, undefined);\r\n            });\r\n        },\r\n        reset(): void {\r\n            const flatStorage = flatten(storage);\r\n            Object.keys(flatStorage).forEach(key => {\r\n                unset(storage, key);\r\n                publish(key, undefined);\r\n            });\r\n        },\r\n        subscribe: (key: string, callback: (value: string) => void) => {\r\n            const id = Math.random().toString();\r\n            subscriptions[id] = {\r\n                key,\r\n                callback,\r\n            };\r\n            return () => {\r\n                delete subscriptions[id];\r\n            };\r\n        },\r\n    };\r\n};\r\n\r\n// taken from https://stackoverflow.com/a/19101235/1333479\r\nconst flatten = (data: any) => {\r\n    var result = {};\r\n    function doFlatten(current, prop) {\r\n        if (Object(current) !== current) {\r\n            // scalar value\r\n            result[prop] = current;\r\n        } else if (Array.isArray(current)) {\r\n            // array\r\n            result[prop] = current;\r\n        } else {\r\n            // object\r\n            var isEmpty = true;\r\n            for (var p in current) {\r\n                isEmpty = false;\r\n                doFlatten(current[p], prop ? prop + '.' + p : p);\r\n            }\r\n            if (isEmpty && prop) result[prop] = {};\r\n        }\r\n    }\r\n    doFlatten(data, '');\r\n    return result;\r\n};\r\n", "import { createContext } from 'react';\r\n\r\nimport { Store } from './types';\r\nimport { memoryStore } from './memoryStore';\r\n\r\nconst defaultStore = memoryStore();\r\n\r\nexport const StoreContext = createContext<Store>(defaultStore);\r\n", "import * as React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { StoreContext } from './StoreContext';\r\nimport { Store } from './types';\r\n\r\nexport const StoreContextProvider = ({\r\n    value: Store,\r\n    children,\r\n}: StoreContextProviderProps) => {\r\n    useEffect(() => {\r\n        Store.setup();\r\n        return () => {\r\n            Store.teardown();\r\n        };\r\n    }, [Store]);\r\n\r\n    return (\r\n        <StoreContext.Provider value={Store}>{children}</StoreContext.Provider>\r\n    );\r\n};\r\n\r\nexport interface StoreContextProviderProps {\r\n    value: Store;\r\n    children: React.ReactNode;\r\n}\r\n", "import * as React from 'react';\r\nimport { useEffect, ReactNode } from 'react';\r\nimport { useStoreContext } from './useStoreContext';\r\n\r\n/**\r\n * A component to set store state for a key on mount declaratively\r\n *\r\n * To use it, just wrap any component that need to use the corresponding\r\n * store item with <StoreSetter name=\"my.key\" value=\"myvalue\">.\r\n * This wrapping needs to be done to ensure that the corresponding store item\r\n * is set before rendering the wrapped component.\r\n *\r\n * Tip: <StoreSetter> is a great helper for mocking the store in\r\n * unit tests. Prefer it to calling the Store manually.\r\n *\r\n * @example\r\n *\r\n *     <StoreSetter name=\"list.density\" value=\"small\">\r\n *         <MyStoreDependentComponent />\r\n *     </StoreSetter>\r\n *\r\n * @example // Using <StoreSetter> is equivalent to using `useStoreContext` and setting its value directly.\r\n *\r\n * const [, setDensity] = useStore('list.density');\r\n *\r\n * useEffect(() => {\r\n *     setDensity('small');\r\n * }, []);\r\n *\r\n * @param {Props}    props\r\n * @param {string}   props.name Store item key. Required. Separate with dots to namespace, e.g. 'posts.list.columns'\r\n * @param {any}      props.value Store item value. Required.\r\n * @param {children} props.children Children are rendered as is, on mount\r\n */\r\nexport const StoreSetter = ({ value, name, children }: StoreSetterProps) => {\r\n    const { setItem } = useStoreContext();\r\n\r\n    useEffect(() => {\r\n        setItem(name, value);\r\n    }, [name, setItem, value]);\r\n\r\n    return <>{children}</>;\r\n};\r\n\r\nexport interface StoreSetterProps {\r\n    name: string;\r\n    value: any;\r\n    children: ReactNode;\r\n}\r\n", "import { useContext } from 'react';\r\n\r\nimport { StoreContext } from './StoreContext';\r\n\r\n/**\r\n * Get the Store stored in the StoreContext\r\n */\r\nexport const useStoreContext = () => useContext(StoreContext);\r\n", "import { useState, useEffect } from 'react';\r\nimport isEqual from 'lodash/isEqual';\r\n\r\nimport { useEvent } from '../util';\r\nimport { useStoreContext } from './useStoreContext';\r\n\r\n/**\r\n * Read and write a value from the Store\r\n *\r\n * useState-like hook using the global Store for persistence.\r\n * Each time a store value is changed, all components using this value will be re-rendered.\r\n *\r\n * @param {string} key Name of the store key. Separate with dots to namespace, e.g. 'posts.list.columns'.\r\n * @param {any} defaultValue Default value\r\n *\r\n * @return {Object} A value and a setter for the value, in an array - just like for useState()\r\n *\r\n * @example\r\n * import { useStore } from 'react-admin';\r\n *\r\n * const PostList = () => {\r\n *     const [density] = useStore('posts.list.density', 'small');\r\n *\r\n *     return (\r\n *         <List>\r\n *             <Datagrid size={density}>\r\n *                 ...\r\n *             </Datagrid>\r\n *         </List>\r\n *     );\r\n * }\r\n *\r\n * // Clicking on this button will trigger a rerender of the PostList!\r\n * const ChangeDensity: FC<any> = () => {\r\n *     const [density, setDensity] = useStore('posts.list.density', 'small');\r\n *\r\n *     const changeDensity = (): void => {\r\n *         setDensity(density === 'small' ? 'medium' : 'small');\r\n *     };\r\n *\r\n *     return (\r\n *         <Button onClick={changeDensity}>\r\n *             {`Change density (current ${density})`}\r\n *         </Button>\r\n *     );\r\n * };\r\n */\r\nexport const useStore = <T = any>(\r\n    key: string,\r\n    defaultValue?: T\r\n): useStoreResult<T> => {\r\n    const { getItem, setItem, subscribe } = useStoreContext();\r\n    const [value, setValue] = useState(() => getItem(key, defaultValue));\r\n\r\n    // subscribe to changes on this key, and change the state when they happen\r\n    useEffect(() => {\r\n        const storedValue = getItem(key, defaultValue);\r\n        if (!isEqual(value, storedValue)) {\r\n            setValue(storedValue);\r\n        }\r\n        const unsubscribe = subscribe(key, newValue => {\r\n            setValue(typeof newValue === 'undefined' ? defaultValue : newValue);\r\n        });\r\n        return () => unsubscribe();\r\n    }, [key, subscribe, defaultValue, getItem, value]);\r\n\r\n    const set = useEvent((valueParam: T, runtimeDefaultValue: T) => {\r\n        const newValue =\r\n            typeof valueParam === 'function' ? valueParam(value) : valueParam;\r\n        // we only set the value in the Store;\r\n        // the value in the local state will be updated\r\n        // by the useEffect during the next render\r\n        setItem(\r\n            key,\r\n            typeof newValue === 'undefined'\r\n                ? typeof runtimeDefaultValue === 'undefined'\r\n                    ? defaultValue\r\n                    : runtimeDefaultValue\r\n                : newValue\r\n        );\r\n    });\r\n    return [value, set];\r\n};\r\n\r\nexport type useStoreResult<T = any> = [\r\n    T,\r\n    (value: T | ((value: T) => void), defaultValue?: T) => void\r\n];\r\n", "/**\r\n * Escape special characters in path so that react-router Route does not do any special treatment\r\n *\r\n * @see https://github.com/ReactTraining/react-router/blob/v3/docs/guides/RouteMatching.md#path-syntax\r\n *\r\n * @example\r\n *\r\n * escapePath('/foo(bar)') => 'foo\\(bar\\)'\r\n */\r\nexport default url => url.replace(/(\\(|\\))/g, '\\\\$1');\r\n", "import * as React from 'react';\r\nimport { ReactElement, memo } from 'react';\r\n\r\nimport { useTranslateLabel } from '../i18n';\r\n\r\nexport interface FieldTitleProps {\r\n    isRequired?: boolean;\r\n    resource?: string;\r\n    source?: string;\r\n    label?: string | ReactElement | boolean;\r\n}\r\n\r\nexport const FieldTitle = (props: FieldTitleProps) => {\r\n    const { source, label, resource, isRequired } = props;\r\n    const translateLabel = useTranslateLabel();\r\n\r\n    if (label === true) {\r\n        throw new Error(\r\n            'Label parameter must be a string, a ReactElement or false'\r\n        );\r\n    }\r\n\r\n    if (label === false || label === '') {\r\n        return null;\r\n    }\r\n\r\n    if (label && typeof label !== 'string') {\r\n        return label;\r\n    }\r\n\r\n    return (\r\n        <span>\r\n            {translateLabel({\r\n                label,\r\n                resource,\r\n                source,\r\n            })}\r\n            {isRequired && <span aria-hidden=\"true\">&thinsp;*</span>}\r\n        </span>\r\n    );\r\n};\r\n\r\n// What? TypeScript loses the displayName if we don't set it explicitly\r\nFieldTitle.displayName = 'FieldTitle';\r\n\r\nexport default memo(FieldTitle);\r\n", "/**\r\n * Replace tokens by their value in the given string\r\n *\r\n * @param {string} template The template with interpolation tokens, e.g. 'Hello, %{name}'\r\n * @param {object} data The data to interpolate, e.g. { name: 'John' }\r\n * @returns {string} The interpolated string, e.g. 'Hello, John'\r\n */\r\nexport const substituteTokens = (template, data) =>\r\n    template && data\r\n        ? String.prototype.replace.call(template, defaultTokenRegex, function (\r\n              expression,\r\n              argument\r\n          ) {\r\n              if (!data.hasOwnProperty(argument) || data[argument] == null) {\r\n                  return expression;\r\n              }\r\n              return data[argument];\r\n          })\r\n        : template;\r\n\r\n// tokens are like 'Hello, %{name}'\r\nconst defaultTokenRegex = /%\\{(.*?)\\}/g;\r\n", "import * as React from 'react';\r\nimport lodashGet from 'lodash/get';\r\n\r\nimport { I18nContextProvider } from './I18nContextProvider';\r\n\r\nexport const TestTranslationProvider = ({\r\n    translate,\r\n    messages,\r\n    children,\r\n}: any) => (\r\n    <I18nContextProvider\r\n        value={{\r\n            translate: messages\r\n                ? (key: string, options?: any) => {\r\n                      const message = lodashGet(messages, key);\r\n                      return message\r\n                          ? typeof message === 'function'\r\n                              ? message(options)\r\n                              : message\r\n                          : options._;\r\n                  }\r\n                : translate,\r\n            changeLocale: () => Promise.resolve(),\r\n            getLocale: () => 'en',\r\n        }}\r\n    >\r\n        {children}\r\n    </I18nContextProvider>\r\n);\r\n", "import * as React from 'react';\r\nimport { useEffect, useState, ReactNode } from 'react';\r\n\r\nimport { I18nContext } from './I18nContext';\r\nimport { useStore } from '../store/useStore';\r\nimport { useNotify } from '../notification';\r\nimport { I18nProvider } from '../types';\r\n\r\n/**\r\n * Store the i18nProvider in a context, and rerender children when the locale changes\r\n */\r\nexport const I18nContextProvider = ({\r\n    value = defaulti18nContext,\r\n    children,\r\n}: I18nContextProviderProps) => {\r\n    const [locale] = useStore('locale');\r\n    const notify = useNotify();\r\n    const [key, setKey] = useState(0);\r\n    // to avoid blinking effect, delay first render if the user has a non-default locale\r\n    const [isInitialized, setInitialized] = useState(\r\n        locale === value.getLocale()\r\n    );\r\n\r\n    // watch store for locale changes\r\n    useEffect(() => {\r\n        if (locale && value.getLocale() !== locale) {\r\n            new Promise(resolve => {\r\n                // so we systematically return a Promise for the messages\r\n                // i18nProvider may return a Promise for language changes,\r\n                resolve(value.changeLocale(locale));\r\n            })\r\n                .then(() => {\r\n                    // Force full page re-render.\r\n                    // This is slow on locale change, but it's a good way\r\n                    // to avoid having one subscription to the locale\r\n                    // for each call to translate()\r\n                    setKey(key => key + 1);\r\n                    setInitialized(true);\r\n                })\r\n                .catch(error => {\r\n                    setInitialized(true);\r\n                    notify('ra.notification.i18n_error', { type: 'error' });\r\n                    console.error(error);\r\n                });\r\n        } else {\r\n            setInitialized(true);\r\n        }\r\n    }, [value, locale, notify]);\r\n\r\n    return isInitialized ? (\r\n        <I18nContext.Provider value={value} key={key}>\r\n            {children}\r\n        </I18nContext.Provider>\r\n    ) : null;\r\n};\r\n\r\nexport interface I18nContextProviderProps {\r\n    value: I18nProvider;\r\n    children: ReactNode;\r\n}\r\n\r\nconst defaulti18nContext = {\r\n    translate: x => x,\r\n    changeLocale: () => Promise.resolve(),\r\n    getLocale: () => 'en',\r\n};\r\n", "import { createContext } from 'react';\r\nimport { I18nProvider } from '../types';\r\nimport { substituteTokens } from './substituteTokens';\r\n\r\nexport type I18nContextProps = I18nProvider;\r\n\r\nconst defaultI18nProvider = {\r\n    translate: (key, options) =>\r\n        options?._\r\n            ? substituteTokens(options._, options)\r\n            : substituteTokens(key, options),\r\n    changeLocale: () => Promise.resolve(),\r\n    getLocale: () => 'en',\r\n};\r\n\r\nexport const I18nContext = createContext<I18nProvider>(defaultI18nProvider);\r\n\r\nI18nContext.displayName = 'I18nContext';\r\n", "import { createContext } from 'react';\r\n\r\nimport { NotificationPayload } from './types';\r\n\r\nexport const AddNotificationContext = createContext<\r\n    (notification: NotificationPayload) => void\r\n>(() => {});\r\n", "import { createContext, Dispatch, SetStateAction } from 'react';\r\n\r\nimport { NotificationPayload } from './types';\r\n\r\nexport type NotificationContextType = {\r\n    notifications: NotificationPayload[];\r\n    addNotification: (notification: NotificationPayload) => void;\r\n    takeNotification: () => NotificationPayload | void;\r\n    resetNotifications: () => void;\r\n    setNotifications: Dispatch<SetStateAction<NotificationPayload[]>>;\r\n};\r\n\r\n/**\r\n * Context for the notification state and modifiers\r\n *\r\n * @example // display notifications\r\n * import { useNotificationContext } from 'react-admin';\r\n *\r\n * const App = () => {\r\n *    const { notifications } = useNotificationContext();\r\n *    return (\r\n *        <ul>\r\n *            {notifications.map(({ message }) => (\r\n *                <li key={index}>{ message }</li>\r\n *            ))}\r\n *        </ul>\r\n *    );\r\n * };\r\n *\r\n * @example // reset notifications\r\n * import { useNotificationContext } from 'react-admin';\r\n *\r\n * const ResetNotificationsButton = () => {\r\n *    const { resetNotifications } = useNotificationContext();\r\n *    return (\r\n *        <button onClick={() => resetNotifications()}>Reset notifications</button>\r\n *    );\r\n * };\r\n */\r\nexport const NotificationContext = createContext<NotificationContextType>({\r\n    notifications: [],\r\n    addNotification: () => {},\r\n    takeNotification: () => {},\r\n    resetNotifications: () => {},\r\n    setNotifications: () => {},\r\n});\r\n", "import * as React from 'react';\r\nimport { useState, useCallback, useMemo } from 'react';\r\n\r\nimport { NotificationPayload } from './types';\r\nimport { NotificationContext } from './NotificationContext';\r\nimport { AddNotificationContext } from './AddNotificationContext';\r\n\r\nexport const NotificationContextProvider = ({ children }) => {\r\n    const [notifications, setNotifications] = useState<NotificationPayload[]>(\r\n        []\r\n    );\r\n\r\n    const addNotification = useCallback((notification: NotificationPayload) => {\r\n        setNotifications(notifications => [...notifications, notification]);\r\n    }, []);\r\n\r\n    const takeNotification = useCallback(() => {\r\n        const [notification, ...rest] = notifications;\r\n        setNotifications(rest);\r\n        return notification;\r\n    }, [notifications]);\r\n\r\n    const resetNotifications = useCallback(() => {\r\n        setNotifications([]);\r\n    }, []);\r\n\r\n    const contextValue = useMemo(\r\n        () => ({\r\n            notifications,\r\n            addNotification,\r\n            takeNotification,\r\n            resetNotifications,\r\n            setNotifications,\r\n        }),\r\n        [notifications] // eslint-disable-line react-hooks/exhaustive-deps\r\n    );\r\n\r\n    // we separate the addNotification context to avoid rerendering all components\r\n    // that depend on useNotify when a notification is dispatched\r\n    return (\r\n        <NotificationContext.Provider value={contextValue}>\r\n            <AddNotificationContext.Provider value={addNotification}>\r\n                {children}\r\n            </AddNotificationContext.Provider>\r\n        </NotificationContext.Provider>\r\n    );\r\n};\r\n", "import { useContext } from 'react';\r\nimport { AddNotificationContext } from './AddNotificationContext';\r\n\r\nexport const useAddNotificationContext = () =>\r\n    useContext(AddNotificationContext);\r\n", "import { useContext } from 'react';\r\nimport { NotificationContext } from './NotificationContext';\r\n\r\nexport const useNotificationContext = () => useContext(NotificationContext);\r\n", "import { useCallback, ReactNode } from 'react';\r\n\r\nimport { useAddNotificationContext } from './useAddNotificationContext';\r\nimport { NotificationType, NotificationOptions } from './types';\r\n\r\n/**\r\n * Hook for Notification Side Effect\r\n *\r\n * @example\r\n *\r\n * const notify = useNotify();\r\n * // simple message (info level)\r\n * notify('Level complete');\r\n * // specify level\r\n * notify('A problem occurred', { type: 'error' })\r\n * // pass arguments to the translation function\r\n * notify('Deleted %{count} elements', { type: 'info', messageArgs: { smart_count: 23 } })\r\n * // show the action as undoable in the notification\r\n * notify('Post renamed', { type: 'info', undoable: true })\r\n */\r\nexport const useNotify = () => {\r\n    const addNotification = useAddNotificationContext();\r\n    return useCallback(\r\n        (\r\n            message: string | ReactNode,\r\n            options: NotificationOptions & { type?: NotificationType } = {}\r\n        ) => {\r\n            const {\r\n                type: messageType = 'info',\r\n                ...notificationOptions\r\n            } = options;\r\n            addNotification({\r\n                message,\r\n                type: messageType,\r\n                notificationOptions,\r\n            });\r\n        },\r\n        [addNotification]\r\n    );\r\n};\r\n", "import { createContext } from 'react';\r\n\r\nexport const TranslatableContext = createContext<\r\n    TranslatableContextValue | undefined\r\n>(undefined);\r\n\r\nexport interface TranslatableContextValue {\r\n    getLabel: GetTranslatableLabel;\r\n    getSource: GetTranslatableSource;\r\n    locales: string[];\r\n    selectedLocale: string;\r\n    selectLocale: SelectTranslatableLocale;\r\n}\r\n\r\nexport type GetTranslatableSource = (field: string, locale?: string) => string;\r\nexport type GetTranslatableLabel = (field: string, label?: string) => string;\r\nexport type SelectTranslatableLocale = (locale: string) => void;\r\n", "import * as React from 'react';\r\nimport { ReactElement, ReactNode } from 'react';\r\nimport {\r\n    TranslatableContext,\r\n    TranslatableContextValue,\r\n} from './TranslatableContext';\r\n\r\nexport const TranslatableContextProvider = ({\r\n    children,\r\n    value,\r\n}: {\r\n    children: ReactNode;\r\n    value: TranslatableContextValue;\r\n}): ReactElement => {\r\n    return (\r\n        <TranslatableContext.Provider value={value}>\r\n            {children}\r\n        </TranslatableContext.Provider>\r\n    );\r\n};\r\n", "import merge from 'lodash/merge';\r\nimport { DEFAULT_LOCALE } from './index';\r\n\r\ninterface AllNavigatorLanguage extends NavigatorLanguage {\r\n    browserLanguage?: string;\r\n    userLanguage?: string;\r\n}\r\n\r\n/**\r\n * Resolve the browser locale according to the value of the global window.navigator\r\n *\r\n * Use it to determine the <Admin> locale at runtime.\r\n *\r\n * @example\r\n *    import * as React from \"react\";\r\n *    import { Admin, Resource, resolveBrowserLocale } from 'react-admin';\r\n *    import polyglotI18nProvider from 'ra-i18n-polyglot';\r\n *    import englishMessages from 'ra-language-english';\r\n *    import frenchMessages from 'ra-language-french';\r\n *\r\n *    const messages = {\r\n *        fr: frenchMessages,\r\n *        en: englishMessages,\r\n *    };\r\n *    const i18nProvider = polyglotI18nProvider(\r\n *        locale => messages[locale] ? messages[locale] : messages.en,\r\n *        resolveBrowserLocale()\r\n *    );\r\n *\r\n *    const App = () => (\r\n *        <Admin i18nProvider={i18nProvider}>\r\n *            ...\r\n *        </Admin>\r\n *    );\r\n *\r\n * @param {string} defaultLocale Defaults to 'en'\r\n * @param options\r\n * @param {boolean} options.fullLocale Defaults to false\r\n */\r\nexport const resolveBrowserLocale = (\r\n    defaultLocale?: string,\r\n    options?: { fullLocale?: boolean }\r\n): string => {\r\n    // from http://blog.ksol.fr/user-locale-detection-browser-javascript/\r\n    // Rely on the window.navigator object to determine user locale\r\n    const {\r\n        language,\r\n        browserLanguage,\r\n        userLanguage,\r\n    } = window.navigator as AllNavigatorLanguage;\r\n\r\n    const locale =\r\n        language ||\r\n        browserLanguage ||\r\n        userLanguage ||\r\n        defaultLocale ||\r\n        DEFAULT_LOCALE;\r\n\r\n    return options?.fullLocale ? locale : locale.split('-')[0];\r\n};\r\n\r\n/**\r\n * Compose translations from multiple packages for a single language (eg: 'english').\r\n *\r\n * Use it to merge translations from addons with the main react-admin translations.\r\n *\r\n * @example\r\n *     import * as React from \"react\";\r\n *     import { Admin, Resource, mergeTranslations } from 'react-admin';\r\n *     import polyglotI18nProvider from 'ra-i18n-polyglot';\r\n *     import englishMessages from 'ra-language-english';\r\n *     import englishTreeMessages from 'ra-tree-language-english';\r\n *\r\n *     const messages = {\r\n *        en: mergeTranslations(englishMessages, englishTreeMessages),\r\n *     };\r\n *     const i18nProvider = polyglotI18nProvider(\r\n *        locale => messages[locale] ? messages[locale] : messages.en\r\n *    );\r\n *\r\n *    const App = () => (\r\n *        <Admin i18nProvider={i18nProvider}>\r\n *            ...\r\n *        </Admin>\r\n *    );\r\n */\r\nexport const mergeTranslations = (...translationsModules: object[]) =>\r\n    merge({}, ...translationsModules);\r\n", "import { useMemo } from 'react';\r\nimport { useI18nProvider } from './useI18nProvider';\r\nimport { useStore } from '../store/useStore';\r\n\r\n/**\r\n * Get the current locale and the ability to change it\r\n *\r\n * @example\r\n *\r\n * import { useLocaleState } from 'react-admin';\r\n *\r\n * const availableLanguages = {\r\n *     en: 'English',\r\n *     fr: 'Français',\r\n * }\r\n * const LocaleSwitcher = () => {\r\n *     const [locale, setLocale] = useLocaleState();\r\n *     return (\r\n *         <div>\r\n *             <div>Language</div>\r\n *             <Button disabled={locale === 'fr'} onClick={() => setLocale('fr')}>\r\n *                 English\r\n *             </Button>\r\n *             <Button disabled={locale === 'en'} onClick={() => setLocale('en')}>\r\n *                 French\r\n *             </Button>\r\n *         </div>\r\n *     );\r\n * };\r\n */\r\nexport const useLocaleState = () => {\r\n    const i18nProvider = useI18nProvider();\r\n    const defaultLocale = useMemo(() => i18nProvider.getLocale(), [\r\n        i18nProvider,\r\n    ]);\r\n    return useStore<string>('locale', defaultLocale);\r\n};\r\n", "import { useContext } from 'react';\r\n\r\nimport { I18nContext } from './I18nContext';\r\n\r\n/**\r\n * Get the i18nProvider instance declared in the <Admin> component\r\n *\r\n * @example\r\n *\r\n * const CurrentLanguage = () => {\r\n *    const i18nProvider = useI18nProvider();\r\n *    const locale = i18nProvider.getLocale();\r\n *    return <span>{locale}</span>;\r\n * };\r\n */\r\nexport const useI18nProvider = () => useContext(I18nContext);\r\n", "import { useLocaleState } from './useLocaleState';\r\n\r\n/**\r\n * Get the current locale\r\n *\r\n * @example\r\n *\r\n * import { useLocale } from 'react-admin';\r\n *\r\n * const availableLanguages = {\r\n *     en: 'English',\r\n *     fr: 'Français',\r\n * }\r\n * const CurrentLanguage = () => {\r\n *     const locale = useLocale();\r\n *     return <span>{availableLanguages[locale]}</span>;\r\n * }\r\n *\r\n * @deprecated use useLocaleState instead\r\n */\r\nexport const useLocale = () => {\r\n    const [locale] = useLocaleState();\r\n    return locale;\r\n};\r\n", "import { useMemo } from 'react';\r\nimport { useI18nProvider } from './useI18nProvider';\r\n\r\n/**\r\n * A hook that gets the available locales from the i18nProvider.\r\n * @example\r\n *\r\n * import { useLocales } from 'react-admin';\r\n *\r\n * const LocaleSelector = () => {\r\n *     const locales = useLocales();\r\n *     const [currentLocale, setCurrentLocale] = useLocaleState();\r\n *\r\n *     return (\r\n *         <select onChange={event => setCurrentLocale(event.target.value)}>\r\n *             {locales.map(locale => (\r\n *                 <option key={locale.locale} value={locale.locale}>\r\n *                     {locale.name}\r\n *                 </option>\r\n *             )}\r\n *         </select>\r\n *     );\r\n * }\r\n */\r\nexport const useLocales = (options?: UseLocalesOptions) => {\r\n    const i18nProvider = useI18nProvider();\r\n    const locales = useMemo(\r\n        () => (i18nProvider?.getLocales ? i18nProvider?.getLocales() : []),\r\n        [i18nProvider]\r\n    );\r\n    return options?.locales ?? locales;\r\n};\r\n\r\nexport interface UseLocalesOptions {\r\n    locales?: { locale: string; name: string }[];\r\n}\r\n", "import { useLocaleState } from './useLocaleState';\r\n\r\n/**\r\n * Set the current locale in the I18nContext and re-render the app when the locale changes.\r\n *\r\n * @example\r\n *\r\n * import { useSetLocale } from 'react-admin';\r\n *\r\n * const availableLanguages = {\r\n *     en: 'English',\r\n *     fr: 'Français',\r\n * }\r\n * const LanguageSwitcher = () => {\r\n *     const setLocale = useSetLocale();\r\n *     return (\r\n *         <ul>{\r\n *             Object.keys(availableLanguages).map(locale => {\r\n *                  <li key={locale} onClick={() => setLocale(locale)}>\r\n *                      {availableLanguages[locale]}\r\n *                  </li>\r\n *              })\r\n *         }</ul>\r\n *     );\r\n * }\r\n *\r\n * @deprecated use useLocaleState instead\r\n */\r\nexport const useSetLocale = () => {\r\n    const [, setLocale] = useLocaleState();\r\n    return setLocale;\r\n};\r\n", "import { useState, useMemo } from 'react';\r\nimport { useResourceContext } from '../core';\r\nimport { TranslatableContextValue } from './TranslatableContext';\r\nimport { useLocaleState } from './useLocaleState';\r\nimport { useTranslateLabel } from './useTranslateLabel';\r\n\r\n/**\r\n * Hook supplying the logic to translate a field value in multiple languages.\r\n *\r\n * @param options The hook options\r\n * @param {string} options.defaultLocale The locale of the default selected locale. Defaults to 'en'.\r\n * @param {string[]} options.locales An array of the supported locales. Each is an object with a locale and a name property. For example { locale: 'en', name: 'English' }.\r\n *\r\n * @returns\r\n * An object with following properties and methods:\r\n * - selectedLocale: The locale of the currently selected locale\r\n * - locales: An array of the supported locales\r\n * - getLabel: A function which returns the translated label for the given field\r\n * - getSource: A function which returns the source for the given field\r\n * - selectLocale: A function which set the selected locale\r\n */\r\nexport const useTranslatable = (\r\n    options: UseTranslatableOptions\r\n): TranslatableContextValue => {\r\n    const [localeFromUI] = useLocaleState();\r\n    const { defaultLocale = localeFromUI, locales } = options;\r\n    const [selectedLocale, setSelectedLocale] = useState(defaultLocale);\r\n    const resource = useResourceContext({});\r\n    const translateLabel = useTranslateLabel();\r\n\r\n    const context = useMemo<TranslatableContextValue>(\r\n        () => ({\r\n            getSource: (source: string, locale: string = selectedLocale) =>\r\n                `${source}.${locale}`,\r\n            getLabel: (source: string, label?: string) =>\r\n                translateLabel({ source, resource, label }) as string,\r\n            locales,\r\n            selectedLocale,\r\n            selectLocale: setSelectedLocale,\r\n        }),\r\n        [locales, resource, selectedLocale, translateLabel]\r\n    );\r\n\r\n    return context;\r\n};\r\n\r\nexport type UseTranslatableOptions = {\r\n    defaultLocale?: string;\r\n    locales: string[];\r\n};\r\n", "import * as React from 'react';\r\n\r\nimport { CoreAdminContext, CoreAdminContextProps } from './CoreAdminContext';\r\nimport { CoreAdminUI, CoreAdminUIProps } from './CoreAdminUI';\r\n\r\n/**\r\n * Main admin component, entry point to the application.\r\n *\r\n * Initializes the various contexts (auth, data, i18n, router)\r\n * and defines the main routes.\r\n *\r\n * Expects a list of resources as children, or a function returning a list of\r\n * resources based on the permissions.\r\n *\r\n * @example\r\n *\r\n * // static list of resources\r\n *\r\n * import {\r\n *     CoreAdmin,\r\n *     Resource,\r\n *     ListGuesser,\r\n *     useDataProvider,\r\n * } from 'ra-core';\r\n *\r\n * const App = () => (\r\n *     <CoreAdmin dataProvider={myDataProvider}>\r\n *         <Resource name=\"posts\" list={ListGuesser} />\r\n *     </CoreAdmin>\r\n * );\r\n *\r\n * // dynamic list of resources based on permissions\r\n *\r\n * import {\r\n *     CoreAdmin,\r\n *     Resource,\r\n *     ListGuesser,\r\n *     useDataProvider,\r\n * } from 'ra-core';\r\n *\r\n * const App = () => (\r\n *     <CoreAdmin dataProvider={myDataProvider}>\r\n *         {permissions => [\r\n *             <Resource name=\"posts\" key=\"posts\" list={ListGuesser} />,\r\n *         ]}\r\n *     </CoreAdmin>\r\n * );\r\n *\r\n * // If you have to build a dynamic list of resources using a side effect,\r\n * // you can't use <CoreAdmin>. But as it delegates to sub components,\r\n * // it's relatively straightforward to replace it:\r\n *\r\n * import * as React from 'react';\r\n * import { useEffect, useState } from 'react';\r\n * import {\r\n *     CoreAdminContext,\r\n *     CoreAdminUI,\r\n *     Resource,\r\n *     ListGuesser,\r\n *     useDataProvider,\r\n * } from 'ra-core';\r\n *\r\n * const App = () => (\r\n *     <CoreAdminContext dataProvider={myDataProvider}>\r\n *         <UI />\r\n *     </CoreAdminContext>\r\n * );\r\n *\r\n * const UI = () => {\r\n *     const [resources, setResources] = useState([]);\r\n *     const dataProvider = useDataProvider();\r\n *     useEffect(() => {\r\n *         dataProvider.introspect().then(r => setResources(r));\r\n *     }, []);\r\n *\r\n *     return (\r\n *         <CoreAdminUI>\r\n *             {resources.map(resource => (\r\n *                 <Resource name={resource.name} key={resource.key} list={ListGuesser} />\r\n *             ))}\r\n *         </CoreAdminUI>\r\n *     );\r\n * };\r\n */\r\nexport const CoreAdmin = (props: CoreAdminProps) => {\r\n    const {\r\n        authProvider,\r\n        basename,\r\n        catchAll,\r\n        children,\r\n        dashboard,\r\n        dataProvider,\r\n        disableTelemetry,\r\n        history,\r\n        i18nProvider,\r\n        queryClient,\r\n        layout,\r\n        loading,\r\n        loginPage,\r\n        menu, // deprecated, use a custom layout instead\r\n        ready,\r\n        requireAuth,\r\n        store,\r\n        title = 'React Admin',\r\n    } = props;\r\n    return (\r\n        <CoreAdminContext\r\n            authProvider={authProvider}\r\n            basename={basename}\r\n            dataProvider={dataProvider}\r\n            i18nProvider={i18nProvider}\r\n            queryClient={queryClient}\r\n            history={history}\r\n            store={store}\r\n        >\r\n            <CoreAdminUI\r\n                layout={layout}\r\n                dashboard={dashboard}\r\n                disableTelemetry={disableTelemetry}\r\n                menu={menu}\r\n                catchAll={catchAll}\r\n                title={title}\r\n                loading={loading}\r\n                loginPage={loginPage}\r\n                requireAuth={requireAuth}\r\n                ready={ready}\r\n            >\r\n                {children}\r\n            </CoreAdminUI>\r\n        </CoreAdminContext>\r\n    );\r\n};\r\n\r\nexport type CoreAdminProps = CoreAdminContextProps & CoreAdminUIProps;\r\n", "import * as React from 'react';\r\nimport { useMemo } from 'react';\r\nimport { QueryClientProvider, QueryClient } from 'react-query';\r\nimport { History } from 'history';\r\n\r\nimport { AdminRouter } from '../routing';\r\nimport { AuthContext, convertLegacyAuthProvider } from '../auth';\r\nimport {\r\n    DataProviderContext,\r\n    convertLegacyDataProvider,\r\n    defaultDataProvider,\r\n} from '../dataProvider';\r\nimport { StoreContextProvider, Store, memoryStore } from '../store';\r\nimport { PreferencesEditorContextProvider } from '../preferences/PreferencesEditorContextProvider';\r\nimport { I18nContextProvider } from '../i18n';\r\nimport { ResourceDefinitionContextProvider } from './ResourceDefinitionContext';\r\nimport { NotificationContextProvider } from '../notification';\r\nimport {\r\n    AuthProvider,\r\n    LegacyAuthProvider,\r\n    I18nProvider,\r\n    DataProvider,\r\n    AdminChildren,\r\n    DashboardComponent,\r\n    LegacyDataProvider,\r\n} from '../types';\r\n\r\nconst defaultStore = memoryStore();\r\n\r\nexport interface CoreAdminContextProps {\r\n    authProvider?: AuthProvider | LegacyAuthProvider;\r\n    basename?: string;\r\n    children?: AdminChildren;\r\n    dashboard?: DashboardComponent;\r\n    dataProvider?: DataProvider | LegacyDataProvider;\r\n    store?: Store;\r\n    queryClient?: QueryClient;\r\n    /**\r\n     * @deprecated Wrap your Admin inside a Router to change the routing strategy\r\n     */\r\n    history?: History;\r\n    i18nProvider?: I18nProvider;\r\n    theme?: object;\r\n}\r\n\r\nexport const CoreAdminContext = (props: CoreAdminContextProps) => {\r\n    const {\r\n        authProvider,\r\n        basename,\r\n        dataProvider = defaultDataProvider,\r\n        i18nProvider,\r\n        store = defaultStore,\r\n        children,\r\n        history,\r\n        queryClient,\r\n    } = props;\r\n\r\n    if (!dataProvider) {\r\n        throw new Error(`Missing dataProvider prop.\r\nReact-admin requires a valid dataProvider function to work.`);\r\n    }\r\n\r\n    const finalQueryClient = useMemo(() => queryClient || new QueryClient(), [\r\n        queryClient,\r\n    ]);\r\n\r\n    const finalAuthProvider = useMemo(\r\n        () =>\r\n            authProvider instanceof Function\r\n                ? convertLegacyAuthProvider(authProvider)\r\n                : authProvider,\r\n        [authProvider]\r\n    );\r\n\r\n    const finalDataProvider = useMemo(\r\n        () =>\r\n            dataProvider instanceof Function\r\n                ? convertLegacyDataProvider(dataProvider)\r\n                : dataProvider,\r\n        [dataProvider]\r\n    );\r\n\r\n    return (\r\n        <AuthContext.Provider value={finalAuthProvider}>\r\n            <DataProviderContext.Provider value={finalDataProvider}>\r\n                <StoreContextProvider value={store}>\r\n                    <PreferencesEditorContextProvider>\r\n                        <QueryClientProvider client={finalQueryClient}>\r\n                            <AdminRouter history={history} basename={basename}>\r\n                                <I18nContextProvider value={i18nProvider}>\r\n                                    <NotificationContextProvider>\r\n                                        <ResourceDefinitionContextProvider>\r\n                                            {children}\r\n                                        </ResourceDefinitionContextProvider>\r\n                                    </NotificationContextProvider>\r\n                                </I18nContextProvider>\r\n                            </AdminRouter>\r\n                        </QueryClientProvider>\r\n                    </PreferencesEditorContextProvider>\r\n                </StoreContextProvider>\r\n            </DataProviderContext.Provider>\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode, useMemo } from 'react';\r\nimport { useInRouterContext } from 'react-router-dom';\r\nimport { createHashHistory, History } from 'history';\r\n\r\nimport { HistoryRouter, HistoryRouterProps } from './HistoryRouter';\r\nimport { BasenameContextProvider } from './BasenameContextProvider';\r\n\r\n/**\r\n * Creates a react-router Router unless the app is already inside existing router.\r\n * Also creates a BasenameContext with the basename prop\r\n */\r\nexport const AdminRouter = ({\r\n    history,\r\n    basename = '',\r\n    children,\r\n}: AdminRouterProps) => {\r\n    const isInRouter = useInRouterContext();\r\n    const Router = isInRouter ? DummyRouter : InternalRouter;\r\n\r\n    return (\r\n        <BasenameContextProvider basename={isInRouter ? basename : ''}>\r\n            <Router basename={basename} history={history}>\r\n                {children}\r\n            </Router>\r\n        </BasenameContextProvider>\r\n    );\r\n};\r\n\r\nexport interface AdminRouterProps {\r\n    history?: History;\r\n    basename?: string;\r\n    children: React.ReactNode;\r\n}\r\n\r\nconst DummyRouter = ({ children }: { children: ReactNode }) => <>{children}</>;\r\n\r\nconst InternalRouter = ({\r\n    children,\r\n    history,\r\n}: {\r\n    history?: History;\r\n} & Omit<HistoryRouterProps, 'history'>) => {\r\n    const finalHistory = useMemo(() => history || createHashHistory(), [\r\n        history,\r\n    ]);\r\n\r\n    return <HistoryRouter history={finalHistory}>{children}</HistoryRouter>;\r\n};\r\n", "import _extends from '@babel/runtime/helpers/esm/extends';\n\n/**\r\n * Actions represent the type of change to a location value.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#action\r\n */\nvar Action;\n\n(function (Action) {\n  /**\r\n   * A POP indicates a change to an arbitrary index in the history stack, such\r\n   * as a back or forward navigation. It does not describe the direction of the\r\n   * navigation, only that the current index changed.\r\n   *\r\n   * Note: This is the default action for newly created history objects.\r\n   */\n  Action[\"Pop\"] = \"POP\";\n  /**\r\n   * A PUSH indicates a new entry being added to the history stack, such as when\r\n   * a link is clicked and a new page loads. When this happens, all subsequent\r\n   * entries in the stack are lost.\r\n   */\n\n  Action[\"Push\"] = \"PUSH\";\n  /**\r\n   * A REPLACE indicates the entry at the current index in the history stack\r\n   * being replaced by a new one.\r\n   */\n\n  Action[\"Replace\"] = \"REPLACE\";\n})(Action || (Action = {}));\n\nvar readOnly = process.env.NODE_ENV !== \"production\" ? function (obj) {\n  return Object.freeze(obj);\n} : function (obj) {\n  return obj;\n};\n\nfunction warning(cond, message) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== 'undefined') console.warn(message);\n\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message); // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\nvar BeforeUnloadEventType = 'beforeunload';\nvar HashChangeEventType = 'hashchange';\nvar PopStateEventType = 'popstate';\n/**\r\n * Browser history stores the location in regular URLs. This is the standard for\r\n * most web apps, but it requires some configuration on the server to ensure you\r\n * serve the same app at multiple URLs.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\r\n */\n\nfunction createBrowserHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$window = _options.window,\n      window = _options$window === void 0 ? document.defaultView : _options$window;\n  var globalHistory = window.history;\n\n  function getIndexAndLocation() {\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var state = globalHistory.state || {};\n    return [state.idx, readOnly({\n      pathname: pathname,\n      search: search,\n      hash: hash,\n      state: state.usr || null,\n      key: state.key || 'default'\n    })];\n  }\n\n  var blockedPopTx = null;\n\n  function handlePop() {\n    if (blockedPopTx) {\n      blockers.call(blockedPopTx);\n      blockedPopTx = null;\n    } else {\n      var nextAction = Action.Pop;\n\n      var _getIndexAndLocation = getIndexAndLocation(),\n          nextIndex = _getIndexAndLocation[0],\n          nextLocation = _getIndexAndLocation[1];\n\n      if (blockers.length) {\n        if (nextIndex != null) {\n          var delta = index - nextIndex;\n\n          if (delta) {\n            // Revert the POP\n            blockedPopTx = {\n              action: nextAction,\n              location: nextLocation,\n              retry: function retry() {\n                go(delta * -1);\n              }\n            };\n            go(delta);\n          }\n        } else {\n          // Trying to POP to a location with no index. We did not create\n          // this location, so we can't effectively block the navigation.\n          process.env.NODE_ENV !== \"production\" ? warning(false, // TODO: Write up a doc that explains our blocking strategy in\n          // detail and link to it here so people can understand better what\n          // is going on and how to avoid it.\n          \"You are trying to block a POP navigation to a location that was not \" + \"created by the history library. The block will fail silently in \" + \"production, but in general you should do all navigation with the \" + \"history library (instead of using window.history.pushState directly) \" + \"to avoid this situation.\") : void 0;\n        }\n      } else {\n        applyTx(nextAction);\n      }\n    }\n  }\n\n  window.addEventListener(PopStateEventType, handlePop);\n  var action = Action.Pop;\n\n  var _getIndexAndLocation2 = getIndexAndLocation(),\n      index = _getIndexAndLocation2[0],\n      location = _getIndexAndLocation2[1];\n\n  var listeners = createEvents();\n  var blockers = createEvents();\n\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState(_extends({}, globalHistory.state, {\n      idx: index\n    }), '');\n  }\n\n  function createHref(to) {\n    return typeof to === 'string' ? to : createPath(to);\n  } // state defaults to `null` because `window.history.state` does\n\n\n  function getNextLocation(to, state) {\n    if (state === void 0) {\n      state = null;\n    }\n\n    return readOnly(_extends({\n      pathname: location.pathname,\n      hash: '',\n      search: ''\n    }, typeof to === 'string' ? parsePath(to) : to, {\n      state: state,\n      key: createKey()\n    }));\n  }\n\n  function getHistoryStateAndUrl(nextLocation, index) {\n    return [{\n      usr: nextLocation.state,\n      key: nextLocation.key,\n      idx: index\n    }, createHref(nextLocation)];\n  }\n\n  function allowTx(action, location, retry) {\n    return !blockers.length || (blockers.call({\n      action: action,\n      location: location,\n      retry: retry\n    }), false);\n  }\n\n  function applyTx(nextAction) {\n    action = nextAction;\n\n    var _getIndexAndLocation3 = getIndexAndLocation();\n\n    index = _getIndexAndLocation3[0];\n    location = _getIndexAndLocation3[1];\n    listeners.call({\n      action: action,\n      location: location\n    });\n  }\n\n  function push(to, state) {\n    var nextAction = Action.Push;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      push(to, state);\n    }\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      var _getHistoryStateAndUr = getHistoryStateAndUrl(nextLocation, index + 1),\n          historyState = _getHistoryStateAndUr[0],\n          url = _getHistoryStateAndUr[1]; // TODO: Support forced reloading\n      // try...catch because iOS limits us to 100 pushState calls :/\n\n\n      try {\n        globalHistory.pushState(historyState, '', url);\n      } catch (error) {\n        // They are going to lose state here, but there is no real\n        // way to warn them about it since the page will refresh...\n        window.location.assign(url);\n      }\n\n      applyTx(nextAction);\n    }\n  }\n\n  function replace(to, state) {\n    var nextAction = Action.Replace;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      replace(to, state);\n    }\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      var _getHistoryStateAndUr2 = getHistoryStateAndUrl(nextLocation, index),\n          historyState = _getHistoryStateAndUr2[0],\n          url = _getHistoryStateAndUr2[1]; // TODO: Support forced reloading\n\n\n      globalHistory.replaceState(historyState, '', url);\n      applyTx(nextAction);\n    }\n  }\n\n  function go(delta) {\n    globalHistory.go(delta);\n  }\n\n  var history = {\n    get action() {\n      return action;\n    },\n\n    get location() {\n      return location;\n    },\n\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    back: function back() {\n      go(-1);\n    },\n    forward: function forward() {\n      go(1);\n    },\n    listen: function listen(listener) {\n      return listeners.push(listener);\n    },\n    block: function block(blocker) {\n      var unblock = blockers.push(blocker);\n\n      if (blockers.length === 1) {\n        window.addEventListener(BeforeUnloadEventType, promptBeforeUnload);\n      }\n\n      return function () {\n        unblock(); // Remove the beforeunload listener so the document may\n        // still be salvageable in the pagehide event.\n        // See https://html.spec.whatwg.org/#unloading-documents\n\n        if (!blockers.length) {\n          window.removeEventListener(BeforeUnloadEventType, promptBeforeUnload);\n        }\n      };\n    }\n  };\n  return history;\n}\n/**\r\n * Hash history stores the location in window.location.hash. This makes it ideal\r\n * for situations where you don't want to send the location to the server for\r\n * some reason, either because you do cannot configure it or the URL space is\r\n * reserved for something else.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\r\n */\n\nfunction createHashHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options2 = options,\n      _options2$window = _options2.window,\n      window = _options2$window === void 0 ? document.defaultView : _options2$window;\n  var globalHistory = window.history;\n\n  function getIndexAndLocation() {\n    var _parsePath = parsePath(window.location.hash.substr(1)),\n        _parsePath$pathname = _parsePath.pathname,\n        pathname = _parsePath$pathname === void 0 ? '/' : _parsePath$pathname,\n        _parsePath$search = _parsePath.search,\n        search = _parsePath$search === void 0 ? '' : _parsePath$search,\n        _parsePath$hash = _parsePath.hash,\n        hash = _parsePath$hash === void 0 ? '' : _parsePath$hash;\n\n    var state = globalHistory.state || {};\n    return [state.idx, readOnly({\n      pathname: pathname,\n      search: search,\n      hash: hash,\n      state: state.usr || null,\n      key: state.key || 'default'\n    })];\n  }\n\n  var blockedPopTx = null;\n\n  function handlePop() {\n    if (blockedPopTx) {\n      blockers.call(blockedPopTx);\n      blockedPopTx = null;\n    } else {\n      var nextAction = Action.Pop;\n\n      var _getIndexAndLocation4 = getIndexAndLocation(),\n          nextIndex = _getIndexAndLocation4[0],\n          nextLocation = _getIndexAndLocation4[1];\n\n      if (blockers.length) {\n        if (nextIndex != null) {\n          var delta = index - nextIndex;\n\n          if (delta) {\n            // Revert the POP\n            blockedPopTx = {\n              action: nextAction,\n              location: nextLocation,\n              retry: function retry() {\n                go(delta * -1);\n              }\n            };\n            go(delta);\n          }\n        } else {\n          // Trying to POP to a location with no index. We did not create\n          // this location, so we can't effectively block the navigation.\n          process.env.NODE_ENV !== \"production\" ? warning(false, // TODO: Write up a doc that explains our blocking strategy in\n          // detail and link to it here so people can understand better\n          // what is going on and how to avoid it.\n          \"You are trying to block a POP navigation to a location that was not \" + \"created by the history library. The block will fail silently in \" + \"production, but in general you should do all navigation with the \" + \"history library (instead of using window.history.pushState directly) \" + \"to avoid this situation.\") : void 0;\n        }\n      } else {\n        applyTx(nextAction);\n      }\n    }\n  }\n\n  window.addEventListener(PopStateEventType, handlePop); // popstate does not fire on hashchange in IE 11 and old (trident) Edge\n  // https://developer.mozilla.org/de/docs/Web/API/Window/popstate_event\n\n  window.addEventListener(HashChangeEventType, function () {\n    var _getIndexAndLocation5 = getIndexAndLocation(),\n        nextLocation = _getIndexAndLocation5[1]; // Ignore extraneous hashchange events.\n\n\n    if (createPath(nextLocation) !== createPath(location)) {\n      handlePop();\n    }\n  });\n  var action = Action.Pop;\n\n  var _getIndexAndLocation6 = getIndexAndLocation(),\n      index = _getIndexAndLocation6[0],\n      location = _getIndexAndLocation6[1];\n\n  var listeners = createEvents();\n  var blockers = createEvents();\n\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState(_extends({}, globalHistory.state, {\n      idx: index\n    }), '');\n  }\n\n  function getBaseHref() {\n    var base = document.querySelector('base');\n    var href = '';\n\n    if (base && base.getAttribute('href')) {\n      var url = window.location.href;\n      var hashIndex = url.indexOf('#');\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n\n    return href;\n  }\n\n  function createHref(to) {\n    return getBaseHref() + '#' + (typeof to === 'string' ? to : createPath(to));\n  }\n\n  function getNextLocation(to, state) {\n    if (state === void 0) {\n      state = null;\n    }\n\n    return readOnly(_extends({\n      pathname: location.pathname,\n      hash: '',\n      search: ''\n    }, typeof to === 'string' ? parsePath(to) : to, {\n      state: state,\n      key: createKey()\n    }));\n  }\n\n  function getHistoryStateAndUrl(nextLocation, index) {\n    return [{\n      usr: nextLocation.state,\n      key: nextLocation.key,\n      idx: index\n    }, createHref(nextLocation)];\n  }\n\n  function allowTx(action, location, retry) {\n    return !blockers.length || (blockers.call({\n      action: action,\n      location: location,\n      retry: retry\n    }), false);\n  }\n\n  function applyTx(nextAction) {\n    action = nextAction;\n\n    var _getIndexAndLocation7 = getIndexAndLocation();\n\n    index = _getIndexAndLocation7[0];\n    location = _getIndexAndLocation7[1];\n    listeners.call({\n      action: action,\n      location: location\n    });\n  }\n\n  function push(to, state) {\n    var nextAction = Action.Push;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      push(to, state);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(nextLocation.pathname.charAt(0) === '/', \"Relative pathnames are not supported in hash history.push(\" + JSON.stringify(to) + \")\") : void 0;\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      var _getHistoryStateAndUr3 = getHistoryStateAndUrl(nextLocation, index + 1),\n          historyState = _getHistoryStateAndUr3[0],\n          url = _getHistoryStateAndUr3[1]; // TODO: Support forced reloading\n      // try...catch because iOS limits us to 100 pushState calls :/\n\n\n      try {\n        globalHistory.pushState(historyState, '', url);\n      } catch (error) {\n        // They are going to lose state here, but there is no real\n        // way to warn them about it since the page will refresh...\n        window.location.assign(url);\n      }\n\n      applyTx(nextAction);\n    }\n  }\n\n  function replace(to, state) {\n    var nextAction = Action.Replace;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      replace(to, state);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(nextLocation.pathname.charAt(0) === '/', \"Relative pathnames are not supported in hash history.replace(\" + JSON.stringify(to) + \")\") : void 0;\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      var _getHistoryStateAndUr4 = getHistoryStateAndUrl(nextLocation, index),\n          historyState = _getHistoryStateAndUr4[0],\n          url = _getHistoryStateAndUr4[1]; // TODO: Support forced reloading\n\n\n      globalHistory.replaceState(historyState, '', url);\n      applyTx(nextAction);\n    }\n  }\n\n  function go(delta) {\n    globalHistory.go(delta);\n  }\n\n  var history = {\n    get action() {\n      return action;\n    },\n\n    get location() {\n      return location;\n    },\n\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    back: function back() {\n      go(-1);\n    },\n    forward: function forward() {\n      go(1);\n    },\n    listen: function listen(listener) {\n      return listeners.push(listener);\n    },\n    block: function block(blocker) {\n      var unblock = blockers.push(blocker);\n\n      if (blockers.length === 1) {\n        window.addEventListener(BeforeUnloadEventType, promptBeforeUnload);\n      }\n\n      return function () {\n        unblock(); // Remove the beforeunload listener so the document may\n        // still be salvageable in the pagehide event.\n        // See https://html.spec.whatwg.org/#unloading-documents\n\n        if (!blockers.length) {\n          window.removeEventListener(BeforeUnloadEventType, promptBeforeUnload);\n        }\n      };\n    }\n  };\n  return history;\n}\n/**\r\n * Memory history stores the current location in memory. It is designed for use\r\n * in stateful non-browser environments like tests and React Native.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#creatememoryhistory\r\n */\n\nfunction createMemoryHistory(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options3 = options,\n      _options3$initialEntr = _options3.initialEntries,\n      initialEntries = _options3$initialEntr === void 0 ? ['/'] : _options3$initialEntr,\n      initialIndex = _options3.initialIndex;\n  var entries = initialEntries.map(function (entry) {\n    var location = readOnly(_extends({\n      pathname: '/',\n      search: '',\n      hash: '',\n      state: null,\n      key: createKey()\n    }, typeof entry === 'string' ? parsePath(entry) : entry));\n    process.env.NODE_ENV !== \"production\" ? warning(location.pathname.charAt(0) === '/', \"Relative pathnames are not supported in createMemoryHistory({ initialEntries }) (invalid entry: \" + JSON.stringify(entry) + \")\") : void 0;\n    return location;\n  });\n  var index = clamp(initialIndex == null ? entries.length - 1 : initialIndex, 0, entries.length - 1);\n  var action = Action.Pop;\n  var location = entries[index];\n  var listeners = createEvents();\n  var blockers = createEvents();\n\n  function createHref(to) {\n    return typeof to === 'string' ? to : createPath(to);\n  }\n\n  function getNextLocation(to, state) {\n    if (state === void 0) {\n      state = null;\n    }\n\n    return readOnly(_extends({\n      pathname: location.pathname,\n      search: '',\n      hash: ''\n    }, typeof to === 'string' ? parsePath(to) : to, {\n      state: state,\n      key: createKey()\n    }));\n  }\n\n  function allowTx(action, location, retry) {\n    return !blockers.length || (blockers.call({\n      action: action,\n      location: location,\n      retry: retry\n    }), false);\n  }\n\n  function applyTx(nextAction, nextLocation) {\n    action = nextAction;\n    location = nextLocation;\n    listeners.call({\n      action: action,\n      location: location\n    });\n  }\n\n  function push(to, state) {\n    var nextAction = Action.Push;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      push(to, state);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(location.pathname.charAt(0) === '/', \"Relative pathnames are not supported in memory history.push(\" + JSON.stringify(to) + \")\") : void 0;\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      applyTx(nextAction, nextLocation);\n    }\n  }\n\n  function replace(to, state) {\n    var nextAction = Action.Replace;\n    var nextLocation = getNextLocation(to, state);\n\n    function retry() {\n      replace(to, state);\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(location.pathname.charAt(0) === '/', \"Relative pathnames are not supported in memory history.replace(\" + JSON.stringify(to) + \")\") : void 0;\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      entries[index] = nextLocation;\n      applyTx(nextAction, nextLocation);\n    }\n  }\n\n  function go(delta) {\n    var nextIndex = clamp(index + delta, 0, entries.length - 1);\n    var nextAction = Action.Pop;\n    var nextLocation = entries[nextIndex];\n\n    function retry() {\n      go(delta);\n    }\n\n    if (allowTx(nextAction, nextLocation, retry)) {\n      index = nextIndex;\n      applyTx(nextAction, nextLocation);\n    }\n  }\n\n  var history = {\n    get index() {\n      return index;\n    },\n\n    get action() {\n      return action;\n    },\n\n    get location() {\n      return location;\n    },\n\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    back: function back() {\n      go(-1);\n    },\n    forward: function forward() {\n      go(1);\n    },\n    listen: function listen(listener) {\n      return listeners.push(listener);\n    },\n    block: function block(blocker) {\n      return blockers.push(blocker);\n    }\n  };\n  return history;\n} ////////////////////////////////////////////////////////////////////////////////\n// UTILS\n////////////////////////////////////////////////////////////////////////////////\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n\nfunction promptBeforeUnload(event) {\n  // Cancel the event.\n  event.preventDefault(); // Chrome (and legacy IE) requires returnValue to be set.\n\n  event.returnValue = '';\n}\n\nfunction createEvents() {\n  var handlers = [];\n  return {\n    get length() {\n      return handlers.length;\n    },\n\n    push: function push(fn) {\n      handlers.push(fn);\n      return function () {\n        handlers = handlers.filter(function (handler) {\n          return handler !== fn;\n        });\n      };\n    },\n    call: function call(arg) {\n      handlers.forEach(function (fn) {\n        return fn && fn(arg);\n      });\n    }\n  };\n}\n\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n/**\r\n * Creates a string URL path from the given pathname, search, and hash components.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createpath\r\n */\n\n\nfunction createPath(_ref) {\n  var _ref$pathname = _ref.pathname,\n      pathname = _ref$pathname === void 0 ? '/' : _ref$pathname,\n      _ref$search = _ref.search,\n      search = _ref$search === void 0 ? '' : _ref$search,\n      _ref$hash = _ref.hash,\n      hash = _ref$hash === void 0 ? '' : _ref$hash;\n  if (search && search !== '?') pathname += search.charAt(0) === '?' ? search : '?' + search;\n  if (hash && hash !== '#') pathname += hash.charAt(0) === '#' ? hash : '#' + hash;\n  return pathname;\n}\n/**\r\n * Parses a string URL path into its separate pathname, search, and hash components.\r\n *\r\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#parsepath\r\n */\n\nfunction parsePath(path) {\n  var parsedPath = {};\n\n  if (path) {\n    var hashIndex = path.indexOf('#');\n\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n\n    var searchIndex = path.indexOf('?');\n\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n\n  return parsedPath;\n}\n\nexport { Action, createBrowserHistory, createHashHistory, createMemoryHistory, createPath, parsePath };\n//# sourceMappingURL=index.js.map\n", "import * as React from 'react';\r\nimport { useLayoutEffect, useState } from 'react';\r\nimport { History } from 'history';\r\nimport { Router } from 'react-router';\r\n\r\n/**\r\n * A router that accepts a custom history.\r\n * To remove once https://github.com/remix-run/react-router/pull/7586 is merged.\r\n */\r\nexport function HistoryRouter({\r\n    basename,\r\n    children,\r\n    history,\r\n}: HistoryRouterProps) {\r\n    const [state, setState] = useState({\r\n        action: history.action,\r\n        location: history.location,\r\n    });\r\n\r\n    useLayoutEffect(() => history.listen(setState), [history]);\r\n\r\n    return (\r\n        <Router\r\n            basename={basename}\r\n            children={children}\r\n            location={state.location}\r\n            navigationType={state.action}\r\n            navigator={history}\r\n        />\r\n    );\r\n}\r\n\r\nexport interface HistoryRouterProps {\r\n    basename?: string;\r\n    children?: React.ReactNode;\r\n    history: History;\r\n}\r\n", "import * as React from 'react';\r\nimport { BasenameContext } from './BasenameContext';\r\n\r\n/**\r\n * Set the string to append to all links to the admin app.\r\n *\r\n * Useful when the app is mounted on a sub path, e.g. '/admin'.\r\n * Used internally by the `<Admin>` component.\r\n *\r\n * @see useBasename\r\n */\r\nexport const BasenameContextProvider = ({ children, basename }) => (\r\n    <BasenameContext.Provider value={basename}>\r\n        {children}\r\n    </BasenameContext.Provider>\r\n);\r\n", "import { createContext } from 'react';\r\n\r\nexport const BasenameContext = createContext('');\r\n", "/**\r\n * @deprecated use useCreatePath instead\r\n */\r\nexport const linkToRecord = (resource, id, linkType = 'edit') => {\r\n    const link = `${resource}/${encodeURIComponent(id)}`;\r\n\r\n    if (linkType === 'show') {\r\n        return `${link}/show`;\r\n    }\r\n\r\n    return link;\r\n};\r\n", "import { To } from 'react-router-dom';\r\n\r\n/**\r\n * @deprecated use useCreatePath instead\r\n */\r\nexport const resolveRedirectTo = (\r\n    redirectTo,\r\n    resource: string,\r\n    id?,\r\n    data?,\r\n    basename: string = ''\r\n): To => {\r\n    if (typeof redirectTo === 'function') {\r\n        const target: To = redirectTo(resource, id, data);\r\n        return typeof target === 'string'\r\n            ? removeDoubleSlashes(`${basename}/${target}`)\r\n            : {\r\n                  pathname: removeDoubleSlashes(\r\n                      `${basename}/${target.pathname}`\r\n                  ),\r\n                  ...target,\r\n              };\r\n    }\r\n    switch (redirectTo) {\r\n        case 'list':\r\n            return removeDoubleSlashes(`${basename}/${resource}`);\r\n        case 'create':\r\n            return removeDoubleSlashes(`${basename}/${resource}/create`);\r\n        case 'edit':\r\n            return removeDoubleSlashes(\r\n                `${basename}/${resource}/${encodeURIComponent(id)}`\r\n            );\r\n        case 'show':\r\n            return removeDoubleSlashes(\r\n                `${basename}/${resource}/${encodeURIComponent(id)}/show`\r\n            );\r\n        default:\r\n            return redirectTo;\r\n    }\r\n};\r\n\r\nconst removeDoubleSlashes = (path: string) => path.replace('//', '/');\r\n", "import { useContext } from 'react';\r\n\r\nimport { BasenameContext } from './BasenameContext';\r\n\r\n/**\r\n * Get the string to append to all links to the admin app.\r\n *\r\n * Useful when the app is mounted on a sub path, e.g. '/admin'.\r\n *\r\n * This hook is used internally by all react-admin components that\r\n * contain a link, and requires that the basename is set via the\r\n * `<BasenameContextProvider>` component (or via the `<Admin>` component,\r\n * which calls BasenameContextProvider internally).\r\n *\r\n * @see BasenameContextProvider\r\n *\r\n * @example\r\n * import { useBasename } from 'react-admin';\r\n *\r\n * const ArticleLink = ({ title, id }) => {\r\n *    const basename = useBasename();\r\n *    return <a href={`${basename}/articles/${id}`}>{title}</a>;\r\n * };\r\n */\r\nexport const useBasename = () => useContext(BasenameContext);\r\n", "import { useCallback } from 'react';\r\n\r\nimport { Identifier } from '../types';\r\nimport { useBasename } from './useBasename';\r\n\r\n/**\r\n * Get a callback to create a link to a given page in the admin app.\r\n *\r\n * The callback expects an object as parameter, containing the following properties:\r\n *   - type: 'list', 'edit', 'show' or 'create'\r\n *   - resource\r\n *   - id (optional), for 'edit' or 'show' pages\r\n *\r\n * This is used internally by react-admin to allow default components to work\r\n * in applications that are mounted on a sub path, e.g. '/admin'. If your app\r\n * is mounted in the root path, you don't need it, and you can create links by\r\n * hand, e.g. '/articles/1/show'.\r\n *\r\n * @example\r\n * import { useCreatePath, useRecordContext } from 'react-admin';\r\n * import { useNavigate } from 'react-router-dom';\r\n *\r\n * const PostEditButton = () => {\r\n *     const createPath = useCreatePath();\r\n *     const record = useRecordContext();\r\n *     const navigate = useNavigate();\r\n *\r\n *     const handleClick = () => {\r\n *         const link = createPath({\r\n *            type: 'edit',\r\n *            resource: 'posts',\r\n *            id: record.id\r\n *         });\r\n *         navigate(link);\r\n *     };\r\n *\r\n *    return <button onClick={handleClick}>Edit Post</button>;\r\n * };\r\n */\r\nexport const useCreatePath = () => {\r\n    const basename = useBasename();\r\n    return useCallback(\r\n        ({ resource, id, type }: CreatePathParams): string => {\r\n            switch (type) {\r\n                case 'list':\r\n                    return removeDoubleSlashes(`${basename}/${resource}`);\r\n                case 'create':\r\n                    return removeDoubleSlashes(\r\n                        `${basename}/${resource}/create`\r\n                    );\r\n                case 'edit': {\r\n                    if (id == null) {\r\n                        // maybe the id isn't defined yet\r\n                        // instead of throwing an error, fallback to list link\r\n                        return removeDoubleSlashes(`${basename}/${resource}`);\r\n                    }\r\n                    return removeDoubleSlashes(\r\n                        `${basename}/${resource}/${encodeURIComponent(id)}`\r\n                    );\r\n                }\r\n                case 'show': {\r\n                    if (id == null) {\r\n                        // maybe the id isn't defined yet\r\n                        // instead of throwing an error, fallback to list link\r\n                        return removeDoubleSlashes(`${basename}/${resource}`);\r\n                    }\r\n                    return removeDoubleSlashes(\r\n                        `${basename}/${resource}/${encodeURIComponent(id)}/show`\r\n                    );\r\n                }\r\n                default:\r\n                    return type;\r\n            }\r\n        },\r\n        [basename]\r\n    );\r\n};\r\n\r\ntype AnyString = string & {};\r\nexport type CreatePathType = 'list' | 'edit' | 'show' | 'create' | AnyString;\r\n\r\nexport interface CreatePathParams {\r\n    type: CreatePathType;\r\n    resource: string;\r\n    id?: Identifier;\r\n}\r\n\r\nexport const removeDoubleSlashes = (path: string) => path.replace('//', '/');\r\n", "import { useCallback } from 'react';\r\nimport { useNavigate, To } from 'react-router-dom';\r\nimport { parsePath } from 'history';\r\n\r\nimport { Identifier, RaRecord } from '../types';\r\nimport { useBasename } from './useBasename';\r\nimport { CreatePathType, useCreatePath } from './useCreatePath';\r\n\r\ntype RedirectToFunction = (\r\n    resource?: string,\r\n    id?: Identifier,\r\n    data?: Partial<RaRecord>,\r\n    state?: object\r\n) => To;\r\n\r\nexport type RedirectionSideEffect = CreatePathType | false | RedirectToFunction;\r\n\r\n/**\r\n * Hook for Redirection Side Effect\r\n *\r\n * @example\r\n *\r\n * const redirect = useRedirect();\r\n * // redirect to list view\r\n * redirect('list', 'posts');\r\n * // redirect to edit view\r\n * redirect('edit', 'posts', 123);\r\n * // redirect to edit view with state data\r\n * redirect('edit', 'comments', 123, {}, { record: { post_id: record.id } });\r\n * // do not redirect\r\n * redirect(false);\r\n * // redirect to the result of a function\r\n * redirect((resource, id, data) => ...)\r\n */\r\nexport const useRedirect = () => {\r\n    const navigate = useNavigate();\r\n    const basename = useBasename();\r\n    const createPath = useCreatePath();\r\n\r\n    return useCallback(\r\n        (\r\n            redirectTo: RedirectionSideEffect,\r\n            resource: string = '',\r\n            id?: Identifier,\r\n            data?: Partial<RaRecord>,\r\n            state: object = {}\r\n        ) => {\r\n            if (!redirectTo) {\r\n                return;\r\n            } else if (typeof redirectTo === 'function') {\r\n                const target: To = redirectTo(resource, id, data);\r\n                const absoluteTarget =\r\n                    typeof target === 'string'\r\n                        ? `${basename}/${target}`\r\n                        : {\r\n                              pathname: `${basename}/${target.pathname}`,\r\n                              ...target,\r\n                          };\r\n                navigate(\r\n                    typeof absoluteTarget === 'string'\r\n                        ? parsePath(absoluteTarget)\r\n                        : absoluteTarget,\r\n                    {\r\n                        state: { _scrollToTop: true, ...state },\r\n                    }\r\n                );\r\n                return;\r\n            } else if (\r\n                typeof redirectTo === 'string' &&\r\n                redirectTo.startsWith('http') &&\r\n                window\r\n            ) {\r\n                // redirection to an absolute url\r\n                // history doesn't handle that case, so we handle it by hand\r\n                window.location.href = redirectTo;\r\n                return;\r\n            } else {\r\n                // redirection to an internal link\r\n                navigate(createPath({ resource, id, type: redirectTo }), {\r\n                    state: { _scrollToTop: true, ...state },\r\n                });\r\n                return;\r\n            }\r\n        },\r\n        [navigate, basename, createPath]\r\n    );\r\n};\r\n", "import { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\n/**\r\n * Scroll the window to top when the target location contains the _scrollToTop state\r\n *\r\n * @see CoreAdminRouter where it's enabled by default\r\n *\r\n * @example // usage in buttons\r\n * import { Link } from 'react-router-dom';\r\n * import { Button } from '@mui/material';\r\n *\r\n * const FooButton = () => (\r\n *     <Button\r\n *         component={Link}\r\n *         to={{\r\n *             pathname: '/foo',\r\n *             state: { _scrollToTop: true },\r\n *         }}\r\n *     >\r\n *         Go to foo\r\n *     </Button>\r\n * );\r\n */\r\nexport const useScrollToTop = () => {\r\n    const location = useLocation();\r\n    useEffect(() => {\r\n        if (\r\n            (location.state as any)?._scrollToTop &&\r\n            typeof window != 'undefined'\r\n        ) {\r\n            window.scrollTo(0, 0);\r\n        }\r\n    }, [location]);\r\n};\r\n", "export const GET_LIST = 'GET_LIST';\r\nexport const GET_ONE = 'GET_ONE';\r\nexport const GET_MANY = 'GET_MANY';\r\nexport const GET_MANY_REFERENCE = 'GET_MANY_REFERENCE';\r\nexport const CREATE = 'CREATE';\r\nexport const UPDATE = 'UPDATE';\r\nexport const UPDATE_MANY = 'UPDATE_MANY';\r\nexport const DELETE = 'DELETE';\r\nexport const DELETE_MANY = 'DELETE_MANY';\r\n\r\nexport const fetchActionsWithRecordResponse = ['getOne', 'create', 'update'];\r\nexport const fetchActionsWithArrayOfIdentifiedRecordsResponse = [\r\n    'getList',\r\n    'getMany',\r\n    'getManyReference',\r\n];\r\nexport const fetchActionsWithArrayOfRecordsResponse = [\r\n    ...fetchActionsWithArrayOfIdentifiedRecordsResponse,\r\n    'updateMany',\r\n    'deleteMany',\r\n];\r\nexport const fetchActionsWithTotalResponse = ['getList', 'getManyReference'];\r\n\r\nexport const reactAdminFetchActions = [\r\n    ...fetchActionsWithRecordResponse,\r\n    ...fetchActionsWithArrayOfRecordsResponse,\r\n];\r\n\r\nexport const sanitizeFetchType = (fetchType: string) => {\r\n    switch (fetchType) {\r\n        case GET_LIST:\r\n            return 'getList';\r\n        case GET_ONE:\r\n            return 'getOne';\r\n        case GET_MANY:\r\n            return 'getMany';\r\n        case GET_MANY_REFERENCE:\r\n            return 'getManyReference';\r\n        case CREATE:\r\n            return 'create';\r\n        case UPDATE:\r\n            return 'update';\r\n        case UPDATE_MANY:\r\n            return 'updateMany';\r\n        case DELETE:\r\n            return 'delete';\r\n        case DELETE_MANY:\r\n            return 'deleteMany';\r\n        default:\r\n            return fetchType;\r\n    }\r\n};\r\n", "import {\r\n    CREATE,\r\n    DELETE,\r\n    DELETE_MANY,\r\n    GET_LIST,\r\n    GET_MANY,\r\n    GET_MANY_REFERENCE,\r\n    GET_ONE,\r\n    UPDATE,\r\n    UPDATE_MANY,\r\n} from './dataFetchActions';\r\nimport { LegacyDataProvider, DataProvider } from '../types';\r\n\r\nconst defaultDataProvider = () => Promise.resolve();\r\ndefaultDataProvider.create = () => Promise.resolve(null);\r\ndefaultDataProvider.delete = () => Promise.resolve(null);\r\ndefaultDataProvider.deleteMany = () => Promise.resolve(null);\r\ndefaultDataProvider.getList = () => Promise.resolve(null);\r\ndefaultDataProvider.getMany = () => Promise.resolve(null);\r\ndefaultDataProvider.getManyReference = () => Promise.resolve(null);\r\ndefaultDataProvider.getOne = () => Promise.resolve(null);\r\ndefaultDataProvider.update = () => Promise.resolve(null);\r\ndefaultDataProvider.updateMany = () => Promise.resolve(null);\r\n\r\nconst fetchMap = {\r\n    create: CREATE,\r\n    delete: DELETE,\r\n    deleteMany: DELETE_MANY,\r\n    getList: GET_LIST,\r\n    getMany: GET_MANY,\r\n    getManyReference: GET_MANY_REFERENCE,\r\n    getOne: GET_ONE,\r\n    update: UPDATE,\r\n    updateMany: UPDATE_MANY,\r\n};\r\n\r\ninterface ConvertedDataProvider extends DataProvider {\r\n    (type: string, resource: string, params: any): Promise<any>;\r\n}\r\n/**\r\n * Turn a function-based dataProvider to an object-based one\r\n *\r\n * Allows using legacy dataProviders transparently.\r\n *\r\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\r\n *\r\n * @returns {Object} A dataProvider that react-admin can use\r\n */\r\nconst convertLegacyDataProvider = (\r\n    legacyDataProvider: LegacyDataProvider\r\n): ConvertedDataProvider => {\r\n    const proxy = new Proxy(defaultDataProvider, {\r\n        get(_, name) {\r\n            return (resource, params) => {\r\n                if (Object.keys(fetchMap).includes(name.toString())) {\r\n                    const fetchType = fetchMap[name.toString()];\r\n                    return legacyDataProvider(fetchType, resource, params);\r\n                }\r\n\r\n                return legacyDataProvider(name.toString(), resource, params);\r\n            };\r\n        },\r\n        apply(_, __, args) {\r\n            return legacyDataProvider.apply(legacyDataProvider, args);\r\n        },\r\n    });\r\n\r\n    return proxy;\r\n};\r\n\r\nexport default convertLegacyDataProvider;\r\n", "import { createContext } from 'react';\r\n\r\nimport { DataProvider } from '../types';\r\n\r\nconst DataProviderContext = createContext<DataProvider>(null);\r\n\r\nDataProviderContext.displayName = 'DataProviderContext';\r\n\r\nexport default DataProviderContext;\r\n", "class HttpError extends Error {\r\n    constructor(\r\n        public readonly message,\r\n        public readonly status,\r\n        public readonly body = null\r\n    ) {\r\n        super(message);\r\n        Object.setPrototypeOf(this, HttpError.prototype);\r\n        this.name = this.constructor.name;\r\n        if (typeof Error.captureStackTrace === 'function') {\r\n            Error.captureStackTrace(this, this.constructor);\r\n        } else {\r\n            this.stack = new Error(message).stack;\r\n        }\r\n        this.stack = new Error().stack;\r\n    }\r\n}\r\n\r\nexport default HttpError;\r\n", "import HttpError from './HttpError';\r\nimport { stringify } from 'query-string';\r\n\r\nexport interface Options extends RequestInit {\r\n    user?: {\r\n        authenticated?: boolean;\r\n        token?: string;\r\n    };\r\n}\r\n\r\nexport const createHeadersFromOptions = (options: Options): Headers => {\r\n    const requestHeaders = (options.headers ||\r\n        new Headers({\r\n            Accept: 'application/json',\r\n        })) as Headers;\r\n    if (\r\n        !requestHeaders.has('Content-Type') &&\r\n        !(options && (!options.method || options.method === 'GET')) &&\r\n        !(options && options.body && options.body instanceof FormData)\r\n    ) {\r\n        requestHeaders.set('Content-Type', 'application/json');\r\n    }\r\n    if (options.user && options.user.authenticated && options.user.token) {\r\n        requestHeaders.set('Authorization', options.user.token);\r\n    }\r\n\r\n    return requestHeaders;\r\n};\r\n\r\n/**\r\n * Utility function to make HTTP calls. It's similar to the HTML5 `fetch()`, except it handles JSON decoding and HTTP error codes automatically.\r\n *\r\n * @param url the URL to call\r\n * @param options the options to pass to the HTTP call\r\n * @param options.user the user object, used for the Authorization header\r\n * @param options.user.token the token to pass as the Authorization header\r\n * @param options.user.authenticated whether the user is authenticated or not (the Authorization header will be set only if this is true)\r\n * @param options.headers the headers to pass to the HTTP call\r\n *\r\n * @returns {Promise} the Promise for a response object containing the following properties:\r\n * - status: the HTTP status code\r\n * - headers: the HTTP headers\r\n * - body: the response body\r\n * - json: the response body parsed as JSON\r\n */\r\nexport const fetchJson = (url, options: Options = {}) => {\r\n    const requestHeaders = createHeadersFromOptions(options);\r\n\r\n    return fetch(url, { ...options, headers: requestHeaders })\r\n        .then(response =>\r\n            response.text().then(text => ({\r\n                status: response.status,\r\n                statusText: response.statusText,\r\n                headers: response.headers,\r\n                body: text,\r\n            }))\r\n        )\r\n        .then(({ status, statusText, headers, body }) => {\r\n            let json;\r\n            try {\r\n                json = JSON.parse(body);\r\n            } catch (e) {\r\n                // not json, no big deal\r\n            }\r\n            if (status < 200 || status >= 300) {\r\n                return Promise.reject(\r\n                    new HttpError(\r\n                        (json && json.message) || statusText,\r\n                        status,\r\n                        json\r\n                    )\r\n                );\r\n            }\r\n            return Promise.resolve({ status, headers, body, json });\r\n        });\r\n};\r\n\r\nexport const queryParameters = stringify;\r\n\r\nconst isValidObject = value => {\r\n    if (!value) {\r\n        return false;\r\n    }\r\n\r\n    const isArray = Array.isArray(value);\r\n    const isBuffer = typeof Buffer !== 'undefined' && Buffer.isBuffer(value);\r\n    const isObject =\r\n        Object.prototype.toString.call(value) === '[object Object]';\r\n    const hasKeys = !!Object.keys(value).length;\r\n\r\n    return !isArray && !isBuffer && isObject && hasKeys;\r\n};\r\n\r\nexport const flattenObject = (value, path = []) => {\r\n    if (isValidObject(value)) {\r\n        return Object.assign(\r\n            {},\r\n            ...Object.keys(value).map(key =>\r\n                flattenObject(value[key], path.concat([key]))\r\n            )\r\n        );\r\n    } else {\r\n        return path.length ? { [path.join('.')]: value } : value;\r\n    }\r\n};\r\n", "import EventEmitter from 'eventemitter3';\r\n\r\nexport default new EventEmitter();\r\n", "export const defaultDataProvider = {\r\n    create: () => Promise.resolve({ data: null }), // avoids adding a context in tests\r\n    delete: () => Promise.resolve({ data: null }), // avoids adding a context in tests\r\n    deleteMany: () => Promise.resolve({ data: [] }), // avoids adding a context in tests\r\n    getList: () => Promise.resolve({ data: [], total: 0 }), // avoids adding a context in tests\r\n    getMany: () => Promise.resolve({ data: [] }), // avoids adding a context in tests\r\n    getManyReference: () => Promise.resolve({ data: [], total: 0 }), // avoids adding a context in tests\r\n    getOne: () => Promise.resolve({ data: null }), // avoids adding a context in tests\r\n    update: () => Promise.resolve({ data: null }), // avoids adding a context in tests\r\n    updateMany: () => Promise.resolve({ data: [] }), // avoids adding a context in tests\r\n};\r\n", "import { DataProvider } from '../types';\r\nimport { defaultDataProvider } from './defaultDataProvider';\r\n\r\nexport type DataProviderMatcher = (resource: string) => DataProvider;\r\n\r\n/**\r\n * Combine multiple data providers into one.\r\n *\r\n * @param dataProviderMatcher A function that returns a data provider for a given resource.\r\n *\r\n * @example\r\n * const dataProvider = combineDataProviders(resource => {\r\n *    switch(resource) {\r\n *       case 'posts':\r\n *       case 'comments':\r\n *          return dataProvider1;\r\n *       case 'users':\r\n *          return dataProvider2;\r\n *       default:\r\n *         throw new Error('Unknown resource');\r\n *    }\r\n * });\r\n */\r\nexport const combineDataProviders = (\r\n    dataProviderMatcher: DataProviderMatcher\r\n): DataProvider =>\r\n    new Proxy(defaultDataProvider, {\r\n        get: (target, name) => {\r\n            return (resource, params) => {\r\n                if (typeof name === 'symbol' || name === 'then') {\r\n                    return;\r\n                }\r\n                return dataProviderMatcher(resource)[name](resource, params);\r\n            };\r\n        },\r\n    });\r\n", "import { DataProvider } from '../types';\r\n\r\n/**\r\n * A dataProvider meant to be used in tests only. You can override any of its methods by passing a partial dataProvider.\r\n */\r\nexport const testDataProvider = (\r\n    overrides?: Partial<DataProvider>\r\n): DataProvider => {\r\n    return {\r\n        getList: () => Promise.resolve({ data: [], total: 0 }),\r\n        getOne: () => Promise.resolve({ data: undefined }),\r\n        getMany: () => Promise.resolve({ data: [] }),\r\n        getManyReference: () => Promise.resolve({ data: [], total: 0 }),\r\n        create: () => Promise.resolve({ data: undefined }),\r\n        update: () => Promise.resolve({ data: undefined }),\r\n        updateMany: () => Promise.resolve({ data: [] }),\r\n        delete: () => Promise.resolve({ data: undefined }),\r\n        deleteMany: () => Promise.resolve({ data: [] }),\r\n        ...overrides,\r\n    };\r\n};\r\n", "import {\r\n    CreateParams,\r\n    CreateResult,\r\n    DataProvider,\r\n    DeleteManyParams,\r\n    DeleteManyResult,\r\n    DeleteParams,\r\n    DeleteResult,\r\n    GetListParams,\r\n    GetListResult,\r\n    GetManyParams,\r\n    GetManyReferenceParams,\r\n    GetManyReferenceResult,\r\n    GetManyResult,\r\n    GetOneParams,\r\n    GetOneResult,\r\n    RaRecord,\r\n    UpdateManyParams,\r\n    UpdateManyResult,\r\n    UpdateParams,\r\n    UpdateResult,\r\n} from '../types';\r\n\r\n/**\r\n * Extend a dataProvider to execute callbacks before and after read and write calls.\r\n *\r\n * @param {DataProvider} dataProvider The dataProvider to wrap\r\n * @param {ResourceCallbacks[]} handlers An array of ResourceCallbacks\r\n *\r\n * @typedef {Object} ResourceCallbacks\r\n * @property {string} resource The resource name\r\n * @property {AfterCreate} [afterCreate] A callback executed after create\r\n * @property {AfterDelete} [afterDelete] A callback executed after delete\r\n * @property {AfterDeleteMany} [afterDeleteMany] A callback executed after deleteMany\r\n * @property {AfterGetList} [afterGetList] A callback executed after getList\r\n * @property {AfterGetMany} [afterGetMany] A callback executed after getMany\r\n * @property {AfterGetManyReference} [afterGetManyReference] A callback executed after getManyReference\r\n * @property {AfterGetOne} [afterGetOne] A callback executed after getOne\r\n * @property {AfterRead} [afterRead] A callback executed after read (getList, getMany, getManyReference, getOne)\r\n * @property {AfterSave} [afterSave] A callback executed after save (create, update, updateMany)\r\n * @property {AfterUpdate} [afterUpdate] A callback executed after update\r\n * @property {AfterUpdateMany} [afterUpdateMany] A callback executed after updateMany\r\n * @property {BeforeCreate} [beforeCreate] A callback executed before create\r\n * @property {BeforeDelete} [beforeDelete] A callback executed before delete\r\n * @property {BeforeDeleteMany} [beforeDeleteMany] A callback executed before deleteMany\r\n * @property {BeforeGetList} [beforeGetList] A callback executed before getList\r\n * @property {BeforeGetMany} [beforeGetMany] A callback executed before getMany\r\n * @property {BeforeGetManyReference} [beforeGetManyReference] A callback executed before getManyReference\r\n * @property {BeforeGetOne} [beforeGetOne] A callback executed before getOne\r\n * @property {BeforeSave} [beforeSave] A callback executed before save (create, update, updateMany)\r\n * @property {BeforeUpdate} [beforeUpdate] A callback executed before update\r\n * @property {BeforeUpdateMany} [beforeUpdateMany] A callback executed before updateMany\r\n *\r\n * Warnings:\r\n * - As queries issued in the callbacks are not done through react-query,\r\n *   any change in the data will not be automatically reflected in the UI.\r\n * - The callbacks are not executed in a transaction. In case of error,\r\n *   the backend may be left in an inconsistent state.\r\n * - When calling the API directly using fetch or another client,\r\n *   the callbacks will not be executed, leaving the backend in a possibly inconsistent state.\r\n * - If a callback triggers the query it's listening to, this will lead to a infinite loop.\r\n *\r\n * @example\r\n *\r\n * const dataProvider = withLifecycleCallbacks(\r\n *   jsonServerProvider(\"http://localhost:3000\"),\r\n *   [\r\n *     {\r\n *       resource: \"posts\",\r\n *       afterRead: async (data, dataProvider) => {\r\n *         // rename field to the record\r\n *         data.user_id = data.userId;\r\n *         return data;\r\n *       },\r\n *       // executed after create, update and updateMany\r\n *       afterSave: async (record, dataProvider) => {\r\n *         // update the author's nb_posts\r\n *         const { total } = await dataProvider.getList(\"users\", {\r\n *           filter: { id: record.user_id },\r\n *           pagination: { page: 1, perPage: 1 },\r\n *         });\r\n *         await dataProvider.update(\"users\", {\r\n *           id: user.id,\r\n *           data: { nb_posts: total },\r\n *           previousData: user,\r\n *         });\r\n *         return record;\r\n *       },\r\n *       beforeDelete: async (params, dataProvider) => {\r\n *         // delete all comments linked to the post\r\n *         const { data: comments } = await dataProvider.getManyReference(\r\n *           \"comments\",\r\n *           {\r\n *             target: \"post_id\",\r\n *             id: params.id,\r\n *           }\r\n *         );\r\n *         if (comments.length > 0) {\r\n *           await dataProvider.deleteMany(\"comments\", {\r\n *             ids: comments.map((comment) => comment.id),\r\n *           });\r\n *         }\r\n *         // update the author's nb_posts\r\n *         const { data: post } = await dataProvider.getOne(\"posts\", {\r\n *           id: params.id,\r\n *         });\r\n *         const { total } = await dataProvider.getList(\"users\", {\r\n *           filter: { id: post.user_id },\r\n *           pagination: { page: 1, perPage: 1 },\r\n *         });\r\n *         await dataProvider.update(\"users\", {\r\n *           id: user.id,\r\n *           data: { nb_posts: total - 1 },\r\n *           previousData: user,\r\n *         });\r\n *         return params;\r\n *       },\r\n *     },\r\n *   ]\r\n * );\r\n */\r\nexport const withLifecycleCallbacks = (\r\n    dataProvider: DataProvider,\r\n    handlers: ResourceCallbacks[]\r\n): DataProvider => {\r\n    return {\r\n        ...dataProvider,\r\n\r\n        getList: async function <RecordType extends RaRecord = any>(\r\n            resource: string,\r\n            params: GetListParams\r\n        ) {\r\n            let newParams = params;\r\n            const beforeGetListHandlers = handlers.filter(\r\n                h => h.resource === resource && h.beforeGetList\r\n            );\r\n            for (let handler of beforeGetListHandlers) {\r\n                newParams = await handler.beforeGetList(\r\n                    newParams,\r\n                    dataProvider\r\n                );\r\n            }\r\n\r\n            let result = await dataProvider.getList<RecordType>(\r\n                resource,\r\n                newParams\r\n            );\r\n\r\n            const afterGetListHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterGetList\r\n            );\r\n            for (let handler of afterGetListHandlers) {\r\n                result = await handler.afterGetList(result, dataProvider);\r\n            }\r\n            const afterReadHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterRead\r\n            );\r\n            for (let handler of afterReadHandlers) {\r\n                result.data = await Promise.all(\r\n                    result.data.map(record =>\r\n                        handler.afterRead(record, dataProvider)\r\n                    )\r\n                );\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        getOne: async function <RecordType extends RaRecord = any>(\r\n            resource: string,\r\n            params: GetOneParams<RecordType>\r\n        ) {\r\n            let newParams = params;\r\n            const beforeGetOneHandlers = handlers.filter(\r\n                h => h.resource === resource && h.beforeGetOne\r\n            );\r\n            for (let handler of beforeGetOneHandlers) {\r\n                newParams = await handler.beforeGetOne(newParams, dataProvider);\r\n            }\r\n\r\n            let result = await dataProvider.getOne<RecordType>(\r\n                resource,\r\n                newParams\r\n            );\r\n\r\n            const afterGetOneHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterGetOne\r\n            );\r\n            for (let handler of afterGetOneHandlers) {\r\n                result = await handler.afterGetOne(result, dataProvider);\r\n            }\r\n            const afterReadHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterRead\r\n            );\r\n            for (let handler of afterReadHandlers) {\r\n                result.data = await handler.afterRead(\r\n                    result.data,\r\n                    dataProvider\r\n                );\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        getMany: async function <RecordType extends RaRecord = any>(\r\n            resource: string,\r\n            params: GetManyParams\r\n        ) {\r\n            let newParams = params;\r\n            const beforeGetManyHandlers = handlers.filter(\r\n                h => h.resource === resource && h.beforeGetMany\r\n            );\r\n            for (let handler of beforeGetManyHandlers) {\r\n                newParams = await handler.beforeGetMany(\r\n                    newParams,\r\n                    dataProvider\r\n                );\r\n            }\r\n\r\n            let result = await dataProvider.getMany<RecordType>(\r\n                resource,\r\n                newParams\r\n            );\r\n\r\n            const afterGetManyHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterGetMany\r\n            );\r\n            for (let handler of afterGetManyHandlers) {\r\n                result = await handler.afterGetMany(result, dataProvider);\r\n            }\r\n            const afterReadHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterRead\r\n            );\r\n            for (let handler of afterReadHandlers) {\r\n                result.data = await Promise.all(\r\n                    result.data.map(record =>\r\n                        handler.afterRead(record, dataProvider)\r\n                    )\r\n                );\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        getManyReference: async function <RecordType extends RaRecord = any>(\r\n            resource: string,\r\n            params: GetManyReferenceParams\r\n        ) {\r\n            let newParams = params;\r\n            const beforeGetManyReferenceHandlers = handlers.filter(\r\n                h => h.resource === resource && h.beforeGetManyReference\r\n            );\r\n            for (let handler of beforeGetManyReferenceHandlers) {\r\n                newParams = await handler.beforeGetManyReference(\r\n                    newParams,\r\n                    dataProvider\r\n                );\r\n            }\r\n\r\n            let result = await dataProvider.getManyReference<RecordType>(\r\n                resource,\r\n                newParams\r\n            );\r\n\r\n            const afterGetManyReferenceHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterGetManyReference\r\n            );\r\n            for (let handler of afterGetManyReferenceHandlers) {\r\n                result = await handler.afterGetManyReference(\r\n                    result,\r\n                    dataProvider\r\n                );\r\n            }\r\n            const afterReadHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterRead\r\n            );\r\n            for (let handler of afterReadHandlers) {\r\n                result.data = await Promise.all(\r\n                    result.data.map(record =>\r\n                        handler.afterRead(record, dataProvider)\r\n                    )\r\n                );\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        update: async function <RecordType extends RaRecord = any>(\r\n            resource: string,\r\n            params: UpdateParams<RecordType>\r\n        ) {\r\n            let newParams = params;\r\n            const beforeUpdateHandlers = handlers.filter(\r\n                h => h.resource === resource && h.beforeUpdate\r\n            );\r\n            for (let handler of beforeUpdateHandlers) {\r\n                newParams = await handler.beforeUpdate(newParams, dataProvider);\r\n            }\r\n            const beforeSaveHandlers = handlers.filter(\r\n                h => h.resource === resource && h.beforeSave\r\n            );\r\n            for (let handler of beforeSaveHandlers) {\r\n                newParams.data = await handler.beforeSave(\r\n                    newParams.data,\r\n                    dataProvider\r\n                );\r\n            }\r\n\r\n            let result = await dataProvider.update<RecordType>(\r\n                resource,\r\n                newParams\r\n            );\r\n\r\n            const afterUpdateHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterUpdate\r\n            );\r\n            for (let handler of afterUpdateHandlers) {\r\n                result = await handler.afterUpdate(result, dataProvider);\r\n            }\r\n            const afterSaveHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterSave\r\n            );\r\n            for (let handler of afterSaveHandlers) {\r\n                result.data = await handler.afterSave(\r\n                    result.data,\r\n                    dataProvider\r\n                );\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        create: async function <RecordType extends RaRecord = any>(\r\n            resource: string,\r\n            params: CreateParams<RecordType>\r\n        ) {\r\n            let newParams = params;\r\n            const beforeCreateHandlers = handlers.filter(\r\n                h => h.resource === resource && h.beforeCreate\r\n            );\r\n            for (let handler of beforeCreateHandlers) {\r\n                newParams = await handler.beforeCreate(newParams, dataProvider);\r\n            }\r\n            const beforeSaveHandlers = handlers.filter(\r\n                h => h.resource === resource && h.beforeSave\r\n            );\r\n            for (let handler of beforeSaveHandlers) {\r\n                newParams.data = await handler.beforeSave(\r\n                    newParams.data,\r\n                    dataProvider\r\n                );\r\n            }\r\n\r\n            let result = await dataProvider.create<RecordType>(\r\n                resource,\r\n                newParams\r\n            );\r\n\r\n            const afterCreateHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterCreate\r\n            );\r\n            for (let handler of afterCreateHandlers) {\r\n                result = await handler.afterCreate(result, dataProvider);\r\n            }\r\n            const afterSaveHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterSave\r\n            );\r\n            for (let handler of afterSaveHandlers) {\r\n                result.data = await handler.afterSave(\r\n                    result.data,\r\n                    dataProvider\r\n                );\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        delete: async function <RecordType extends RaRecord = any>(\r\n            resource: string,\r\n            params: DeleteParams<RecordType>\r\n        ) {\r\n            let newParams = params;\r\n            const beforeDeleteHandlers = handlers.filter(\r\n                h => h.resource === resource && h.beforeDelete\r\n            );\r\n            for (let handler of beforeDeleteHandlers) {\r\n                newParams = await handler.beforeDelete(newParams, dataProvider);\r\n            }\r\n\r\n            let result = await dataProvider.delete<RecordType>(\r\n                resource,\r\n                newParams\r\n            );\r\n\r\n            const afterDeleteHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterDelete\r\n            );\r\n            for (let handler of afterDeleteHandlers) {\r\n                result = await handler.afterDelete(result, dataProvider);\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        updateMany: async function <RecordType extends RaRecord = any>(\r\n            resource: string,\r\n            params: UpdateManyParams<RecordType>\r\n        ) {\r\n            let newParams = params;\r\n            const beforeUpdateManyHandlers = handlers.filter(\r\n                h => h.resource === resource && h.beforeUpdateMany\r\n            );\r\n            for (let handler of beforeUpdateManyHandlers) {\r\n                newParams = await handler.beforeUpdateMany(\r\n                    newParams,\r\n                    dataProvider\r\n                );\r\n            }\r\n            const beforeSaveHandlers = handlers.filter(\r\n                h => h.resource === resource && h.beforeSave\r\n            );\r\n            for (let handler of beforeSaveHandlers) {\r\n                newParams.data = await handler.beforeSave(\r\n                    newParams.data,\r\n                    dataProvider\r\n                );\r\n            }\r\n\r\n            let result = await dataProvider.updateMany<RecordType>(\r\n                resource,\r\n                newParams\r\n            );\r\n\r\n            const afterUpdateManyHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterUpdateMany\r\n            );\r\n            for (let handler of afterUpdateManyHandlers) {\r\n                result = await handler.afterUpdateMany(result, dataProvider);\r\n            }\r\n            const afterSaveHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterSave\r\n            );\r\n            if (afterSaveHandlers.length > 0) {\r\n                const { data: records } = await dataProvider.getMany(resource, {\r\n                    ids: result.data,\r\n                });\r\n\r\n                for (let handler of afterSaveHandlers) {\r\n                    await Promise.all(\r\n                        records.map(record =>\r\n                            handler.afterSave(record, dataProvider)\r\n                        )\r\n                    );\r\n                }\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        deleteMany: async function <RecordType extends RaRecord = any>(\r\n            resource: string,\r\n            params: DeleteManyParams<RecordType>\r\n        ) {\r\n            let newParams = params;\r\n            const beforeDeleteManyHandlers = handlers.filter(\r\n                h => h.resource === resource && h.beforeDeleteMany\r\n            );\r\n            for (let handler of beforeDeleteManyHandlers) {\r\n                newParams = await handler.beforeDeleteMany(\r\n                    newParams,\r\n                    dataProvider\r\n                );\r\n            }\r\n\r\n            let result = await dataProvider.deleteMany<RecordType>(\r\n                resource,\r\n                newParams\r\n            );\r\n\r\n            const afterDeleteManyHandlers = handlers.filter(\r\n                h => h.resource === resource && h.afterDeleteMany\r\n            );\r\n            for (let handler of afterDeleteManyHandlers) {\r\n                result = await handler.afterDeleteMany(result, dataProvider);\r\n            }\r\n\r\n            return result;\r\n        },\r\n    };\r\n};\r\n\r\nexport type ResourceCallbacks<T extends RaRecord = any> = {\r\n    resource: string;\r\n    afterCreate?: (\r\n        result: CreateResult<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<CreateResult<T>>;\r\n    afterDelete?: (\r\n        result: DeleteResult<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<DeleteResult<T>>;\r\n    afterDeleteMany?: (\r\n        result: DeleteManyResult<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<DeleteManyResult<T>>;\r\n    afterGetList?: (\r\n        result: GetListResult<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<GetListResult<T>>;\r\n    afterGetMany?: (\r\n        result: GetManyResult<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<GetManyResult<T>>;\r\n    afterGetManyReference?: (\r\n        result: GetManyReferenceResult<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<GetManyReferenceResult<T>>;\r\n    afterGetOne?: (\r\n        result: GetOneResult<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<GetOneResult<T>>;\r\n    afterUpdate?: (\r\n        result: UpdateResult<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<UpdateResult<T>>;\r\n    afterUpdateMany?: (\r\n        result: UpdateManyResult<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<UpdateManyResult<T>>;\r\n    beforeCreate?: (\r\n        params: CreateParams<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<CreateParams<T>>;\r\n    beforeDelete?: (\r\n        params: DeleteParams<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<DeleteParams<T>>;\r\n    beforeDeleteMany?: (\r\n        params: DeleteManyParams<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<DeleteManyParams<T>>;\r\n    beforeGetList?: (\r\n        params: GetListParams,\r\n        dataProvider: DataProvider\r\n    ) => Promise<GetListParams>;\r\n    beforeGetMany?: (\r\n        params: GetManyParams,\r\n        dataProvider: DataProvider\r\n    ) => Promise<GetManyParams>;\r\n    beforeGetManyReference?: (\r\n        params: GetManyReferenceParams,\r\n        dataProvider: DataProvider\r\n    ) => Promise<GetManyReferenceParams>;\r\n    beforeGetOne?: (\r\n        params: GetOneParams<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<GetOneParams<T>>;\r\n    beforeUpdate?: (\r\n        params: UpdateParams<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<UpdateParams<T>>;\r\n    beforeUpdateMany?: (\r\n        params: UpdateManyParams<T>,\r\n        dataProvider: DataProvider\r\n    ) => Promise<UpdateManyParams<T>>;\r\n\r\n    // The following hooks don't match a dataProvider method\r\n\r\n    /**\r\n     * Modify the data before it is sent to the dataProvider.\r\n     *\r\n     * Used in create, update, and updateMany\r\n     *\r\n     * Note: This callback doesn't modify the record itself, but the data argument\r\n     * (which may be a diff, especially when called with updateMany).\r\n     */\r\n    beforeSave?: (data: Partial<T>, dataProvider: DataProvider) => Promise<T>;\r\n    /**\r\n     * Update a record after it has been read from the dataProvider\r\n     *\r\n     * Used in getOne, getList, getMany, and getManyReference\r\n     */\r\n    afterRead?: (record: T, dataProvider: DataProvider) => Promise<T>;\r\n    /**\r\n     * Use the record after it is returned by the dataProvider.\r\n     *\r\n     * Used in create, update, and updateMany\r\n     */\r\n    afterSave?: (record: T, dataProvider: DataProvider) => Promise<T>;\r\n};\r\n", "import { useContext, useMemo } from 'react';\r\n\r\nimport DataProviderContext from './DataProviderContext';\r\nimport { defaultDataProvider } from './defaultDataProvider';\r\nimport validateResponseFormat from './validateResponseFormat';\r\nimport { DataProvider } from '../types';\r\nimport useLogoutIfAccessDenied from '../auth/useLogoutIfAccessDenied';\r\nimport { reactAdminFetchActions } from './dataFetchActions';\r\n\r\n/**\r\n * Hook for getting a dataProvider\r\n *\r\n * Gets a dataProvider object, which behaves just like the real dataProvider\r\n * (same methods returning a Promise). But it's actually a Proxy object,\r\n * which validates the response format, and logs the user out upon error\r\n * if authProvider.checkError() rejects.\r\n *\r\n * @return dataProvider\r\n *\r\n * @example Basic usage\r\n *\r\n * import * as React from 'react';\r\n * import { useState } from 'react';\r\n * import { useDataProvider } from 'react-admin';\r\n *\r\n * const PostList = () => {\r\n *      const [posts, setPosts] = useState([])\r\n *      const dataProvider = useDataProvider();\r\n *      useEffect(() => {\r\n *          dataProvider.getList('posts', { filter: { status: 'pending' }})\r\n *            .then(({ data }) => setPosts(data));\r\n *      }, [])\r\n *\r\n *      return (\r\n *          <Fragment>\r\n *              {posts.map((post, key) => <PostDetail post={post} key={key} />)}\r\n *          </Fragment>\r\n *     );\r\n * }\r\n *\r\n * @example Handling all states (loading, error, success)\r\n *\r\n * import { useState, useEffect } from 'react';\r\n * import { useDataProvider } from 'react-admin';\r\n *\r\n * const UserProfile = ({ userId }) => {\r\n *     const dataProvider = useDataProvider();\r\n *     const [user, setUser] = useState();\r\n *     const [loading, setLoading] = useState(true);\r\n *     const [error, setError] = useState();\r\n *     useEffect(() => {\r\n *         dataProvider.getOne('users', { id: userId })\r\n *             .then(({ data }) => {\r\n *                 setUser(data);\r\n *                 setLoading(false);\r\n *             })\r\n *             .catch(error => {\r\n *                 setError(error);\r\n *                 setLoading(false);\r\n *             })\r\n *     }, []);\r\n *\r\n *     if (loading) return <Loading />;\r\n *     if (error) return <Error />\r\n *     if (!user) return null;\r\n *\r\n *     return (\r\n *         <ul>\r\n *             <li>Name: {user.name}</li>\r\n *             <li>Email: {user.email}</li>\r\n *         </ul>\r\n *     )\r\n * }\r\n */\r\n\r\nconst arrayReturnTypes = ['getList', 'getMany', 'getManyReference'];\r\n\r\nexport const useDataProvider = <\r\n    TDataProvider extends DataProvider = DataProvider\r\n>(): TDataProvider => {\r\n    const dataProvider = ((useContext(DataProviderContext) ||\r\n        defaultDataProvider) as unknown) as TDataProvider;\r\n\r\n    const logoutIfAccessDenied = useLogoutIfAccessDenied();\r\n\r\n    const dataProviderProxy = useMemo(() => {\r\n        return new Proxy(dataProvider, {\r\n            get: (target, name) => {\r\n                if (typeof name === 'symbol' || name === 'then') {\r\n                    return;\r\n                }\r\n                return (...args) => {\r\n                    const type = name.toString();\r\n\r\n                    if (typeof dataProvider[type] !== 'function') {\r\n                        throw new Error(\r\n                            `Unknown dataProvider function: ${type}`\r\n                        );\r\n                    }\r\n\r\n                    try {\r\n                        return dataProvider[type]\r\n                            .apply(dataProvider, args)\r\n                            .then(response => {\r\n                                if (\r\n                                    process.env.NODE_ENV !== 'production' &&\r\n                                    reactAdminFetchActions.includes(type)\r\n                                ) {\r\n                                    validateResponseFormat(response, type);\r\n                                }\r\n                                return response;\r\n                            })\r\n                            .catch(error => {\r\n                                if (process.env.NODE_ENV !== 'production') {\r\n                                    console.error(error);\r\n                                }\r\n                                return logoutIfAccessDenied(error).then(\r\n                                    loggedOut => {\r\n                                        if (loggedOut)\r\n                                            return {\r\n                                                data: arrayReturnTypes.includes(\r\n                                                    type\r\n                                                )\r\n                                                    ? []\r\n                                                    : {},\r\n                                            };\r\n                                        throw error;\r\n                                    }\r\n                                );\r\n                            });\r\n                    } catch (e) {\r\n                        if (process.env.NODE_ENV !== 'production') {\r\n                            console.error(e);\r\n                        }\r\n                        throw new Error(\r\n                            'The dataProvider threw an error. It should return a rejected Promise instead.'\r\n                        );\r\n                    }\r\n                };\r\n            },\r\n        });\r\n    }, [dataProvider, logoutIfAccessDenied]);\r\n\r\n    return dataProviderProxy;\r\n};\r\n", "import {\r\n    fetchActionsWithRecordResponse,\r\n    fetchActionsWithArrayOfIdentifiedRecordsResponse,\r\n    fetchActionsWithArrayOfRecordsResponse,\r\n    fetchActionsWithTotalResponse,\r\n} from './dataFetchActions';\r\n\r\nfunction validateResponseFormat(\r\n    response,\r\n    type,\r\n    logger = console.error // eslint-disable-line no-console\r\n) {\r\n    if (!response) {\r\n        logger(`The dataProvider returned an empty response for '${type}'.`);\r\n        throw new Error('ra.notification.data_provider_error');\r\n    }\r\n    if (!response.hasOwnProperty('data')) {\r\n        logger(\r\n            `The response to '${type}' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '${type}'.`\r\n        );\r\n        throw new Error('ra.notification.data_provider_error');\r\n    }\r\n    if (\r\n        fetchActionsWithArrayOfRecordsResponse.includes(type) &&\r\n        !Array.isArray(response.data)\r\n    ) {\r\n        logger(\r\n            `The response to '${type}' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '${type}'`\r\n        );\r\n        throw new Error('ra.notification.data_provider_error');\r\n    }\r\n    if (\r\n        fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) &&\r\n        Array.isArray(response.data) &&\r\n        response.data.length > 0 &&\r\n        !response.data[0].hasOwnProperty('id')\r\n    ) {\r\n        logger(\r\n            `The response to '${type}' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '${type}'`\r\n        );\r\n        throw new Error('ra.notification.data_provider_error');\r\n    }\r\n    if (\r\n        fetchActionsWithRecordResponse.includes(type) &&\r\n        !response.data.hasOwnProperty('id')\r\n    ) {\r\n        logger(\r\n            `The response to '${type}' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '${type}'`\r\n        );\r\n        throw new Error('ra.notification.data_provider_error');\r\n    }\r\n    if (\r\n        fetchActionsWithTotalResponse.includes(type) &&\r\n        !response.hasOwnProperty('total') &&\r\n        !response.hasOwnProperty('pageInfo')\r\n    ) {\r\n        logger(\r\n            `The response to '${type}' must be like { data: [...], total: 123 } or { data: [...], pageInfo: {...} }, but the received response has neither a 'total' nor a 'pageInfo' key. The dataProvider is probably wrong for '${type}'`\r\n        );\r\n        throw new Error('ra.notification.data_provider_error');\r\n    }\r\n}\r\n\r\nexport default validateResponseFormat;\r\n", "import { useCallback } from 'react';\r\n\r\nimport useAuthProvider from './useAuthProvider';\r\nimport useLogout from './useLogout';\r\nimport { useNotify } from '../notification';\r\nimport { useNavigate } from 'react-router';\r\n\r\nlet timer;\r\n\r\n/**\r\n * Returns a callback used to call the authProvider.checkError() method\r\n * and an error from the dataProvider. If the authProvider rejects the call,\r\n * the hook logs the user out and shows a logged out notification.\r\n *\r\n * Used in the useDataProvider hook to check for access denied responses\r\n * (e.g. 401 or 403 responses) and trigger a logout.\r\n *\r\n * @see useLogout\r\n * @see useDataProvider\r\n *\r\n * @returns {Function} logoutIfAccessDenied callback\r\n *\r\n * @example\r\n *\r\n * import { useLogoutIfAccessDenied, useNotify, DataProviderContext } from 'react-admin';\r\n *\r\n * const FetchRestrictedResource = () => {\r\n *     const dataProvider = useContext(DataProviderContext);\r\n *     const logoutIfAccessDenied = useLogoutIfAccessDenied();\r\n *     const notify = useNotify()\r\n *     useEffect(() => {\r\n *         dataProvider.getOne('secret', { id: 123 })\r\n *             .catch(error => {\r\n *                  logoutIfAccessDenied(error);\r\n *                  notify('server error',  { type: 'error' });\r\n *              })\r\n *     }, []);\r\n *     // ...\r\n * }\r\n */\r\nconst useLogoutIfAccessDenied = (): LogoutIfAccessDenied => {\r\n    const authProvider = useAuthProvider();\r\n    const logout = useLogout();\r\n    const notify = useNotify();\r\n    const navigate = useNavigate();\r\n    const logoutIfAccessDenied = useCallback(\r\n        (error?: any, disableNotification?: boolean) =>\r\n            authProvider\r\n                .checkError(error)\r\n                .then(() => false)\r\n                .catch(async e => {\r\n                    const logoutUser = e?.logoutUser ?? true;\r\n\r\n                    //manual debounce\r\n                    if (timer) {\r\n                        // side effects already triggered in this tick, exit\r\n                        return true;\r\n                    }\r\n                    timer = setTimeout(() => {\r\n                        timer = undefined;\r\n                    }, 0);\r\n\r\n                    const redirectTo =\r\n                        e && e.redirectTo != null\r\n                            ? e.redirectTo\r\n                            : error && error.redirectTo\r\n                            ? error.redirectTo\r\n                            : undefined;\r\n\r\n                    const shouldNotify = !(\r\n                        disableNotification ||\r\n                        (e && e.message === false) ||\r\n                        (error && error.message === false) ||\r\n                        redirectTo?.startsWith('http')\r\n                    );\r\n                    if (shouldNotify) {\r\n                        // notify only if not yet logged out\r\n                        authProvider\r\n                            .checkAuth({})\r\n                            .then(() => {\r\n                                if (logoutUser) {\r\n                                    notify(\r\n                                        getErrorMessage(\r\n                                            e,\r\n                                            'ra.notification.logged_out'\r\n                                        ),\r\n                                        { type: 'error' }\r\n                                    );\r\n                                } else {\r\n                                    notify(\r\n                                        getErrorMessage(\r\n                                            e,\r\n                                            'ra.notification.not_authorized'\r\n                                        ),\r\n                                        { type: 'error' }\r\n                                    );\r\n                                }\r\n                            })\r\n                            .catch(() => {});\r\n                    }\r\n\r\n                    if (logoutUser) {\r\n                        logout({}, redirectTo);\r\n                    } else {\r\n                        if (redirectTo.startsWith('http')) {\r\n                            // absolute link (e.g. https://my.oidc.server/login)\r\n                            window.location.href = redirectTo;\r\n                        } else {\r\n                            // internal location\r\n                            navigate(redirectTo);\r\n                        }\r\n                    }\r\n\r\n                    return true;\r\n                }),\r\n        [authProvider, logout, notify, navigate]\r\n    );\r\n    return authProvider\r\n        ? logoutIfAccessDenied\r\n        : logoutIfAccessDeniedWithoutProvider;\r\n};\r\n\r\nconst logoutIfAccessDeniedWithoutProvider = () => Promise.resolve(false);\r\n\r\n/**\r\n * Call the authProvider.authError() method, using the error passed as argument.\r\n * If the authProvider rejects the call, logs the user out and shows a logged out notification.\r\n *\r\n * @param {Error} error An Error object (usually returned by the dataProvider)\r\n * @param {boolean} disableNotification Avoid showing a notification after the user is logged out. false by default.\r\n *\r\n * @return {Promise} Resolved to true if there was a logout, false otherwise\r\n */\r\ntype LogoutIfAccessDenied = (\r\n    error?: any,\r\n    /** @deprecated to disable the notification, authProvider.checkAuth() should return an object with an error property set to true */\r\n    disableNotification?: boolean\r\n) => Promise<boolean>;\r\n\r\nconst getErrorMessage = (error, defaultMessage) =>\r\n    typeof error === 'string'\r\n        ? error\r\n        : typeof error === 'undefined' || !error.message\r\n        ? defaultMessage\r\n        : error.message;\r\n\r\nexport default useLogoutIfAccessDenied;\r\n", "import { useEffect, useState } from 'react';\r\nimport { useQueryClient, QueryObserver } from 'react-query';\r\n\r\n/**\r\n * Check if react-query has already fetched data for a query key.\r\n *\r\n * This hook is reactive.\r\n *\r\n * @example\r\n * const isCustomerLoaded = useIsDataLoaded(['customers', 'getOne', { id: customerId }]);\r\n *\r\n * @returns {boolean} true if the data is loaded, false otherwise\r\n */\r\nexport const useIsDataLoaded = (\r\n    queryKey: any,\r\n    options: { enabled?: boolean } = {}\r\n) => {\r\n    const { enabled = true } = options;\r\n    const queryClient = useQueryClient();\r\n    const [isDataLoaded, setDataLoaded] = useState<boolean>(() => {\r\n        if (!enabled) {\r\n            return false;\r\n        }\r\n        return queryClient.getQueryData(queryKey) !== undefined;\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (!enabled) return;\r\n        if (queryClient.getQueryData(queryKey) === undefined) {\r\n            const observer = new QueryObserver(queryClient, { queryKey });\r\n            const unsubscribe = observer.subscribe(result => {\r\n                setDataLoaded(!result.isLoading);\r\n                unsubscribe();\r\n            });\r\n            return unsubscribe;\r\n        }\r\n    }, [enabled, queryKey, queryClient]);\r\n\r\n    return isDataLoaded;\r\n};\r\n", "import React from 'react';\r\n\r\nimport { notifyManager, useQueryClient } from 'react-query';\r\n\r\n/**\r\n * Get the state of the dataProvider connection.\r\n *\r\n * Returns true if a query or a mutation is pending.\r\n *\r\n * Custom implementation because react-query's useIsFetching and useIsMutating\r\n * render each time the number of active queries changes, which is too often.\r\n *\r\n * @see useIsFetching\r\n * @see useIsMutating\r\n */\r\nexport const useLoading = (): boolean => {\r\n    const client = useQueryClient();\r\n    const mountedRef = React.useRef(false);\r\n    const isFetchingRef = React.useRef(client.isFetching() > 0);\r\n    const isMutatingRef = React.useRef(client.isMutating() > 0);\r\n\r\n    const [isLoading, setIsLoading] = React.useState<boolean>(\r\n        isFetchingRef.current || isMutatingRef.current\r\n    );\r\n\r\n    React.useEffect(() => {\r\n        mountedRef.current = true;\r\n\r\n        const unsubscribeQueryCache = client.getQueryCache().subscribe(\r\n            notifyManager.batchCalls(() => {\r\n                if (mountedRef.current) {\r\n                    isFetchingRef.current = client.isFetching() > 0;\r\n                    setIsLoading(\r\n                        isFetchingRef.current || isMutatingRef.current\r\n                    );\r\n                }\r\n            })\r\n        );\r\n\r\n        const unsubscribeMutationCache = client.getMutationCache().subscribe(\r\n            notifyManager.batchCalls(() => {\r\n                if (mountedRef.current) {\r\n                    isMutatingRef.current = client.isMutating() > 0;\r\n                    setIsLoading(\r\n                        isFetchingRef.current || isMutatingRef.current\r\n                    );\r\n                }\r\n            })\r\n        );\r\n\r\n        return () => {\r\n            mountedRef.current = false;\r\n            unsubscribeQueryCache();\r\n            unsubscribeMutationCache();\r\n        };\r\n    }, [client]);\r\n\r\n    return isLoading;\r\n};\r\n", "import { useCallback } from 'react';\r\nimport { useQueryClient } from 'react-query';\r\n\r\n/**\r\n * Hook for triggering a page refresh. Returns a callback function.\r\n *\r\n * The callback invalidates all queries and refetches the active ones.\r\n * Any component depending on react-query data will be re-rendered.\r\n *\r\n * @example\r\n *\r\n * const refresh = useRefresh();\r\n * const handleClick = () => {\r\n *     refresh();\r\n * };\r\n */\r\nexport const useRefresh = () => {\r\n    const queryClient = useQueryClient();\r\n    return useCallback(() => {\r\n        queryClient.invalidateQueries();\r\n    }, [queryClient]);\r\n};\r\n", "import { RaRecord, GetOneParams } from '../types';\r\nimport { useQuery, UseQueryOptions, UseQueryResult } from 'react-query';\r\nimport { useDataProvider } from './useDataProvider';\r\n\r\n/**\r\n * Call the dataProvider.getOne() method and return the resolved value\r\n * as well as the loading state.\r\n *\r\n * The return value updates according to the request state:\r\n *\r\n * - start: { isLoading: true, isFetching: true, refetch }\r\n * - success: { data: [data from response], isLoading: false, refetch }\r\n * - error: { error: [error from response], isLoading: false, refetch }\r\n *\r\n * This hook will return the cached result when called a second time\r\n * with the same parameters, until the response arrives.\r\n *\r\n * @param resource The resource name, e.g. 'posts'\r\n * @param {Params} params The getOne parameters { id, meta }, e.g. { id: 123 }\r\n * @param {Options} options Options object to pass to the react-query queryClient.\r\n *\r\n * @typedef Params\r\n * @prop id a resource identifier, e.g. 123\r\n *\r\n * @typedef Options\r\n * @prop enabled Flag to conditionally run the query. If it's false, the query will not run\r\n * @prop onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\r\n * @prop onError Side effect function to be executed upon failure, e.g. { onError: error => notify(error.message) }\r\n *\r\n * @returns The current request state. Destructure as { data, error, isLoading, refetch }.\r\n *\r\n * @example\r\n *\r\n * import { useGetOne, useRecordContext } from 'react-admin';\r\n *\r\n * const UserProfile = () => {\r\n *     const record = useRecordContext();\r\n *     const { data, isLoading, error } = useGetOne('users', { id: record.id });\r\n *     if (isLoading) { return <Loading />; }\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <div>User {data.username}</div>;\r\n * };\r\n */\r\nexport const useGetOne = <RecordType extends RaRecord = any>(\r\n    resource: string,\r\n    { id, meta }: GetOneParams<RecordType>,\r\n    options?: UseQueryOptions<RecordType>\r\n): UseGetOneHookValue<RecordType> => {\r\n    const dataProvider = useDataProvider();\r\n    return useQuery<RecordType, unknown, RecordType>(\r\n        // Sometimes the id comes as a string (e.g. when read from the URL in a Show view).\r\n        // Sometimes the id comes as a number (e.g. when read from a Record in useGetList response).\r\n        // As the react-query cache is type-sensitive, we always stringify the identifier to get a match\r\n        [resource, 'getOne', { id: String(id), meta }],\r\n        () =>\r\n            dataProvider\r\n                .getOne<RecordType>(resource, { id, meta })\r\n                .then(({ data }) => data),\r\n        options\r\n    );\r\n};\r\n\r\nexport type UseGetOneHookValue<\r\n    RecordType extends RaRecord = any\r\n> = UseQueryResult<RecordType>;\r\n", "import { useMemo } from 'react';\r\nimport {\r\n    useQuery,\r\n    UseQueryOptions,\r\n    UseQueryResult,\r\n    useQueryClient,\r\n} from 'react-query';\r\n\r\nimport { RaRecord, GetListParams, GetListResult } from '../types';\r\nimport { useDataProvider } from './useDataProvider';\r\n\r\n/**\r\n * Call the dataProvider.getList() method and return the resolved result\r\n * as well as the loading state.\r\n *\r\n * The return value updates according to the request state:\r\n *\r\n * - start: { isLoading: true, refetch }\r\n * - success: { data: [data from store], total: [total from response], isLoading: false, refetch }\r\n * - error: { error: [error from response], isLoading: false, refetch }\r\n *\r\n * This hook will return the cached result when called a second time\r\n * with the same parameters, until the response arrives.\r\n *\r\n * @param {string} resource The resource name, e.g. 'posts'\r\n * @param {Params} params The getList parameters { pagination, sort, filter, meta }\r\n * @param {Object} options Options object to pass to the queryClient.\r\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\r\n *\r\n * @typedef Params\r\n * @prop params.pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\r\n * @prop params.sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\r\n * @prop params.filter The request filters, e.g. { title: 'hello, world' }\r\n * @prop params.meta Optional meta parameters\r\n *\r\n * @returns The current request state. Destructure as { data, total, error, isLoading, refetch }.\r\n *\r\n * @example\r\n *\r\n * import { useGetList } from 'react-admin';\r\n *\r\n * const LatestNews = () => {\r\n *     const { data, total, isLoading, error } = useGetList(\r\n *         'posts',\r\n *         { pagination: { page: 1, perPage: 10 }, sort: { field: 'published_at', order: 'DESC' } }\r\n *     );\r\n *     if (isLoading) { return <Loading />; }\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <ul>{data.map(item =>\r\n *         <li key={item.id}>{item.title}</li>\r\n *     )}</ul>;\r\n * };\r\n */\r\nexport const useGetList = <RecordType extends RaRecord = any>(\r\n    resource: string,\r\n    params: Partial<GetListParams> = {},\r\n    options?: UseQueryOptions<GetListResult<RecordType>, Error>\r\n): UseGetListHookValue<RecordType> => {\r\n    const {\r\n        pagination = { page: 1, perPage: 25 },\r\n        sort = { field: 'id', order: 'DESC' },\r\n        filter = {},\r\n        meta,\r\n    } = params;\r\n    const dataProvider = useDataProvider();\r\n    const queryClient = useQueryClient();\r\n    const result = useQuery<\r\n        GetListResult<RecordType>,\r\n        Error,\r\n        GetListResult<RecordType>\r\n    >(\r\n        [resource, 'getList', { pagination, sort, filter, meta }],\r\n        () =>\r\n            dataProvider\r\n                .getList<RecordType>(resource, {\r\n                    pagination,\r\n                    sort,\r\n                    filter,\r\n                    meta,\r\n                })\r\n                .then(({ data, total, pageInfo }) => ({\r\n                    data,\r\n                    total,\r\n                    pageInfo,\r\n                })),\r\n        {\r\n            ...options,\r\n            onSuccess: value => {\r\n                // optimistically populate the getOne cache\r\n                value?.data?.forEach(record => {\r\n                    queryClient.setQueryData(\r\n                        [resource, 'getOne', { id: String(record.id), meta }],\r\n                        oldRecord => oldRecord ?? record\r\n                    );\r\n                });\r\n                // execute call-time onSuccess if provided\r\n                if (options?.onSuccess) {\r\n                    options.onSuccess(value);\r\n                }\r\n            },\r\n        }\r\n    );\r\n\r\n    return useMemo(\r\n        () =>\r\n            result.data\r\n                ? {\r\n                      ...result,\r\n                      data: result.data?.data,\r\n                      total: result.data?.total,\r\n                      pageInfo: result.data?.pageInfo,\r\n                  }\r\n                : result,\r\n        [result]\r\n    ) as UseQueryResult<RecordType[], Error> & {\r\n        total?: number;\r\n        pageInfo?: {\r\n            hasNextPage?: boolean;\r\n            hasPreviousPage?: boolean;\r\n        };\r\n    };\r\n};\r\n\r\nexport type UseGetListHookValue<\r\n    RecordType extends RaRecord = any\r\n> = UseQueryResult<RecordType[], Error> & {\r\n    total?: number;\r\n    pageInfo?: {\r\n        hasNextPage?: boolean;\r\n        hasPreviousPage?: boolean;\r\n    };\r\n};\r\n", "import {\r\n    useQuery,\r\n    UseQueryOptions,\r\n    UseQueryResult,\r\n    useQueryClient,\r\n    hashQueryKey,\r\n} from 'react-query';\r\n\r\nimport { RaRecord, GetManyParams } from '../types';\r\nimport { useDataProvider } from './useDataProvider';\r\n\r\n/**\r\n * Call the dataProvider.getMany() method and return the resolved result\r\n * as well as the loading state.\r\n *\r\n * The return value updates according to the request state:\r\n *\r\n * - start: { isLoading: true, refetch }\r\n * - success: { data: [data from store], isLoading: false, refetch }\r\n * - error: { error: [error from response], isLoading: false, refetch }\r\n *\r\n * This hook will return the cached result when called a second time\r\n * with the same parameters, until the response arrives.\r\n *\r\n * @param {string} resource The resource name, e.g. 'posts'\r\n * @param {Params} params The getMany parameters { ids, meta }\r\n * @param {Object} options Options object to pass to the queryClient.\r\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\r\n *\r\n * @typedef Params\r\n * @prop params.ids The ids to get, e.g. [123, 456, 789]\r\n * @prop params.meta Optional meta parameters\r\n *\r\n * @returns The current request state. Destructure as { data, error, isLoading, refetch }.\r\n *\r\n * @example\r\n *\r\n * import { useGetMany } from 'react-admin';\r\n *\r\n * const PostTags = ({ post }) => {\r\n *     const { data, isLoading, error } = useGetMany(\r\n *         'tags',\r\n *         { ids: post.tags },\r\n *     );\r\n *     if (isLoading) { return <Loading />; }\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <ul>{data.map(tag =>\r\n *         <li key={tag.id}>{tag.name}</li>\r\n *     )}</ul>;\r\n * };\r\n */\r\nexport const useGetMany = <RecordType extends RaRecord = any>(\r\n    resource: string,\r\n    params: Partial<GetManyParams> = {},\r\n    options?: UseQueryOptions<RecordType[], Error>\r\n): UseGetManyHookValue<RecordType> => {\r\n    const { ids, meta } = params;\r\n    const dataProvider = useDataProvider();\r\n    const queryClient = useQueryClient();\r\n    const queryCache = queryClient.getQueryCache();\r\n\r\n    return useQuery<RecordType[], Error, RecordType[]>(\r\n        [\r\n            resource,\r\n            'getMany',\r\n            {\r\n                ids: !ids || ids.length === 0 ? [] : ids.map(id => String(id)),\r\n                meta,\r\n            },\r\n        ],\r\n        () => {\r\n            if (!ids || ids.length === 0) {\r\n                // no need to call the dataProvider\r\n                return Promise.resolve([]);\r\n            }\r\n            return dataProvider\r\n                .getMany<RecordType>(resource, { ids, meta })\r\n                .then(({ data }) => data);\r\n        },\r\n        {\r\n            placeholderData: () => {\r\n                const records =\r\n                    !ids || ids.length === 0\r\n                        ? []\r\n                        : ids.map(id => {\r\n                              const queryHash = hashQueryKey([\r\n                                  resource,\r\n                                  'getOne',\r\n                                  { id: String(id), meta },\r\n                              ]);\r\n                              return queryCache.get<RecordType>(queryHash)\r\n                                  ?.state?.data;\r\n                          });\r\n                if (records.some(record => record === undefined)) {\r\n                    return undefined;\r\n                } else {\r\n                    return records as RecordType[];\r\n                }\r\n            },\r\n            onSuccess: data => {\r\n                // optimistically populate the getOne cache\r\n                data.forEach(record => {\r\n                    queryClient.setQueryData(\r\n                        [resource, 'getOne', { id: String(record.id), meta }],\r\n                        oldRecord => oldRecord ?? record\r\n                    );\r\n                });\r\n            },\r\n            retry: false,\r\n            ...options,\r\n        }\r\n    );\r\n};\r\n\r\nexport type UseGetManyHookValue<\r\n    RecordType extends RaRecord = any\r\n> = UseQueryResult<RecordType[], Error>;\r\n", "import { useMemo } from 'react';\r\nimport {\r\n    QueryClient,\r\n    useQueryClient,\r\n    useQuery,\r\n    UseQueryOptions,\r\n    hashQueryKey,\r\n} from 'react-query';\r\nimport union from 'lodash/union';\r\n\r\nimport { UseGetManyHookValue } from './useGetMany';\r\nimport { Identifier, RaRecord, GetManyParams, DataProvider } from '../types';\r\nimport { useDataProvider } from './useDataProvider';\r\n\r\n/**\r\n * Call the dataProvider.getMany() method and return the resolved result\r\n * as well as the loading state.\r\n *\r\n * The return value updates according to the request state:\r\n *\r\n * - start: { isLoading: true, isFetching: true, refetch }\r\n * - success: { data: [data from response], isLoading: false, isFetching: false, refetch }\r\n * - error: { error: [error from response], isLoading: false, isFetching: false, refetch }\r\n *\r\n * This hook will return the cached result when called a second time\r\n * with the same parameters, until the response arrives.\r\n *\r\n * This hook aggregates and deduplicates calls to the same resource, so for instance, if an app calls:\r\n *\r\n * useGetManyAggregate('tags', [1, 2, 3]);\r\n * useGetManyAggregate('tags', [3, 4]);\r\n *\r\n * during the same tick, the hook will only call the dataProvider once with the following parameters:\r\n *\r\n * dataProvider.getMany('tags', [1, 2, 3, 4])\r\n *\r\n * @param resource The resource name, e.g. 'posts'\r\n * @param {Params} params The getMany parameters { ids, meta }\r\n * @param {Object} options Options object to pass to the dataProvider.\r\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\r\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\r\n * @param {Function} options.onError Side effect function to be executed upon failure, e.g. { onError: error => notify(error.message) }\r\n *\r\n * @typedef Params\r\n * @prop params.ids The ids to get, e.g. [123, 456, 789]\r\n * @prop params.meta Optional meta parameters\r\n\r\n * @returns The current request state. Destructure as { data, error, isLoading, isFetching, refetch }.\r\n *\r\n * @example\r\n *\r\n * import { useGetManyAggregate, useRecordContext } from 'react-admin';\r\n *\r\n * const PostTags = () => {\r\n *     const record = useRecordContext();\r\n *     const { data, isLoading, error } = useGetManyAggregate('tags', { ids: record.tagIds });\r\n *     if (isLoading) { return <Loading />; }\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return (\r\n *          <ul>\r\n *              {data.map(tag => (\r\n *                  <li key={tag.id}>{tag.name}</li>\r\n *              ))}\r\n *          </ul>\r\n *      );\r\n * };\r\n */\r\nexport const useGetManyAggregate = <RecordType extends RaRecord = any>(\r\n    resource: string,\r\n    params: GetManyParams,\r\n    options: UseQueryOptions<RecordType[], Error> = {}\r\n): UseGetManyHookValue<RecordType> => {\r\n    const dataProvider = useDataProvider();\r\n    const queryClient = useQueryClient();\r\n    const queryCache = queryClient.getQueryCache();\r\n    const { ids, meta } = params;\r\n    const placeholderData = useMemo(() => {\r\n        const records = (Array.isArray(ids) ? ids : [ids]).map(id => {\r\n            const queryHash = hashQueryKey([\r\n                resource,\r\n                'getOne',\r\n                { id: String(id), meta },\r\n            ]);\r\n            return queryCache.get<RecordType>(queryHash)?.state?.data;\r\n        });\r\n        if (records.some(record => record === undefined)) {\r\n            return undefined;\r\n        } else {\r\n            return records as RecordType[];\r\n        }\r\n    }, [ids, queryCache, resource, meta]);\r\n\r\n    return useQuery<RecordType[], Error, RecordType[]>(\r\n        [\r\n            resource,\r\n            'getMany',\r\n            {\r\n                ids: (Array.isArray(ids) ? ids : [ids]).map(id => String(id)),\r\n                meta,\r\n            },\r\n        ],\r\n        () =>\r\n            new Promise((resolve, reject) => {\r\n                if (!ids || ids.length === 0) {\r\n                    // no need to call the dataProvider\r\n                    return resolve([]);\r\n                }\r\n                // debounced / batched fetch\r\n                return callGetManyQueries({\r\n                    resource,\r\n                    ids,\r\n                    meta,\r\n                    resolve,\r\n                    reject,\r\n                    dataProvider,\r\n                    queryClient,\r\n                });\r\n            }),\r\n        {\r\n            placeholderData,\r\n            onSuccess: data => {\r\n                // optimistically populate the getOne cache\r\n                (data ?? []).forEach(record => {\r\n                    queryClient.setQueryData(\r\n                        [resource, 'getOne', { id: String(record.id), meta }],\r\n                        oldRecord => oldRecord ?? record\r\n                    );\r\n                });\r\n            },\r\n            retry: false,\r\n            ...options,\r\n        }\r\n    );\r\n};\r\n\r\n/**\r\n * Batch all calls to a function into one single call with the arguments of all the calls.\r\n *\r\n * @example\r\n * let sum = 0;\r\n * const add = (args) => { sum = args.reduce((arg, total) => total + arg, 0); };\r\n * const addBatched = batch(add);\r\n * addBatched(2);\r\n * addBatched(8);\r\n * // add will be called once with arguments [2, 8]\r\n * // and sum will be equal to 10\r\n */\r\nconst batch = fn => {\r\n    let capturedArgs: any[] = [];\r\n    let timeout: ReturnType<typeof setTimeout> | null = null;\r\n    return (arg: any) => {\r\n        capturedArgs.push(arg);\r\n        if (timeout) clearTimeout(timeout);\r\n        timeout = setTimeout(() => {\r\n            timeout = null;\r\n            fn([...capturedArgs]);\r\n            capturedArgs = [];\r\n        }, 0);\r\n    };\r\n};\r\n\r\ninterface GetManyCallArgs {\r\n    resource: string;\r\n    ids: Identifier[];\r\n    meta?: any;\r\n    resolve: (data: any[]) => void;\r\n    reject: (error?: any) => void;\r\n    dataProvider: DataProvider;\r\n    queryClient: QueryClient;\r\n}\r\n\r\n/**\r\n * Group and execute all calls to the dataProvider.getMany() method for the current tick\r\n *\r\n * Thanks to batch(), this function executes at most once per tick,\r\n * whatever the number of calls to useGetManyAggregate().\r\n */\r\nconst callGetManyQueries = batch((calls: GetManyCallArgs[]) => {\r\n    const dataProvider = calls[0].dataProvider;\r\n    const queryClient = calls[0].queryClient;\r\n\r\n    /**\r\n     * Aggregate calls by resource\r\n     *\r\n     * callsByResource will look like:\r\n     * {\r\n     *     posts: [{ resource, ids, resolve, reject, dataProvider, queryClient }, ...],\r\n     *     tags: [{ resource, ids, resolve, reject, dataProvider, queryClient }, ...],\r\n     * }\r\n     */\r\n    const callsByResource = calls.reduce((acc, callArgs) => {\r\n        if (!acc[callArgs.resource]) {\r\n            acc[callArgs.resource] = [];\r\n        }\r\n        acc[callArgs.resource].push(callArgs);\r\n        return acc;\r\n    }, {} as { [resource: string]: GetManyCallArgs[] });\r\n\r\n    /**\r\n     * For each resource, aggregate ids and call dataProvider.getMany() once\r\n     */\r\n    Object.keys(callsByResource).forEach(resource => {\r\n        const callsForResource = callsByResource[resource];\r\n\r\n        /**\r\n         * Extract ids from queries, aggregate and deduplicate them\r\n         *\r\n         * @example from [[1, 2], [2, null, 3], [4, null]] to [1, 2, 3, 4]\r\n         */\r\n        const aggregatedIds = callsForResource\r\n            .reduce((acc, { ids }) => union(acc, ids), []) // concat + unique\r\n            .filter(v => v != null && v !== ''); // remove null values\r\n\r\n        const uniqueMeta = callsForResource.reduce(\r\n            (acc, { meta }) => meta || acc,\r\n            undefined\r\n        );\r\n\r\n        if (aggregatedIds.length === 0) {\r\n            // no need to call the data provider if all the ids are null\r\n            callsForResource.forEach(({ resolve }) => {\r\n                resolve([]);\r\n            });\r\n            return;\r\n        }\r\n\r\n        const callThatHasAllAggregatedIds = callsForResource.find(\r\n            ({ ids }) => JSON.stringify(ids) === JSON.stringify(aggregatedIds)\r\n        );\r\n        if (callThatHasAllAggregatedIds) {\r\n            // There is only one call (no aggregation), or one of the calls has the same ids as the sum of all calls.\r\n            // Either way, we can't trigger a new fetchQuery with the same signature, as it's already pending.\r\n            // Therefore, we reply with the dataProvider\r\n            const {\r\n                dataProvider,\r\n                resource,\r\n                ids,\r\n                meta,\r\n            } = callThatHasAllAggregatedIds;\r\n\r\n            dataProvider\r\n                .getMany<any>(resource, { ids, meta })\r\n                .then(({ data }) => data)\r\n                .then(\r\n                    data => {\r\n                        // We must then resolve all the pending calls with the data they requested\r\n                        callsForResource.forEach(({ ids, resolve }) => {\r\n                            resolve(\r\n                                data.filter(record =>\r\n                                    ids\r\n                                        .map(id => String(id))\r\n                                        .includes(String(record.id))\r\n                                )\r\n                            );\r\n                        });\r\n                    },\r\n                    error => {\r\n                        // All pending calls must also receive the error\r\n                        callsForResource.forEach(({ reject }) => {\r\n                            reject(error);\r\n                        });\r\n                    }\r\n                );\r\n            return;\r\n        }\r\n\r\n        /**\r\n         * Call dataProvider.getMany() with the aggregatedIds,\r\n         * and resolve each of the promises using the results\r\n         */\r\n        queryClient\r\n            .fetchQuery<any[], Error, any[]>(\r\n                [\r\n                    resource,\r\n                    'getMany',\r\n                    {\r\n                        ids: aggregatedIds.map(id => String(id)),\r\n                        meta: uniqueMeta,\r\n                    },\r\n                ],\r\n                () =>\r\n                    dataProvider\r\n                        .getMany<any>(resource, {\r\n                            ids: aggregatedIds,\r\n                            meta: uniqueMeta,\r\n                        })\r\n                        .then(({ data }) => data)\r\n            )\r\n            .then(data => {\r\n                callsForResource.forEach(({ ids, resolve }) => {\r\n                    resolve(\r\n                        data.filter(record =>\r\n                            ids\r\n                                .map(id => String(id))\r\n                                .includes(String(record.id))\r\n                        )\r\n                    );\r\n                });\r\n            })\r\n            .catch(error =>\r\n                callsForResource.forEach(({ reject }) => reject(error))\r\n            );\r\n    });\r\n});\r\n", "import { useMemo } from 'react';\r\nimport {\r\n    useQuery,\r\n    UseQueryOptions,\r\n    UseQueryResult,\r\n    useQueryClient,\r\n} from 'react-query';\r\n\r\nimport {\r\n    RaRecord,\r\n    GetManyReferenceParams,\r\n    GetManyReferenceResult,\r\n} from '../types';\r\nimport { useDataProvider } from './useDataProvider';\r\n\r\n/**\r\n * Call the dataProvider.getManyReference() method and return the resolved result\r\n * as well as the loading state.\r\n *\r\n * The return value updates according to the request state:\r\n *\r\n * - start: { isLoading: true, refetch }\r\n * - success: { data: [data from store], total: [total from response], isLoading: false, refetch }\r\n * - error: { error: [error from response], isLoading: false, refetch }\r\n *\r\n * This hook will return the cached result when called a second time\r\n * with the same parameters, until the response arrives.\r\n *\r\n * @param {string} resource The resource name, e.g. 'posts'\r\n * @param {Params} params The getManyReference parameters { target, id, pagination, sort, filter, meta }\r\n * @param {Object} options Options object to pass to the queryClient.\r\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\r\n *\r\n * @typedef Params\r\n * @prop params.target The target resource key, e.g. 'post_id'\r\n * @prop params.id The identifier of the record to look for in target, e.g. '123'\r\n * @prop params.pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\r\n * @prop params.sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\r\n * @prop params.filter The request filters, e.g. { title: 'hello, world' }\r\n * @prop params.meta Optional meta parameters\r\n *\r\n * @returns The current request state. Destructure as { data, total, error, isLoading, refetch }.\r\n *\r\n * @example\r\n *\r\n * import { useGetManyReference, useRecordContext } from 'react-admin';\r\n *\r\n * const PostComments = () => {\r\n *     const record = useRecordContext();\r\n *     // fetch all comments related to the current record\r\n *     const { data, isLoading, error } = useGetManyReference(\r\n *         'comments',\r\n *         { target: 'post_id', id: record.id, pagination: { page: 1, perPage: 10 }, sort: { field: 'published_at', order: 'DESC' } }\r\n *     );\r\n *     if (isLoading) { return <Loading />; }\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <ul>{data.map(comment =>\r\n *         <li key={comment.id}>{comment.body}</li>\r\n *     )}</ul>;\r\n * };\r\n */\r\nexport const useGetManyReference = <RecordType extends RaRecord = any>(\r\n    resource: string,\r\n    params: Partial<GetManyReferenceParams> = {},\r\n    options?: UseQueryOptions<{ data: RecordType[]; total: number }, Error>\r\n): UseGetManyReferenceHookValue<RecordType> => {\r\n    const {\r\n        target,\r\n        id,\r\n        pagination = { page: 1, perPage: 25 },\r\n        sort = { field: 'id', order: 'DESC' },\r\n        filter = {},\r\n        meta,\r\n    } = params;\r\n    const dataProvider = useDataProvider();\r\n    const queryClient = useQueryClient();\r\n    const result = useQuery<\r\n        GetManyReferenceResult<RecordType>,\r\n        Error,\r\n        GetManyReferenceResult<RecordType>\r\n    >(\r\n        [\r\n            resource,\r\n            'getManyReference',\r\n            { target, id, pagination, sort, filter, meta },\r\n        ],\r\n        () => {\r\n            if (!target || id == null) {\r\n                // check at runtime to support partial parameters with the enabled option\r\n                return Promise.reject(new Error('target and id are required'));\r\n            }\r\n            return dataProvider\r\n                .getManyReference<RecordType>(resource, {\r\n                    target,\r\n                    id,\r\n                    pagination,\r\n                    sort,\r\n                    filter,\r\n                    meta,\r\n                })\r\n                .then(({ data, total, pageInfo }) => ({\r\n                    data,\r\n                    total,\r\n                    pageInfo,\r\n                }));\r\n        },\r\n        {\r\n            onSuccess: value => {\r\n                // optimistically populate the getOne cache\r\n                value?.data?.forEach(record => {\r\n                    queryClient.setQueryData(\r\n                        [resource, 'getOne', { id: String(record.id), meta }],\r\n                        oldRecord => oldRecord ?? record\r\n                    );\r\n                });\r\n            },\r\n            ...options,\r\n        }\r\n    );\r\n\r\n    return useMemo(\r\n        () =>\r\n            result.data\r\n                ? {\r\n                      ...result,\r\n                      data: result.data?.data,\r\n                      total: result.data?.total,\r\n                      pageInfo: result.data?.pageInfo,\r\n                  }\r\n                : result,\r\n        [result]\r\n    ) as UseQueryResult<RecordType[], Error> & {\r\n        total?: number;\r\n        pageInfo?: {\r\n            hasNextPage?: boolean;\r\n            hasPreviousPage?: boolean;\r\n        };\r\n    };\r\n};\r\n\r\nexport type UseGetManyReferenceHookValue<\r\n    RecordType extends RaRecord = any\r\n> = UseQueryResult<RecordType[], Error> & {\r\n    total?: number;\r\n    pageInfo?: {\r\n        hasNextPage?: boolean;\r\n        hasPreviousPage?: boolean;\r\n    };\r\n};\r\n", "import { useEffect, useRef, useCallback } from 'react';\r\nimport debounce from 'lodash/debounce';\r\nimport isEqual from 'lodash/isEqual';\r\n\r\nimport { useSafeSetState } from '../util';\r\nimport { FilterPayload } from '../types';\r\n\r\ninterface UseFilterStateOptions {\r\n    filterToQuery?: (v: string) => FilterPayload;\r\n    permanentFilter?: FilterPayload;\r\n    debounceTime?: number;\r\n}\r\n\r\n/**\r\n * @typedef UseFilterStateProps\r\n * @property {Object} filter: The filter object.\r\n * @property {setFilter} setFilter: Update the filter with the given string\r\n */\r\ninterface UseFilterStateProps {\r\n    filter: FilterPayload;\r\n    setFilter: (v: string) => void;\r\n}\r\n\r\nconst defaultFilterToQuery = (v: string) => ({ q: v });\r\n\r\n/**\r\n * Hooks to provide filter state and setFilter which update the query part of the filter\r\n *\r\n * @example\r\n *\r\n * const { filter, setFilter } = useFilter({\r\n *      filterToQuery: v => ({ query: v }),\r\n *      permanentFilter: { foo: 'bar' },\r\n *      debounceTime: 500,\r\n * });\r\n * // filter initial value:\r\n * {\r\n *      query: '',\r\n *      foo: 'bar'\r\n * }\r\n *  // after updating filter\r\n *  setFilter('needle');\r\n *  {\r\n *      query: 'needle',\r\n *      foo: 'bar'\r\n *  }\r\n *\r\n * @param {Object} option\r\n * @param {Function} option.filterToQuery Function to convert the filter string to a filter object. Defaults to v => ({ q: v }).\r\n * @param {Object} option.permanentFilter Permanent filter to be merged with the filter string. Defaults to {}.\r\n * @param {number} option.debounceTime Time in ms between filter updates - used to debounce the search. Defaults to 500ms.\r\n *\r\n * @returns {UseFilterStateOptions} The filter props\r\n */\r\nexport default ({\r\n    filterToQuery = defaultFilterToQuery,\r\n    permanentFilter = {},\r\n    debounceTime = 500,\r\n}: UseFilterStateOptions): UseFilterStateProps => {\r\n    const permanentFilterProp = useRef(permanentFilter);\r\n    const latestValue = useRef<string>();\r\n    const [filter, setFilterValue] = useSafeSetState({\r\n        ...permanentFilter,\r\n        ...filterToQuery(''),\r\n    });\r\n    // Developers often pass an object literal as permanent filter\r\n    // e.g. <ReferenceInput source=\"book_id\" reference=\"books\" filter={{ is_published: true }}>\r\n    // The effect should execute again when the parent component updates the filter value,\r\n    // but not when the object literal describes the same values. Therefore,\r\n    // we use JSON.stringify(permanentFilter) in the `useEffect` and `useCallback`\r\n    // dependencies instead of permanentFilter.\r\n    const permanentFilterSignature = JSON.stringify(permanentFilter);\r\n\r\n    useEffect(() => {\r\n        if (!isEqual(permanentFilterProp.current, permanentFilter)) {\r\n            permanentFilterProp.current = permanentFilter;\r\n            setFilterValue({\r\n                ...permanentFilter,\r\n                ...filterToQuery(latestValue.current),\r\n            });\r\n        }\r\n    }, [permanentFilterSignature, permanentFilterProp, filterToQuery]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    const setFilter = useCallback(\r\n        debounce((value: string) => {\r\n            setFilterValue({\r\n                ...permanentFilter,\r\n                ...filterToQuery(value),\r\n            });\r\n            latestValue.current = value;\r\n        }, debounceTime),\r\n        [permanentFilterSignature] // eslint-disable-line react-hooks/exhaustive-deps\r\n    );\r\n\r\n    return {\r\n        filter,\r\n        setFilter,\r\n    };\r\n};\r\n", "import { useReducer, useEffect, useRef, useCallback } from 'react';\r\n\r\nimport { SORT_ASC, SORT_DESC } from './list/queryReducer';\r\nimport { SortPayload } from '../types';\r\n\r\nexport interface SortProps {\r\n    setSortField: (field: SortPayload['field']) => void;\r\n    setSortOrder: (order: SortPayload['order']) => void;\r\n    setSort: (sort: SortPayload) => void;\r\n    sort: SortPayload;\r\n}\r\n\r\ntype Action =\r\n    | { type: 'SET_SORT'; payload: SortPayload }\r\n    | { type: 'SET_SORT_FIELD'; payload: SortPayload['field'] }\r\n    | { type: 'SET_SORT_ORDER'; payload: SortPayload['order'] };\r\n\r\nconst sortReducer = (state: SortPayload, action: Action): SortPayload => {\r\n    switch (action.type) {\r\n        case 'SET_SORT':\r\n            return action.payload;\r\n        case 'SET_SORT_FIELD': {\r\n            const field = action.payload;\r\n            const order =\r\n                state.field === field\r\n                    ? state.order === SORT_ASC\r\n                        ? SORT_DESC\r\n                        : SORT_ASC\r\n                    : SORT_ASC;\r\n            return { field, order };\r\n        }\r\n        case 'SET_SORT_ORDER': {\r\n            const order = action.payload;\r\n            if (!state.field) {\r\n                throw new Error(\r\n                    'cannot change the order on an undefined sort field'\r\n                );\r\n            }\r\n            return {\r\n                field: state.field,\r\n                order,\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const defaultSort = { field: '', order: 'ASC' };\r\n\r\n/**\r\n * Set the sort { field, order }\r\n * @name setSort\r\n * @function\r\n * @param {SortPayload} sort the sort object\r\n */\r\n\r\n/**\r\n * Set the sort field, swap the order if the field is the same\r\n * @name setSortField\r\n * @function\r\n * @param {string} field the sort field\r\n */\r\n\r\n/**\r\n * Set the sort order\r\n * @name setSortOrder\r\n * @function\r\n * @param {string} order The sort order, either ASC or DESC\r\n */\r\n\r\n/**\r\n * @typedef SortProps\r\n * @type {Object}\r\n * @property {Object} sort: the sort object.\r\n * @property {string} sort.field: the sort object.\r\n * @property {'ASC' | 'DESC'} sort.order: the sort object.\r\n * @property {setSort} setSort\r\n * @property {setSortField} setSortField\r\n * @property {setSortOrder} setSortOrder\r\n */\r\n\r\n/**\r\n * Hooks to provide sort state\r\n *\r\n * @example\r\n *\r\n * const { sort, setSort, setSortField, setSortOrder } = useSort({\r\n *      field: 'name',\r\n *      order: 'ASC',\r\n * });\r\n *\r\n * setSort({ field: 'name', order: 'ASC' });\r\n * // is the same as\r\n * setSortField('name');\r\n * setSortOrder('ASC');\r\n *\r\n * @param {Object} initialSort\r\n * @param {string} initialSort.field The initial sort field\r\n * @param {string} initialSort.order The initial sort order\r\n * @returns {SortProps} The sort props\r\n */\r\nconst useSortState = (initialSort: SortPayload = defaultSort): SortProps => {\r\n    const [sort, dispatch] = useReducer(sortReducer, initialSort);\r\n    const isFirstRender = useRef(true);\r\n    useEffect(() => {\r\n        if (isFirstRender.current) {\r\n            isFirstRender.current = false;\r\n            return;\r\n        }\r\n        dispatch({ type: 'SET_SORT', payload: initialSort });\r\n    }, [initialSort.field, initialSort.order]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    return {\r\n        setSort: useCallback(\r\n            (sort: SortPayload) =>\r\n                dispatch({ type: 'SET_SORT', payload: sort }),\r\n            [dispatch]\r\n        ),\r\n        setSortField: useCallback(\r\n            (field: string) =>\r\n                dispatch({ type: 'SET_SORT_FIELD', payload: field }),\r\n            [dispatch]\r\n        ),\r\n        setSortOrder: useCallback(\r\n            (order: string) =>\r\n                dispatch({ type: 'SET_SORT_ORDER', payload: order }),\r\n            [dispatch]\r\n        ),\r\n        sort,\r\n    };\r\n};\r\n\r\nexport default useSortState;\r\n", "import { Reducer } from 'react';\r\nimport set from 'lodash/set';\r\n\r\nimport removeEmpty from '../../util/removeEmpty';\r\nimport removeKey from '../../util/removeKey';\r\nimport { ListParams } from './useListParams';\r\n\r\nexport const SET_SORT = 'SET_SORT';\r\nexport const SORT_ASC = 'ASC';\r\nexport const SORT_DESC = 'DESC';\r\n\r\nexport const SET_PAGE = 'SET_PAGE';\r\nexport const SET_PER_PAGE = 'SET_PER_PAGE';\r\n\r\nexport const SET_FILTER = 'SET_FILTER';\r\nexport const SHOW_FILTER = 'SHOW_FILTER';\r\nexport const HIDE_FILTER = 'HIDE_FILTER';\r\n\r\nconst oppositeOrder = direction =>\r\n    direction === SORT_DESC ? SORT_ASC : SORT_DESC;\r\n\r\ntype ActionTypes =\r\n    | {\r\n          type: typeof SET_SORT;\r\n          payload: {\r\n              field: string;\r\n              order?: typeof SORT_ASC | typeof SORT_DESC;\r\n          };\r\n      }\r\n    | {\r\n          type: typeof SET_PAGE;\r\n          payload: number;\r\n      }\r\n    | {\r\n          type: typeof SET_PER_PAGE;\r\n          payload: number;\r\n      }\r\n    | {\r\n          type: typeof SET_FILTER;\r\n          payload: {\r\n              filter: any;\r\n              displayedFilters?: { [key: string]: boolean };\r\n          };\r\n      }\r\n    | {\r\n          type: typeof SHOW_FILTER;\r\n          payload: { filterName: string; defaultValue?: any };\r\n      }\r\n    | {\r\n          type: typeof HIDE_FILTER;\r\n          payload: string;\r\n      };\r\n\r\n/**\r\n * This reducer is for the react-router query string.\r\n */\r\nexport const queryReducer: Reducer<ListParams, ActionTypes> = (\r\n    previousState,\r\n    action\r\n) => {\r\n    switch (action.type) {\r\n        case SET_SORT:\r\n            if (action.payload.field === previousState.sort) {\r\n                return {\r\n                    ...previousState,\r\n                    order: oppositeOrder(previousState.order),\r\n                    page: 1,\r\n                };\r\n            }\r\n\r\n            return {\r\n                ...previousState,\r\n                sort: action.payload.field,\r\n                order: action.payload.order || SORT_ASC,\r\n                page: 1,\r\n            };\r\n\r\n        case SET_PAGE:\r\n            return { ...previousState, page: action.payload };\r\n\r\n        case SET_PER_PAGE:\r\n            return { ...previousState, page: 1, perPage: action.payload };\r\n\r\n        case SET_FILTER: {\r\n            return {\r\n                ...previousState,\r\n                page: 1,\r\n                filter: action.payload.filter,\r\n                displayedFilters: action.payload.displayedFilters\r\n                    ? action.payload.displayedFilters\r\n                    : previousState.displayedFilters,\r\n            };\r\n        }\r\n\r\n        case SHOW_FILTER: {\r\n            if (\r\n                previousState.displayedFilters &&\r\n                previousState.displayedFilters[action.payload.filterName]\r\n            ) {\r\n                // the filter is already shown\r\n                return previousState;\r\n            }\r\n            return {\r\n                ...previousState,\r\n                filter:\r\n                    typeof action.payload.defaultValue !== 'undefined'\r\n                        ? set(\r\n                              previousState.filter,\r\n                              action.payload.filterName,\r\n                              action.payload.defaultValue\r\n                          )\r\n                        : previousState.filter,\r\n                // we don't use lodash.set() for displayed filters\r\n                // to avoid problems with compound filter names (e.g. 'author.name')\r\n                displayedFilters: {\r\n                    ...previousState.displayedFilters,\r\n                    [action.payload.filterName]: true,\r\n                },\r\n            };\r\n        }\r\n\r\n        case HIDE_FILTER: {\r\n            return {\r\n                ...previousState,\r\n                filter: removeEmpty(\r\n                    removeKey(previousState.filter, action.payload)\r\n                ),\r\n                // we don't use lodash.set() for displayed filters\r\n                // to avoid problems with compound filter names (e.g. 'author.name')\r\n                displayedFilters: previousState.displayedFilters\r\n                    ? Object.keys(previousState.displayedFilters).reduce(\r\n                          (filters, filter) => {\r\n                              return filter !== action.payload\r\n                                  ? { ...filters, [filter]: true }\r\n                                  : filters;\r\n                          },\r\n                          {}\r\n                      )\r\n                    : previousState.displayedFilters,\r\n            };\r\n        }\r\n\r\n        default:\r\n            return previousState;\r\n    }\r\n};\r\n\r\nexport default queryReducer;\r\n", "function is(x: unknown, y: unknown) {\r\n    if (x === y) {\r\n        return x !== 0 || y !== 0 || 1 / x === 1 / y;\r\n    } else {\r\n        // eslint-disable-next-line no-self-compare\r\n        return x !== x && y !== y;\r\n    }\r\n}\r\n\r\nexport const shallowEqual = (objA: any, objB: any) => {\r\n    if (is(objA, objB)) return true;\r\n\r\n    if (\r\n        typeof objA !== 'object' ||\r\n        objA === null ||\r\n        typeof objB !== 'object' ||\r\n        objB === null\r\n    ) {\r\n        return false;\r\n    }\r\n\r\n    const keysA = Object.keys(objA);\r\n    const keysB = Object.keys(objB);\r\n\r\n    if (keysA.length !== keysB.length) return false;\r\n\r\n    for (let i = 0; i < keysA.length; i++) {\r\n        if (\r\n            !Object.prototype.hasOwnProperty.call(objB, keysA[i]) ||\r\n            !is(objA[keysA[i]], objB[keysA[i]])\r\n        ) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n};\r\n", "import { shallowEqual } from './shallowEqual';\r\n\r\nconst isObject = obj =>\r\n    obj && Object.prototype.toString.call(obj) === '[object Object]';\r\n\r\nconst isEmpty = obj =>\r\n    obj instanceof Date\r\n        ? false\r\n        : obj === '' ||\r\n          obj === null ||\r\n          obj === undefined ||\r\n          shallowEqual(obj, {});\r\n\r\nconst removeEmpty = object =>\r\n    Object.keys(object).reduce((acc, key) => {\r\n        let child = object[key];\r\n\r\n        if (isObject(object[key])) {\r\n            child = removeEmpty(object[key]);\r\n        }\r\n\r\n        return isEmpty(child) ? acc : { ...acc, [key]: child };\r\n    }, {});\r\n\r\nexport default removeEmpty;\r\n", "const removeKey = (target, path) =>\r\n    Object.keys(target).reduce((acc, key) => {\r\n        if (key !== path) {\r\n            return Object.assign({}, acc, { [key]: target[key] });\r\n        }\r\n\r\n        return acc;\r\n    }, {});\r\n\r\nconst deepRemoveKey = (target, path) => {\r\n    const paths = path.split('.');\r\n\r\n    if (paths.length === 1) {\r\n        return removeKey(target, path);\r\n    }\r\n\r\n    const deepKey = paths[0];\r\n    if (target[deepKey] === undefined) {\r\n        return target;\r\n    }\r\n    const deep = deepRemoveKey(target[deepKey], paths.slice(1).join('.'));\r\n\r\n    if (Object.keys(deep).length === 0) {\r\n        return removeKey(target, deepKey);\r\n    }\r\n\r\n    return Object.assign({}, target, { [deepKey]: deep });\r\n};\r\n\r\nexport default deepRemoveKey;\r\n", "import { useEffect, useReducer, useCallback, useRef } from 'react';\r\nimport { PaginationPayload } from '../types';\r\n\r\n/**\r\n * @typedef PaginationProps\r\n * @type {Object}\r\n * @property {number} page: The page number.\r\n * @property {number} perPage: The number of item per page.\r\n * @property {Function} setPage: Set the page number\r\n * @property {Function} setPerPage: Set the per page number\r\n * @property {Function} setPagination: Set page and perPage pagination numbers\r\n */\r\nexport interface PaginationHookResult {\r\n    page: number;\r\n    perPage: number;\r\n    pagination: PaginationPayload;\r\n    setPage: (page: number) => void;\r\n    setPerPage: (perPage: number) => void;\r\n    setPagination: (pagination: PaginationPayload) => void;\r\n}\r\n\r\nconst paginationReducer = (\r\n    prevState: PaginationPayload,\r\n    nextState: Partial<PaginationPayload>\r\n): PaginationPayload => {\r\n    return {\r\n        ...prevState,\r\n        ...nextState,\r\n    };\r\n};\r\n\r\nconst defaultPagination = {\r\n    page: 1,\r\n    perPage: 25,\r\n};\r\n\r\n/**\r\n * Hooks to provide pagination state (page and perPage)\r\n *\r\n * @example\r\n *\r\n * const { page, setPage, perPage, setPerPage } = usePagination(initialPerPage);\r\n *\r\n * @param {number} initialPagination the initial value per page\r\n * @returns {PaginationHookResult} The pagination props\r\n */\r\nexport default (\r\n    initialPagination: { perPage?: number; page?: number } = {}\r\n): PaginationHookResult => {\r\n    const [pagination, setPagination] = useReducer(paginationReducer, {\r\n        ...defaultPagination,\r\n        ...initialPagination,\r\n    });\r\n    const isFirstRender = useRef(true);\r\n\r\n    const setPerPage = useCallback(\r\n        perPage => setPagination({ perPage, page: 1 }),\r\n        []\r\n    );\r\n    const setPage = useCallback(page => setPagination({ page }), []);\r\n\r\n    useEffect(() => {\r\n        if (isFirstRender.current) {\r\n            isFirstRender.current = false;\r\n            return;\r\n        }\r\n        setPerPage(initialPagination.perPage || 25);\r\n    }, [initialPagination.perPage, setPerPage]);\r\n\r\n    return {\r\n        page: pagination.page,\r\n        perPage: pagination.perPage,\r\n        pagination,\r\n        setPage,\r\n        setPerPage,\r\n        setPagination,\r\n    };\r\n};\r\n", "import * as React from 'react';\r\nimport { ComponentType } from 'react';\r\n\r\nconst checkMinimumRequiredProps = (\r\n    displayName: string,\r\n    requiredProps: string[]\r\n) => (WrappedComponent: ComponentType) => (props: any) => {\r\n    useCheckMinimumRequiredProps(displayName, requiredProps, props);\r\n    return <WrappedComponent {...props} />;\r\n};\r\n\r\nexport default checkMinimumRequiredProps;\r\n\r\n// Not a hook but named that way to avoid conflicts with the old one\r\nexport const useCheckMinimumRequiredProps = (\r\n    displayName: string,\r\n    requiredProps: string[],\r\n    props: any\r\n): void => {\r\n    const propNames = Object.keys(props);\r\n    const missingProps = requiredProps.filter(\r\n        prop => !propNames.includes(prop)\r\n    );\r\n\r\n    if (missingProps.length > 0) {\r\n        throw new Error(\r\n            `<${displayName}> component is not properly configured, some essential props are missing.\r\nBe sure to pass the props from the parent. Example:\r\n\r\nconst My${displayName} = props => (\r\n    <${displayName} {...props}></${displayName}>\r\n);\r\n\r\nThe missing props are: ${missingProps.join(', ')}`\r\n        );\r\n    }\r\n};\r\n", "import { useCallback, ReactEventHandler } from 'react';\r\nimport { UseMutationOptions } from 'react-query';\r\n\r\nimport { useDelete } from '../../dataProvider';\r\nimport { useUnselect } from '../../controller';\r\nimport { useRedirect, RedirectionSideEffect } from '../../routing';\r\nimport { useNotify } from '../../notification';\r\nimport { RaRecord, DeleteParams } from '../../types';\r\nimport { useResourceContext } from '../../core';\r\n\r\n/**\r\n * Prepare callback for a Delete button with undo support\r\n *\r\n * @example\r\n *\r\n * import React from 'react';\r\n * import ActionDelete from '@mui/icons-material/Delete';\r\n * import { Button, useDeleteWithUndoController } from 'react-admin';\r\n *\r\n * const DeleteButton = ({\r\n *     resource,\r\n *     record,\r\n *     redirect,\r\n *     onClick,\r\n *     ...rest\r\n * }) => {\r\n *     const { isLoading, handleDelete } = useDeleteWithUndoController({\r\n *         resource,\r\n *         record,\r\n *         redirect,\r\n *         onClick,\r\n *     });\r\n *\r\n *     return (\r\n *         <Button\r\n *             onClick={handleDelete}\r\n *             disabled={isLoading}\r\n *             label=\"ra.action.delete\"\r\n *             {...rest}\r\n *         >\r\n *             <ActionDelete />\r\n *         </Button>\r\n *     );\r\n * };\r\n */\r\nconst useDeleteWithUndoController = <RecordType extends RaRecord = any>(\r\n    props: UseDeleteWithUndoControllerParams<RecordType>\r\n): UseDeleteWithUndoControllerReturn => {\r\n    const {\r\n        record,\r\n        redirect: redirectTo = 'list',\r\n        onClick,\r\n        mutationOptions = {},\r\n    } = props;\r\n    const { meta: mutationMeta, ...otherMutationOptions } = mutationOptions;\r\n    const resource = useResourceContext(props);\r\n    const notify = useNotify();\r\n    const unselect = useUnselect(resource);\r\n    const redirect = useRedirect();\r\n    const [deleteOne, { isLoading }] = useDelete<RecordType>();\r\n\r\n    const handleDelete = useCallback(\r\n        event => {\r\n            event.stopPropagation();\r\n            deleteOne(\r\n                resource,\r\n                {\r\n                    id: record.id,\r\n                    previousData: record,\r\n                    meta: mutationMeta,\r\n                },\r\n                {\r\n                    onSuccess: () => {\r\n                        notify('ra.notification.deleted', {\r\n                            type: 'info',\r\n                            messageArgs: { smart_count: 1 },\r\n                            undoable: true,\r\n                        });\r\n                        unselect([record.id]);\r\n                        redirect(redirectTo, resource);\r\n                    },\r\n                    onError: (error: Error) => {\r\n                        notify(\r\n                            typeof error === 'string'\r\n                                ? error\r\n                                : error.message || 'ra.notification.http_error',\r\n                            {\r\n                                type: 'error',\r\n                                messageArgs: {\r\n                                    _:\r\n                                        typeof error === 'string'\r\n                                            ? error\r\n                                            : error && error.message\r\n                                            ? error.message\r\n                                            : undefined,\r\n                                },\r\n                            }\r\n                        );\r\n                    },\r\n                    mutationMode: 'undoable',\r\n                    ...otherMutationOptions,\r\n                }\r\n            );\r\n            if (typeof onClick === 'function') {\r\n                onClick(event);\r\n            }\r\n        },\r\n        [\r\n            deleteOne,\r\n            mutationMeta,\r\n            otherMutationOptions,\r\n            notify,\r\n            onClick,\r\n            record,\r\n            redirect,\r\n            redirectTo,\r\n            resource,\r\n            unselect,\r\n        ]\r\n    );\r\n\r\n    return { isLoading, handleDelete };\r\n};\r\n\r\nexport interface UseDeleteWithUndoControllerParams<\r\n    RecordType extends RaRecord = any,\r\n    MutationOptionsError = unknown\r\n> {\r\n    record?: RecordType;\r\n    redirect?: RedirectionSideEffect;\r\n    // @deprecated. This hook get the resource from the context\r\n    resource?: string;\r\n    onClick?: ReactEventHandler<any>;\r\n    mutationOptions?: UseMutationOptions<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        DeleteParams<RecordType>\r\n    >;\r\n}\r\n\r\nexport interface UseDeleteWithUndoControllerReturn {\r\n    isLoading: boolean;\r\n    handleDelete: ReactEventHandler<any>;\r\n}\r\n\r\nexport default useDeleteWithUndoController;\r\n", "import {\r\n    useState,\r\n    useCallback,\r\n    ReactEventHandler,\r\n    SyntheticEvent,\r\n} from 'react';\r\nimport { UseMutationOptions } from 'react-query';\r\n\r\nimport { useDelete } from '../../dataProvider';\r\nimport { useUnselect } from '../../controller';\r\nimport { useRedirect, RedirectionSideEffect } from '../../routing';\r\nimport { useNotify } from '../../notification';\r\nimport { RaRecord, MutationMode, DeleteParams } from '../../types';\r\nimport { useResourceContext } from '../../core';\r\n\r\n/**\r\n * Prepare a set of callbacks for a delete button guarded by confirmation dialog\r\n *\r\n * @example\r\n *\r\n * const DeleteButton = ({\r\n *     resource,\r\n *     record,\r\n *     redirect,\r\n *     onClick,\r\n *     ...rest\r\n * }) => {\r\n *     const {\r\n *         open,\r\n *         isLoading,\r\n *         handleDialogOpen,\r\n *         handleDialogClose,\r\n *         handleDelete,\r\n *     } = useDeleteWithConfirmController({\r\n *         resource,\r\n *         record,\r\n *         redirect,\r\n *         onClick,\r\n *     });\r\n *\r\n *     return (\r\n *         <Fragment>\r\n *             <Button\r\n *                 onClick={handleDialogOpen}\r\n *                 label=\"ra.action.delete\"\r\n *                 {...rest}\r\n *             >\r\n *                 {icon}\r\n *             </Button>\r\n *             <Confirm\r\n *                 isOpen={open}\r\n *                 loading={isLoading}\r\n *                 title=\"ra.message.delete_title\"\r\n *                 content=\"ra.message.delete_content\"\r\n *                 translateOptions={{\r\n *                     name: resource,\r\n *                     id: record.id,\r\n *                 }}\r\n *                 onConfirm={handleDelete}\r\n *                 onClose={handleDialogClose}\r\n *             />\r\n *         </Fragment>\r\n *     );\r\n * };\r\n */\r\nconst useDeleteWithConfirmController = <RecordType extends RaRecord = any>(\r\n    props: UseDeleteWithConfirmControllerParams<RecordType>\r\n): UseDeleteWithConfirmControllerReturn => {\r\n    const {\r\n        record,\r\n        redirect: redirectTo,\r\n        mutationMode,\r\n        onClick,\r\n        mutationOptions = {},\r\n    } = props;\r\n    const { meta: mutationMeta, ...otherMutationOptions } = mutationOptions;\r\n    const resource = useResourceContext(props);\r\n    const [open, setOpen] = useState(false);\r\n    const notify = useNotify();\r\n    const unselect = useUnselect(resource);\r\n    const redirect = useRedirect();\r\n    const [deleteOne, { isLoading }] = useDelete<RecordType>();\r\n\r\n    const handleDialogOpen = e => {\r\n        setOpen(true);\r\n        e.stopPropagation();\r\n    };\r\n\r\n    const handleDialogClose = e => {\r\n        setOpen(false);\r\n        e.stopPropagation();\r\n    };\r\n\r\n    const handleDelete = useCallback(\r\n        event => {\r\n            event.stopPropagation();\r\n            deleteOne(\r\n                resource,\r\n                {\r\n                    id: record.id,\r\n                    previousData: record,\r\n                    meta: mutationMeta,\r\n                },\r\n                {\r\n                    onSuccess: () => {\r\n                        setOpen(false);\r\n                        notify('ra.notification.deleted', {\r\n                            type: 'info',\r\n                            messageArgs: { smart_count: 1 },\r\n                            undoable: mutationMode === 'undoable',\r\n                        });\r\n                        unselect([record.id]);\r\n                        redirect(redirectTo, resource);\r\n                    },\r\n                    onError: (error: Error) => {\r\n                        setOpen(false);\r\n\r\n                        notify(\r\n                            typeof error === 'string'\r\n                                ? error\r\n                                : error.message || 'ra.notification.http_error',\r\n                            {\r\n                                type: 'error',\r\n                                messageArgs: {\r\n                                    _:\r\n                                        typeof error === 'string'\r\n                                            ? error\r\n                                            : error && error.message\r\n                                            ? error.message\r\n                                            : undefined,\r\n                                },\r\n                            }\r\n                        );\r\n                    },\r\n                    mutationMode,\r\n                    ...otherMutationOptions,\r\n                }\r\n            );\r\n            if (typeof onClick === 'function') {\r\n                onClick(event);\r\n            }\r\n        },\r\n        [\r\n            deleteOne,\r\n            mutationMeta,\r\n            mutationMode,\r\n            otherMutationOptions,\r\n            notify,\r\n            onClick,\r\n            record,\r\n            redirect,\r\n            redirectTo,\r\n            resource,\r\n            unselect,\r\n        ]\r\n    );\r\n\r\n    return {\r\n        open,\r\n        isLoading,\r\n        handleDialogOpen,\r\n        handleDialogClose,\r\n        handleDelete,\r\n    };\r\n};\r\n\r\nexport interface UseDeleteWithConfirmControllerParams<\r\n    RecordType extends RaRecord = any,\r\n    MutationOptionsError = unknown\r\n> {\r\n    mutationMode?: MutationMode;\r\n    record?: RecordType;\r\n    redirect?: RedirectionSideEffect;\r\n    // @deprecated. This hook get the resource from the context\r\n    resource?: string;\r\n    onClick?: ReactEventHandler<any>;\r\n    mutationOptions?: UseMutationOptions<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        DeleteParams<RecordType>\r\n    >;\r\n}\r\n\r\nexport interface UseDeleteWithConfirmControllerReturn {\r\n    open: boolean;\r\n    isLoading: boolean;\r\n    handleDialogOpen: (e: SyntheticEvent) => void;\r\n    handleDialogClose: (e: SyntheticEvent) => void;\r\n    handleDelete: ReactEventHandler<any>;\r\n}\r\n\r\nexport default useDeleteWithConfirmController;\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport {\r\n    useCreateController,\r\n    CreateControllerProps,\r\n} from './useCreateController';\r\nimport { CreateContextProvider } from './CreateContextProvider';\r\nimport { Identifier, RaRecord } from '../../types';\r\nimport { ResourceContextProvider } from '../../core';\r\n\r\n/**\r\n * Call useCreateController and put the value in a CreateContext\r\n *\r\n * Base class for <Create> components, without UI.\r\n *\r\n * Accepts any props accepted by useCreateController:\r\n * - id: The record identifier\r\n * - resource: The resource\r\n *\r\n * @example // Custom edit layout\r\n *\r\n * const PostCreate = props => (\r\n *     <CreateBase {...props}>\r\n *         <Grid container>\r\n *             <Grid item xs={8}>\r\n *                 <SimpleForm>\r\n *                     ...\r\n *                 </SimpleForm>\r\n *             </Grid>\r\n *             <Grid item xs={4}>\r\n *                 Create instructions...\r\n *             </Grid>\r\n *         </Grid>\r\n *         <div>\r\n *             Post related links...\r\n *         </div>\r\n *     </CreateBase>\r\n * );\r\n */\r\nexport const CreateBase = <\r\n    RecordType extends Omit<RaRecord, 'id'> = any,\r\n    ResultRecordType extends RaRecord = RecordType & { id: Identifier }\r\n>({\r\n    children,\r\n    ...props\r\n}: CreateControllerProps<RecordType, Error, ResultRecordType> & {\r\n    children: ReactNode;\r\n}) => {\r\n    const controllerProps = useCreateController<\r\n        RecordType,\r\n        Error,\r\n        ResultRecordType\r\n    >(props);\r\n    const body = (\r\n        <CreateContextProvider value={controllerProps}>\r\n            {children}\r\n        </CreateContextProvider>\r\n    );\r\n    return props.resource ? (\r\n        // support resource override via props\r\n        <ResourceContextProvider value={props.resource}>\r\n            {body}\r\n        </ResourceContextProvider>\r\n    ) : (\r\n        body\r\n    );\r\n};\r\n", "import { useCallback } from 'react';\r\n// @ts-ignore\r\nimport { parse } from 'query-string';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { Location } from 'history';\r\nimport { UseMutationOptions } from 'react-query';\r\n\r\nimport { useAuthenticated } from '../../auth';\r\nimport {\r\n    HttpError,\r\n    useCreate,\r\n    UseCreateMutateParams,\r\n} from '../../dataProvider';\r\nimport { useRedirect, RedirectionSideEffect } from '../../routing';\r\nimport { useNotify } from '../../notification';\r\nimport { SaveContextValue, useMutationMiddlewares } from '../saveContext';\r\nimport { useTranslate } from '../../i18n';\r\nimport { Identifier, RaRecord, TransformData } from '../../types';\r\nimport {\r\n    useResourceContext,\r\n    useResourceDefinition,\r\n    useGetResourceLabel,\r\n} from '../../core';\r\n\r\n/**\r\n * Prepare data for the Create view\r\n *\r\n * @param {Object} props The props passed to the Create component.\r\n *\r\n * @return {Object} controllerProps Fetched data and callbacks for the Create view\r\n *\r\n * @example\r\n *\r\n * import { useCreateController } from 'react-admin';\r\n * import CreateView from './CreateView';\r\n *\r\n * const MyCreate = props => {\r\n *     const controllerProps = useCreateController(props);\r\n *     return <CreateView {...controllerProps} {...props} />;\r\n * }\r\n */\r\nexport const useCreateController = <\r\n    RecordType extends Omit<RaRecord, 'id'> = any,\r\n    MutationOptionsError = unknown,\r\n    ResultRecordType extends RaRecord = RecordType & { id: Identifier }\r\n>(\r\n    props: CreateControllerProps<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        ResultRecordType\r\n    > = {}\r\n): CreateControllerResult<RecordType> => {\r\n    const {\r\n        disableAuthentication,\r\n        record,\r\n        redirect: redirectTo,\r\n        transform,\r\n        mutationOptions = {},\r\n    } = props;\r\n\r\n    useAuthenticated({ enabled: !disableAuthentication });\r\n    const resource = useResourceContext(props);\r\n    const { hasEdit, hasShow } = useResourceDefinition(props);\r\n    const finalRedirectTo =\r\n        redirectTo ?? getDefaultRedirectRoute(hasShow, hasEdit);\r\n    const location = useLocation();\r\n    const translate = useTranslate();\r\n    const notify = useNotify();\r\n    const redirect = useRedirect();\r\n    const recordToUse = record ?? getRecordFromLocation(location) ?? undefined;\r\n    const {\r\n        onSuccess,\r\n        onError,\r\n        meta,\r\n        ...otherMutationOptions\r\n    } = mutationOptions;\r\n    const {\r\n        registerMutationMiddleware,\r\n        getMutateWithMiddlewares,\r\n        unregisterMutationMiddleware,\r\n    } = useMutationMiddlewares();\r\n\r\n    const [create, { isLoading: saving }] = useCreate<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        ResultRecordType\r\n    >(resource, undefined, { ...otherMutationOptions, returnPromise: true });\r\n\r\n    const save = useCallback(\r\n        (\r\n            data: Partial<RecordType>,\r\n            {\r\n                onSuccess: onSuccessFromSave,\r\n                onError: onErrorFromSave,\r\n                transform: transformFromSave,\r\n                meta: metaFromSave,\r\n            } = {}\r\n        ) =>\r\n            Promise.resolve(\r\n                transformFromSave\r\n                    ? transformFromSave(data)\r\n                    : transform\r\n                    ? transform(data)\r\n                    : data\r\n            ).then(async (data: Partial<RecordType>) => {\r\n                const mutate = getMutateWithMiddlewares(create);\r\n                try {\r\n                    await mutate(\r\n                        resource,\r\n                        { data, meta: metaFromSave ?? meta },\r\n                        {\r\n                            onSuccess: async (data, variables, context) => {\r\n                                if (onSuccessFromSave) {\r\n                                    return onSuccessFromSave(\r\n                                        data,\r\n                                        variables,\r\n                                        context\r\n                                    );\r\n                                }\r\n                                if (onSuccess) {\r\n                                    return onSuccess(data, variables, context);\r\n                                }\r\n\r\n                                notify('ra.notification.created', {\r\n                                    type: 'info',\r\n                                    messageArgs: { smart_count: 1 },\r\n                                });\r\n                                redirect(\r\n                                    finalRedirectTo,\r\n                                    resource,\r\n                                    data.id,\r\n                                    data\r\n                                );\r\n                            },\r\n                            onError: onErrorFromSave\r\n                                ? onErrorFromSave\r\n                                : onError\r\n                                ? onError\r\n                                : (error: Error) => {\r\n                                      notify(\r\n                                          typeof error === 'string'\r\n                                              ? error\r\n                                              : error.message ||\r\n                                                    'ra.notification.http_error',\r\n                                          {\r\n                                              type: 'error',\r\n                                              messageArgs: {\r\n                                                  _:\r\n                                                      typeof error === 'string'\r\n                                                          ? error\r\n                                                          : error &&\r\n                                                            error.message\r\n                                                          ? error.message\r\n                                                          : undefined,\r\n                                              },\r\n                                          }\r\n                                      );\r\n                                  },\r\n                        }\r\n                    );\r\n                } catch (error) {\r\n                    if ((error as HttpError).body?.errors != null) {\r\n                        return (error as HttpError).body.errors;\r\n                    }\r\n                }\r\n            }),\r\n        [\r\n            create,\r\n            finalRedirectTo,\r\n            getMutateWithMiddlewares,\r\n            meta,\r\n            notify,\r\n            onError,\r\n            onSuccess,\r\n            redirect,\r\n            resource,\r\n            transform,\r\n        ]\r\n    );\r\n\r\n    const getResourceLabel = useGetResourceLabel();\r\n    const defaultTitle = translate('ra.page.create', {\r\n        name: getResourceLabel(resource, 1),\r\n    });\r\n\r\n    return {\r\n        isFetching: false,\r\n        isLoading: false,\r\n        saving,\r\n        defaultTitle,\r\n        save,\r\n        resource,\r\n        record: recordToUse,\r\n        redirect: finalRedirectTo,\r\n        registerMutationMiddleware,\r\n        unregisterMutationMiddleware,\r\n    };\r\n};\r\n\r\nexport interface CreateControllerProps<\r\n    RecordType extends Omit<RaRecord, 'id'> = any,\r\n    MutationOptionsError = unknown,\r\n    ResultRecordType extends RaRecord = RecordType & { id: Identifier }\r\n> {\r\n    disableAuthentication?: boolean;\r\n    hasEdit?: boolean;\r\n    hasShow?: boolean;\r\n    record?: Partial<RecordType>;\r\n    redirect?: RedirectionSideEffect;\r\n    resource?: string;\r\n    mutationOptions?: UseMutationOptions<\r\n        ResultRecordType,\r\n        MutationOptionsError,\r\n        UseCreateMutateParams<RecordType>\r\n    > & { meta?: any };\r\n    transform?: TransformData;\r\n}\r\n\r\nexport interface CreateControllerResult<\r\n    RecordType extends Omit<RaRecord, 'id'> = any\r\n> extends SaveContextValue {\r\n    // Necessary for actions (EditActions) which expect a data prop containing the record\r\n    // @deprecated - to be removed in 4.0d\r\n    data?: RecordType;\r\n    defaultTitle: string;\r\n    isFetching: boolean;\r\n    isLoading: boolean;\r\n    record?: Partial<RecordType>;\r\n    redirect: RedirectionSideEffect;\r\n    resource: string;\r\n}\r\n\r\n/**\r\n * Get the initial record from the location, whether it comes from the location\r\n * state or is serialized in the url search part.\r\n */\r\nexport const getRecordFromLocation = ({ state, search }: Location) => {\r\n    if (state && (state as StateWithRecord).record) {\r\n        return (state as StateWithRecord).record;\r\n    }\r\n    if (search) {\r\n        try {\r\n            const searchParams = parse(search);\r\n            if (searchParams.source) {\r\n                if (Array.isArray(searchParams.source)) {\r\n                    console.error(\r\n                        `Failed to parse location search parameter '${search}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\"title\":\"foo\"}')`\r\n                    );\r\n                    return;\r\n                }\r\n                return JSON.parse(searchParams.source);\r\n            }\r\n        } catch (e) {\r\n            console.error(\r\n                `Failed to parse location search parameter '${search}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\"title\":\"foo\"}')`\r\n            );\r\n        }\r\n    }\r\n    return null;\r\n};\r\n\r\ntype StateWithRecord = {\r\n    record?: Partial<RaRecord>;\r\n};\r\n\r\nconst getDefaultRedirectRoute = (hasShow, hasEdit) => {\r\n    if (hasEdit) {\r\n        return 'edit';\r\n    }\r\n    if (hasShow) {\r\n        return 'show';\r\n    }\r\n    return 'list';\r\n};\r\n", "import { createContext } from 'react';\r\nimport {\r\n    RaRecord,\r\n    OnError,\r\n    OnSuccess,\r\n    TransformData,\r\n    MutationMode,\r\n} from '../../types';\r\nimport { Middleware } from './useMutationMiddlewares';\r\n\r\nexport interface SaveContextValue<\r\n    RecordType extends RaRecord = any,\r\n    MutateFunc extends (...args: any[]) => any = (...args: any[]) => any\r\n> {\r\n    save?: SaveHandler<RecordType>;\r\n    /**\r\n     * @deprecated. Rely on the form isSubmitting value instead\r\n     */\r\n    saving?: boolean;\r\n    mutationMode?: MutationMode;\r\n    registerMutationMiddleware?: (callback: Middleware<MutateFunc>) => void;\r\n    unregisterMutationMiddleware?: (callback: Middleware<MutateFunc>) => void;\r\n}\r\n\r\nexport type SaveHandler<RecordType> = (\r\n    record: Partial<RecordType>,\r\n    callbacks?: {\r\n        onSuccess?: OnSuccess;\r\n        onError?: OnError;\r\n        transform?: TransformData;\r\n    }\r\n) => Promise<void | RecordType> | Record<string, string>;\r\n\r\nexport const SaveContext = createContext<SaveContextValue>(undefined);\r\n", "import * as React from 'react';\r\nimport { SaveContext } from './SaveContext';\r\n\r\nexport const SaveContextProvider = ({ children, value }) => (\r\n    <SaveContext.Provider value={value}>{children}</SaveContext.Provider>\r\n);\r\n", "import { useMemo } from 'react';\r\nimport pick from 'lodash/pick';\r\nimport { SaveContextValue } from './SaveContext';\r\n\r\n/**\r\n * This hook extracts the `save`, `saving` and mutationMode properties from either the `CreateContext` or `EditContext`. This ensures the `SaveContext` doesn't rerender when those two contexts have other properties changes.\r\n */\r\nexport const usePickSaveContext = <\r\n    ContextType extends SaveContextValue = SaveContextValue\r\n>(\r\n    context: ContextType\r\n): SaveContextValue => {\r\n    const value = useMemo(\r\n        () =>\r\n            pick(context, [\r\n                'save',\r\n                'saving',\r\n                'mutationMode',\r\n                'registerMutationMiddleware',\r\n                'unregisterMutationMiddleware',\r\n            ]),\r\n        /* eslint-disable react-hooks/exhaustive-deps */\r\n        [\r\n            context.save,\r\n            context.saving,\r\n            context.mutationMode,\r\n            context.registerMutationMiddleware,\r\n            context.unregisterMutationMiddleware,\r\n        ]\r\n        /* eslint-enable react-hooks/exhaustive-deps */\r\n    );\r\n\r\n    return value;\r\n};\r\n", "import { useContext } from 'react';\r\nimport { SaveContext, SaveContextValue } from './SaveContext';\r\n/**\r\n * Get the save() function and its status\r\n *\r\n * Used in forms.\r\n *\r\n * @example\r\n *\r\n * const {\r\n *     save,\r\n *     saving\r\n * } = useSaveContext();\r\n */\r\nexport const useSaveContext = <\r\n    PropsType extends SaveContextValue = SaveContextValue\r\n>(\r\n    _props?: PropsType\r\n): SaveContextValue => {\r\n    return useContext(SaveContext);\r\n};\r\n", "import { useCallback, useMemo, useRef } from 'react';\r\n\r\n/**\r\n * Internal hook used to handle mutation middlewares.\r\n *\r\n * @example\r\n * // We have a form creating an order for a new customer.\r\n * // The form contains the customer fields in addition to the order fields\r\n * // but they should be saved as a new customer resource record\r\n * // and the order should only reference this new customer\r\n * type Order = { id: string; reference: string };\r\n * type OrderCreateFormData = { id: string; reference: string; customer: Customer };\r\n * type Customer = { id: string; email: string; firstName: string; lastName: string };\r\n *\r\n * const CustomerForm = props => {\r\n *     const [createCustomer] = useCreate<Customer>();\r\n *     const middleware: Middleware<UseCreateResult<OrderCreateFormData>[0]> = useCallback(async (resource, params, options, next) => {\r\n *         const { data } = params;\r\n *         const { user, ...orderData } = data;\r\n *         await createCustomer(\r\n *             'customers',\r\n *             { data: user },\r\n *             {\r\n *                 onSuccess: (newCustomer) => {\r\n *                     const orderDataWithCustomer = { ...orderData, customerId: newCustomer.id };\r\n *                     next(resource, { data: orderDataWithCustomer }, options);\r\n *                 },\r\n *             }\r\n *         });\r\n *     }, [createCustomer]);\r\n *     useRegisterMutationMiddleware(middleware);\r\n *\r\n *     return (\r\n *         <>\r\n *             <TextInput source=\"user.email\" />\r\n *             <TextInput source=\"user.firstName\" />\r\n *             <TextInput source=\"user.lastName\" />\r\n *         </>\r\n *     );\r\n * }\r\n */\r\nexport const useMutationMiddlewares = <\r\n    MutateFunc extends (...args: any[]) => any = (...args: any[]) => any\r\n>(): UseMutationMiddlewaresResult<MutateFunc> => {\r\n    const callbacks = useRef<Middleware<MutateFunc>[]>([]);\r\n\r\n    const registerMutationMiddleware = useCallback(\r\n        (callback: Middleware<MutateFunc>) => {\r\n            callbacks.current.push(callback);\r\n        },\r\n        []\r\n    );\r\n\r\n    const unregisterMutationMiddleware = useCallback(\r\n        (callback: Middleware<MutateFunc>) => {\r\n            callbacks.current = callbacks.current.filter(cb => cb !== callback);\r\n        },\r\n        []\r\n    );\r\n\r\n    const getMutateWithMiddlewares = useCallback((fn: MutateFunc) => {\r\n        return (...args: Parameters<MutateFunc>): ReturnType<MutateFunc> => {\r\n            let index = callbacks.current.length - 1;\r\n\r\n            // Called by middlewares to call the next middleware function\r\n            // Should take the same arguments as the original mutation function\r\n            const next = (...newArgs: any) => {\r\n                // Decrement the middlewares counter so that when next is called again, we\r\n                // call the next middleware\r\n                index--;\r\n\r\n                // If there are no more middlewares, we call the original mutation function\r\n                if (index >= 0) {\r\n                    return callbacks.current[index](...newArgs, next);\r\n                } else {\r\n                    return fn(...newArgs);\r\n                }\r\n            };\r\n\r\n            if (callbacks.current.length > 0) {\r\n                // Call the first middleware with the same args as the original mutation function\r\n                // with an additional next function\r\n                return callbacks.current[index](...args, next);\r\n            }\r\n\r\n            return fn(...args);\r\n        };\r\n    }, []);\r\n\r\n    const functions = useMemo<UseMutationMiddlewaresResult<MutateFunc>>(\r\n        () => ({\r\n            registerMutationMiddleware,\r\n            getMutateWithMiddlewares,\r\n            unregisterMutationMiddleware,\r\n        }),\r\n        [\r\n            registerMutationMiddleware,\r\n            getMutateWithMiddlewares,\r\n            unregisterMutationMiddleware,\r\n        ]\r\n    );\r\n\r\n    return functions;\r\n};\r\n\r\nexport interface UseMutationMiddlewaresResult<\r\n    MutateFunc extends (...args: any[]) => any = (...args: any[]) => any\r\n> {\r\n    registerMutationMiddleware: (callback: Middleware<MutateFunc>) => void;\r\n    getMutateWithMiddlewares: (\r\n        mutate: MutateFunc\r\n    ) => (...args: Parameters<MutateFunc>) => ReturnType<MutateFunc>;\r\n    unregisterMutationMiddleware: (callback: Middleware<MutateFunc>) => void;\r\n}\r\n\r\nexport type Middleware<\r\n    MutateFunc = (...args: any[]) => any\r\n> = MutateFunc extends (...a: any[]) => infer R\r\n    ? (...a: [...U: Parameters<MutateFunc>, next: MutateFunc]) => R\r\n    : never;\r\n", "import { useEffect } from 'react';\r\nimport { Middleware } from './useMutationMiddlewares';\r\nimport { useSaveContext } from './useSaveContext';\r\n\r\n/**\r\n * Internal hook that registers a middleware for the save function in the current SaveContext.\r\n * @param callback The middleware function.\r\n */\r\nexport const useRegisterMutationMiddleware = <\r\n    MutateFunc extends (...args: any[]) => any = (...args: any[]) => any\r\n>(\r\n    callback: Middleware<MutateFunc>\r\n) => {\r\n    const {\r\n        registerMutationMiddleware,\r\n        unregisterMutationMiddleware,\r\n    } = useSaveContext();\r\n\r\n    useEffect(() => {\r\n        registerMutationMiddleware(callback);\r\n        return () => {\r\n            unregisterMutationMiddleware(callback);\r\n        };\r\n    }, [callback, registerMutationMiddleware, unregisterMutationMiddleware]);\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\n\r\nimport { RaRecord } from '../../types';\r\nimport { RecordContextProvider } from '../record/RecordContext';\r\nimport { CreateContext } from './CreateContext';\r\nimport { CreateControllerResult } from './useCreateController';\r\nimport { SaveContextProvider, usePickSaveContext } from '../saveContext';\r\n\r\n/**\r\n * Create a Create Context.\r\n *\r\n * @example\r\n *\r\n * const MyCreate = (props) => {\r\n *     const controllerProps = useCreateController(props);\r\n *     return (\r\n *         <CreateContextProvider value={controllerProps}>\r\n *             <MyCreateView>\r\n *         </CreateContextProvider>\r\n *     );\r\n * };\r\n *\r\n * const MyCreateView = () => {\r\n *     const record = useRecordContext();\r\n *     // or, to rerender only when the save operation change but not data\r\n *     const { saving } = useCreateContext();\r\n * }\r\n *\r\n * @see CreateContext\r\n * @see RecordContext\r\n */\r\nexport const CreateContextProvider = ({\r\n    children,\r\n    value,\r\n}: {\r\n    children: ReactNode;\r\n    value: CreateControllerResult;\r\n}) => (\r\n    <CreateContext.Provider value={value}>\r\n        <SaveContextProvider\r\n            value={{\r\n                ...usePickSaveContext(value),\r\n                mutationMode: 'pessimistic',\r\n            }}\r\n        >\r\n            <RecordContextProvider<Partial<RaRecord>>\r\n                value={value && value.record}\r\n            >\r\n                {children}\r\n            </RecordContextProvider>\r\n        </SaveContextProvider>\r\n    </CreateContext.Provider>\r\n);\r\n", "import * as React from 'react';\r\nimport { createContext, ReactNode } from 'react';\r\nimport { RaRecord } from '../../types';\r\n\r\n/**\r\n * Context to store a record.\r\n *\r\n * @see RecordContextProvider\r\n * @see useRecordContext\r\n */\r\nexport const RecordContext = createContext<RaRecord | Omit<RaRecord, 'id'>>(\r\n    undefined\r\n);\r\n\r\nRecordContext.displayName = 'RecordContext';\r\n\r\n/**\r\n * Provider for the Record Context, to store a record.\r\n *\r\n * Use the useRecordContext() hook to read the context.\r\n * That's what the Edit and Show components do in react-admin.\r\n *\r\n * Many react-admin components read the RecordContext, including all Field\r\n * components.\r\n *\r\n * @example\r\n *\r\n * import { useGetOne, RecordContextProvider } from 'ra-core';\r\n *\r\n * const Show = ({ resource, id }) => {\r\n *     const { data } = useGetOne(resource, { id });\r\n *     return (\r\n *         <RecordContextProvider value={data}>\r\n *             ...\r\n *         </RecordContextProvider>\r\n *     );\r\n * };\r\n */\r\nexport const RecordContextProvider = <\r\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = RaRecord\r\n>({\r\n    children,\r\n    value,\r\n}: RecordContextProviderProps<RecordType>) => (\r\n    <RecordContext.Provider value={value}>{children}</RecordContext.Provider>\r\n);\r\n\r\nexport interface RecordContextProviderProps<RecordType> {\r\n    children: ReactNode;\r\n    value?: RecordType;\r\n}\r\n", "import { createContext } from 'react';\r\nimport { CreateControllerResult } from './useCreateController';\r\n\r\n/**\r\n * Context to store the result of the useCreateController() hook.\r\n *\r\n * Use the useCreateContext() hook to read the context. That's what the Create components do in react-admin.\r\n *\r\n * @example\r\n *\r\n * import { useCreateController, CreateContextProvider } from 'ra-core';\r\n *\r\n * const Create = props => {\r\n *     const controllerProps = useCreateController(props);\r\n *     return (\r\n *         <CreateContextProvider value={controllerProps}>\r\n *             ...\r\n *         </CreateContextProvider>\r\n *     );\r\n * };\r\n */\r\nexport const CreateContext = createContext<CreateControllerResult>({\r\n    record: null,\r\n    defaultTitle: null,\r\n    isFetching: null,\r\n    isLoading: null,\r\n    redirect: null,\r\n    resource: null,\r\n    save: null,\r\n    saving: null,\r\n    registerMutationMiddleware: null,\r\n    unregisterMutationMiddleware: null,\r\n});\r\n\r\nCreateContext.displayName = 'CreateContext';\r\n", "import {\r\n    useCreateController,\r\n    CreateControllerProps,\r\n    CreateControllerResult,\r\n} from './useCreateController';\r\n\r\n/**\r\n * Render prop version of the useCreateController hook\r\n *\r\n * @see useCreateController\r\n * @example\r\n *\r\n * const CreateView = () => <div>...</div>\r\n * const MyCreate = props => (\r\n *     <CreateController {...props}>\r\n *         {controllerProps => <CreateView {...controllerProps} {...props} />}\r\n *     </CreateController>\r\n * );\r\n */\r\nexport const CreateController = ({\r\n    children,\r\n    ...props\r\n}: {\r\n    children: (params: CreateControllerResult) => JSX.Element;\r\n} & CreateControllerProps) => {\r\n    const controllerProps = useCreateController(props);\r\n    return children(controllerProps);\r\n};\r\n", "import { useContext, useMemo } from 'react';\r\nimport defaults from 'lodash/defaults';\r\n\r\nimport { RaRecord } from '../../types';\r\nimport { CreateContext } from './CreateContext';\r\nimport { CreateControllerResult } from './useCreateController';\r\n\r\n/**\r\n * Hook to read the create controller props from the CreateContext.\r\n *\r\n * Mostly used within a <CreateContext.Provider> (e.g. as a descendent of <Create>).\r\n *\r\n * But you can also use it without a <CreateContext.Provider>. In this case, it is up to you\r\n * to pass all the necessary props.\r\n *\r\n * The given props will take precedence over context values.\r\n *\r\n * @typedef {Object} CreateControllerProps\r\n *\r\n * @returns {CreateControllerResult} create controller props\r\n *\r\n * @see useCreateController for how it is filled\r\n *\r\n */\r\nexport const useCreateContext = <RecordType extends RaRecord = RaRecord>(\r\n    props?: Partial<CreateControllerResult<RecordType>>\r\n): CreateControllerResult<RecordType> => {\r\n    const context = useContext<CreateControllerResult<RecordType>>(\r\n        // Can't find a way to specify the RecordType when CreateContext is declared\r\n        // @ts-ignore\r\n        CreateContext\r\n    );\r\n    // Props take precedence over the context\r\n    return useMemo(\r\n        () =>\r\n            defaults(\r\n                {},\r\n                props != null ? extractCreateContextProps(props) : {},\r\n                context\r\n            ),\r\n        [context, props]\r\n    );\r\n};\r\n\r\n/**\r\n * Extract only the create controller props\r\n *\r\n * @param {Object} props props passed to the useCreateContext hook\r\n *\r\n * @returns {CreateControllerResult} create controller props\r\n */\r\nconst extractCreateContextProps = ({\r\n    record,\r\n    defaultTitle,\r\n    isFetching,\r\n    isLoading,\r\n    redirect,\r\n    resource,\r\n    save,\r\n    saving,\r\n}: any) => ({\r\n    record,\r\n    defaultTitle,\r\n    isFetching,\r\n    isLoading,\r\n    redirect,\r\n    resource,\r\n    save,\r\n    saving,\r\n});\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\n\r\nimport { RaRecord } from '../../types';\r\nimport { useEditController, EditControllerProps } from './useEditController';\r\nimport { EditContextProvider } from './EditContextProvider';\r\nimport { ResourceContextProvider } from '../../core';\r\n\r\n/**\r\n * Call useEditController and put the value in a EditContext\r\n *\r\n * Base class for <Edit> components, without UI.\r\n *\r\n * Accepts any props accepted by useEditController:\r\n * - id: The record identifier\r\n * - resource: The resource\r\n *\r\n * @example // Custom edit layout\r\n *\r\n * const PostEdit = () => (\r\n *     <EditBase resource=\"posts\">\r\n *         <Grid container>\r\n *             <Grid item xs={8}>\r\n *                 <SimpleForm>\r\n *                     ...\r\n *                 </SimpleForm>\r\n *             </Grid>\r\n *             <Grid item xs={4}>\r\n *                 Edit instructions...\r\n *             </Grid>\r\n *         </Grid>\r\n *         <div>\r\n *             Post related links...\r\n *         </div>\r\n *     </EditBase>\r\n * );\r\n */\r\nexport const EditBase = <RecordType extends RaRecord = any>({\r\n    children,\r\n    ...props\r\n}: { children: ReactNode } & EditControllerProps<RecordType>) => {\r\n    const controllerProps = useEditController<RecordType>(props);\r\n    const body = (\r\n        <EditContextProvider value={controllerProps}>\r\n            {children}\r\n        </EditContextProvider>\r\n    );\r\n    return props.resource ? (\r\n        // support resource override via props\r\n        <ResourceContextProvider value={props.resource}>\r\n            {body}\r\n        </ResourceContextProvider>\r\n    ) : (\r\n        body\r\n    );\r\n};\r\n", "import { useCallback } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { UseQueryOptions, UseMutationOptions } from 'react-query';\r\n\r\nimport { useAuthenticated } from '../../auth';\r\nimport { RaRecord, MutationMode, TransformData } from '../../types';\r\nimport { useRedirect, RedirectionSideEffect } from '../../routing';\r\nimport { useNotify } from '../../notification';\r\nimport {\r\n    useGetOne,\r\n    useUpdate,\r\n    useRefresh,\r\n    UseGetOneHookValue,\r\n    UseUpdateMutateParams,\r\n    HttpError,\r\n} from '../../dataProvider';\r\nimport { useTranslate } from '../../i18n';\r\nimport {\r\n    useResourceContext,\r\n    useGetResourceLabel,\r\n    useGetRecordRepresentation,\r\n} from '../../core';\r\nimport { SaveContextValue, useMutationMiddlewares } from '../saveContext';\r\n\r\n/**\r\n * Prepare data for the Edit view.\r\n *\r\n * useEditController does a few things:\r\n * - it grabs the id from the URL and the resource name from the ResourceContext,\r\n * - it fetches the record via useGetOne,\r\n * - it prepares the page title.\r\n *\r\n * @param {Object} props The props passed to the Edit component.\r\n *\r\n * @return {Object} controllerProps Fetched data and callbacks for the Edit view\r\n *\r\n * @example\r\n *\r\n * import { useEditController } from 'react-admin';\r\n * import EditView from './EditView';\r\n *\r\n * const MyEdit = () => {\r\n *     const controllerProps = useEditController({ resource: 'posts', id: 123 });\r\n *     return <EditView {...controllerProps} {...props} />;\r\n * }\r\n */\r\nexport const useEditController = <\r\n    RecordType extends RaRecord = any,\r\n    MutationOptionsError = unknown\r\n>(\r\n    props: EditControllerProps<RecordType, MutationOptionsError> = {}\r\n): EditControllerResult<RecordType> => {\r\n    const {\r\n        disableAuthentication,\r\n        id: propsId,\r\n        mutationMode = 'undoable',\r\n        mutationOptions = {},\r\n        queryOptions = {},\r\n        redirect: redirectTo = DefaultRedirect,\r\n        transform,\r\n    } = props;\r\n    useAuthenticated({ enabled: !disableAuthentication });\r\n    const resource = useResourceContext(props);\r\n    const getRecordRepresentation = useGetRecordRepresentation(resource);\r\n    const translate = useTranslate();\r\n    const notify = useNotify();\r\n    const redirect = useRedirect();\r\n    const refresh = useRefresh();\r\n    const { id: routeId } = useParams<'id'>();\r\n    const id = propsId != null ? propsId : decodeURIComponent(routeId);\r\n    const { meta: queryMeta, ...otherQueryOptions } = queryOptions;\r\n    const {\r\n        onSuccess,\r\n        onError,\r\n        meta: mutationMeta,\r\n        ...otherMutationOptions\r\n    } = mutationOptions;\r\n    const {\r\n        registerMutationMiddleware,\r\n        getMutateWithMiddlewares,\r\n        unregisterMutationMiddleware,\r\n    } = useMutationMiddlewares();\r\n    const { data: record, error, isLoading, isFetching, refetch } = useGetOne<\r\n        RecordType\r\n    >(\r\n        resource,\r\n        { id, meta: queryMeta },\r\n        {\r\n            onError: () => {\r\n                notify('ra.notification.item_doesnt_exist', {\r\n                    type: 'error',\r\n                });\r\n                redirect('list', resource);\r\n                refresh();\r\n            },\r\n            refetchOnReconnect: false,\r\n            refetchOnWindowFocus: false,\r\n            retry: false,\r\n            ...otherQueryOptions,\r\n        }\r\n    );\r\n\r\n    // eslint-disable-next-line eqeqeq\r\n    if (record && record.id && record.id != id) {\r\n        throw new Error(\r\n            `useEditController: Fetched record's id attribute (${record.id}) must match the requested 'id' (${id})`\r\n        );\r\n    }\r\n\r\n    const getResourceLabel = useGetResourceLabel();\r\n    const recordRepresentation = getRecordRepresentation(record);\r\n    const defaultTitle = translate('ra.page.edit', {\r\n        name: getResourceLabel(resource, 1),\r\n        id,\r\n        record,\r\n        recordRepresentation:\r\n            typeof recordRepresentation === 'string'\r\n                ? recordRepresentation\r\n                : '',\r\n    });\r\n\r\n    const recordCached = { id, previousData: record };\r\n\r\n    const [update, { isLoading: saving }] = useUpdate<\r\n        RecordType,\r\n        MutationOptionsError\r\n    >(resource, recordCached, {\r\n        ...otherMutationOptions,\r\n        mutationMode,\r\n        returnPromise: mutationMode === 'pessimistic',\r\n    });\r\n\r\n    const save = useCallback(\r\n        (\r\n            data: Partial<RecordType>,\r\n            {\r\n                onSuccess: onSuccessFromSave,\r\n                onError: onErrorFromSave,\r\n                transform: transformFromSave,\r\n                meta: metaFromSave,\r\n            } = {}\r\n        ) =>\r\n            Promise.resolve(\r\n                transformFromSave\r\n                    ? transformFromSave(data, {\r\n                          previousData: recordCached.previousData,\r\n                      })\r\n                    : transform\r\n                    ? transform(data, {\r\n                          previousData: recordCached.previousData,\r\n                      })\r\n                    : data\r\n            ).then(async (data: Partial<RecordType>) => {\r\n                const mutate = getMutateWithMiddlewares(update);\r\n\r\n                try {\r\n                    await mutate(\r\n                        resource,\r\n                        { id, data, meta: metaFromSave ?? mutationMeta },\r\n                        {\r\n                            onSuccess: async (data, variables, context) => {\r\n                                if (onSuccessFromSave) {\r\n                                    return onSuccessFromSave(\r\n                                        data,\r\n                                        variables,\r\n                                        context\r\n                                    );\r\n                                }\r\n\r\n                                if (onSuccess) {\r\n                                    return onSuccess(data, variables, context);\r\n                                }\r\n\r\n                                notify('ra.notification.updated', {\r\n                                    type: 'info',\r\n                                    messageArgs: { smart_count: 1 },\r\n                                    undoable: mutationMode === 'undoable',\r\n                                });\r\n                                redirect(redirectTo, resource, data.id, data);\r\n                            },\r\n                            onError: onErrorFromSave\r\n                                ? onErrorFromSave\r\n                                : onError\r\n                                ? onError\r\n                                : (error: Error | string) => {\r\n                                      notify(\r\n                                          typeof error === 'string'\r\n                                              ? error\r\n                                              : error.message ||\r\n                                                    'ra.notification.http_error',\r\n                                          {\r\n                                              type: 'error',\r\n                                              messageArgs: {\r\n                                                  _:\r\n                                                      typeof error === 'string'\r\n                                                          ? error\r\n                                                          : error &&\r\n                                                            error.message\r\n                                                          ? error.message\r\n                                                          : undefined,\r\n                                              },\r\n                                          }\r\n                                      );\r\n                                  },\r\n                        }\r\n                    );\r\n                } catch (error) {\r\n                    if ((error as HttpError).body?.errors != null) {\r\n                        return (error as HttpError).body.errors;\r\n                    }\r\n                }\r\n            }),\r\n        [\r\n            id,\r\n            getMutateWithMiddlewares,\r\n            mutationMeta,\r\n            mutationMode,\r\n            notify,\r\n            onError,\r\n            onSuccess,\r\n            redirect,\r\n            redirectTo,\r\n            resource,\r\n            transform,\r\n            update,\r\n            recordCached.previousData,\r\n        ]\r\n    );\r\n\r\n    return {\r\n        defaultTitle,\r\n        error,\r\n        isFetching,\r\n        isLoading,\r\n        mutationMode,\r\n        record,\r\n        redirect: redirectTo,\r\n        refetch,\r\n        registerMutationMiddleware,\r\n        resource,\r\n        save,\r\n        saving,\r\n        unregisterMutationMiddleware,\r\n    };\r\n};\r\n\r\nexport interface EditControllerProps<\r\n    RecordType extends RaRecord = any,\r\n    MutationOptionsError = unknown\r\n> {\r\n    disableAuthentication?: boolean;\r\n    id?: RecordType['id'];\r\n    mutationMode?: MutationMode;\r\n    mutationOptions?: UseMutationOptions<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        UseUpdateMutateParams<RecordType>\r\n    > & { meta?: any };\r\n    queryOptions?: UseQueryOptions<RecordType> & { meta?: any };\r\n    redirect?: RedirectionSideEffect;\r\n    resource?: string;\r\n    transform?: TransformData;\r\n    [key: string]: any;\r\n}\r\n\r\nexport interface EditControllerResult<RecordType extends RaRecord = any>\r\n    extends SaveContextValue {\r\n    // Necessary for actions (EditActions) which expect a data prop containing the record\r\n    // @deprecated - to be removed in 4.0d\r\n    data?: RecordType;\r\n    error?: any;\r\n    defaultTitle: string;\r\n    isFetching: boolean;\r\n    isLoading: boolean;\r\n    record?: RecordType;\r\n    refetch: UseGetOneHookValue<RecordType>['refetch'];\r\n    redirect: RedirectionSideEffect;\r\n    resource: string;\r\n}\r\n\r\nconst DefaultRedirect = 'list';\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { RaRecord } from '../../types';\r\nimport { RecordContextProvider } from '../record';\r\nimport { SaveContextProvider, usePickSaveContext } from '../saveContext';\r\nimport { EditContext } from './EditContext';\r\nimport { EditControllerResult } from './useEditController';\r\n\r\n/**\r\n * Create an Edit Context.\r\n *\r\n * @example\r\n *\r\n * const MyEdit = (props) => {\r\n *     const controllerProps = useEditController(props);\r\n *     return (\r\n *         <EditContextProvider value={controllerProps}>\r\n *             <MyEditView>\r\n *         </EditContextProvider>\r\n *     );\r\n * };\r\n *\r\n * const MyEditView = () => {\r\n *     const record = useRecordContext();\r\n *     // or, to rerender only when the save operation change but not data\r\n *     const { saving } = useEditContext();\r\n * }\r\n *\r\n * @see EditContext\r\n * @see RecordContext\r\n */\r\nexport const EditContextProvider = ({\r\n    children,\r\n    value,\r\n}: {\r\n    children: ReactNode;\r\n    value: EditControllerResult;\r\n}) => (\r\n    <EditContext.Provider value={value}>\r\n        <SaveContextProvider value={usePickSaveContext(value)}>\r\n            <RecordContextProvider<Partial<RaRecord>>\r\n                value={value && value.record}\r\n            >\r\n                {children}\r\n            </RecordContextProvider>\r\n        </SaveContextProvider>\r\n    </EditContext.Provider>\r\n);\r\n", "import { useContext } from 'react';\r\nimport { RecordContext } from './RecordContext';\r\nimport { RaRecord } from '../../types';\r\n\r\n/**\r\n * Hook to read the record from a RecordContext.\r\n *\r\n * Must be used within a <RecordContext> such as provided by the <EditContextProvider>\r\n * (e.g. as a descendent of <Edit> or <EditBase>) or within a <ShowContextProvider>\r\n * (e.g. as a descendent of <Show> or <ShowBase>)\r\n *\r\n * @example // basic usage\r\n *\r\n * import { useRecordContext } from 'ra-core';\r\n *\r\n * const TitleField = () => {\r\n *     const record = useRecordContext();\r\n *     return <span>{record && record.title}</span>;\r\n * };\r\n *\r\n * @example // allow record override via props\r\n *\r\n * import { useRecordContext } from 'ra-core';\r\n *\r\n * const TitleField = (props) => {\r\n *     const record = useRecordContext(props);\r\n *     return <span>{record && record.title}</span>;\r\n * };\r\n * render(<TextField record={record} />);\r\n *\r\n * @returns {RaRecord} A record object\r\n */\r\nexport const useRecordContext = <\r\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = RaRecord\r\n>(\r\n    props?: UseRecordContextParams<RecordType>\r\n): RecordType | undefined => {\r\n    // Can't find a way to specify the RecordType when CreateContext is declared\r\n    // @ts-ignore\r\n    const context = useContext<RecordType>(RecordContext);\r\n\r\n    return (props && props.record) || context;\r\n};\r\n\r\nexport interface UseRecordContextParams<\r\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = RaRecord\r\n> {\r\n    record?: RecordType;\r\n    [key: string]: any;\r\n}\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { useRecordContext } from './useRecordContext';\r\n\r\n/**\r\n * Render prop version of useRecordContext\r\n *\r\n * @example\r\n * const BookShow = () => (\r\n *    <Show>\r\n *       <SimpleShowLayout>\r\n *          <WithRecord render={record => <span>{record.title}</span>} />\r\n *      </SimpleShowLayout>\r\n *   </Show>\r\n * );\r\n */\r\nexport const WithRecord = <RecordType extends Record<string, unknown> = any>({\r\n    render,\r\n}: WithRecordProps<RecordType>) => {\r\n    const record = useRecordContext<RecordType>();\r\n    return record ? <>{render(record)}</> : null;\r\n};\r\n\r\nexport interface WithRecordProps<\r\n    RecordType extends Record<string, unknown> = any\r\n> {\r\n    render: (record: RecordType) => ReactNode;\r\n    label?: string;\r\n}\r\n", "import * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport { RaRecord } from '../../types';\r\nimport { RecordContextProvider } from './RecordContext';\r\n\r\n/**\r\n * Wrap children with a RecordContext provider only if the value is defined.\r\n *\r\n * Allows a component to work outside of a record context.\r\n *\r\n * @example\r\n *\r\n * import { OptionalRecordContextProvider, TextField } from 'react-admin';\r\n *\r\n * const RecordTitle = ({ record }) => (\r\n *     <OptionalRecordContextProvider value={record}>\r\n *         <TextField source=\"title\" />\r\n *     </OptionalRecordContextProvider>\r\n * );\r\n */\r\nexport const OptionalRecordContextProvider = <\r\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = RaRecord\r\n>({\r\n    value,\r\n    children,\r\n}: {\r\n    children: ReactElement;\r\n    value?: RecordType;\r\n}) =>\r\n    value ? (\r\n        <RecordContextProvider value={value}>{children}</RecordContextProvider>\r\n    ) : (\r\n        children\r\n    );\r\n", "import { createContext } from 'react';\r\nimport { EditControllerResult } from './useEditController';\r\n\r\n/**\r\n * Context to store the result of the useEditController() hook.\r\n *\r\n * Use the useEditContext() hook to read the context. That's what the Edit components do in react-admin.\r\n *\r\n * @example\r\n *\r\n * import { useEditController, EditContextProvider } from 'ra-core';\r\n *\r\n * const Edit = props => {\r\n *     const controllerProps = useEditController(props);\r\n *     return (\r\n *         <EditContextProvider value={controllerProps}>\r\n *             ...\r\n *         </EditContextProvider>\r\n *     );\r\n * };\r\n */\r\nexport const EditContext = createContext<EditControllerResult>({\r\n    record: null,\r\n    defaultTitle: null,\r\n    isFetching: null,\r\n    isLoading: null,\r\n    mutationMode: null,\r\n    redirect: null,\r\n    refetch: null,\r\n    resource: null,\r\n    save: null,\r\n    saving: null,\r\n    registerMutationMiddleware: null,\r\n    unregisterMutationMiddleware: null,\r\n});\r\n\r\nEditContext.displayName = 'EditContext';\r\n", "import {\r\n    useEditController,\r\n    EditControllerProps,\r\n    EditControllerResult,\r\n} from './useEditController';\r\n\r\n/**\r\n * Render prop version of the useEditController hook\r\n *\r\n * @see useEditController\r\n * @example\r\n *\r\n * const EditView = () => <div>...</div>\r\n * const MyEdit = props => (\r\n *     <EditController {...props}>\r\n *         {controllerProps => <EditView {...controllerProps} {...props} />}\r\n *     </EditController>\r\n * );\r\n */\r\nexport const EditController = ({\r\n    children,\r\n    ...props\r\n}: {\r\n    children: (params: EditControllerResult) => JSX.Element;\r\n} & EditControllerProps) => {\r\n    const controllerProps = useEditController(props);\r\n    return children(controllerProps);\r\n};\r\n", "import { useContext, useMemo } from 'react';\r\nimport defaults from 'lodash/defaults';\r\n\r\nimport { RaRecord } from '../../types';\r\nimport { EditContext } from './EditContext';\r\nimport { EditControllerResult } from './useEditController';\r\n\r\n/**\r\n * Hook to read the edit controller props from the CreateContext.\r\n *\r\n * Mostly used within a <EditContext.Provider> (e.g. as a descendent of <Edit>).\r\n *\r\n * But you can also use it without a <EditContext.Provider>. In this case, it is up to you\r\n * to pass all the necessary props.\r\n *\r\n * The given props will take precedence over context values.\r\n *\r\n * @typedef {Object} EditControllerProps\r\n *\r\n * @returns {EditControllerResult} edit controller props\r\n *\r\n * @see useEditController for how it is filled\r\n *\r\n */\r\nexport const useEditContext = <RecordType extends RaRecord = any>(\r\n    props?: Partial<EditControllerResult<RecordType>>\r\n): EditControllerResult<RecordType> => {\r\n    // Can't find a way to specify the RecordType when EditContext is declared\r\n    // @ts-ignore\r\n    const context = useContext<EditControllerResult<RecordType>>(EditContext);\r\n\r\n    // Props take precedence over the context\r\n    return useMemo(\r\n        () =>\r\n            defaults(\r\n                {},\r\n                props != null ? extractEditContextProps(props) : {},\r\n                context\r\n            ),\r\n        [context, props]\r\n    );\r\n};\r\n\r\n/**\r\n * Extract only the edit controller props\r\n *\r\n * @param {Object} props props passed to the useEditContext hook\r\n *\r\n * @returns {EditControllerResult} edit controller props\r\n */\r\nconst extractEditContextProps = ({\r\n    data,\r\n    record,\r\n    defaultTitle,\r\n    isFetching,\r\n    isLoading,\r\n    mutationMode,\r\n    redirect,\r\n    resource,\r\n    save,\r\n    saving,\r\n}: any) => ({\r\n    // Necessary for actions (EditActions) which expect a data prop containing the record\r\n    // @deprecated - to be removed in 4.0d\r\n    data: record || data,\r\n    record: record || data,\r\n    defaultTitle,\r\n    isFetching,\r\n    isLoading,\r\n    mutationMode,\r\n    redirect,\r\n    resource,\r\n    save,\r\n    saving,\r\n});\r\n", "import get from 'lodash/get';\r\nimport { useMemo } from 'react';\r\nimport { RaRecord, SortPayload } from '../../types';\r\nimport { useGetManyAggregate } from '../../dataProvider';\r\nimport { ListControllerResult, useList } from '../list';\r\nimport { useNotify } from '../../notification';\r\n\r\nexport interface UseReferenceArrayFieldControllerParams<\r\n    RecordType extends RaRecord = RaRecord\r\n> {\r\n    filter?: any;\r\n    page?: number;\r\n    perPage?: number;\r\n    record?: RecordType;\r\n    reference: string;\r\n    resource: string;\r\n    sort?: SortPayload;\r\n    source: string;\r\n}\r\n\r\nconst emptyArray = [];\r\nconst defaultFilter = {};\r\nconst defaultSort = { field: null, order: null };\r\n\r\n/**\r\n * Hook that fetches records from another resource specified\r\n * by an array of *ids* in current record.\r\n *\r\n * @example\r\n *\r\n * const { data, error, isFetching, isLoading } = useReferenceArrayFieldController({\r\n *      record: { referenceIds: ['id1', 'id2']};\r\n *      reference: 'reference';\r\n *      resource: 'resource';\r\n *      source: 'referenceIds';\r\n * });\r\n *\r\n * @param {Object} props\r\n * @param {Object} props.record The current resource record\r\n * @param {string} props.reference The linked resource name\r\n * @param {string} props.resource The current resource name\r\n * @param {string} props.source The key of the linked resource identifier\r\n *\r\n * @param {Props} props\r\n *\r\n * @returns {ListControllerResult} The reference props\r\n */\r\nexport const useReferenceArrayFieldController = <\r\n    RecordType extends RaRecord = RaRecord,\r\n    ReferenceRecordType extends RaRecord = RaRecord\r\n>(\r\n    props: UseReferenceArrayFieldControllerParams<RecordType>\r\n): ListControllerResult => {\r\n    const {\r\n        filter = defaultFilter,\r\n        page = 1,\r\n        perPage = 1000,\r\n        record,\r\n        reference,\r\n        sort = defaultSort,\r\n        source,\r\n    } = props;\r\n    const notify = useNotify();\r\n    const value = get(record, source);\r\n\r\n    const ids = useMemo(() => {\r\n        if (Array.isArray(value)) return value;\r\n        console.warn(`Value of field '${source}' is not an array.`, value);\r\n        return emptyArray;\r\n    }, [value, source]);\r\n\r\n    const { data, error, isLoading, isFetching, refetch } = useGetManyAggregate<\r\n        ReferenceRecordType\r\n    >(\r\n        reference,\r\n        { ids },\r\n        {\r\n            onError: error =>\r\n                notify(\r\n                    typeof error === 'string'\r\n                        ? error\r\n                        : error.message || 'ra.notification.http_error',\r\n                    {\r\n                        type: 'error',\r\n                        messageArgs: {\r\n                            _:\r\n                                typeof error === 'string'\r\n                                    ? error\r\n                                    : error && error.message\r\n                                    ? error.message\r\n                                    : undefined,\r\n                        },\r\n                    }\r\n                ),\r\n        }\r\n    );\r\n\r\n    const listProps = useList<ReferenceRecordType>({\r\n        data,\r\n        error,\r\n        filter,\r\n        isFetching,\r\n        isLoading,\r\n        page,\r\n        perPage,\r\n        sort,\r\n    });\r\n\r\n    return {\r\n        ...listProps,\r\n        defaultTitle: null,\r\n        refetch,\r\n        resource: reference,\r\n    };\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport {\r\n    useInfiniteListController,\r\n    InfiniteListControllerProps,\r\n} from './useInfiniteListController';\r\nimport { ResourceContextProvider } from '../../core';\r\nimport { RaRecord } from '../../types';\r\nimport { ListContextProvider } from './ListContextProvider';\r\nimport { InfinitePaginationContext } from './InfinitePaginationContext';\r\n\r\n/**\r\n * Call useInfiniteListController and put the value in a ListContext\r\n *\r\n * Base class for <InfiniteList> components, without UI.\r\n *\r\n * Accepts any props accepted by useInfiniteListController:\r\n * - filter: permanent filter applied to the list\r\n * - filters: Filter element, to display the filters\r\n * - filterDefaultValues: object;\r\n * - perPage: Number of results per page\r\n * - sort: Default sort\r\n * - exporter: exported function\r\n *\r\n * @example // Custom list layout\r\n *\r\n * const PostList = () => (\r\n *     <InfiniteListBase perPage={10}>\r\n *         <div>\r\n *              List metrics...\r\n *         </div>\r\n *         <Grid container>\r\n *             <Grid item xs={8}>\r\n *                 <SimpleList primaryText={record => record.title} />\r\n *             </Grid>\r\n *             <Grid item xs={4}>\r\n *                 List instructions...\r\n *             </Grid>\r\n *         </Grid>\r\n *         <div>\r\n *             Post related links...\r\n *         </div>\r\n *     </ListBase>\r\n * );\r\n */\r\nexport const InfiniteListBase = <RecordType extends RaRecord = any>({\r\n    children,\r\n    ...props\r\n}: InfiniteListControllerProps<RecordType> & { children: ReactNode }) => {\r\n    const controllerProps = useInfiniteListController<RecordType>(props);\r\n    return (\r\n        <ResourceContextProvider value={props.resource}>\r\n            <ListContextProvider value={controllerProps}>\r\n                <InfinitePaginationContext.Provider\r\n                    value={{\r\n                        hasNextPage: controllerProps.hasNextPage,\r\n                        fetchNextPage: controllerProps.fetchNextPage,\r\n                        isFetchingNextPage: controllerProps.isFetchingNextPage,\r\n                        hasPreviousPage: controllerProps.hasPreviousPage,\r\n                        fetchPreviousPage: controllerProps.fetchPreviousPage,\r\n                        isFetchingPreviousPage:\r\n                            controllerProps.isFetchingPreviousPage,\r\n                    }}\r\n                >\r\n                    {children}\r\n                </InfinitePaginationContext.Provider>\r\n            </ListContextProvider>\r\n        </ResourceContextProvider>\r\n    );\r\n};\r\n", "import { isValidElement, useEffect, useMemo } from 'react';\r\nimport {\r\n    UseInfiniteQueryOptions,\r\n    InfiniteQueryObserverBaseResult,\r\n} from 'react-query';\r\n\r\nimport { useAuthenticated } from '../../auth';\r\nimport { useTranslate } from '../../i18n';\r\nimport { useNotify } from '../../notification';\r\nimport { useInfiniteGetList } from '../../dataProvider';\r\nimport { defaultExporter } from '../../export';\r\nimport {\r\n    RaRecord,\r\n    SortPayload,\r\n    FilterPayload,\r\n    Exporter,\r\n    GetInfiniteListResult,\r\n} from '../../types';\r\nimport { useResourceContext, useGetResourceLabel } from '../../core';\r\nimport { useRecordSelection } from './useRecordSelection';\r\nimport { useListParams } from './useListParams';\r\n\r\nimport { ListControllerResult } from './useListController';\r\n\r\n/**\r\n * Prepare data for the InfiniteList view\r\n *\r\n * @param {Object} props The props passed to the InfiniteList component.\r\n *\r\n * @return {Object} controllerProps Fetched and computed data for the List view\r\n *\r\n * @example\r\n *\r\n * import { useInfiniteListController } from 'react-admin';\r\n * import ListView from './ListView';\r\n *\r\n * const MyList = props => {\r\n *     const controllerProps = useInfiniteListController(props);\r\n *     return <ListView {...controllerProps} {...props} />;\r\n * }\r\n */\r\nexport const useInfiniteListController = <RecordType extends RaRecord = any>(\r\n    props: InfiniteListControllerProps<RecordType> = {}\r\n): InfiniteListControllerResult<RecordType> => {\r\n    const {\r\n        debounce = 500,\r\n        disableAuthentication,\r\n        disableSyncWithLocation,\r\n        exporter = defaultExporter,\r\n        filter,\r\n        filterDefaultValues,\r\n        perPage = 10,\r\n        queryOptions = {},\r\n        sort,\r\n        storeKey,\r\n    } = props;\r\n    useAuthenticated({ enabled: !disableAuthentication });\r\n    const resource = useResourceContext(props);\r\n    const { meta, ...otherQueryOptions } = queryOptions;\r\n\r\n    if (!resource) {\r\n        throw new Error(\r\n            `<InfiniteList> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.`\r\n        );\r\n    }\r\n    if (filter && isValidElement(filter)) {\r\n        throw new Error(\r\n            '<InfiniteList> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.'\r\n        );\r\n    }\r\n\r\n    const translate = useTranslate();\r\n    const notify = useNotify();\r\n\r\n    const [query, queryModifiers] = useListParams({\r\n        debounce,\r\n        disableSyncWithLocation,\r\n        filterDefaultValues,\r\n        perPage,\r\n        resource,\r\n        sort,\r\n        storeKey,\r\n    });\r\n\r\n    const [selectedIds, selectionModifiers] = useRecordSelection(resource);\r\n\r\n    const {\r\n        data,\r\n        total,\r\n        error,\r\n        isLoading,\r\n        isFetching,\r\n        hasNextPage,\r\n        hasPreviousPage,\r\n        fetchNextPage,\r\n        isFetchingNextPage,\r\n        fetchPreviousPage,\r\n        isFetchingPreviousPage,\r\n        refetch,\r\n    } = useInfiniteGetList<RecordType>(\r\n        resource,\r\n        {\r\n            pagination: {\r\n                page: query.page,\r\n                perPage: query.perPage,\r\n            },\r\n            sort: { field: query.sort, order: query.order },\r\n            filter: { ...query.filter, ...filter },\r\n            meta,\r\n        },\r\n        {\r\n            keepPreviousData: true,\r\n            retry: false,\r\n            onError: error =>\r\n                notify(error?.message || 'ra.notification.http_error', {\r\n                    type: 'error',\r\n                    messageArgs: {\r\n                        _: error?.message,\r\n                    },\r\n                }),\r\n            ...otherQueryOptions,\r\n        }\r\n    );\r\n\r\n    // change page if there is no data\r\n    useEffect(() => {\r\n        if (\r\n            query.page <= 0 ||\r\n            (!isFetching &&\r\n                query.page > 1 &&\r\n                (data == null || data?.pages.length === 0))\r\n        ) {\r\n            // Query for a page that doesn't exist, set page to 1\r\n            queryModifiers.setPage(1);\r\n            return;\r\n        }\r\n        if (total == null) {\r\n            return;\r\n        }\r\n        const totalPages = Math.ceil(total / query.perPage) || 1;\r\n        if (!isFetching && query.page > totalPages) {\r\n            // Query for a page out of bounds, set page to the last existing page\r\n            // It occurs when deleting the last element of the last page\r\n            queryModifiers.setPage(totalPages);\r\n        }\r\n    }, [isFetching, query.page, query.perPage, data, queryModifiers, total]);\r\n\r\n    const currentSort = useMemo(\r\n        () => ({\r\n            field: query.sort,\r\n            order: query.order,\r\n        }),\r\n        [query.sort, query.order]\r\n    );\r\n\r\n    const getResourceLabel = useGetResourceLabel();\r\n    const defaultTitle = translate('ra.page.list', {\r\n        name: getResourceLabel(resource, 2),\r\n    });\r\n\r\n    const unwrappedData = useMemo(\r\n        () => data?.pages?.reduce((acc, page) => [...acc, ...page.data], []),\r\n        [data]\r\n    );\r\n\r\n    return {\r\n        sort: currentSort,\r\n        data: unwrappedData,\r\n        defaultTitle,\r\n        displayedFilters: query.displayedFilters,\r\n        error,\r\n        exporter,\r\n        filter,\r\n        filterValues: query.filterValues,\r\n        hideFilter: queryModifiers.hideFilter,\r\n        isFetching,\r\n        isLoading,\r\n        onSelect: selectionModifiers.select,\r\n        onToggleItem: selectionModifiers.toggle,\r\n        onUnselectItems: selectionModifiers.clearSelection,\r\n        page: query.page,\r\n        perPage: query.perPage,\r\n        refetch,\r\n        resource,\r\n        selectedIds,\r\n        setFilters: queryModifiers.setFilters,\r\n        setPage: queryModifiers.setPage,\r\n        setPerPage: queryModifiers.setPerPage,\r\n        setSort: queryModifiers.setSort,\r\n        showFilter: queryModifiers.showFilter,\r\n        total: total,\r\n        hasNextPage,\r\n        hasPreviousPage,\r\n        fetchNextPage,\r\n        isFetchingNextPage,\r\n        fetchPreviousPage,\r\n        isFetchingPreviousPage,\r\n    };\r\n};\r\n\r\nexport interface InfiniteListControllerProps<\r\n    RecordType extends RaRecord = any\r\n> {\r\n    debounce?: number;\r\n    disableAuthentication?: boolean;\r\n    /**\r\n     * Whether to disable the synchronization of the list parameters with the current location (URL search parameters)\r\n     */\r\n    disableSyncWithLocation?: boolean;\r\n    exporter?: Exporter | false;\r\n    filter?: FilterPayload;\r\n    filterDefaultValues?: object;\r\n    perPage?: number;\r\n    // FIXME: Make it generic, but Parameters<typeof useInfiniteQuery<RecordType>>[2] doesn't work\r\n    queryOptions?: UseInfiniteQueryOptions<\r\n        GetInfiniteListResult<RecordType>,\r\n        Error\r\n    >;\r\n    resource?: string;\r\n    sort?: SortPayload;\r\n    storeKey?: string | false;\r\n}\r\n\r\nexport interface InfiniteListControllerResult<RecordType extends RaRecord = any>\r\n    extends ListControllerResult<RecordType> {\r\n    fetchNextPage: InfiniteQueryObserverBaseResult<\r\n        GetInfiniteListResult<RecordType>\r\n    >['fetchNextPage'];\r\n    fetchPreviousPage: InfiniteQueryObserverBaseResult<\r\n        GetInfiniteListResult<RecordType>\r\n    >['fetchPreviousPage'];\r\n    isFetchingNextPage: InfiniteQueryObserverBaseResult<\r\n        GetInfiniteListResult<RecordType>\r\n    >['isFetchingNextPage'];\r\n    isFetchingPreviousPage: InfiniteQueryObserverBaseResult<\r\n        GetInfiniteListResult<RecordType>\r\n    >['isFetchingPreviousPage'];\r\n}\r\n", "import jsonExport from 'jsonexport/dist';\r\n\r\nimport downloadCSV from './downloadCSV';\r\nimport { Exporter } from '../types';\r\n\r\nconst defaultExporter: Exporter = (data, _, __, resource) =>\r\n    jsonExport(data, (err, csv) => downloadCSV(csv, resource));\r\n\r\nexport default defaultExporter;\r\n", "export default (csv: string, filename: string): void => {\r\n    const fakeLink = document.createElement('a');\r\n    fakeLink.style.display = 'none';\r\n    document.body.appendChild(fakeLink);\r\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8' });\r\n    // @ts-ignore\r\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\r\n        // Manage IE11+ & Edge\r\n        // @ts-ignore\r\n        window.navigator.msSaveOrOpenBlob(blob, `${filename}.csv`);\r\n    } else {\r\n        fakeLink.setAttribute('href', URL.createObjectURL(blob));\r\n        fakeLink.setAttribute('download', `${filename}.csv`);\r\n        fakeLink.click();\r\n    }\r\n};\r\n", "import { createContext } from 'react';\r\n\r\nimport { Exporter } from '../types';\r\nimport defaultExporter from './defaultExporter';\r\n\r\nconst ExporterContext = createContext<Exporter | false>(defaultExporter);\r\n\r\nExporterContext.displayName = 'ExporterContext';\r\n\r\nexport default ExporterContext;\r\n", "import { RaRecord, Identifier, DataProvider } from '../types';\r\n\r\n/**\r\n * Helper function for calling the dataProvider.getMany() method,\r\n * and getting a Promise for the records indexed by id in return.\r\n *\r\n * @example\r\n *     fetchRelatedRecords(dataProvider)(records, 'post_id', 'posts').then(posts =>\r\n *         posts.map(record => ({\r\n *             ...record,\r\n *             post_title: posts[record.post_id].title,\r\n *         }))\r\n *     );\r\n */\r\nconst fetchRelatedRecords = (dataProvider: DataProvider) => (\r\n    data,\r\n    field,\r\n    resource\r\n) =>\r\n    dataProvider\r\n        .getMany(resource, { ids: getRelatedIds(data, field) })\r\n        .then(({ data }) =>\r\n            data.reduce((acc, post) => {\r\n                acc[post.id] = post;\r\n                return acc;\r\n            }, {})\r\n        );\r\n\r\n/**\r\n * Extracts, aggregates and deduplicates the ids of related records\r\n *\r\n * @example\r\n *     const books = [\r\n *         { id: 1, author_id: 123, title: 'Pride and Prejudice' },\r\n *         { id: 2, author_id: 123, title: 'Sense and Sensibility' },\r\n *         { id: 3, author_id: 456, title: 'War and Peace' },\r\n *     ];\r\n *     getRelatedIds(books, 'author_id'); => [123, 456]\r\n *\r\n * @example\r\n *     const books = [\r\n *         { id: 1, tag_ids: [1, 2], title: 'Pride and Prejudice' },\r\n *         { id: 2, tag_ids: [2, 3], title: 'Sense and Sensibility' },\r\n *         { id: 3, tag_ids: [4], title: 'War and Peace' },\r\n *     ];\r\n *     getRelatedIds(records, 'tag_ids'); => [1, 2, 3, 4]\r\n *\r\n * @param {Object[]} records An array of records\r\n * @param {string} field the identifier of the record field to use\r\n */\r\nexport const getRelatedIds = (\r\n    records: RaRecord[],\r\n    field: string\r\n): Identifier[] =>\r\n    Array.from(\r\n        new Set(\r\n            records\r\n                .filter(record => record[field] != null)\r\n                .map(record => record[field])\r\n                .reduce((ids, value) => ids.concat(value), [])\r\n        )\r\n    );\r\n\r\nexport default fetchRelatedRecords;\r\n", "import { useMemo } from 'react';\r\n\r\nimport { useStore, useRemoveFromStore } from '../../store';\r\nimport { RaRecord } from '../../types';\r\n\r\n/**\r\n * Get the list of selected items for a resource, and callbacks to change the selection\r\n *\r\n * @param resource The resource name, e.g. 'posts'\r\n *\r\n * @returns {Object} Destructure as [selectedIds, { select, toggle, clearSelection }].\r\n */\r\nexport const useRecordSelection = <RecordType extends RaRecord = any>(\r\n    resource: string\r\n): [\r\n    RecordType['id'][],\r\n    {\r\n        select: (ids: RecordType['id'][]) => void;\r\n        unselect: (ids: RecordType['id'][]) => void;\r\n        toggle: (id: RecordType['id']) => void;\r\n        clearSelection: () => void;\r\n    }\r\n] => {\r\n    const storeKey = `${resource}.selectedIds`;\r\n    const [ids, setIds] = useStore(storeKey, defaultSelection);\r\n    const reset = useRemoveFromStore(storeKey);\r\n\r\n    const selectionModifiers = useMemo(\r\n        () => ({\r\n            select: (idsToAdd: RecordType['id'][]) => {\r\n                if (!idsToAdd) return;\r\n                setIds([...idsToAdd]);\r\n            },\r\n            unselect(idsToRemove: RecordType['id'][]) {\r\n                if (!idsToRemove || idsToRemove.length === 0) return;\r\n                setIds(ids => {\r\n                    if (!Array.isArray(ids)) return [];\r\n                    return ids.filter(id => !idsToRemove.includes(id));\r\n                });\r\n            },\r\n            toggle: (id: RecordType['id']) => {\r\n                if (typeof id === 'undefined') return;\r\n                setIds(ids => {\r\n                    if (!Array.isArray(ids)) return [...ids];\r\n                    const index = ids.indexOf(id);\r\n                    return index > -1\r\n                        ? [...ids.slice(0, index), ...ids.slice(index + 1)]\r\n                        : [...ids, id];\r\n                });\r\n            },\r\n            clearSelection: () => {\r\n                reset();\r\n            },\r\n        }),\r\n        [setIds, reset]\r\n    );\r\n\r\n    return [ids, selectionModifiers];\r\n};\r\n\r\nconst defaultSelection = [];\r\n", "import { useCallback, useMemo, useEffect, useState, useRef } from 'react';\r\nimport { parse, stringify } from 'query-string';\r\nimport lodashDebounce from 'lodash/debounce';\r\nimport pickBy from 'lodash/pickBy';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n\r\nimport { useStore } from '../../store';\r\nimport queryReducer, {\r\n    SET_FILTER,\r\n    HIDE_FILTER,\r\n    SHOW_FILTER,\r\n    SET_PAGE,\r\n    SET_PER_PAGE,\r\n    SET_SORT,\r\n    SORT_ASC,\r\n} from './queryReducer';\r\nimport { SortPayload, FilterPayload } from '../../types';\r\nimport removeEmpty from '../../util/removeEmpty';\r\nimport { useIsMounted } from '../../util/hooks';\r\n\r\nexport interface ListParams {\r\n    sort: string;\r\n    order: string;\r\n    page: number;\r\n    perPage: number;\r\n    filter: any;\r\n    displayedFilters: any;\r\n}\r\n\r\n/**\r\n * Get the list parameters (page, sort, filters) and modifiers.\r\n *\r\n * These parameters are merged from 3 sources:\r\n *   - the query string from the URL\r\n *   - the params stored in the state (from previous navigation)\r\n *   - the options passed to the hook (including the filter defaultValues)\r\n *\r\n * @returns {Array} A tuple [parameters, modifiers].\r\n * Destructure as [\r\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\r\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\r\n * ]\r\n *\r\n * @example\r\n *\r\n * const [listParams, listParamsActions] = useListParams({\r\n *      resource: 'posts',\r\n *      location: location // From react-router. Injected to your component by react-admin inside a List\r\n *      filterDefaultValues: {\r\n *          published: true\r\n *      },\r\n *      sort: {\r\n *          field: 'published_at',\r\n *          order: 'DESC'\r\n *      },\r\n *      perPage: 25\r\n * });\r\n *\r\n * const {\r\n *      page,\r\n *      perPage,\r\n *      sort,\r\n *      order,\r\n *      filter,\r\n *      filterValues,\r\n *      displayedFilters,\r\n *      requestSignature\r\n * } = listParams;\r\n *\r\n * const {\r\n *      setFilters,\r\n *      hideFilter,\r\n *      showFilter,\r\n *      setPage,\r\n *      setPerPage,\r\n *      setSort,\r\n * } = listParamsActions;\r\n */\r\nexport const useListParams = ({\r\n    debounce = 500,\r\n    disableSyncWithLocation = false,\r\n    filterDefaultValues,\r\n    perPage = 10,\r\n    resource,\r\n    sort = defaultSort,\r\n    storeKey = `${resource}.listParams`,\r\n}: ListParamsOptions): [Parameters, Modifiers] => {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const [localParams, setLocalParams] = useState(defaultParams);\r\n    // As we can't conditionally call a hook, if the storeKey is false,\r\n    // we'll ignore the params variable later on and won't call setParams either.\r\n    const [params, setParams] = useStore(\r\n        storeKey || `${resource}.listParams`,\r\n        defaultParams\r\n    );\r\n    const tempParams = useRef<ListParams>();\r\n    const isMounted = useIsMounted();\r\n    const disableSyncWithStore = storeKey === false;\r\n\r\n    const requestSignature = [\r\n        location.search,\r\n        resource,\r\n        storeKey,\r\n        JSON.stringify(\r\n            disableSyncWithLocation || disableSyncWithStore\r\n                ? localParams\r\n                : params\r\n        ),\r\n        JSON.stringify(filterDefaultValues),\r\n        JSON.stringify(sort),\r\n        perPage,\r\n        disableSyncWithLocation,\r\n    ];\r\n\r\n    const queryFromLocation = disableSyncWithLocation\r\n        ? {}\r\n        : parseQueryFromLocation(location);\r\n\r\n    const query = useMemo(\r\n        () =>\r\n            getQuery({\r\n                queryFromLocation,\r\n                params:\r\n                    disableSyncWithLocation || disableSyncWithStore\r\n                        ? localParams\r\n                        : params,\r\n                filterDefaultValues,\r\n                sort,\r\n                perPage,\r\n            }),\r\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\r\n    );\r\n\r\n    // if the location includes params (for example from a link like\r\n    // the categories products on the demo), we need to persist them in the\r\n    // store as well so that we don't lose them after a redirection back\r\n    // to the list\r\n    useEffect(() => {\r\n        if (\r\n            Object.keys(queryFromLocation).length > 0 &&\r\n            !disableSyncWithStore\r\n        ) {\r\n            setParams(query);\r\n        }\r\n    }, [location.search]); // eslint-disable-line\r\n\r\n    const changeParams = useCallback(\r\n        action => {\r\n            // do not change params if the component is already unmounted\r\n            // this is necessary because changeParams can be debounced, and therefore\r\n            // executed after the component is unmounted\r\n            if (!isMounted.current) return;\r\n\r\n            if (!tempParams.current) {\r\n                // no other changeParams action dispatched this tick\r\n                tempParams.current = queryReducer(query, action);\r\n                // schedule side effects for next tick\r\n                setTimeout(() => {\r\n                    if (disableSyncWithLocation) {\r\n                        setLocalParams(tempParams.current);\r\n                    } else {\r\n                        // the useEffect above will apply the changes to the params in the store\r\n                        navigate(\r\n                            {\r\n                                search: `?${stringify({\r\n                                    ...tempParams.current,\r\n                                    filter: JSON.stringify(\r\n                                        tempParams.current.filter\r\n                                    ),\r\n                                    displayedFilters: JSON.stringify(\r\n                                        tempParams.current.displayedFilters\r\n                                    ),\r\n                                })}`,\r\n                            },\r\n                            {\r\n                                state: {\r\n                                    _scrollToTop: action.type === SET_PAGE,\r\n                                },\r\n                            }\r\n                        );\r\n                    }\r\n                    tempParams.current = undefined;\r\n                }, 0);\r\n            } else {\r\n                // side effects already scheduled, just change the params\r\n                tempParams.current = queryReducer(tempParams.current, action);\r\n            }\r\n        },\r\n        [...requestSignature, navigate] // eslint-disable-line react-hooks/exhaustive-deps\r\n    );\r\n\r\n    const setSort = useCallback(\r\n        (sort: SortPayload) =>\r\n            changeParams({\r\n                type: SET_SORT,\r\n                payload: sort,\r\n            }),\r\n        [changeParams]\r\n    );\r\n\r\n    const setPage = useCallback(\r\n        (newPage: number) => changeParams({ type: SET_PAGE, payload: newPage }),\r\n        [changeParams]\r\n    );\r\n\r\n    const setPerPage = useCallback(\r\n        (newPerPage: number) =>\r\n            changeParams({ type: SET_PER_PAGE, payload: newPerPage }),\r\n        [changeParams]\r\n    );\r\n\r\n    const filterValues = query.filter || emptyObject;\r\n    const displayedFilterValues = query.displayedFilters || emptyObject;\r\n\r\n    const debouncedSetFilters = lodashDebounce((filter, displayedFilters) => {\r\n        changeParams({\r\n            type: SET_FILTER,\r\n            payload: {\r\n                filter: removeEmpty(filter),\r\n                displayedFilters,\r\n            },\r\n        });\r\n    }, debounce);\r\n\r\n    const setFilters = useCallback(\r\n        (filter, displayedFilters, debounce = true) =>\r\n            debounce\r\n                ? debouncedSetFilters(filter, displayedFilters)\r\n                : changeParams({\r\n                      type: SET_FILTER,\r\n                      payload: {\r\n                          filter: removeEmpty(filter),\r\n                          displayedFilters,\r\n                      },\r\n                  }),\r\n        [changeParams] // eslint-disable-line react-hooks/exhaustive-deps\r\n    );\r\n\r\n    const hideFilter = useCallback(\r\n        (filterName: string) => {\r\n            changeParams({\r\n                type: HIDE_FILTER,\r\n                payload: filterName,\r\n            });\r\n        },\r\n        [changeParams]\r\n    );\r\n\r\n    const showFilter = useCallback(\r\n        (filterName: string, defaultValue: any) => {\r\n            changeParams({\r\n                type: SHOW_FILTER,\r\n                payload: {\r\n                    filterName,\r\n                    defaultValue,\r\n                },\r\n            });\r\n        },\r\n        [changeParams]\r\n    );\r\n\r\n    return [\r\n        {\r\n            displayedFilters: displayedFilterValues,\r\n            filterValues,\r\n            requestSignature,\r\n            ...query,\r\n        },\r\n        {\r\n            changeParams,\r\n            setPage,\r\n            setPerPage,\r\n            setSort,\r\n            setFilters,\r\n            hideFilter,\r\n            showFilter,\r\n        },\r\n    ];\r\n};\r\n\r\nexport const validQueryParams = [\r\n    'page',\r\n    'perPage',\r\n    'sort',\r\n    'order',\r\n    'filter',\r\n    'displayedFilters',\r\n];\r\n\r\nconst parseObject = (query, field) => {\r\n    if (query[field] && typeof query[field] === 'string') {\r\n        try {\r\n            query[field] = JSON.parse(query[field]);\r\n        } catch (err) {\r\n            delete query[field];\r\n        }\r\n    }\r\n};\r\n\r\nexport const parseQueryFromLocation = ({ search }): Partial<ListParams> => {\r\n    const query = pickBy(\r\n        parse(search),\r\n        (v, k) => validQueryParams.indexOf(k) !== -1\r\n    );\r\n    parseObject(query, 'filter');\r\n    parseObject(query, 'displayedFilters');\r\n    return query;\r\n};\r\n\r\n/**\r\n * Check if user has already set custom sort, page, or filters for this list\r\n *\r\n * User params come from the store as the params props. By default,\r\n * this object is:\r\n *\r\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\r\n *\r\n * To check if the user has custom params, we must compare the params\r\n * to these initial values.\r\n *\r\n * @param {Object} params\r\n */\r\nexport const hasCustomParams = (params: ListParams) => {\r\n    return (\r\n        params &&\r\n        params.filter &&\r\n        (Object.keys(params.filter).length > 0 ||\r\n            params.order != null ||\r\n            params.page !== 1 ||\r\n            params.perPage != null ||\r\n            params.sort != null)\r\n    );\r\n};\r\n\r\n/**\r\n * Merge list params from 3 different sources:\r\n *   - the query string\r\n *   - the params stored in the state (from previous navigation)\r\n *   - the props passed to the List component (including the filter defaultValues)\r\n */\r\nexport const getQuery = ({\r\n    queryFromLocation,\r\n    params,\r\n    filterDefaultValues,\r\n    sort,\r\n    perPage,\r\n}) => {\r\n    const query: Partial<ListParams> =\r\n        Object.keys(queryFromLocation).length > 0\r\n            ? queryFromLocation\r\n            : hasCustomParams(params)\r\n            ? { ...params }\r\n            : { filter: filterDefaultValues || {} };\r\n\r\n    if (!query.sort) {\r\n        query.sort = sort.field;\r\n        query.order = sort.order;\r\n    }\r\n    if (query.perPage == null) {\r\n        query.perPage = perPage;\r\n    }\r\n    if (query.page == null) {\r\n        query.page = 1;\r\n    }\r\n\r\n    return {\r\n        ...query,\r\n        page: getNumberOrDefault(query.page, 1),\r\n        perPage: getNumberOrDefault(query.perPage, 10),\r\n    } as ListParams;\r\n};\r\n\r\nexport const getNumberOrDefault = (\r\n    possibleNumber: string | number | undefined,\r\n    defaultValue: number\r\n) => {\r\n    const parsedNumber =\r\n        typeof possibleNumber === 'string'\r\n            ? parseInt(possibleNumber, 10)\r\n            : possibleNumber;\r\n\r\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\r\n};\r\n\r\nexport interface ListParamsOptions {\r\n    debounce?: number;\r\n    // Whether to disable the synchronization of the list parameters with\r\n    // the current location (URL search parameters)\r\n    disableSyncWithLocation?: boolean;\r\n    // default value for a filter when displayed but not yet set\r\n    filterDefaultValues?: FilterPayload;\r\n    perPage?: number;\r\n    resource: string;\r\n    sort?: SortPayload;\r\n    storeKey?: string | false;\r\n}\r\n\r\ninterface Parameters extends ListParams {\r\n    filterValues: object;\r\n    displayedFilters: {\r\n        [key: string]: boolean;\r\n    };\r\n    requestSignature: any[];\r\n}\r\n\r\ninterface Modifiers {\r\n    changeParams: (action: any) => void;\r\n    setPage: (page: number) => void;\r\n    setPerPage: (pageSize: number) => void;\r\n    setSort: (sort: SortPayload) => void;\r\n    setFilters: (filters: any, displayedFilters: any) => void;\r\n    hideFilter: (filterName: string) => void;\r\n    showFilter: (filterName: string, defaultValue: any) => void;\r\n}\r\n\r\nconst emptyObject = {};\r\n\r\nconst defaultSort = {\r\n    field: 'id',\r\n    order: SORT_ASC,\r\n};\r\n\r\nconst defaultParams = {};\r\n", "import * as React from 'react';\r\nimport { useState, useRef, useEffect, useCallback } from 'react';\r\nimport isEqual from 'lodash/isEqual';\r\n\r\n// thanks Kent C Dodds for the following helpers\r\n\r\nexport function useSafeSetState<T>(\r\n    initialState?: T | (() => T)\r\n): [T | undefined, React.Dispatch<React.SetStateAction<T>>] {\r\n    const [state, setState] = useState(initialState);\r\n\r\n    const mountedRef = useRef(false);\r\n    useEffect(() => {\r\n        mountedRef.current = true;\r\n        return () => {\r\n            mountedRef.current = false;\r\n        };\r\n    }, []);\r\n    const safeSetState = useCallback(\r\n        args => {\r\n            if (mountedRef.current) {\r\n                return setState(args);\r\n            }\r\n        },\r\n        [mountedRef, setState]\r\n    );\r\n\r\n    return [state, safeSetState];\r\n}\r\n\r\nexport function usePrevious(value) {\r\n    const ref = useRef();\r\n    useEffect(() => {\r\n        ref.current = value;\r\n    });\r\n    return ref.current;\r\n}\r\n\r\nexport function useDeepCompareEffect(callback, inputs) {\r\n    const cleanupRef = useRef();\r\n    useEffect(() => {\r\n        if (!isEqual(previousInputs, inputs)) {\r\n            cleanupRef.current = callback();\r\n        }\r\n        return cleanupRef.current;\r\n    });\r\n    const previousInputs = usePrevious(inputs);\r\n}\r\n\r\n/**\r\n * A hook that returns true once a delay has expired.\r\n * @param ms The delay in milliseconds\r\n * @param key A key that can be used to reset the timer\r\n * @returns true if the delay has expired, false otherwise\r\n */\r\nexport function useTimeout(ms = 0, key = '') {\r\n    const [ready, setReady] = useSafeSetState(false);\r\n\r\n    useEffect(() => {\r\n        setReady(false);\r\n        let timer = setTimeout(() => {\r\n            setReady(true);\r\n        }, ms);\r\n\r\n        return () => {\r\n            clearTimeout(timer);\r\n        };\r\n    }, [key, ms, setReady]);\r\n\r\n    return ready;\r\n}\r\n\r\nexport function useIsMounted() {\r\n    const isMounted = useRef(true);\r\n    useEffect(() => {\r\n        isMounted.current = true;\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []);\r\n    return isMounted;\r\n}\r\n", "import * as React from 'react';\r\nimport { ListContext } from './ListContext';\r\nimport { ListFilterContext, usePickFilterContext } from './ListFilterContext';\r\nimport { ListSortContext, usePickSortContext } from './ListSortContext';\r\nimport {\r\n    ListPaginationContext,\r\n    usePickPaginationContext,\r\n} from './ListPaginationContext';\r\nimport { ListControllerResult } from './useListController';\r\n\r\n/**\r\n * Create a List Context and several thematic List subcontext.\r\n *\r\n * Allows children to subscribe to part of the ListContext, and bail out of\r\n * rendering when some parts of the context that they don't depend on change\r\n * (because unfortunately React doesn't allow to use context selectors yet).\r\n *\r\n * @example\r\n *\r\n * const MyList = (props) => {\r\n *     const controllerProps = useListController(props);\r\n *     return (\r\n *         <ListContextProvider value={controllerProps}>\r\n *             <MyListView>\r\n *         </ListContextProvider>\r\n *     );\r\n * };\r\n *\r\n * const MyListView = () => {\r\n *     const { data, filterValues, setFilters } = useListContext();\r\n *     // or, to rerender only when filters change but not data\r\n *     const { filterValues, setFilters } = useListFilterContext();\r\n * }\r\n *\r\n * @see ListContext\r\n * @see ListFilterContext\r\n */\r\nexport const ListContextProvider = ({\r\n    value,\r\n    children,\r\n}: {\r\n    value: ListControllerResult;\r\n    children: React.ReactNode;\r\n}) => (\r\n    <ListContext.Provider value={value}>\r\n        <ListFilterContext.Provider value={usePickFilterContext(value)}>\r\n            <ListSortContext.Provider value={usePickSortContext(value)}>\r\n                <ListPaginationContext.Provider\r\n                    value={usePickPaginationContext(value)}\r\n                >\r\n                    {children}\r\n                </ListPaginationContext.Provider>\r\n            </ListSortContext.Provider>\r\n        </ListFilterContext.Provider>\r\n    </ListContext.Provider>\r\n);\r\n", "import { createContext } from 'react';\r\nimport { ListControllerResult } from './useListController';\r\n\r\n/**\r\n * Context to store the result of the useListController() hook.\r\n *\r\n * Use the useListContext() hook to read the context. That's what many\r\n * List components do in react-admin (e.g. <Datagrid>, <FilterForm>, <Pagination>).\r\n *\r\n * @typedef {Object} ListControllerProps\r\n * @prop {Array}    data an array of the list records, e.g. [{ id: 123, title: 'hello world' }, { ... }]\r\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\r\n * @prop {boolean}  isFetching boolean that is true on mount, and false once the data was fetched\r\n * @prop {boolean}  isLoading boolean that is false until the data is available\r\n * @prop {integer}  page the current page. Starts at 1\r\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\r\n * @prop {integer}  perPage the number of results per page. Defaults to 25\r\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\r\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\r\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field: 'name', order: 'ASC' })\r\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\r\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\r\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\r\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\r\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\r\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\r\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\r\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\r\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\r\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\r\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\r\n * @prop {Function} refetch a function for triggering a refetch of the list data\r\n *\r\n * @typedef Props\r\n * @prop {ListControllerResult} value\r\n *\r\n * @param {Props}\r\n *\r\n * @see useListController\r\n * @see useListContext\r\n *\r\n * @example\r\n *\r\n * import { useListController, ListContext } from 'ra-core';\r\n *\r\n * const List = props => {\r\n *     const controllerProps = useListController(props);\r\n *     return (\r\n *         <ListContext.Provider value={controllerProps}>\r\n *             ...\r\n *         </ListContext.Provider>\r\n *     );\r\n * };\r\n */\r\nexport const ListContext = createContext<ListControllerResult>({\r\n    sort: null,\r\n    data: null,\r\n    defaultTitle: null,\r\n    displayedFilters: null,\r\n    exporter: null,\r\n    filterValues: null,\r\n    hasNextPage: null,\r\n    hasPreviousPage: null,\r\n    hideFilter: null,\r\n    isFetching: null,\r\n    isLoading: null,\r\n    onSelect: null,\r\n    onToggleItem: null,\r\n    onUnselectItems: null,\r\n    page: null,\r\n    perPage: null,\r\n    refetch: null,\r\n    resource: null,\r\n    selectedIds: undefined,\r\n    setFilters: null,\r\n    setPage: null,\r\n    setPerPage: null,\r\n    setSort: null,\r\n    showFilter: null,\r\n    total: null,\r\n});\r\n\r\nListContext.displayName = 'ListContext';\r\n", "import { createContext, useMemo } from 'react';\r\nimport pick from 'lodash/pick';\r\nimport { ListControllerResult } from './useListController';\r\n\r\n/**\r\n * Context to store the filter part of the useListController() result.\r\n *\r\n * Use the useListFilterContext() hook to read the context. That's what many\r\n * List components do in react-admin (e.g. <FilterForm>, <FilterListItem>).\r\n *\r\n * @typedef {Object} ListFilterContextValue\r\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\r\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\r\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\r\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\r\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\r\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\r\n *\r\n * @typedef Props\r\n * @prop {ListFilterContextValue} value\r\n *\r\n * @param {Props}\r\n *\r\n * @see useListController\r\n * @see useListFilterContext\r\n *\r\n * @example\r\n *\r\n * import { useListController, usePickFilterContext, ListFilterContext } from 'ra-core';\r\n *\r\n * const List = props => {\r\n *     const controllerProps = useListController(props);\r\n *     return (\r\n *         <ListFilterContext.Provider value={usePickFilterContext(controllerProps)}>\r\n *             ...\r\n *         </ListFilterContext.Provider>\r\n *     );\r\n * };\r\n */\r\nexport const ListFilterContext = createContext<ListFilterContextValue>({\r\n    displayedFilters: null,\r\n    filterValues: null,\r\n    hideFilter: null,\r\n    setFilters: null,\r\n    showFilter: null,\r\n    resource: null,\r\n});\r\n\r\nexport type ListFilterContextValue = Pick<\r\n    ListControllerResult,\r\n    | 'displayedFilters'\r\n    | 'filterValues'\r\n    | 'hideFilter'\r\n    | 'setFilters'\r\n    | 'showFilter'\r\n    | 'resource'\r\n>;\r\n\r\nexport const usePickFilterContext = (\r\n    context: ListControllerResult\r\n): ListFilterContextValue =>\r\n    useMemo(\r\n        () =>\r\n            pick(context, [\r\n                'displayedFilters',\r\n                'filterValues',\r\n                'hideFilter',\r\n                'setFilters',\r\n                'showFilter',\r\n                'resource',\r\n            ]),\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        [\r\n            context.displayedFilters,\r\n            context.filterValues,\r\n            context.hideFilter,\r\n            context.setFilters,\r\n            context.showFilter,\r\n        ]\r\n    );\r\n\r\nListFilterContext.displayName = 'ListFilterContext';\r\n", "import { createContext, useMemo } from 'react';\r\nimport pick from 'lodash/pick';\r\nimport { ListControllerResult } from './useListController';\r\n\r\n/**\r\n * Context to store the sort part of the useListController() result.\r\n *\r\n * Use the useListSortContext() hook to read the context. That's what many\r\n * List components do in react-admin (e.g. <SortButton>).\r\n *\r\n * @typedef {Object} ListSortContextValue\r\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\r\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field: 'name', order: 'ASC' })\r\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\r\n *\r\n * @typedef Props\r\n * @prop {ListSortContextValue} value\r\n *\r\n * @param {Props}\r\n *\r\n * @see useListController\r\n * @see useListSortContext\r\n *\r\n * @example\r\n *\r\n * import { useListController, usePickSortContext, ListSortContext } from 'ra-core';\r\n *\r\n * const List = props => {\r\n *     const controllerProps = useListController(props);\r\n *     return (\r\n *         <ListSortContext.Provider value={usePickSortContext(controllerProps)}>\r\n *             ...\r\n *         </ListSortContext.Provider>\r\n *     );\r\n * };\r\n */\r\nexport const ListSortContext = createContext<ListSortContextValue>({\r\n    sort: null,\r\n    setSort: null,\r\n    resource: null,\r\n});\r\n\r\nexport type ListSortContextValue = Pick<\r\n    ListControllerResult,\r\n    'sort' | 'setSort' | 'resource'\r\n>;\r\n\r\nexport const usePickSortContext = (\r\n    context: ListControllerResult\r\n): ListSortContextValue =>\r\n    useMemo(\r\n        () => pick(context, ['sort', 'setSort', 'resource']),\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        [context.sort, context.setSort]\r\n    );\r\n\r\nListSortContext.displayName = 'ListSortContext';\r\n", "import { createContext, useMemo } from 'react';\r\nimport pick from 'lodash/pick';\r\nimport { ListControllerResult } from './useListController';\r\n\r\n/**\r\n * Context to store the pagination part of the useListController() result.\r\n *\r\n * Use the useListPaginationContext() hook to read the pagination information.\r\n * That's what List components do in react-admin (e.g. <Pagination>).\r\n *\r\n * @typedef {Object} ListPaginationContextValue\r\n * @prop {boolean}  isLoading boolean that is false until the data is available\r\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\r\n * @prop {integer}  page the current page. Starts at 1\r\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\r\n * @prop {integer}  perPage the number of results per page. Defaults to 25\r\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\r\n * @prop {Boolean}  hasPreviousPage true if the current page is not the first one\r\n * @prop {Boolean}  hasNextPage true if the current page is not the last one\r\n\r\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\r\n *\r\n * @typedef Props\r\n * @prop {ListPaginationContextValue} value\r\n *\r\n * @param {Props}\r\n *\r\n * @see useListController\r\n * @see useListContext\r\n *\r\n * @example\r\n *\r\n * import { useListController, ListPaginationContext } from 'ra-core';\r\n *\r\n * const List = props => {\r\n *     const controllerProps = useListController(props);\r\n *     return (\r\n *         <ListPaginationContext.Provider value={controllerProps}>\r\n *             ...\r\n *         </ListPaginationContext.Provider>\r\n *     );\r\n * };\r\n */\r\nexport const ListPaginationContext = createContext<ListPaginationContextValue>({\r\n    isLoading: null,\r\n    page: null,\r\n    perPage: null,\r\n    setPage: null,\r\n    setPerPage: null,\r\n    hasPreviousPage: null,\r\n    hasNextPage: null,\r\n    total: undefined,\r\n    resource: null,\r\n});\r\n\r\nListPaginationContext.displayName = 'ListPaginationContext';\r\n\r\nexport type ListPaginationContextValue = Pick<\r\n    ListControllerResult,\r\n    | 'isLoading'\r\n    | 'hasPreviousPage'\r\n    | 'hasNextPage'\r\n    | 'page'\r\n    | 'perPage'\r\n    | 'setPage'\r\n    | 'setPerPage'\r\n    | 'total'\r\n    | 'resource'\r\n>;\r\n\r\nexport const usePickPaginationContext = (\r\n    context: ListControllerResult\r\n): ListPaginationContextValue =>\r\n    useMemo(\r\n        () =>\r\n            pick(context, [\r\n                'isLoading',\r\n                'hasPreviousPage',\r\n                'hasNextPage',\r\n                'page',\r\n                'perPage',\r\n                'setPage',\r\n                'setPerPage',\r\n                'total',\r\n                'resource',\r\n            ]),\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        [\r\n            context.isLoading,\r\n            context.hasPreviousPage,\r\n            context.hasNextPage,\r\n            context.page,\r\n            context.perPage,\r\n            context.setPage,\r\n            context.setPerPage,\r\n            context.total,\r\n        ]\r\n    );\r\n", "import { createContext } from 'react';\r\nimport { InfiniteListControllerResult } from './useInfiniteListController';\r\n\r\n/**\r\n * Context to store the pagination callbacks from the useInfiniteListController() result.\r\n *\r\n * Use the useInfinitePaginationContext() hook to read the pagination callbacks.\r\n *\r\n * @typedef {Object} InfinitePaginationContextValue\r\n * @prop {Function} fetchNextPage a callback to fetch the next page\r\n * @prop {Function} fetchPreviousPage a callback to fetch the previous page\r\n\r\n * @example\r\n *\r\n * import { useListController, ListPaginationContext } from 'ra-core';\r\n *\r\n * const List = props => {\r\n *     const { fetchNextPage, fetchPreviousPage } = useInfiniteListController(props);\r\n *     return (\r\n *         <InfinitePaginationContext.Provider value={{ fetchNextPage, fetchPreviousPage }}>\r\n *             ...\r\n *         </InfinitePaginationContext.Provider>\r\n *     );\r\n * };\r\n */\r\nexport const InfinitePaginationContext = createContext<\r\n    InfinitePaginationContextValue\r\n>({\r\n    hasNextPage: null,\r\n    fetchNextPage: null,\r\n    isFetchingNextPage: null,\r\n    hasPreviousPage: null,\r\n    fetchPreviousPage: null,\r\n    isFetchingPreviousPage: null,\r\n});\r\n\r\nInfinitePaginationContext.displayName = 'InfinitePaginationContext';\r\n\r\nexport type InfinitePaginationContextValue = Pick<\r\n    InfiniteListControllerResult,\r\n    | 'fetchNextPage'\r\n    | 'fetchPreviousPage'\r\n    | 'isFetchingNextPage'\r\n    | 'hasNextPage'\r\n    | 'hasPreviousPage'\r\n    | 'isFetchingPreviousPage'\r\n>;\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { useListController, ListControllerProps } from './useListController';\r\nimport { ResourceContextProvider } from '../../core';\r\nimport { RaRecord } from '../../types';\r\nimport { ListContextProvider } from './ListContextProvider';\r\n\r\n/**\r\n * Call useListController and put the value in a ListContext\r\n *\r\n * Base class for <List> components, without UI.\r\n *\r\n * Accepts any props accepted by useListController:\r\n * - filter: permanent filter applied to the list\r\n * - filters: Filter element, to display the filters\r\n * - filterDefaultValues: object;\r\n * - perPage: Number of results per page\r\n * - sort: Default sort\r\n * - exporter: exported function\r\n *\r\n * @example // Custom list layout\r\n *\r\n * const PostList = () => (\r\n *     <ListBase perPage={10}>\r\n *         <div>\r\n *              List metrics...\r\n *         </div>\r\n *         <Grid container>\r\n *             <Grid item xs={8}>\r\n *                 <SimpleList primaryText={record => record.title} />\r\n *             </Grid>\r\n *             <Grid item xs={4}>\r\n *                 List instructions...\r\n *             </Grid>\r\n *         </Grid>\r\n *         <div>\r\n *             Post related links...\r\n *         </div>\r\n *     </ListBase>\r\n * );\r\n */\r\nexport const ListBase = <RecordType extends RaRecord = any>({\r\n    children,\r\n    ...props\r\n}: ListControllerProps<RecordType> & { children: ReactNode }) => (\r\n    <ResourceContextProvider value={props.resource}>\r\n        <ListContextProvider value={useListController<RecordType>(props)}>\r\n            {children}\r\n        </ListContextProvider>\r\n    </ResourceContextProvider>\r\n);\r\n", "import { isValidElement, useEffect, useMemo } from 'react';\r\nimport { UseQueryOptions } from 'react-query';\r\n\r\nimport { useAuthenticated } from '../../auth';\r\nimport { useTranslate } from '../../i18n';\r\nimport { useNotify } from '../../notification';\r\nimport { useGetList, UseGetListHookValue } from '../../dataProvider';\r\nimport { SORT_ASC } from './queryReducer';\r\nimport { defaultExporter } from '../../export';\r\nimport { FilterPayload, SortPayload, RaRecord, Exporter } from '../../types';\r\nimport { useResourceContext, useGetResourceLabel } from '../../core';\r\nimport { useRecordSelection } from './useRecordSelection';\r\nimport { useListParams } from './useListParams';\r\n\r\n/**\r\n * Prepare data for the List view\r\n *\r\n * @param {Object} props The props passed to the List component.\r\n *\r\n * @return {Object} controllerProps Fetched and computed data for the List view\r\n *\r\n * @example\r\n *\r\n * import { useListController } from 'react-admin';\r\n * import ListView from './ListView';\r\n *\r\n * const MyList = props => {\r\n *     const controllerProps = useListController(props);\r\n *     return <ListView {...controllerProps} {...props} />;\r\n * }\r\n */\r\nexport const useListController = <RecordType extends RaRecord = any>(\r\n    props: ListControllerProps<RecordType> = {}\r\n): ListControllerResult<RecordType> => {\r\n    const {\r\n        debounce = 500,\r\n        disableAuthentication,\r\n        disableSyncWithLocation,\r\n        exporter = defaultExporter,\r\n        filter,\r\n        filterDefaultValues,\r\n        perPage = 10,\r\n        queryOptions = {},\r\n        sort = defaultSort,\r\n        storeKey,\r\n    } = props;\r\n    useAuthenticated({ enabled: !disableAuthentication });\r\n    const resource = useResourceContext(props);\r\n    const { meta, ...otherQueryOptions } = queryOptions;\r\n\r\n    if (!resource) {\r\n        throw new Error(\r\n            `<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.`\r\n        );\r\n    }\r\n    if (filter && isValidElement(filter)) {\r\n        throw new Error(\r\n            '<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.'\r\n        );\r\n    }\r\n\r\n    const translate = useTranslate();\r\n    const notify = useNotify();\r\n\r\n    const [query, queryModifiers] = useListParams({\r\n        debounce,\r\n        disableSyncWithLocation,\r\n        filterDefaultValues,\r\n        perPage,\r\n        resource,\r\n        sort,\r\n        storeKey,\r\n    });\r\n\r\n    const [selectedIds, selectionModifiers] = useRecordSelection(resource);\r\n\r\n    const {\r\n        data,\r\n        pageInfo,\r\n        total,\r\n        error,\r\n        isLoading,\r\n        isFetching,\r\n        refetch,\r\n    } = useGetList<RecordType>(\r\n        resource,\r\n        {\r\n            pagination: {\r\n                page: query.page,\r\n                perPage: query.perPage,\r\n            },\r\n            sort: { field: query.sort, order: query.order },\r\n            filter: { ...query.filter, ...filter },\r\n            meta,\r\n        },\r\n        {\r\n            keepPreviousData: true,\r\n            retry: false,\r\n            onError: error =>\r\n                notify(error?.message || 'ra.notification.http_error', {\r\n                    type: 'error',\r\n                    messageArgs: {\r\n                        _: error?.message,\r\n                    },\r\n                }),\r\n            ...otherQueryOptions,\r\n        }\r\n    );\r\n\r\n    // change page if there is no data\r\n    useEffect(() => {\r\n        if (\r\n            query.page <= 0 ||\r\n            (!isFetching &&\r\n                query.page > 1 &&\r\n                (data == null || data?.length === 0))\r\n        ) {\r\n            // Query for a page that doesn't exist, set page to 1\r\n            queryModifiers.setPage(1);\r\n            return;\r\n        }\r\n        if (total == null) {\r\n            return;\r\n        }\r\n        const totalPages = Math.ceil(total / query.perPage) || 1;\r\n        if (!isFetching && query.page > totalPages) {\r\n            // Query for a page out of bounds, set page to the last existing page\r\n            // It occurs when deleting the last element of the last page\r\n            queryModifiers.setPage(totalPages);\r\n        }\r\n    }, [isFetching, query.page, query.perPage, data, queryModifiers, total]);\r\n\r\n    const currentSort = useMemo(\r\n        () => ({\r\n            field: query.sort,\r\n            order: query.order,\r\n        }),\r\n        [query.sort, query.order]\r\n    );\r\n\r\n    const getResourceLabel = useGetResourceLabel();\r\n    const defaultTitle = translate('ra.page.list', {\r\n        name: getResourceLabel(resource, 2),\r\n    });\r\n\r\n    return {\r\n        sort: currentSort,\r\n        data,\r\n        defaultTitle,\r\n        displayedFilters: query.displayedFilters,\r\n        error,\r\n        exporter,\r\n        filter,\r\n        filterValues: query.filterValues,\r\n        hideFilter: queryModifiers.hideFilter,\r\n        isFetching,\r\n        isLoading,\r\n        onSelect: selectionModifiers.select,\r\n        onToggleItem: selectionModifiers.toggle,\r\n        onUnselectItems: selectionModifiers.clearSelection,\r\n        page: query.page,\r\n        perPage: query.perPage,\r\n        refetch,\r\n        resource,\r\n        selectedIds,\r\n        setFilters: queryModifiers.setFilters,\r\n        setPage: queryModifiers.setPage,\r\n        setPerPage: queryModifiers.setPerPage,\r\n        setSort: queryModifiers.setSort,\r\n        showFilter: queryModifiers.showFilter,\r\n        total: total,\r\n        hasNextPage: pageInfo\r\n            ? pageInfo.hasNextPage\r\n            : total != null\r\n            ? query.page * query.perPage < total\r\n            : undefined,\r\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : query.page > 1,\r\n    };\r\n};\r\n\r\nexport interface ListControllerProps<RecordType extends RaRecord = any> {\r\n    debounce?: number;\r\n    disableAuthentication?: boolean;\r\n    /**\r\n     * Whether to disable the synchronization of the list parameters with the current location (URL search parameters)\r\n     */\r\n    disableSyncWithLocation?: boolean;\r\n    exporter?: Exporter | false;\r\n    filter?: FilterPayload;\r\n    filterDefaultValues?: object;\r\n    perPage?: number;\r\n    queryOptions?: UseQueryOptions<{\r\n        data: RecordType[];\r\n        total?: number;\r\n        pageInfo?: {\r\n            hasNextPage?: boolean;\r\n            hasPreviousPage?: boolean;\r\n        };\r\n    }> & { meta?: any };\r\n    resource?: string;\r\n    sort?: SortPayload;\r\n    storeKey?: string | false;\r\n}\r\n\r\nconst defaultSort = {\r\n    field: 'id',\r\n    order: SORT_ASC,\r\n};\r\n\r\nexport interface ListControllerResult<RecordType extends RaRecord = any> {\r\n    sort: SortPayload;\r\n    data: RecordType[];\r\n    defaultTitle?: string;\r\n    displayedFilters: any;\r\n    error?: any;\r\n    exporter?: Exporter | false;\r\n    filter?: FilterPayload;\r\n    filterValues: any;\r\n    hideFilter: (filterName: string) => void;\r\n    isFetching: boolean;\r\n    isLoading: boolean;\r\n    onSelect: (ids: RecordType['id'][]) => void;\r\n    onToggleItem: (id: RecordType['id']) => void;\r\n    onUnselectItems: () => void;\r\n    page: number;\r\n    perPage: number;\r\n    refetch: (() => void) | UseGetListHookValue<RecordType>['refetch'];\r\n    resource: string;\r\n    selectedIds: RecordType['id'][];\r\n    setFilters: (\r\n        filters: any,\r\n        displayedFilters: any,\r\n        debounce?: boolean\r\n    ) => void;\r\n    setPage: (page: number) => void;\r\n    setPerPage: (page: number) => void;\r\n    setSort: (sort: SortPayload) => void;\r\n    showFilter: (filterName: string, defaultValue: any) => void;\r\n    total: number;\r\n    hasNextPage: boolean;\r\n    hasPreviousPage: boolean;\r\n}\r\n\r\nexport const injectedProps = [\r\n    'sort',\r\n    'data',\r\n    'defaultTitle',\r\n    'displayedFilters',\r\n    'error',\r\n    'exporter',\r\n    'filterValues',\r\n    'hideFilter',\r\n    'isFetching',\r\n    'isLoading',\r\n    'onSelect',\r\n    'onToggleItem',\r\n    'onUnselectItems',\r\n    'page',\r\n    'perPage',\r\n    'refetch',\r\n    'refresh',\r\n    'resource',\r\n    'selectedIds',\r\n    'setFilters',\r\n    'setPage',\r\n    'setPerPage',\r\n    'setSort',\r\n    'showFilter',\r\n    'total',\r\n    'totalPages',\r\n];\r\n\r\n/**\r\n * Select the props injected by the useListController hook\r\n * to be passed to the List children need\r\n * This is an implementation of pick()\r\n */\r\nexport const getListControllerProps = props =>\r\n    injectedProps.reduce((acc, key) => ({ ...acc, [key]: props[key] }), {});\r\n\r\n/**\r\n * Select the props not injected by the useListController hook\r\n * to be used inside the List children to sanitize props injected by List\r\n * This is an implementation of omit()\r\n */\r\nexport const sanitizeListRestProps = props =>\r\n    Object.keys(props)\r\n        .filter(propName => !injectedProps.includes(propName))\r\n        .reduce((acc, key) => ({ ...acc, [key]: props[key] }), {});\r\n", "import {\r\n    useListController,\r\n    ListControllerProps,\r\n    ListControllerResult,\r\n} from './useListController';\r\n\r\n/**\r\n * Render prop version of the useListController hook.\r\n *\r\n * @see useListController\r\n * @example\r\n *\r\n * const ListView = () => <div>...</div>;\r\n * const List = props => (\r\n *     <ListController {...props}>\r\n *        {controllerProps => <ListView {...controllerProps} {...props} />}\r\n *     </ListController>\r\n * )\r\n */\r\nexport const ListController = ({\r\n    children,\r\n    ...props\r\n}: {\r\n    children: (params: ListControllerResult) => JSX.Element;\r\n} & ListControllerProps) => {\r\n    const controllerProps = useListController(props);\r\n    return children(controllerProps);\r\n};\r\n", "import { useCallback } from 'react';\r\n\r\nimport { useStore } from '../../store';\r\nimport { Identifier } from '../../types';\r\n\r\n/**\r\n * State-like hook for controlling the expanded state of a list item\r\n *\r\n * @param {string} resource The resource name, e.g. 'posts'\r\n * @param {string|integer} id The record identifier, e.g. 123\r\n * @param {boolean} single Forces only one id to be expanded at a time\r\n * @returns {Object} Destructure as [expanded, toggleExpanded].\r\n *\r\n * @example\r\n *\r\n * const [expanded, toggleExpanded] = useExpanded('posts', 123);\r\n * const expandIcon = expanded ? ExpandLess : ExpandMore;\r\n * const onExpandClick = () => toggleExpanded();\r\n */\r\nexport const useExpanded = (\r\n    resource: string,\r\n    id: Identifier,\r\n    single: boolean = false\r\n): [boolean, () => void] => {\r\n    const [expandedIds, setExpandedIds] = useStore<Identifier[]>(\r\n        `${resource}.datagrid.expanded`,\r\n        []\r\n    );\r\n    const expanded = Array.isArray(expandedIds)\r\n        ? // eslint-disable-next-line eqeqeq\r\n          expandedIds.map(el => el == id).indexOf(true) !== -1\r\n        : false;\r\n\r\n    const toggleExpanded = useCallback(() => {\r\n        setExpandedIds(ids => {\r\n            if (!Array.isArray(ids)) {\r\n                return [id];\r\n            }\r\n            const index = ids.findIndex(el => el == id); // eslint-disable-line eqeqeq\r\n            return index > -1\r\n                ? single\r\n                    ? []\r\n                    : [...ids.slice(0, index), ...ids.slice(index + 1)]\r\n                : single\r\n                ? [id]\r\n                : [...ids, id];\r\n        });\r\n    }, [setExpandedIds, id, single]);\r\n\r\n    return [expanded, toggleExpanded];\r\n};\r\n\r\n/**\r\n * State-like hook for controlling the expanded state of many list items\r\n * expanded state is true when at least one item from ids is expanded.\r\n *\r\n * @param {string} resource The resource name, e.g. 'posts'\r\n * @param {Identifier[]} ids A list of record identifiers\r\n * @returns {Object} Destructure as [expanded, toggleExpanded].\r\n *\r\n * @example\r\n *\r\n * const [expanded, toggleExpanded] = useExpandAll('posts', [123, 124, 125]);\r\n * const expandIcon = expanded ? ExpandLess : ExpandMore;\r\n * const onExpandClick = () => toggleExpanded();\r\n */\r\nexport const useExpandAll = (\r\n    resource: string,\r\n    ids: Identifier[]\r\n): [boolean, () => void] => {\r\n    const [expandedIds, setExpandedIds] = useStore<Identifier[]>(\r\n        `${resource}.datagrid.expanded`,\r\n        []\r\n    );\r\n\r\n    const isExpanded = Array.isArray(expandedIds)\r\n        ? // eslint-disable-next-line eqeqeq\r\n          expandedIds.some(id => ids.some(id2 => id2 == id))\r\n        : false;\r\n\r\n    const toggleExpandedAll = useCallback(() => {\r\n        const unaffectedExpandedIds = expandedIds.filter(\r\n            // eslint-disable-next-line eqeqeq\r\n            expanded_id => !ids.some(id => id == expanded_id)\r\n        );\r\n        setExpandedIds(\r\n            isExpanded\r\n                ? unaffectedExpandedIds\r\n                : unaffectedExpandedIds.concat(ids)\r\n        );\r\n    }, [expandedIds, setExpandedIds, isExpanded, ids]);\r\n\r\n    return [isExpanded, toggleExpandedAll];\r\n};\r\n", "import { useContext } from 'react';\r\n\r\nimport {\r\n    InfinitePaginationContext,\r\n    InfinitePaginationContextValue,\r\n} from './InfinitePaginationContext';\r\n\r\n/**\r\n * Hook to read the infinite pagination callbacks from the InfinitePaginationContext.\r\n *\r\n * Must be used within a <InfinitePaginationContext.Provider> (e.g. as a descendent of <InfiniteList>\r\n * or <InfiniteListBase>).\r\n *\r\n * @typedef {Object} InfinitePaginationContextValue\r\n * @prop {Function} fetchNextPage a callback to fetch the next page\r\n * @prop {Function} fetchPreviousPage a callback to fetch the previous page\r\n *\r\n * @returns {InfinitePaginationContextValue} infinite pagination callbacks\r\n *\r\n * @see useInfiniteListController for how the callbacks are built\r\n */\r\nexport const useInfinitePaginationContext = (): InfinitePaginationContextValue =>\r\n    useContext(InfinitePaginationContext);\r\n", "import { useCallback, useEffect, useRef } from 'react';\r\nimport get from 'lodash/get';\r\nimport isEqual from 'lodash/isEqual';\r\nimport { removeEmpty, useSafeSetState } from '../../util';\r\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\r\nimport { useResourceContext } from '../../core';\r\nimport usePaginationState from '../usePaginationState';\r\nimport useSortState from '../useSortState';\r\nimport { useRecordSelection } from './useRecordSelection';\r\nimport { ListControllerResult } from './useListController';\r\nimport { flattenObject } from '../../dataProvider/fetch';\r\n\r\nconst refetch = () => {\r\n    throw new Error(\r\n        'refetch is not available for a ListContext built from useList based on local data'\r\n    );\r\n};\r\n\r\n/**\r\n * Handle filtering, sorting and pagination on local data.\r\n *\r\n * Returns the data and callbacks expected by <ListContext>.\r\n *\r\n * @example\r\n * const data = [\r\n *     { id: 1, name: 'Arnold' },\r\n *     { id: 2, name: 'Sylvester' },\r\n *     { id: 3, name: 'Jean-Claude' },\r\n * ]\r\n *\r\n * const MyComponent = () => {\r\n *     const listContext = useList({ data });\r\n *     return (\r\n *         <ListContextProvider value={listContext}>\r\n *             <Datagrid>\r\n *                 <TextField source=\"id\" />\r\n *                 <TextField source=\"name\" />\r\n *             </Datagrid>\r\n *         </ListContextProvider>\r\n *     );\r\n * };\r\n *\r\n * @param {UseListOptions} props\r\n * @param {RaRecord[]} props.data An array of records\r\n * @param {Boolean} props.isFetching: Optional. A boolean indicating whether the data is being loaded\r\n * @param {Boolean} props.isLoading: Optional. A boolean indicating whether the data has been loaded at least once\r\n * @param {Error | String} props.error: Optional. The error if any occurred while loading the data\r\n * @param {Object} props.filter: Optional. An object containing the filters applied on the data\r\n * @param {Number} props.page: Optional. The initial page index\r\n * @param {Number} props.perPage: Optional. The initial page size\r\n * @param {SortPayload} props.sort: Optional. The initial sort (field and order)\r\n * @param {filterCallback} prop.filterCallback Optional. A function that allows you to make a custom filter\r\n */\r\nexport const useList = <RecordType extends RaRecord = any>(\r\n    props: UseListOptions<RecordType>\r\n): UseListValue<RecordType> => {\r\n    const {\r\n        data,\r\n        error,\r\n        filter = defaultFilter,\r\n        isFetching = false,\r\n        isLoading = false,\r\n        page: initialPage = 1,\r\n        perPage: initialPerPage = 1000,\r\n        sort: initialSort,\r\n        filterCallback = (record: RecordType) => Boolean(record),\r\n    } = props;\r\n    const resource = useResourceContext(props);\r\n\r\n    const [fetchingState, setFetchingState] = useSafeSetState<boolean>(\r\n        isFetching\r\n    ) as [boolean, (isFetching: boolean) => void];\r\n\r\n    const [loadingState, setLoadingState] = useSafeSetState<boolean>(\r\n        isLoading\r\n    ) as [boolean, (isFetching: boolean) => void];\r\n\r\n    const [finalItems, setFinalItems] = useSafeSetState<{\r\n        data?: RecordType[];\r\n        total?: number;\r\n    }>(() => ({\r\n        data,\r\n        total: data ? data.length : undefined,\r\n    }));\r\n\r\n    // pagination logic\r\n    const { page, setPage, perPage, setPerPage } = usePaginationState({\r\n        page: initialPage,\r\n        perPage: initialPerPage,\r\n    });\r\n\r\n    // sort logic\r\n    const { sort, setSort: setSortState } = useSortState(initialSort);\r\n    const setSort = useCallback(\r\n        (sort: SortPayload) => {\r\n            setSortState(sort);\r\n            setPage(1);\r\n        },\r\n        [setPage, setSortState]\r\n    );\r\n\r\n    // selection logic\r\n    const [selectedIds, selectionModifiers] = useRecordSelection(resource);\r\n\r\n    // filter logic\r\n    const filterRef = useRef(filter);\r\n    const [displayedFilters, setDisplayedFilters] = useSafeSetState<{\r\n        [key: string]: boolean;\r\n    }>({});\r\n    const [filterValues, setFilterValues] = useSafeSetState<{\r\n        [key: string]: any;\r\n    }>(filter);\r\n    const hideFilter = useCallback(\r\n        (filterName: string) => {\r\n            setDisplayedFilters(previousState => {\r\n                const { [filterName]: _, ...newState } = previousState;\r\n                return newState;\r\n            });\r\n            setFilterValues(previousState => {\r\n                const { [filterName]: _, ...newState } = previousState;\r\n                return newState;\r\n            });\r\n        },\r\n        [setDisplayedFilters, setFilterValues]\r\n    );\r\n    const showFilter = useCallback(\r\n        (filterName: string, defaultValue: any) => {\r\n            setDisplayedFilters(previousState => ({\r\n                ...previousState,\r\n                [filterName]: true,\r\n            }));\r\n            setFilterValues(previousState =>\r\n                removeEmpty({\r\n                    ...previousState,\r\n                    [filterName]: defaultValue,\r\n                })\r\n            );\r\n        },\r\n        [setDisplayedFilters, setFilterValues]\r\n    );\r\n    const setFilters = useCallback(\r\n        (filters, displayedFilters) => {\r\n            setFilterValues(removeEmpty(filters));\r\n            if (displayedFilters) {\r\n                setDisplayedFilters(displayedFilters);\r\n            }\r\n            setPage(1);\r\n        },\r\n        [setDisplayedFilters, setFilterValues, setPage]\r\n    );\r\n    // handle filter prop change\r\n    useEffect(() => {\r\n        if (!isEqual(filter, filterRef.current)) {\r\n            filterRef.current = filter;\r\n            setFilterValues(filter);\r\n        }\r\n    });\r\n\r\n    // We do all the data processing (filtering, sorting, paginating) client-side\r\n    useEffect(\r\n        () => {\r\n            if (isLoading || !data) return;\r\n            let tempData = data;\r\n\r\n            // 1. filter\r\n            if (filterValues) {\r\n                const flattenFilterValues = flattenObject(filterValues);\r\n                tempData = data\r\n                    .filter(record =>\r\n                        Object.entries(flattenFilterValues).every(\r\n                            ([filterName, filterValue]) => {\r\n                                const recordValue = get(record, filterName);\r\n                                const result = Array.isArray(recordValue)\r\n                                    ? Array.isArray(filterValue)\r\n                                        ? recordValue.some(item =>\r\n                                              filterValue.includes(item)\r\n                                          )\r\n                                        : recordValue.includes(filterValue)\r\n                                    : Array.isArray(filterValue)\r\n                                    ? filterValue.includes(recordValue)\r\n                                    : filterValue == recordValue; // eslint-disable-line eqeqeq\r\n                                return result;\r\n                            }\r\n                        )\r\n                    )\r\n                    .filter(filterCallback);\r\n            }\r\n            const filteredLength = tempData.length;\r\n\r\n            // 2. sort\r\n            if (sort.field) {\r\n                tempData = tempData.sort((a, b) => {\r\n                    if (get(a, sort.field) > get(b, sort.field)) {\r\n                        return sort.order === 'ASC' ? 1 : -1;\r\n                    }\r\n                    if (get(a, sort.field) < get(b, sort.field)) {\r\n                        return sort.order === 'ASC' ? -1 : 1;\r\n                    }\r\n                    return 0;\r\n                });\r\n            }\r\n\r\n            // 3. paginate\r\n            tempData = tempData.slice((page - 1) * perPage, page * perPage);\r\n\r\n            setFinalItems({\r\n                data: tempData,\r\n                total: filteredLength,\r\n            });\r\n        }, // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        [\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            JSON.stringify(data),\r\n            filterValues,\r\n            isLoading,\r\n            page,\r\n            perPage,\r\n            setFinalItems,\r\n            sort.field,\r\n            sort.order,\r\n        ]\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (isFetching !== fetchingState) {\r\n            setFetchingState(isFetching);\r\n        }\r\n    }, [isFetching, fetchingState, setFetchingState]);\r\n\r\n    useEffect(() => {\r\n        if (isLoading !== loadingState) {\r\n            setLoadingState(isLoading);\r\n        }\r\n    }, [isLoading, loadingState, setLoadingState]);\r\n\r\n    return {\r\n        sort,\r\n        data: finalItems?.data,\r\n        defaultTitle: '',\r\n        error,\r\n        displayedFilters,\r\n        filterValues,\r\n        hasNextPage:\r\n            finalItems?.total == null\r\n                ? false\r\n                : page * perPage < finalItems.total,\r\n        hasPreviousPage: page > 1,\r\n        hideFilter,\r\n        isFetching: fetchingState,\r\n        isLoading: loadingState,\r\n        onSelect: selectionModifiers.select,\r\n        onToggleItem: selectionModifiers.toggle,\r\n        onUnselectItems: selectionModifiers.clearSelection,\r\n        page,\r\n        perPage,\r\n        resource: undefined,\r\n        refetch,\r\n        selectedIds,\r\n        setFilters,\r\n        setPage,\r\n        setPerPage,\r\n        setSort,\r\n        showFilter,\r\n        total: finalItems?.total,\r\n    };\r\n};\r\n\r\nexport interface UseListOptions<RecordType extends RaRecord = any> {\r\n    data?: RecordType[];\r\n    error?: any;\r\n    filter?: FilterPayload;\r\n    isFetching?: boolean;\r\n    isLoading?: boolean;\r\n    page?: number;\r\n    perPage?: number;\r\n    sort?: SortPayload;\r\n    resource?: string;\r\n    filterCallback?: (record: RecordType) => boolean;\r\n}\r\n\r\nexport type UseListValue<\r\n    RecordType extends RaRecord = any\r\n> = ListControllerResult<RecordType>;\r\n\r\nconst defaultFilter = {};\r\n", "import { useContext, useMemo } from 'react';\r\nimport defaults from 'lodash/defaults';\r\n\r\nimport { ListContext } from './ListContext';\r\nimport { ListControllerResult } from './useListController';\r\nimport { RaRecord } from '../../types';\r\n\r\n/**\r\n * Hook to read the list controller props from the ListContext.\r\n *\r\n * Mostly used within a <ListContext.Provider> (e.g. as a descendent of <List>\r\n * or <ListBase>).\r\n *\r\n * But you can also use it without a <ListContext.Provider>. In this case, it is up to you\r\n * to pass all the necessary props (see the list below).\r\n *\r\n * The given props will take precedence over context values.\r\n *\r\n * @typedef {Object} ListControllerProps\r\n * @prop {Object}   data an array of the list records, e.g. [{ id: 123, title: 'hello world' }, { ... }]\r\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\r\n * @prop {boolean}  isFetching boolean that is true on mount, and false once the data was fetched\r\n * @prop {boolean}  isLoading boolean that is false until the data is available\r\n * @prop {integer}  page the current page. Starts at 1\r\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\r\n * @prop {integer}  perPage the number of results per page. Defaults to 25\r\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\r\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\r\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field : 'name', order: 'ASC' })\r\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\r\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\r\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\r\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\r\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\r\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\r\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\r\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\r\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\r\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\r\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\r\n *\r\n * @returns {ListControllerResult} list controller props\r\n *\r\n * @see useListController for how it is filled\r\n *\r\n * @example // custom list view\r\n *\r\n * import { useListContext } from 'react-admin';\r\n *\r\n * const MyList = () => {\r\n *     const { data, isLoading } = useListContext();\r\n *     if (isLoading) {\r\n *         return <>Loading...</>;\r\n *     }\r\n *     return (\r\n *         <ul>\r\n *             {data.map(record => (\r\n *                 <li key={record.id}>{record.name}</li>\r\n *             ))}\r\n *         </ul>\r\n *     );\r\n * }\r\n *\r\n * @example // custom pagination\r\n *\r\n * import { useListContext } from 'react-admin';\r\n * import { Button, Toolbar } from '@mui/material';\r\n * import ChevronLeft from '@mui/icons-material/ChevronLeft';\r\n * import ChevronRight from '@mui/icons-material/ChevronRight';\r\n *\r\n * const PrevNextPagination = () => {\r\n *     const { page, perPage, total, setPage } = useListContext();\r\n *     const nbPages = Math.ceil(total / perPage) || 1;\r\n *     return (\r\n *         nbPages > 1 &&\r\n *             <Toolbar>\r\n *                 {page > 1 &&\r\n *                     <Button color=\"primary\" key=\"prev\" onClick={() => setPage(page - 1)}>\r\n *                         <ChevronLeft />\r\n *                         Prev\r\n *                     </Button>\r\n *                 }\r\n *                 {page !== nbPages &&\r\n *                     <Button color=\"primary\" key=\"next\" onClick={() => setPage(page + 1)}>\r\n *                         Next\r\n *                         <ChevronRight />\r\n *                     </Button>\r\n *                 }\r\n *             </Toolbar>\r\n *     );\r\n * }\r\n */\r\nexport const useListContext = <RecordType extends RaRecord = any>(\r\n    props?: any\r\n): ListControllerResult<RecordType> => {\r\n    const context = useContext(ListContext);\r\n    // Props take precedence over the context\r\n    // @ts-ignore\r\n    return useMemo(\r\n        () =>\r\n            defaults(\r\n                {},\r\n                props != null ? extractListContextProps(props) : {},\r\n                context\r\n            ),\r\n        [context, props]\r\n    );\r\n};\r\n\r\n/**\r\n * Extract only the list controller props\r\n *\r\n * @param {Object} props Props passed to the useListContext hook\r\n *\r\n * @returns {ListControllerResult} List controller props\r\n */\r\nconst extractListContextProps = ({\r\n    sort,\r\n    data,\r\n    defaultTitle,\r\n    displayedFilters,\r\n    exporter,\r\n    filterValues,\r\n    hasCreate,\r\n    hideFilter,\r\n    isFetching,\r\n    isLoading,\r\n    onSelect,\r\n    onToggleItem,\r\n    onUnselectItems,\r\n    page,\r\n    perPage,\r\n    refetch,\r\n    resource,\r\n    selectedIds,\r\n    setFilters,\r\n    setPage,\r\n    setPerPage,\r\n    setSort,\r\n    showFilter,\r\n    total,\r\n}) => ({\r\n    sort,\r\n    data,\r\n    defaultTitle,\r\n    displayedFilters,\r\n    exporter,\r\n    filterValues,\r\n    hasCreate,\r\n    hideFilter,\r\n    isFetching,\r\n    isLoading,\r\n    onSelect,\r\n    onToggleItem,\r\n    onUnselectItems,\r\n    page,\r\n    perPage,\r\n    refetch,\r\n    resource,\r\n    selectedIds,\r\n    setFilters,\r\n    setPage,\r\n    setPerPage,\r\n    setSort,\r\n    showFilter,\r\n    total,\r\n});\r\n", "import { useContext } from 'react';\r\n\r\nimport { ListFilterContext, ListFilterContextValue } from './ListFilterContext';\r\n\r\n/**\r\n * Hook to read the list controller props from the ListContext.\r\n *\r\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\r\n * or <ListBase>).\r\n *\r\n * @typedef {Object} ListFilterContextValue\r\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\r\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\r\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\r\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\r\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\r\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\r\n *\r\n * @returns {ListFilterContextValue} list controller props\r\n *\r\n * @see useListController for how it is filled\r\n */\r\nexport const useListFilterContext = (props?: any): ListFilterContextValue => {\r\n    const context = useContext(ListFilterContext);\r\n    if (!context.hideFilter) {\r\n        /**\r\n         * The element isn't inside a <ListFilterContext.Provider>\r\n         *\r\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\r\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\r\n         * which isn't documented but tolerated.\r\n         * To avoid breakage in that case, fallback to props\r\n         *\r\n         * @deprecated - to be removed in 4.0\r\n         */\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            console.log(\r\n                \"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"\r\n            );\r\n        }\r\n        return props;\r\n    }\r\n    return context;\r\n};\r\n", "import { useContext, useMemo } from 'react';\r\nimport defaults from 'lodash/defaults';\r\n\r\nimport {\r\n    ListPaginationContext,\r\n    ListPaginationContextValue,\r\n} from './ListPaginationContext';\r\n\r\n/**\r\n * Hook to read the list controller props from the ListContext.\r\n *\r\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\r\n * or <ListBase>).\r\n *\r\n * @typedef {Object} ListPaginationContextValue\r\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\r\n * @prop {integer}  page the current page. Starts at 1\r\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\r\n * @prop {integer}  perPage the number of results per page. Defaults to 25\r\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\r\n * @prop {Boolean}  hasPreviousPage true if the current page is not the first one\r\n * @prop {Boolean}  hasNextPage true if the current page is not the last one\r\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\r\n *\r\n * @returns {ListPaginationContextValue} list controller props\r\n *\r\n * @see useListController for how it is filled\r\n */\r\nexport const useListPaginationContext = (\r\n    props?: any\r\n): ListPaginationContextValue => {\r\n    const context = useContext(ListPaginationContext);\r\n    return useMemo(\r\n        () =>\r\n            defaults(\r\n                {},\r\n                props != null ? extractListPaginationContextProps(props) : {},\r\n                context\r\n            ),\r\n        [context, props]\r\n    );\r\n};\r\n\r\n/**\r\n * Extract only the list controller props\r\n *\r\n * @param {Object} props Props passed to the useListContext hook\r\n *\r\n * @returns {ListControllerResult} List controller props\r\n */\r\nconst extractListPaginationContextProps = ({\r\n    isLoading,\r\n    page,\r\n    perPage,\r\n    setPage,\r\n    setPerPage,\r\n    hasPreviousPage,\r\n    hasNextPage,\r\n    total,\r\n    resource,\r\n}) => ({\r\n    isLoading,\r\n    page,\r\n    perPage,\r\n    setPage,\r\n    setPerPage,\r\n    hasPreviousPage,\r\n    hasNextPage,\r\n    total,\r\n    resource,\r\n});\r\nexport default useListPaginationContext;\r\n", "import { useContext } from 'react';\r\n\r\nimport { ListSortContext, ListSortContextValue } from './ListSortContext';\r\n\r\n/**\r\n * Hook to read the list controller props from the ListContext.\r\n *\r\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\r\n * or <ListBase>).\r\n *\r\n * @typedef {Object} ListSortContextValue\r\n * @prop {Object}   sort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\r\n * @prop {Function} setSort a callback to change the sort, e.g. setSort({ field: 'name', order: 'ASC' })\r\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\r\n *\r\n * @returns {ListSortContextValue} list controller props\r\n *\r\n * @see useListController for how it is filled\r\n */\r\nexport const useListSortContext = (props?: any): ListSortContextValue => {\r\n    const context = useContext(ListSortContext);\r\n    if (!context.setSort) {\r\n        /**\r\n         * The element isn't inside a <ListSortContext.Provider>\r\n         *\r\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\r\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\r\n         * which isn't documented but tolerated.\r\n         * To avoid breakage in that case, fallback to props\r\n         *\r\n         * @deprecated - to be removed in 4.0\r\n         */\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            console.log(\r\n                \"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\"\r\n            );\r\n        }\r\n        return props;\r\n    }\r\n    return context;\r\n};\r\n", "import { useCallback } from 'react';\r\n\r\nimport { useRecordSelection } from './useRecordSelection';\r\nimport { Identifier } from '../../types';\r\n\r\n/**\r\n * Hook to Unselect the rows of a datagrid\r\n *\r\n * @example\r\n *\r\n * const unselect = useUnselect('posts');\r\n * unselect([123, 456]);\r\n */\r\nexport const useUnselect = (resource: string) => {\r\n    const [, { unselect }] = useRecordSelection(resource);\r\n    return useCallback(\r\n        (ids: Identifier[]) => {\r\n            unselect(ids);\r\n        },\r\n        [unselect]\r\n    );\r\n};\r\n", "import { useCallback } from 'react';\r\n\r\nimport { useRecordSelection } from './useRecordSelection';\r\n\r\n/**\r\n * Hook to unselect all row of a datagrid\r\n *\r\n * @example\r\n *\r\n * const unselectAll = useUnselectAll('posts');\r\n * unselectAll();\r\n */\r\nexport const useUnselectAll = (resource: string) => {\r\n    const [, { clearSelection }] = useRecordSelection(resource);\r\n    return useCallback(() => {\r\n        clearSelection();\r\n    }, [clearSelection]);\r\n};\r\n", "import { ReactElement } from 'react';\r\nimport { RaRecord } from '../../types';\r\nimport { ListControllerResult } from './useListController';\r\nimport { useListContext } from './useListContext';\r\n\r\n/**\r\n * Render prop version of useListContext\r\n *\r\n * @example\r\n * const BookList = () => (\r\n *    <List>\r\n *       <WithListContext render={({ data }) => (\r\n *          <ul>\r\n *            {data && data.map(record => (\r\n *              <li key={record.id}>{record.title}</li>\r\n *            ))}\r\n *          </ul>\r\n *       )} />\r\n *   </List>\r\n * );\r\n */\r\nexport const WithListContext = <RecordType extends RaRecord>({\r\n    render,\r\n}: WithListContextProps<RecordType>) =>\r\n    render(useListContext<RecordType>()) || null;\r\n\r\nexport interface WithListContextProps<RecordType extends RaRecord> {\r\n    render: (\r\n        context: ListControllerResult<RecordType>\r\n    ) => ReactElement | false | null;\r\n    label?: string;\r\n}\r\n", "import { useCallback, useEffect, useRef } from 'react';\r\nimport get from 'lodash/get';\r\nimport isEqual from 'lodash/isEqual';\r\n\r\nimport { useSafeSetState, removeEmpty } from '../../util';\r\nimport { useGetManyReference } from '../../dataProvider';\r\nimport { useNotify } from '../../notification';\r\nimport { Identifier, RaRecord, SortPayload } from '../../types';\r\nimport { ListControllerResult } from '../list';\r\nimport usePaginationState from '../usePaginationState';\r\nimport { useRecordSelection } from '../list/useRecordSelection';\r\nimport useSortState from '../useSortState';\r\nimport { useResourceContext } from '../../core';\r\n\r\nexport interface UseReferenceManyFieldControllerParams<\r\n    RecordType extends RaRecord = RaRecord\r\n> {\r\n    filter?: any;\r\n    page?: number;\r\n    perPage?: number;\r\n    record?: RecordType;\r\n    reference: string;\r\n    resource?: string;\r\n    sort?: SortPayload;\r\n    source?: string;\r\n    target: string;\r\n}\r\n\r\nconst defaultFilter = {};\r\n\r\n/**\r\n * Fetch reference records, and return them when available\r\n *\r\n * Uses dataProvider.getManyReference() internally.\r\n *\r\n * @example // fetch the comments related to the current post\r\n * const { isLoading, data } = useReferenceManyFieldController({\r\n *     reference: 'comments',\r\n *     target: 'post_id',\r\n *     record: { id: 123, title: 'hello, world' },\r\n *     resource: 'posts',\r\n * });\r\n *\r\n * @param {Object} props\r\n * @param {string} props.reference The linked resource name. Required.\r\n * @param {string} props.target The target resource key. Required.\r\n * @param {Object} props.filter The filter applied on the recorded records list\r\n * @param {number} props.page the page number\r\n * @param {number} props.perPage the number of item per page\r\n * @param {Object} props.record The current resource record\r\n * @param {string} props.resource The current resource name\r\n * @param {Object} props.sort the sort to apply to the referenced records\r\n * @param {string} props.source The key of the linked resource identifier\r\n *\r\n * @returns {ListControllerResult} The reference many props\r\n */\r\nexport const useReferenceManyFieldController = <\r\n    RecordType extends RaRecord = RaRecord,\r\n    ReferenceRecordType extends RaRecord = RaRecord\r\n>(\r\n    props: UseReferenceManyFieldControllerParams<RecordType>\r\n): ListControllerResult<ReferenceRecordType> => {\r\n    const {\r\n        reference,\r\n        record,\r\n        target,\r\n        filter = defaultFilter,\r\n        source,\r\n        page: initialPage,\r\n        perPage: initialPerPage,\r\n        sort: initialSort = { field: 'id', order: 'DESC' },\r\n    } = props;\r\n    const notify = useNotify();\r\n    const resource = useResourceContext(props);\r\n\r\n    // pagination logic\r\n    const { page, setPage, perPage, setPerPage } = usePaginationState({\r\n        page: initialPage,\r\n        perPage: initialPerPage,\r\n    });\r\n\r\n    // sort logic\r\n    const { sort, setSort: setSortState } = useSortState(initialSort);\r\n    const setSort = useCallback(\r\n        (sort: SortPayload) => {\r\n            setSortState(sort);\r\n            setPage(1);\r\n        },\r\n        [setPage, setSortState]\r\n    );\r\n\r\n    // selection logic\r\n    const [selectedIds, selectionModifiers] = useRecordSelection(\r\n        `${resource}.${record?.id}.${reference}`\r\n    );\r\n\r\n    // filter logic\r\n    const filterRef = useRef(filter);\r\n    const [displayedFilters, setDisplayedFilters] = useSafeSetState<{\r\n        [key: string]: boolean;\r\n    }>({});\r\n    const [filterValues, setFilterValues] = useSafeSetState<{\r\n        [key: string]: any;\r\n    }>(filter);\r\n    const hideFilter = useCallback(\r\n        (filterName: string) => {\r\n            setDisplayedFilters(previousState => {\r\n                const { [filterName]: _, ...newState } = previousState;\r\n                return newState;\r\n            });\r\n            setFilterValues(previousState => {\r\n                const { [filterName]: _, ...newState } = previousState;\r\n                return newState;\r\n            });\r\n        },\r\n        [setDisplayedFilters, setFilterValues]\r\n    );\r\n    const showFilter = useCallback(\r\n        (filterName: string, defaultValue: any) => {\r\n            setDisplayedFilters(previousState => ({\r\n                ...previousState,\r\n                [filterName]: true,\r\n            }));\r\n            setFilterValues(previousState => ({\r\n                ...previousState,\r\n                [filterName]: defaultValue,\r\n            }));\r\n        },\r\n        [setDisplayedFilters, setFilterValues]\r\n    );\r\n    const setFilters = useCallback(\r\n        (filters, displayedFilters) => {\r\n            setFilterValues(removeEmpty(filters));\r\n            setDisplayedFilters(displayedFilters);\r\n            setPage(1);\r\n        },\r\n        [setDisplayedFilters, setFilterValues, setPage]\r\n    );\r\n    // handle filter prop change\r\n    useEffect(() => {\r\n        if (!isEqual(filter, filterRef.current)) {\r\n            filterRef.current = filter;\r\n            setFilterValues(filter);\r\n        }\r\n    });\r\n\r\n    const {\r\n        data,\r\n        total,\r\n        pageInfo,\r\n        error,\r\n        isFetching,\r\n        isLoading,\r\n        refetch,\r\n    } = useGetManyReference<ReferenceRecordType>(\r\n        reference,\r\n        {\r\n            target,\r\n            id: get(record, source) as Identifier,\r\n            pagination: { page, perPage },\r\n            sort,\r\n            filter: filterValues,\r\n        },\r\n        {\r\n            keepPreviousData: true,\r\n            onError: error =>\r\n                notify(\r\n                    typeof error === 'string'\r\n                        ? error\r\n                        : error.message || 'ra.notification.http_error',\r\n                    {\r\n                        type: 'error',\r\n                        messageArgs: {\r\n                            _:\r\n                                typeof error === 'string'\r\n                                    ? error\r\n                                    : error && error.message\r\n                                    ? error.message\r\n                                    : undefined,\r\n                        },\r\n                    }\r\n                ),\r\n        }\r\n    );\r\n\r\n    return {\r\n        sort,\r\n        data,\r\n        defaultTitle: null,\r\n        displayedFilters,\r\n        error,\r\n        filterValues,\r\n        hideFilter,\r\n        isFetching,\r\n        isLoading,\r\n        onSelect: selectionModifiers.select,\r\n        onToggleItem: selectionModifiers.toggle,\r\n        onUnselectItems: selectionModifiers.clearSelection,\r\n        page,\r\n        perPage,\r\n        refetch,\r\n        resource: reference,\r\n        selectedIds,\r\n        setFilters,\r\n        setPage,\r\n        setPerPage,\r\n        hasNextPage: pageInfo\r\n            ? pageInfo.hasNextPage\r\n            : total != null\r\n            ? page * perPage < total\r\n            : undefined,\r\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : page > 1,\r\n        setSort,\r\n        showFilter,\r\n        total,\r\n    };\r\n};\r\n", "import get from 'lodash/get';\r\nimport { UseQueryOptions } from 'react-query';\r\n\r\nimport { useGetManyReference } from '../../dataProvider';\r\nimport { useNotify } from '../../notification';\r\nimport { RaRecord, SortPayload } from '../../types';\r\nimport { UseReferenceResult } from '../useReference';\r\n\r\nexport interface UseReferenceOneFieldControllerParams<\r\n    RecordType extends RaRecord = any\r\n> {\r\n    record?: RaRecord;\r\n    reference: string;\r\n    source?: string;\r\n    target: string;\r\n    sort?: SortPayload;\r\n    filter?: any;\r\n    queryOptions?: UseQueryOptions<{\r\n        data: RecordType[];\r\n        total: number;\r\n    }> & { meta?: any };\r\n}\r\n\r\n/**\r\n * Fetch a reference record in a one-to-one relationship, and return it when available\r\n *\r\n * The reference prop should be the name of one of the <Resource> components\r\n * added as <Admin> child.\r\n *\r\n * @example\r\n *\r\n * const { data, isLoading, error } = useReferenceOneFieldController({\r\n *     record: { id: 7, name: 'James Joyce'}\r\n *     reference: 'bios',\r\n *     target: 'author_id',\r\n * });\r\n *\r\n * @typedef {Object} UseReferenceOneFieldControllerParams\r\n * @prop {Object} props.record The current resource record\r\n * @prop {string} props.reference The linked resource name\r\n * @prop {string} props.target The target resource key\r\n * @prop {string} props.source The key current record identifier ('id' by default)\r\n * @prop {Object} props.sort The sort to apply to the referenced records\r\n * @prop {Object} props.filter The filter to apply to the referenced records\r\n * @returns {UseReferenceResult} The request state. Destructure as { referenceRecord, isLoading, error }.\r\n */\r\nexport const useReferenceOneFieldController = <\r\n    RecordType extends RaRecord = any\r\n>(\r\n    props: UseReferenceOneFieldControllerParams<RecordType>\r\n): UseReferenceResult<RecordType> => {\r\n    const {\r\n        reference,\r\n        record,\r\n        target,\r\n        source = 'id',\r\n        sort = { field: 'id', order: 'ASC' },\r\n        filter = {},\r\n        queryOptions = {},\r\n    } = props;\r\n    const notify = useNotify();\r\n    const { meta, ...otherQueryOptions } = queryOptions;\r\n\r\n    const { data, error, isFetching, isLoading, refetch } = useGetManyReference<\r\n        RecordType\r\n    >(\r\n        reference,\r\n        {\r\n            target,\r\n            id: get(record, source),\r\n            pagination: { page: 1, perPage: 1 },\r\n            sort,\r\n            filter,\r\n            meta,\r\n        },\r\n        {\r\n            enabled: !!record,\r\n            onError: error =>\r\n                notify(\r\n                    typeof error === 'string'\r\n                        ? error\r\n                        : error.message || 'ra.notification.http_error',\r\n                    {\r\n                        type: 'error',\r\n                        messageArgs: {\r\n                            _:\r\n                                typeof error === 'string'\r\n                                    ? error\r\n                                    : error && error.message\r\n                                    ? error.message\r\n                                    : undefined,\r\n                        },\r\n                    }\r\n                ),\r\n            ...otherQueryOptions,\r\n        }\r\n    );\r\n\r\n    return {\r\n        referenceRecord: data ? data[0] : undefined,\r\n        error,\r\n        isFetching,\r\n        isLoading,\r\n        refetch,\r\n    };\r\n};\r\n", "import { RaRecord, Translate } from '../../types';\r\nimport { MatchingReferencesError } from './types';\r\nimport { ControllerRenderProps } from 'react-hook-form';\r\n\r\ninterface GetStatusForInputParams<RecordType extends RaRecord = RaRecord> {\r\n    field: Pick<ControllerRenderProps, 'value'>;\r\n    matchingReferences: RecordType[] | MatchingReferencesError;\r\n    referenceRecord: RecordType;\r\n    translate: Translate;\r\n}\r\n\r\nconst isMatchingReferencesError = (\r\n    matchingReferences?: any\r\n): matchingReferences is MatchingReferencesError =>\r\n    matchingReferences && matchingReferences.error !== undefined;\r\n\r\nexport const getStatusForInput = <RecordType extends RaRecord = RaRecord>({\r\n    field,\r\n    matchingReferences,\r\n    referenceRecord,\r\n    translate = x => x,\r\n}: GetStatusForInputParams<RecordType>) => {\r\n    const matchingReferencesError = isMatchingReferencesError(\r\n        matchingReferences\r\n    )\r\n        ? translate(matchingReferences.error, {\r\n              _: matchingReferences.error,\r\n          })\r\n        : null;\r\n    const selectedReferenceError =\r\n        field.value && !referenceRecord\r\n            ? translate('ra.input.references.single_missing', {\r\n                  _: 'ra.input.references.single_missing',\r\n              })\r\n            : null;\r\n\r\n    return {\r\n        waiting:\r\n            (field.value && selectedReferenceError && !matchingReferences) ||\r\n            (!field.value && !matchingReferences),\r\n        error:\r\n            (field.value &&\r\n                selectedReferenceError &&\r\n                matchingReferencesError) ||\r\n            (!field.value && matchingReferencesError)\r\n                ? field.value\r\n                    ? selectedReferenceError\r\n                    : matchingReferencesError\r\n                : null,\r\n        warning: selectedReferenceError || matchingReferencesError,\r\n        choices: Array.isArray(matchingReferences)\r\n            ? matchingReferences\r\n            : [referenceRecord].filter(choice => choice),\r\n    };\r\n};\r\n\r\nexport const REFERENCES_STATUS_READY = 'REFERENCES_STATUS_READY';\r\nexport const REFERENCES_STATUS_INCOMPLETE = 'REFERENCES_STATUS_INCOMPLETE';\r\nexport const REFERENCES_STATUS_EMPTY = 'REFERENCES_STATUS_EMPTY';\r\n\r\nexport const getSelectedReferencesStatus = <RecordType extends RaRecord = any>(\r\n    field: Pick<ControllerRenderProps, 'value'>,\r\n    referenceRecords: RecordType[]\r\n) =>\r\n    !field.value || field.value.length === referenceRecords.length\r\n        ? REFERENCES_STATUS_READY\r\n        : referenceRecords.length > 0\r\n        ? REFERENCES_STATUS_INCOMPLETE\r\n        : REFERENCES_STATUS_EMPTY;\r\n\r\ninterface GetStatusForArrayInputParams<RecordType extends RaRecord = any> {\r\n    field: ControllerRenderProps;\r\n    matchingReferences: RecordType[] | MatchingReferencesError;\r\n    referenceRecords: RecordType[];\r\n    translate: Translate;\r\n}\r\n\r\nexport const getStatusForArrayInput = <RecordType extends RaRecord = any>({\r\n    field,\r\n    matchingReferences,\r\n    referenceRecords,\r\n    translate = x => x,\r\n}: GetStatusForArrayInputParams<RecordType>) => {\r\n    // selectedReferencesDataStatus can be \"empty\" (no data was found for references from input.value)\r\n    // or \"incomplete\" (Not all of the reference data was found)\r\n    // or \"ready\" (all references data was found or there is no references from input.value)\r\n    const selectedReferencesDataStatus = getSelectedReferencesStatus(\r\n        field,\r\n        referenceRecords\r\n    );\r\n\r\n    const matchingReferencesError = isMatchingReferencesError(\r\n        matchingReferences\r\n    )\r\n        ? translate(matchingReferences.error, {\r\n              _: matchingReferences.error,\r\n          })\r\n        : null;\r\n\r\n    const choices = Array.isArray(matchingReferences)\r\n        ? referenceRecords.concat(\r\n              matchingReferences.filter(\r\n                  choice =>\r\n                      referenceRecords.findIndex(c => c.id === choice.id) === -1\r\n              )\r\n          )\r\n        : referenceRecords;\r\n\r\n    return {\r\n        waiting:\r\n            (!matchingReferences &&\r\n                field.value &&\r\n                selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY) ||\r\n            (!matchingReferences && !field.value),\r\n        error:\r\n            matchingReferencesError &&\r\n            (!field.value ||\r\n                (field.value &&\r\n                    selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY))\r\n                ? translate('ra.input.references.all_missing', {\r\n                      _: 'ra.input.references.all_missing',\r\n                  })\r\n                : null,\r\n        warning:\r\n            matchingReferencesError ||\r\n            (field.value &&\r\n                selectedReferencesDataStatus !== REFERENCES_STATUS_READY)\r\n                ? matchingReferencesError ||\r\n                  translate('ra.input.references.many_missing', {\r\n                      _: 'ra.input.references.many_missing',\r\n                  })\r\n                : null,\r\n        choices,\r\n    };\r\n};\r\n", "import { useCallback, useMemo } from 'react';\r\nimport { useFormContext, useWatch } from 'react-hook-form';\r\n\r\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\r\nimport { useGetList, useGetManyAggregate } from '../../dataProvider';\r\nimport { useReferenceParams } from './useReferenceParams';\r\nimport { ChoicesContextValue } from '../../form';\r\nimport { UseQueryOptions } from 'react-query';\r\n\r\n/**\r\n * Prepare data for the ReferenceArrayInput components\r\n *\r\n * @example\r\n *\r\n * const { allChoices, availableChoices, selectedChoices, error, isFetching, isLoading } = useReferenceArrayInputController({\r\n *      record: { referenceIds: ['id1', 'id2']};\r\n *      reference: 'reference';\r\n *      resource: 'resource';\r\n *      source: 'referenceIds';\r\n * });\r\n *\r\n * @param {Object} props\r\n * @param {Object} props.record The current resource record\r\n * @param {string} props.reference The linked resource name\r\n * @param {string} props.resource The current resource name\r\n * @param {string} props.source The key of the linked resource identifier\r\n *\r\n * @param {Props} props\r\n *\r\n * @return {Object} controllerProps Fetched data and callbacks for the ReferenceArrayInput components\r\n */\r\nexport const useReferenceArrayInputController = <\r\n    RecordType extends RaRecord = any\r\n>(\r\n    props: UseReferenceArrayInputParams<RecordType>\r\n): ChoicesContextValue<RecordType> => {\r\n    const {\r\n        debounce,\r\n        enableGetChoices,\r\n        filter,\r\n        page: initialPage = 1,\r\n        perPage: initialPerPage = 25,\r\n        sort: initialSort = { field: 'id', order: 'DESC' },\r\n        queryOptions = {},\r\n        reference,\r\n        source,\r\n    } = props;\r\n    const { getValues } = useFormContext();\r\n    // When we change the defaultValue of the child input using react-hook-form resetField function,\r\n    // useWatch does not seem to get the new value. We fallback to getValues to get it.\r\n    const value = useWatch({ name: source }) ?? getValues(source);\r\n    const { meta, ...otherQueryOptions } = queryOptions;\r\n\r\n    /**\r\n     * Get the records related to the current value (with getMany)\r\n     */\r\n    const {\r\n        data: referenceRecords,\r\n        error: errorGetMany,\r\n        isLoading: isLoadingGetMany,\r\n        isFetching: isFetchingGetMany,\r\n        refetch: refetchGetMany,\r\n    } = useGetManyAggregate<RecordType>(\r\n        reference,\r\n        {\r\n            ids: value || EmptyArray,\r\n            meta,\r\n        },\r\n        {\r\n            enabled: value != null && value.length > 0,\r\n        }\r\n    );\r\n\r\n    const [params, paramsModifiers] = useReferenceParams({\r\n        resource: reference,\r\n        page: initialPage,\r\n        perPage: initialPerPage,\r\n        sort: initialSort,\r\n        debounce,\r\n        filter,\r\n    });\r\n\r\n    // filter out not found references - happens when the dataProvider doesn't guarantee referential integrity\r\n    const finalReferenceRecords = referenceRecords\r\n        ? referenceRecords.filter(Boolean)\r\n        : [];\r\n\r\n    const isGetMatchingEnabled = enableGetChoices\r\n        ? enableGetChoices(params.filterValues)\r\n        : true;\r\n\r\n    const {\r\n        data: matchingReferences,\r\n        total,\r\n        pageInfo,\r\n        error: errorGetList,\r\n        isLoading: isLoadingGetList,\r\n        isFetching: isFetchingGetList,\r\n        refetch: refetchGetMatching,\r\n    } = useGetList<RecordType>(\r\n        reference,\r\n        {\r\n            pagination: {\r\n                page: params.page,\r\n                perPage: params.perPage,\r\n            },\r\n            sort: { field: params.sort, order: params.order },\r\n            filter: { ...params.filter, ...filter },\r\n            meta,\r\n        },\r\n        {\r\n            retry: false,\r\n            enabled: isGetMatchingEnabled,\r\n            keepPreviousData: true,\r\n            ...otherQueryOptions,\r\n        }\r\n    );\r\n\r\n    // We merge the currently selected records with the matching ones, otherwise\r\n    // the component displaying the currently selected records may fail\r\n    const finalMatchingReferences =\r\n        matchingReferences && matchingReferences.length > 0\r\n            ? mergeReferences(matchingReferences, finalReferenceRecords)\r\n            : finalReferenceRecords.length > 0\r\n            ? finalReferenceRecords\r\n            : matchingReferences;\r\n\r\n    const refetch = useCallback(() => {\r\n        refetchGetMany();\r\n        refetchGetMatching();\r\n    }, [refetchGetMany, refetchGetMatching]);\r\n\r\n    const currentSort = useMemo(\r\n        () => ({\r\n            field: params.sort,\r\n            order: params.order,\r\n        }),\r\n        [params.sort, params.order]\r\n    );\r\n    return {\r\n        sort: currentSort,\r\n        allChoices: finalMatchingReferences,\r\n        availableChoices: matchingReferences,\r\n        selectedChoices: finalReferenceRecords,\r\n        displayedFilters: params.displayedFilters,\r\n        error: errorGetMany || errorGetList,\r\n        filter,\r\n        filterValues: params.filterValues,\r\n        hideFilter: paramsModifiers.hideFilter,\r\n        isFetching: isFetchingGetMany || isFetchingGetList,\r\n        isLoading: isLoadingGetMany || isLoadingGetList,\r\n        page: params.page,\r\n        perPage: params.perPage,\r\n        refetch,\r\n        resource: reference,\r\n        setFilters: paramsModifiers.setFilters,\r\n        setPage: paramsModifiers.setPage,\r\n        setPerPage: paramsModifiers.setPerPage,\r\n        setSort: paramsModifiers.setSort,\r\n        showFilter: paramsModifiers.showFilter,\r\n        source,\r\n        total: total,\r\n        hasNextPage: pageInfo\r\n            ? pageInfo.hasNextPage\r\n            : total != null\r\n            ? params.page * params.perPage < total\r\n            : undefined,\r\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : params.page > 1,\r\n        isFromReference: true,\r\n    };\r\n};\r\n\r\nconst EmptyArray = [];\r\n\r\n// concatenate and deduplicate two lists of records\r\nconst mergeReferences = <RecordType extends RaRecord = any>(\r\n    ref1: RecordType[],\r\n    ref2: RecordType[]\r\n): RecordType[] => {\r\n    const res = [...ref1];\r\n    const ids = ref1.map(ref => ref.id);\r\n    ref2.forEach(ref => {\r\n        if (!ids.includes(ref.id)) {\r\n            ids.push(ref.id);\r\n            res.push(ref);\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\nexport interface UseReferenceArrayInputParams<\r\n    RecordType extends RaRecord = any\r\n> {\r\n    debounce?: number;\r\n    filter?: FilterPayload;\r\n    queryOptions?: UseQueryOptions<{\r\n        data: RecordType[];\r\n        total?: number;\r\n        pageInfo?: {\r\n            hasNextPage?: boolean;\r\n            hasPreviousPage?: boolean;\r\n        };\r\n    }> & { meta?: any };\r\n    page?: number;\r\n    perPage?: number;\r\n    record?: RecordType;\r\n    reference: string;\r\n    resource?: string;\r\n    sort?: SortPayload;\r\n    source: string;\r\n    enableGetChoices?: (filters: any) => boolean;\r\n}\r\n", "import { useCallback, useMemo, useState, useRef, useEffect } from 'react';\r\nimport lodashDebounce from 'lodash/debounce';\r\n\r\nimport { SortPayload, FilterPayload } from '../../types';\r\nimport removeEmpty from '../../util/removeEmpty';\r\nimport {\r\n    queryReducer,\r\n    HIDE_FILTER,\r\n    SET_FILTER,\r\n    SET_PAGE,\r\n    SET_PER_PAGE,\r\n    SET_SORT,\r\n    SHOW_FILTER,\r\n    SORT_ASC,\r\n} from '../list';\r\n\r\n/**\r\n * Get the reference inputs parameters (page, sort, filters) and modifiers.\r\n *\r\n * @returns {Array} A tuple [parameters, modifiers].\r\n * Destructure as [\r\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\r\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\r\n * ]\r\n *\r\n * @example\r\n *\r\n * const [referenceParams, referenceParamsActions] = useReferenceParams({\r\n *      resource: 'posts',\r\n *      filterDefaultValues: {\r\n *          published: true\r\n *      },\r\n *      sort: {\r\n *          field: 'published_at',\r\n *          order: 'DESC'\r\n *      },\r\n *      perPage: 25\r\n * });\r\n *\r\n * const {\r\n *      page,\r\n *      perPage,\r\n *      sort,\r\n *      order,\r\n *      filter,\r\n *      filterValues,\r\n *      displayedFilters,\r\n *      requestSignature\r\n * } = referenceParams;\r\n *\r\n * const {\r\n *      setFilters,\r\n *      hideFilter,\r\n *      showFilter,\r\n *      setPage,\r\n *      setPerPage,\r\n *      setSort,\r\n * } = referenceParamsActions;\r\n */\r\nexport const useReferenceParams = ({\r\n    resource,\r\n    filter,\r\n    sort = defaultSort,\r\n    page = 1,\r\n    perPage = 10,\r\n    debounce = 500,\r\n}: ReferenceParamsOptions): [Parameters, Modifiers] => {\r\n    const [params, setParams] = useState(defaultParams);\r\n    const tempParams = useRef<ReferenceParams>();\r\n\r\n    const requestSignature = [\r\n        resource,\r\n        JSON.stringify(params),\r\n        JSON.stringify(filter),\r\n        JSON.stringify(sort),\r\n        page,\r\n        perPage,\r\n    ];\r\n\r\n    const query = useMemo(\r\n        () =>\r\n            getQuery({\r\n                params: params,\r\n                filterDefaultValues: filter,\r\n                sort,\r\n                page,\r\n                perPage,\r\n            }),\r\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\r\n    );\r\n\r\n    const changeParams = useCallback(action => {\r\n        if (!tempParams.current) {\r\n            // no other changeParams action dispatched this tick\r\n            tempParams.current = queryReducer(query, action);\r\n            // schedule side effects for next tick\r\n            setTimeout(() => {\r\n                setParams(tempParams.current);\r\n                tempParams.current = undefined;\r\n            }, 0);\r\n        } else {\r\n            // side effects already scheduled, just change the params\r\n            tempParams.current = queryReducer(tempParams.current, action);\r\n        }\r\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    const setSort = useCallback(\r\n        (sort: SortPayload) =>\r\n            changeParams({\r\n                type: SET_SORT,\r\n                payload: sort,\r\n            }),\r\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\r\n    );\r\n\r\n    const setPage = useCallback(\r\n        (newPage: number) => changeParams({ type: SET_PAGE, payload: newPage }),\r\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\r\n    );\r\n\r\n    const setPerPage = useCallback(\r\n        (newPerPage: number) =>\r\n            changeParams({ type: SET_PER_PAGE, payload: newPerPage }),\r\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\r\n    );\r\n\r\n    const filterValues = query.filter || emptyObject;\r\n    const displayedFilterValues = query.displayedFilters || emptyObject;\r\n\r\n    const debouncedSetFilters = useRef(\r\n        lodashDebounce((filter, displayedFilters) => {\r\n            changeParams({\r\n                type: SET_FILTER,\r\n                payload: {\r\n                    filter: removeEmpty(filter),\r\n                    displayedFilters,\r\n                },\r\n            });\r\n        }, debounce)\r\n    );\r\n    useEffect(() => {\r\n        return () => {\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            debouncedSetFilters.current.cancel();\r\n        };\r\n    }, []);\r\n\r\n    const setFilters = useCallback(\r\n        (filter, displayedFilters, debounce = true) => {\r\n            debounce\r\n                ? debouncedSetFilters.current(filter, displayedFilters)\r\n                : changeParams({\r\n                      type: SET_FILTER,\r\n                      payload: {\r\n                          filter: removeEmpty(filter),\r\n                          displayedFilters,\r\n                      },\r\n                  });\r\n        },\r\n        requestSignature // eslint-disable-line react-hooks/exhaustive-deps\r\n    );\r\n\r\n    const hideFilter = useCallback((filterName: string) => {\r\n        changeParams({\r\n            type: HIDE_FILTER,\r\n            payload: filterName,\r\n        });\r\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    const showFilter = useCallback((filterName: string, defaultValue: any) => {\r\n        changeParams({\r\n            type: SHOW_FILTER,\r\n            payload: {\r\n                filterName,\r\n                defaultValue,\r\n            },\r\n        });\r\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\r\n    return [\r\n        {\r\n            displayedFilters: displayedFilterValues,\r\n            filterValues,\r\n            requestSignature,\r\n            ...query,\r\n        },\r\n        {\r\n            changeParams,\r\n            setPage,\r\n            setPerPage,\r\n            setSort,\r\n            setFilters,\r\n            hideFilter,\r\n            showFilter,\r\n        },\r\n    ];\r\n};\r\n\r\nexport const validQueryParams = [\r\n    'page',\r\n    'perPage',\r\n    'sort',\r\n    'order',\r\n    'filter',\r\n    'displayedFilters',\r\n];\r\n\r\n/**\r\n * Merge list params from 2 different sources:\r\n *   - the params stored in the local state\r\n *   - the props passed to the List component (including the filter defaultValues)\r\n */\r\nexport const getQuery = ({\r\n    params,\r\n    filterDefaultValues,\r\n    sort,\r\n    page,\r\n    perPage,\r\n}) => {\r\n    const query: Partial<ReferenceParams> = hasCustomParams(params)\r\n        ? { ...params }\r\n        : { filter: filterDefaultValues || {} };\r\n\r\n    if (!query.sort) {\r\n        query.sort = sort.field;\r\n        query.order = sort.order;\r\n    }\r\n    if (query.page == null) {\r\n        query.page = page;\r\n    }\r\n    if (query.perPage == null) {\r\n        query.perPage = perPage;\r\n    }\r\n    if (query.page == null) {\r\n        query.page = 1;\r\n    }\r\n\r\n    return {\r\n        ...query,\r\n        page: getNumberOrDefault(query.page, 1),\r\n        perPage: getNumberOrDefault(query.perPage, 10),\r\n    } as ReferenceParams;\r\n};\r\n\r\n/**\r\n * Check if user has already set custom sort, page, or filters for this list\r\n *\r\n * User params come from the Redux store as the params props. By default,\r\n * this object is:\r\n *\r\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\r\n *\r\n * To check if the user has custom params, we must compare the params\r\n * to these initial values.\r\n *\r\n * @param {Object} params\r\n */\r\nexport const hasCustomParams = (params: ReferenceParams) => {\r\n    return (\r\n        params &&\r\n        params.filter &&\r\n        (Object.keys(params.filter).length > 0 ||\r\n            params.order != null ||\r\n            params.page !== 1 ||\r\n            params.perPage != null ||\r\n            params.sort != null)\r\n    );\r\n};\r\n\r\nexport const getNumberOrDefault = (\r\n    possibleNumber: string | number | undefined,\r\n    defaultValue: number\r\n) => {\r\n    const parsedNumber =\r\n        typeof possibleNumber === 'string'\r\n            ? parseInt(possibleNumber, 10)\r\n            : possibleNumber;\r\n\r\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\r\n};\r\n\r\nexport interface ReferenceParamsOptions {\r\n    resource: string;\r\n    page?: number;\r\n    perPage?: number;\r\n    sort?: SortPayload;\r\n    // default value for a filter when displayed but not yet set\r\n    filter?: FilterPayload;\r\n    debounce?: number;\r\n}\r\n\r\nexport interface ReferenceParams {\r\n    sort: string;\r\n    order: string;\r\n    page: number;\r\n    perPage: number;\r\n    filter: any;\r\n    displayedFilters: any;\r\n}\r\n\r\ninterface Parameters extends ReferenceParams {\r\n    filterValues: object;\r\n    displayedFilters: {\r\n        [key: string]: boolean;\r\n    };\r\n    requestSignature: any[];\r\n}\r\n\r\ninterface Modifiers {\r\n    changeParams: (action: any) => void;\r\n    setPage: (page: number) => void;\r\n    setPerPage: (pageSize: number) => void;\r\n    setSort: (sort: SortPayload) => void;\r\n    setFilters: (filters: any, displayedFilters: any) => void;\r\n    hideFilter: (filterName: string) => void;\r\n    showFilter: (filterName: string, defaultValue: any) => void;\r\n}\r\n\r\nconst emptyObject = {};\r\n\r\nconst defaultSort = {\r\n    field: 'id',\r\n    order: SORT_ASC,\r\n};\r\n\r\nconst defaultParams = {};\r\n", "import { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { useWatch } from 'react-hook-form';\r\nimport { useGetList } from '../../dataProvider';\r\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\r\nimport { useReference } from '../useReference';\r\nimport { ChoicesContextValue } from '../../form';\r\nimport { useReferenceParams } from './useReferenceParams';\r\nimport { UseQueryOptions } from 'react-query';\r\n\r\nconst defaultReferenceSource = (resource: string, source: string) =>\r\n    `${resource}@${source}`;\r\n\r\n/**\r\n * A hook for choosing a reference record. Useful for foreign keys.\r\n *\r\n * This hook fetches the possible values in the reference resource\r\n * (using `dataProvider.getList()`), it returns the possible choices\r\n * as the `choices` attribute.\r\n *\r\n * @example\r\n * const {\r\n *      choices, // the available reference resource\r\n * } = useReferenceInputController({\r\n *      input, // the input props\r\n *      resource: 'comments',\r\n *      reference: 'posts',\r\n *      source: 'post_id',\r\n * });\r\n *\r\n * The hook also allow to filter results. It returns a `setFilters`\r\n * function. It uses the value to create a filter for the query.\r\n * You can also add a permanentFilter to further filter the result:\r\n *\r\n * @example\r\n * const {\r\n *      choices, // the available reference resource\r\n *      setFilter,\r\n * } = useReferenceInputController({\r\n *      input, // the input props\r\n *      resource: 'comments',\r\n *      reference: 'posts',\r\n *      source: 'post_id',\r\n *      permanentFilter: {\r\n *          author: 'john'\r\n *      },\r\n * });\r\n */\r\nexport const useReferenceInputController = <RecordType extends RaRecord = any>(\r\n    props: UseReferenceInputControllerParams\r\n): ChoicesContextValue<RecordType> => {\r\n    const {\r\n        debounce,\r\n        enableGetChoices,\r\n        filter,\r\n        page: initialPage = 1,\r\n        perPage: initialPerPage = 25,\r\n        sort: initialSort,\r\n        queryOptions = {},\r\n        reference,\r\n        source,\r\n    } = props;\r\n    const { meta, ...otherQueryOptions } = queryOptions;\r\n\r\n    const [params, paramsModifiers] = useReferenceParams({\r\n        resource: reference,\r\n        page: initialPage,\r\n        perPage: initialPerPage,\r\n        sort: initialSort,\r\n        debounce,\r\n        filter,\r\n    });\r\n\r\n    // selection logic\r\n    const currentValue = useWatch({ name: source });\r\n\r\n    const isGetMatchingEnabled = enableGetChoices\r\n        ? enableGetChoices(params.filterValues)\r\n        : true;\r\n\r\n    // fetch possible values\r\n    const {\r\n        data: possibleValuesData = [],\r\n        total,\r\n        pageInfo,\r\n        isFetching: possibleValuesFetching,\r\n        isLoading: possibleValuesLoading,\r\n        error: possibleValuesError,\r\n        refetch: refetchGetList,\r\n    } = useGetList<RecordType>(\r\n        reference,\r\n        {\r\n            pagination: {\r\n                page: params.page,\r\n                perPage: params.perPage,\r\n            },\r\n            sort: { field: params.sort, order: params.order },\r\n            filter: { ...params.filter, ...filter },\r\n            meta,\r\n        },\r\n        {\r\n            enabled: isGetMatchingEnabled,\r\n            keepPreviousData: true,\r\n            ...otherQueryOptions,\r\n        }\r\n    );\r\n\r\n    // fetch current value\r\n    const {\r\n        referenceRecord: currentReferenceRecord,\r\n        refetch: refetchReference,\r\n        error: referenceError,\r\n        isLoading: referenceLoading,\r\n        isFetching: referenceFetching,\r\n    } = useReference<RecordType>({\r\n        id: currentValue,\r\n        reference,\r\n        options: {\r\n            enabled: currentValue != null && currentValue !== '',\r\n            meta,\r\n        },\r\n    });\r\n\r\n    // We need to delay the update of the referenceRecord and the finalData\r\n    // to the next React state update, because otherwise it can raise a warning\r\n    // with AutocompleteInput saying the current value is not in the list of choices\r\n    const [referenceRecord, setReferenceRecord] = useState(null);\r\n    useEffect(() => {\r\n        setReferenceRecord(currentReferenceRecord);\r\n    }, [currentReferenceRecord]);\r\n\r\n    // add current value to possible sources\r\n    let finalData: RecordType[], finalTotal: number;\r\n    if (\r\n        !referenceRecord ||\r\n        possibleValuesData.find(record => record.id === referenceRecord.id)\r\n    ) {\r\n        finalData = possibleValuesData;\r\n        finalTotal = total;\r\n    } else {\r\n        finalData = [referenceRecord, ...possibleValuesData];\r\n        finalTotal = total == null ? undefined : total + 1;\r\n    }\r\n\r\n    const refetch = useCallback(() => {\r\n        refetchGetList();\r\n        refetchReference();\r\n    }, [refetchGetList, refetchReference]);\r\n\r\n    const currentSort = useMemo(\r\n        () => ({\r\n            field: params.sort,\r\n            order: params.order,\r\n        }),\r\n        [params.sort, params.order]\r\n    );\r\n    return {\r\n        sort: currentSort,\r\n        allChoices: finalData,\r\n        availableChoices: possibleValuesData,\r\n        selectedChoices: [referenceRecord],\r\n        displayedFilters: params.displayedFilters,\r\n        error: referenceError || possibleValuesError,\r\n        filter: params.filter,\r\n        filterValues: params.filterValues,\r\n        hideFilter: paramsModifiers.hideFilter,\r\n        isFetching: referenceFetching || possibleValuesFetching,\r\n        isLoading: referenceLoading || possibleValuesLoading,\r\n        page: params.page,\r\n        perPage: params.perPage,\r\n        refetch,\r\n        resource: reference,\r\n        setFilters: paramsModifiers.setFilters,\r\n        setPage: paramsModifiers.setPage,\r\n        setPerPage: paramsModifiers.setPerPage,\r\n        setSort: paramsModifiers.setSort,\r\n        showFilter: paramsModifiers.showFilter,\r\n        source,\r\n        total: finalTotal,\r\n        hasNextPage: pageInfo\r\n            ? pageInfo.hasNextPage\r\n            : total != null\r\n            ? params.page * params.perPage < total\r\n            : undefined,\r\n        hasPreviousPage: pageInfo ? pageInfo.hasPreviousPage : params.page > 1,\r\n        isFromReference: true,\r\n    };\r\n};\r\n\r\nexport interface UseReferenceInputControllerParams<\r\n    RecordType extends RaRecord = any\r\n> {\r\n    debounce?: number;\r\n    filter?: FilterPayload;\r\n    queryOptions?: UseQueryOptions<{\r\n        data: RecordType[];\r\n        total?: number;\r\n        pageInfo?: {\r\n            hasNextPage?: boolean;\r\n            hasPreviousPage?: boolean;\r\n        };\r\n    }> & { meta?: any };\r\n    page?: number;\r\n    perPage?: number;\r\n    record?: RaRecord;\r\n    reference: string;\r\n    // @deprecated ignored\r\n    referenceSource?: typeof defaultReferenceSource;\r\n    resource?: string;\r\n    sort?: SortPayload;\r\n    source: string;\r\n    enableGetChoices?: (filters: any) => boolean;\r\n}\r\n", "import { RaRecord, Identifier } from '../types';\r\nimport { UseGetManyHookValue, useGetManyAggregate } from '../dataProvider';\r\nimport { UseQueryOptions } from 'react-query';\r\n\r\ninterface UseReferenceProps<RecordType extends RaRecord = any> {\r\n    id: Identifier;\r\n    reference: string;\r\n    options?: UseQueryOptions<RecordType[], Error> & { meta?: any };\r\n}\r\n\r\nexport interface UseReferenceResult<RecordType extends RaRecord = any> {\r\n    isLoading: boolean;\r\n    isFetching: boolean;\r\n    referenceRecord?: RecordType;\r\n    error?: any;\r\n    refetch: UseGetManyHookValue<RecordType>['refetch'];\r\n}\r\n\r\n/**\r\n * @typedef UseReferenceResult\r\n * @type {Object}\r\n * @property {boolean} isFetching: boolean indicating if the reference is loading\r\n * @property {boolean} isLoading: boolean indicating if the reference has loaded at least once\r\n * @property {Object} referenceRecord: the referenced record.\r\n */\r\n\r\n/**\r\n * Fetch reference record, and return it when available\r\n *\r\n * The reference prop should be the name of one of the <Resource> components\r\n * added as <Admin> child.\r\n *\r\n * @example\r\n *\r\n * const { isLoading, referenceRecord } = useReference({\r\n *     id: 7,\r\n *     reference: 'users',\r\n * });\r\n *\r\n * @param {Object} option\r\n * @param {string} option.reference The linked resource name\r\n * @param {string} option.id The id of the reference\r\n * @param {Object} option.options Options passed to the dataProvider\r\n *\r\n * @returns {UseReferenceResult} The reference record\r\n */\r\nexport const useReference = <RecordType extends RaRecord = RaRecord>({\r\n    reference,\r\n    id,\r\n    options = {},\r\n}: UseReferenceProps<RecordType>): UseReferenceResult<RecordType> => {\r\n    const { meta, ...otherQueryOptions } = options;\r\n    const { data, error, isLoading, isFetching, refetch } = useGetManyAggregate<\r\n        RecordType\r\n    >(reference, { ids: [id], meta }, otherQueryOptions);\r\n    return {\r\n        referenceRecord: error ? undefined : data ? data[0] : undefined,\r\n        refetch,\r\n        error,\r\n        isLoading,\r\n        isFetching,\r\n    };\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactElement } from 'react';\r\n\r\nimport { RaRecord } from '../../types';\r\nimport { useShowController, ShowControllerProps } from './useShowController';\r\nimport { ShowContextProvider } from './ShowContextProvider';\r\nimport { ResourceContextProvider } from '../../core';\r\n\r\n/**\r\n * Call useShowController and put the value in a ShowContext\r\n *\r\n * Base class for <Show> components, without UI.\r\n *\r\n * Accepts any props accepted by useShowController:\r\n * - id: The record identifier\r\n * - resource: The resource\r\n *\r\n * @example // Custom show layout\r\n *\r\n * const PostShow = () => (\r\n *     <ShowBase resource=\"posts\">\r\n *         <Grid container>\r\n *             <Grid item xs={8}>\r\n *                 <SimpleForm>\r\n *                     ...\r\n *                 </SimpleForm>\r\n *             </Grid>\r\n *             <Grid item xs={4}>\r\n *                 Show instructions...\r\n *             </Grid>\r\n *         </Grid>\r\n *         <div>\r\n *             Post related links...\r\n *         </div>\r\n *     </ShowBase>\r\n * );\r\n */\r\nexport const ShowBase = <RecordType extends RaRecord = any>({\r\n    children,\r\n    ...props\r\n}: { children: ReactElement } & ShowControllerProps<RecordType>) => {\r\n    const controllerProps = useShowController<RecordType>(props);\r\n    const body = (\r\n        <ShowContextProvider value={controllerProps}>\r\n            {children}\r\n        </ShowContextProvider>\r\n    );\r\n    return props.resource ? (\r\n        // support resource override via props\r\n        <ResourceContextProvider value={props.resource}>\r\n            {body}\r\n        </ResourceContextProvider>\r\n    ) : (\r\n        body\r\n    );\r\n};\r\n", "import { useParams } from 'react-router-dom';\r\nimport { UseQueryOptions } from 'react-query';\r\n\r\nimport { useAuthenticated } from '../../auth';\r\nimport { RaRecord } from '../../types';\r\nimport { useGetOne, useRefresh, UseGetOneHookValue } from '../../dataProvider';\r\nimport { useTranslate } from '../../i18n';\r\nimport { useRedirect } from '../../routing';\r\nimport { useNotify } from '../../notification';\r\nimport {\r\n    useResourceContext,\r\n    useGetResourceLabel,\r\n    useGetRecordRepresentation,\r\n} from '../../core';\r\n\r\n/**\r\n * Prepare data for the Show view.\r\n *\r\n * useShowController does a few things:\r\n * - it grabs the id from the URL and the resource name from the ResourceContext,\r\n * - it fetches the record via useGetOne,\r\n * - it prepares the page title.\r\n *\r\n * @param {Object} props The props passed to the Show component.\r\n *\r\n * @return {Object} controllerProps Fetched data and callbacks for the Show view\r\n *\r\n * @example\r\n *\r\n * import { useShowController } from 'react-admin';\r\n * import ShowView from './ShowView';\r\n *\r\n * const MyShow = () => {\r\n *     const controllerProps = useShowController();\r\n *     return <ShowView {...controllerProps} />;\r\n * };\r\n *\r\n * @example // useShowController can also take its parameters from props\r\n *\r\n * import { useShowController } from 'react-admin';\r\n * import ShowView from './ShowView';\r\n *\r\n * const MyShow = () => {\r\n *     const controllerProps = useShowController({ resource: 'posts', id: 1234 });\r\n *     return <ShowView {...controllerProps} />;\r\n * };\r\n */\r\nexport const useShowController = <RecordType extends RaRecord = any>(\r\n    props: ShowControllerProps<RecordType> = {}\r\n): ShowControllerResult<RecordType> => {\r\n    const { disableAuthentication, id: propsId, queryOptions = {} } = props;\r\n    useAuthenticated({ enabled: !disableAuthentication });\r\n    const resource = useResourceContext(props);\r\n    const getRecordRepresentation = useGetRecordRepresentation(resource);\r\n    const translate = useTranslate();\r\n    const notify = useNotify();\r\n    const redirect = useRedirect();\r\n    const refresh = useRefresh();\r\n    const { id: routeId } = useParams<'id'>();\r\n    const id = propsId != null ? propsId : decodeURIComponent(routeId);\r\n    const { meta, ...otherQueryOptions } = queryOptions;\r\n\r\n    const { data: record, error, isLoading, isFetching, refetch } = useGetOne<\r\n        RecordType\r\n    >(\r\n        resource,\r\n        { id, meta },\r\n        {\r\n            onError: () => {\r\n                notify('ra.notification.item_doesnt_exist', {\r\n                    type: 'error',\r\n                });\r\n                redirect('list', resource);\r\n                refresh();\r\n            },\r\n            retry: false,\r\n            ...otherQueryOptions,\r\n        }\r\n    );\r\n\r\n    // eslint-disable-next-line eqeqeq\r\n    if (record && record.id && record.id != id) {\r\n        throw new Error(\r\n            `useShowController: Fetched record's id attribute (${record.id}) must match the requested 'id' (${id})`\r\n        );\r\n    }\r\n\r\n    const getResourceLabel = useGetResourceLabel();\r\n    const recordRepresentation = getRecordRepresentation(record);\r\n    const defaultTitle = translate('ra.page.show', {\r\n        name: getResourceLabel(resource, 1),\r\n        id,\r\n        record,\r\n        recordRepresentation:\r\n            typeof recordRepresentation === 'string'\r\n                ? recordRepresentation\r\n                : '',\r\n    });\r\n\r\n    return {\r\n        defaultTitle,\r\n        error,\r\n        isLoading,\r\n        isFetching,\r\n        record,\r\n        refetch,\r\n        resource,\r\n    };\r\n};\r\n\r\nexport interface ShowControllerProps<RecordType extends RaRecord = any> {\r\n    disableAuthentication?: boolean;\r\n    id?: RecordType['id'];\r\n    queryOptions?: UseQueryOptions<RecordType> & { meta?: any };\r\n    resource?: string;\r\n}\r\n\r\nexport interface ShowControllerResult<RecordType extends RaRecord = any> {\r\n    defaultTitle: string;\r\n    // Necessary for actions (EditActions) which expect a data prop containing the record\r\n    // @deprecated - to be removed in 4.0d\r\n    data?: RecordType;\r\n    error?: any;\r\n    isFetching: boolean;\r\n    isLoading: boolean;\r\n    resource: string;\r\n    record?: RecordType;\r\n    refetch: UseGetOneHookValue<RecordType>['refetch'];\r\n}\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { RaRecord } from '../../types';\r\nimport { RecordContextProvider } from '../record/RecordContext';\r\nimport { ShowContext } from './ShowContext';\r\nimport { ShowControllerResult } from './useShowController';\r\n\r\n/**\r\n * Create a Show Context.\r\n *\r\n * @example\r\n *\r\n * const MyShow = (props) => {\r\n *     const controllerProps = useShowController(props);\r\n *     return (\r\n *         <ShowContextProvider value={controllerProps}>\r\n *             <MyShowView>\r\n *         </ShowContextProvider>\r\n *     );\r\n * };\r\n *\r\n * const MyShowView = () => {\r\n *     const record = useRecordContext();\r\n * }\r\n *\r\n * @see ShowContext\r\n * @see RecordContext\r\n */\r\nexport const ShowContextProvider = ({\r\n    children,\r\n    value,\r\n}: {\r\n    children: ReactNode;\r\n    value: ShowControllerResult;\r\n}) => (\r\n    <ShowContext.Provider value={value}>\r\n        <RecordContextProvider<Partial<RaRecord>> value={value && value.record}>\r\n            {children}\r\n        </RecordContextProvider>\r\n    </ShowContext.Provider>\r\n);\r\n", "import { createContext } from 'react';\r\nimport { ShowControllerResult } from './useShowController';\r\n\r\n/**\r\n * Context to store the result of the useShowController() hook.\r\n *\r\n * Use the useShowContext() hook to read the context. That's what the Show components do in react-admin.\r\n *\r\n * @example\r\n *\r\n * import { useShowController, ShowContextProvider } from 'ra-core';\r\n *\r\n * const Show = props => {\r\n *     const controllerProps = useShowController(props);\r\n *     return (\r\n *         <ShowContextProvider value={controllerProps}>\r\n *             ...\r\n *         </ShowContextProvider>\r\n *     );\r\n * };\r\n */\r\nexport const ShowContext = createContext<ShowControllerResult>({\r\n    record: null,\r\n    defaultTitle: null,\r\n    isFetching: null,\r\n    isLoading: null,\r\n    refetch: null,\r\n    resource: null,\r\n});\r\n\r\nShowContext.displayName = 'ShowContext';\r\n", "import {\r\n    useShowController,\r\n    ShowControllerProps,\r\n    ShowControllerResult,\r\n} from './useShowController';\r\n\r\n/**\r\n * Render prop version of the useShowController hook\r\n *\r\n * @see useShowController\r\n * @example\r\n *\r\n * const ShowView = () => <div>...</div>\r\n * const MyShow = () => (\r\n *     <ShowController>\r\n *         {controllerProps => <ShowView {...controllerProps} {...props} />}\r\n *     </ShowController>\r\n * );\r\n */\r\nexport const ShowController = ({\r\n    children,\r\n    ...props\r\n}: {\r\n    children: (params: ShowControllerResult) => JSX.Element;\r\n} & ShowControllerProps) => {\r\n    const controllerProps = useShowController(props);\r\n    return children(controllerProps);\r\n};\r\n", "import { useContext, useMemo } from 'react';\r\nimport defaults from 'lodash/defaults';\r\n\r\nimport { RaRecord } from '../../types';\r\nimport { ShowContext } from './ShowContext';\r\nimport { ShowControllerResult } from './useShowController';\r\n\r\n/**\r\n * Hook to read the show controller props from the ShowContext.\r\n *\r\n * Mostly used within a <ShowContext.Provider> (e.g. as a descendent of <Show>).\r\n *\r\n * But you can also use it without a <ShowContext.Provider>. In this case, it is up to you\r\n * to pass all the necessary props.\r\n *\r\n * The given props will take precedence over context values.\r\n *\r\n * @typedef {Object} ShowControllerResult\r\n *\r\n * @returns {ShowControllerResult} create controller props\r\n *\r\n * @see useShowController for how it is filled\r\n *\r\n */\r\nexport const useShowContext = <RecordType extends RaRecord = any>(\r\n    props?: Partial<ShowControllerResult<RecordType>>\r\n): ShowControllerResult<RecordType> => {\r\n    // Can't find a way to specify the RecordType when ShowContext is declared\r\n    // @ts-ignore\r\n    const context = useContext<ShowControllerResult<RecordType>>(ShowContext);\r\n\r\n    // Props take precedence over the context\r\n    return useMemo(\r\n        () =>\r\n            defaults(\r\n                {},\r\n                props != null ? extractShowContextProps(props) : {},\r\n                context\r\n            ),\r\n        [context, props]\r\n    );\r\n};\r\n\r\n/**\r\n * Extract only the show controller props\r\n *\r\n * @param {Object} props props passed to the useShowContext hook\r\n *\r\n * @returns {ShowControllerResult} show controller props\r\n */\r\nconst extractShowContextProps = ({\r\n    record,\r\n    data,\r\n    defaultTitle,\r\n    isFetching,\r\n    isLoading,\r\n    resource,\r\n}: any) => ({\r\n    // Necessary for actions (EditActions) which expect a data prop containing the record\r\n    // @deprecated - to be removed in 4.0d\r\n    record: record || data,\r\n    data: record || data,\r\n    defaultTitle,\r\n    isFetching,\r\n    isLoading,\r\n    resource,\r\n});\r\n", "import { useParams } from 'react-router-dom';\r\nimport { useRecordContext } from '../controller';\r\nimport { Identifier, RaRecord } from '../types';\r\n\r\n/**\r\n * Helper hook to get the current `recordId`.\r\n *\r\n * `recordId` is obtained from parameters if passed as a parameter, or from the `RecordContext` if there is one, or, lastly, from the react-router URL.\r\n *\r\n * @param {any} recordId optional if used inside a RecordContextProvider or if recordId can be guessed from the URL\r\n *\r\n * @returns The `recordId` determined in this manner.\r\n *\r\n * @example\r\n * const recordId = useGetRecordId();\r\n */\r\nexport function useGetRecordId(recordId?: Identifier): Identifier {\r\n    const contextRecord = useRecordContext<RaRecord>();\r\n    const { id: routeId } = useParams<'id'>();\r\n    const actualRecordId = recordId ?? contextRecord?.id ?? routeId;\r\n    if (actualRecordId == null)\r\n        throw new Error(\r\n            `useGetRecordId could not find the current record id. You need to use it inside a RecordContextProvider, or inside a supported route, or provide the record id to the hook yourself.`\r\n        );\r\n\r\n    return actualRecordId;\r\n}\r\n", "import { useRef } from 'react';\r\nimport {\r\n    useMutation,\r\n    UseMutationOptions,\r\n    UseMutationResult,\r\n    useQueryClient,\r\n    MutateOptions,\r\n} from 'react-query';\r\n\r\nimport { useDataProvider } from './useDataProvider';\r\nimport { RaRecord, CreateParams, Identifier } from '../types';\r\nimport { useEvent } from '../util';\r\n\r\n/**\r\n * Get a callback to call the dataProvider.create() method, the result and the loading state.\r\n *\r\n * @param {string} resource\r\n * @param {Params} params The create parameters { data }\r\n * @param {Object} options Options object to pass to the queryClient.\r\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\r\n *\r\n * @typedef Params\r\n * @prop params.data The record to create, e.g. { title: 'hello, world' }\r\n *\r\n * @returns The current mutation state. Destructure as [create, { data, error, isLoading }].\r\n *\r\n * The return value updates according to the request state:\r\n *\r\n * - initial: [create, { isLoading: false, isIdle: true }]\r\n * - start:   [create, { isLoading: true }]\r\n * - success: [create, { data: [data from response], isLoading: false, isSuccess: true }]\r\n * - error:   [create, { error: [error from response], isLoading: false, isError: true }]\r\n *\r\n * The create() function must be called with a resource and a parameter object: create(resource, { data, meta }, options)\r\n *\r\n * This hook uses react-query useMutation under the hood.\r\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\r\n *\r\n * @see https://react-query-v3.tanstack.com/reference/useMutation\r\n *\r\n * @example // set params when calling the create callback\r\n *\r\n * import { useCreate, useRecordContext } from 'react-admin';\r\n *\r\n * const LikeButton = () => {\r\n *     const record = useRecordContext();\r\n *     const like = { postId: record.id };\r\n *     const [create, { isLoading, error }] = useCreate();\r\n *     const handleClick = () => {\r\n *         create('likes', { data: like })\r\n *     }\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <button disabled={isLoading} onClick={handleClick}>Like</button>;\r\n * };\r\n *\r\n * @example // set params when calling the hook\r\n *\r\n * import { useCreate, useRecordContext } from 'react-admin';\r\n *\r\n * const LikeButton = () => {\r\n *     const record = useRecordContext();\r\n *     const like = { postId: record.id };\r\n *     const [create, { isLoading, error }] = useCreate('likes', { data: like });\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <button disabled={isLoading} onClick={() => create()}>Like</button>;\r\n * };\r\n *\r\n * @example // TypeScript\r\n * const [create, { data }] = useCreate<Product>('products', { data: product });\r\n *                    \\-- data is Product\r\n */\r\nexport const useCreate = <\r\n    RecordType extends Omit<RaRecord, 'id'> = any,\r\n    MutationError = unknown,\r\n    ResultRecordType extends RaRecord = RecordType & { id: Identifier }\r\n>(\r\n    resource?: string,\r\n    params: Partial<CreateParams<Partial<RecordType>>> = {},\r\n    options: UseCreateOptions<RecordType, MutationError, ResultRecordType> = {}\r\n): UseCreateResult<RecordType, boolean, MutationError, ResultRecordType> => {\r\n    const dataProvider = useDataProvider();\r\n    const queryClient = useQueryClient();\r\n    const paramsRef = useRef<Partial<CreateParams<Partial<RecordType>>>>(\r\n        params\r\n    );\r\n\r\n    const mutation = useMutation<\r\n        ResultRecordType,\r\n        MutationError,\r\n        Partial<UseCreateMutateParams<RecordType>>\r\n    >(\r\n        ({\r\n            resource: callTimeResource = resource,\r\n            data: callTimeData = paramsRef.current.data,\r\n            meta: callTimeMeta = paramsRef.current.meta,\r\n        } = {}) =>\r\n            dataProvider\r\n                .create<RecordType, ResultRecordType>(callTimeResource, {\r\n                    data: callTimeData,\r\n                    meta: callTimeMeta,\r\n                })\r\n                .then(({ data }) => data),\r\n        {\r\n            ...options,\r\n            onSuccess: (\r\n                data: ResultRecordType,\r\n                variables: Partial<UseCreateMutateParams<RecordType>> = {},\r\n                context: unknown\r\n            ) => {\r\n                const { resource: callTimeResource = resource } = variables;\r\n                queryClient.setQueryData(\r\n                    [callTimeResource, 'getOne', { id: String(data.id) }],\r\n                    data\r\n                );\r\n\r\n                if (options.onSuccess) {\r\n                    options.onSuccess(data, variables, context);\r\n                }\r\n                // call-time success callback is executed by react-query\r\n            },\r\n        }\r\n    );\r\n\r\n    const create = (\r\n        callTimeResource: string = resource,\r\n        callTimeParams: Partial<CreateParams<Partial<RecordType>>> = {},\r\n        createOptions: MutateOptions<\r\n            ResultRecordType,\r\n            MutationError,\r\n            Partial<UseCreateMutateParams<RecordType>>,\r\n            unknown\r\n        > & { returnPromise?: boolean } = {}\r\n    ) => {\r\n        const {\r\n            returnPromise = options.returnPromise,\r\n            ...reactCreateOptions\r\n        } = createOptions;\r\n        if (returnPromise) {\r\n            return mutation.mutateAsync(\r\n                { resource: callTimeResource, ...callTimeParams },\r\n                createOptions\r\n            );\r\n        }\r\n        mutation.mutate(\r\n            { resource: callTimeResource, ...callTimeParams },\r\n            reactCreateOptions\r\n        );\r\n    };\r\n\r\n    return [useEvent(create), mutation];\r\n};\r\n\r\nexport interface UseCreateMutateParams<\r\n    RecordType extends Omit<RaRecord, 'id'> = any\r\n> {\r\n    resource?: string;\r\n    data?: Partial<Omit<RecordType, 'id'>>;\r\n    meta?: any;\r\n}\r\n\r\nexport type UseCreateOptions<\r\n    RecordType extends Omit<RaRecord, 'id'> = any,\r\n    MutationError = unknown,\r\n    ResultRecordType extends RaRecord = RecordType & { id: Identifier }\r\n> = UseMutationOptions<\r\n    ResultRecordType,\r\n    MutationError,\r\n    Partial<UseCreateMutateParams<RecordType>>\r\n> & { returnPromise?: boolean };\r\n\r\nexport type CreateMutationFunction<\r\n    RecordType extends Omit<RaRecord, 'id'> = any,\r\n    TReturnPromise extends boolean = boolean,\r\n    MutationError = unknown,\r\n    ResultRecordType extends RaRecord = RecordType & { id: Identifier }\r\n> = (\r\n    resource?: string,\r\n    params?: Partial<CreateParams<Partial<RecordType>>>,\r\n    options?: MutateOptions<\r\n        ResultRecordType,\r\n        MutationError,\r\n        Partial<UseCreateMutateParams<RecordType>>,\r\n        unknown\r\n    > & { returnPromise?: TReturnPromise }\r\n) => Promise<TReturnPromise extends true ? ResultRecordType : void>;\r\n\r\nexport type UseCreateResult<\r\n    RecordType extends Omit<RaRecord, 'id'> = any,\r\n    TReturnPromise extends boolean = boolean,\r\n    MutationError = unknown,\r\n    ResultRecordType extends RaRecord = RecordType & { id: Identifier }\r\n> = [\r\n    CreateMutationFunction<\r\n        RecordType,\r\n        TReturnPromise,\r\n        MutationError,\r\n        ResultRecordType\r\n    >,\r\n    UseMutationResult<\r\n        ResultRecordType,\r\n        MutationError,\r\n        Partial<UseCreateMutateParams<RecordType>>,\r\n        unknown\r\n    >\r\n];\r\n", "import { useRef } from 'react';\r\nimport {\r\n    useMutation,\r\n    useQueryClient,\r\n    UseMutationOptions,\r\n    UseMutationResult,\r\n    MutateOptions,\r\n    QueryKey,\r\n    UseInfiniteQueryResult,\r\n} from 'react-query';\r\n\r\nimport { useDataProvider } from './useDataProvider';\r\nimport undoableEventEmitter from './undoableEventEmitter';\r\nimport {\r\n    RaRecord,\r\n    UpdateParams,\r\n    MutationMode,\r\n    GetListResult as OriginalGetListResult,\r\n    GetInfiniteListResult,\r\n} from '../types';\r\nimport { useEvent } from '../util';\r\n\r\n/**\r\n * Get a callback to call the dataProvider.update() method, the result and the loading state.\r\n *\r\n * @param {string} resource\r\n * @param {Params} params The update parameters { id, data, previousData, meta }\r\n * @param {Object} options Options object to pass to the queryClient.\r\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\r\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\r\n *\r\n * @typedef Params\r\n * @prop params.id The resource identifier, e.g. 123\r\n * @prop params.data The updates to merge into the record, e.g. { views: 10 }\r\n * @prop params.previousData The record before the update is applied\r\n * @prop params.meta Optional meta data\r\n *\r\n * @returns The current mutation state. Destructure as [update, { data, error, isLoading }].\r\n *\r\n * The return value updates according to the request state:\r\n *\r\n * - initial: [update, { isLoading: false, isIdle: true }]\r\n * - start:   [update, { isLoading: true }]\r\n * - success: [update, { data: [data from response], isLoading: false, isSuccess: true }]\r\n * - error:   [update, { error: [error from response], isLoading: false, isError: true }]\r\n *\r\n * The update() function must be called with a resource and a parameter object: update(resource, { id, data, previousData }, options)\r\n *\r\n * This hook uses react-query useMutation under the hood.\r\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\r\n *\r\n * @see https://react-query-v3.tanstack.com/reference/useMutation\r\n *\r\n * @example // set params when calling the update callback\r\n *\r\n * import { useUpdate, useRecordContext } from 'react-admin';\r\n *\r\n * const IncreaseLikeButton = () => {\r\n *     const record = useRecordContext();\r\n *     const diff = { likes: record.likes + 1 };\r\n *     const [update, { isLoading, error }] = useUpdate();\r\n *     const handleClick = () => {\r\n *         update('likes', { id: record.id, data: diff, previousData: record })\r\n *     }\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <button disabled={isLoading} onClick={handleClick}>Like</div>;\r\n * };\r\n *\r\n * @example // set params when calling the hook\r\n *\r\n * import { useUpdate, useRecordContext } from 'react-admin';\r\n *\r\n * const IncreaseLikeButton = () => {\r\n *     const record = useRecordContext();\r\n *     const diff = { likes: record.likes + 1 };\r\n *     const [update, { isLoading, error }] = useUpdate('likes', { id: record.id, data: diff, previousData: record });\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <button disabled={isLoading} onClick={() => update()}>Like</button>;\r\n * };\r\n *\r\n * @example // TypeScript\r\n * const [update, { data }] = useUpdate<Product>('products', { id, data: diff, previousData: product });\r\n *                    \\-- data is Product\r\n */\r\nexport const useUpdate = <\r\n    RecordType extends RaRecord = any,\r\n    MutationError = unknown\r\n>(\r\n    resource?: string,\r\n    params: Partial<UpdateParams<RecordType>> = {},\r\n    options: UseUpdateOptions<RecordType, MutationError> = {}\r\n): UseUpdateResult<RecordType, boolean, MutationError> => {\r\n    const dataProvider = useDataProvider();\r\n    const queryClient = useQueryClient();\r\n    const { id, data, meta } = params;\r\n    const { mutationMode = 'pessimistic', ...reactMutationOptions } = options;\r\n    const mode = useRef<MutationMode>(mutationMode);\r\n    const paramsRef = useRef<Partial<UpdateParams<RecordType>>>(params);\r\n    const snapshot = useRef<Snapshot>([]);\r\n\r\n    const updateCache = ({ resource, id, data }) => {\r\n        // hack: only way to tell react-query not to fetch this query for the next 5 seconds\r\n        // because setQueryData doesn't accept a stale time option\r\n        const now = Date.now();\r\n        const updatedAt = mode.current === 'undoable' ? now + 5 * 1000 : now;\r\n\r\n        const updateColl = (old: RecordType[]) => {\r\n            if (!old) return;\r\n            const index = old.findIndex(\r\n                // eslint-disable-next-line eqeqeq\r\n                record => record.id == id\r\n            );\r\n            if (index === -1) {\r\n                return old;\r\n            }\r\n            return [\r\n                ...old.slice(0, index),\r\n                { ...old[index], ...data },\r\n                ...old.slice(index + 1),\r\n            ];\r\n        };\r\n\r\n        type GetListResult = Omit<OriginalGetListResult, 'data'> & {\r\n            data?: RecordType[];\r\n        };\r\n\r\n        queryClient.setQueryData(\r\n            [resource, 'getOne', { id: String(id), meta }],\r\n            (record: RecordType) => ({ ...record, ...data }),\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getList'],\r\n            (res: GetListResult) =>\r\n                res && res.data ? { ...res, data: updateColl(res.data) } : res,\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getInfiniteList'],\r\n            (res: UseInfiniteQueryResult<GetInfiniteListResult>['data']) =>\r\n                res && res.pages\r\n                    ? {\r\n                          ...res,\r\n                          pages: res.pages.map(page => ({\r\n                              ...page,\r\n                              data: updateColl(page.data),\r\n                          })),\r\n                      }\r\n                    : res,\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getMany'],\r\n            (coll: RecordType[]) =>\r\n                coll && coll.length > 0 ? updateColl(coll) : coll,\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getManyReference'],\r\n            (res: GetListResult) =>\r\n                res && res.data\r\n                    ? { data: updateColl(res.data), total: res.total }\r\n                    : res,\r\n            { updatedAt }\r\n        );\r\n    };\r\n\r\n    const mutation = useMutation<\r\n        RecordType,\r\n        MutationError,\r\n        Partial<UseUpdateMutateParams<RecordType>>\r\n    >(\r\n        ({\r\n            resource: callTimeResource = resource,\r\n            id: callTimeId = paramsRef.current.id,\r\n            data: callTimeData = paramsRef.current.data,\r\n            meta: callTimeMeta = paramsRef.current.meta,\r\n            previousData: callTimePreviousData = paramsRef.current.previousData,\r\n        } = {}) =>\r\n            dataProvider\r\n                .update<RecordType>(callTimeResource, {\r\n                    id: callTimeId,\r\n                    data: callTimeData,\r\n                    previousData: callTimePreviousData,\r\n                    meta: callTimeMeta,\r\n                })\r\n                .then(({ data }) => data),\r\n        {\r\n            ...reactMutationOptions,\r\n            onMutate: async (\r\n                variables: Partial<UseUpdateMutateParams<RecordType>>\r\n            ) => {\r\n                if (reactMutationOptions.onMutate) {\r\n                    const userContext =\r\n                        (await reactMutationOptions.onMutate(variables)) || {};\r\n                    return {\r\n                        snapshot: snapshot.current,\r\n                        // @ts-ignore\r\n                        ...userContext,\r\n                    };\r\n                } else {\r\n                    // Return a context object with the snapshot value\r\n                    return { snapshot: snapshot.current };\r\n                }\r\n            },\r\n            onError: (\r\n                error: MutationError,\r\n                variables: Partial<UseUpdateMutateParams<RecordType>> = {},\r\n                context: { snapshot: Snapshot }\r\n            ) => {\r\n                if (\r\n                    mode.current === 'optimistic' ||\r\n                    mode.current === 'undoable'\r\n                ) {\r\n                    // If the mutation fails, use the context returned from onMutate to rollback\r\n                    context.snapshot.forEach(([key, value]) => {\r\n                        queryClient.setQueryData(key, value);\r\n                    });\r\n                }\r\n\r\n                if (reactMutationOptions.onError) {\r\n                    return reactMutationOptions.onError(\r\n                        error,\r\n                        variables,\r\n                        context\r\n                    );\r\n                }\r\n                // call-time error callback is executed by react-query\r\n            },\r\n            onSuccess: (\r\n                data: RecordType,\r\n                variables: Partial<UseUpdateMutateParams<RecordType>> = {},\r\n                context: unknown\r\n            ) => {\r\n                if (mode.current === 'pessimistic') {\r\n                    // update the getOne and getList query cache with the new result\r\n                    const {\r\n                        resource: callTimeResource = resource,\r\n                        id: callTimeId = id,\r\n                    } = variables;\r\n                    updateCache({\r\n                        resource: callTimeResource,\r\n                        id: callTimeId,\r\n                        data,\r\n                    });\r\n\r\n                    if (reactMutationOptions.onSuccess) {\r\n                        reactMutationOptions.onSuccess(\r\n                            data,\r\n                            variables,\r\n                            context\r\n                        );\r\n                    }\r\n                    // call-time success callback is executed by react-query\r\n                }\r\n            },\r\n            onSettled: (\r\n                data: RecordType,\r\n                error: MutationError,\r\n                variables: Partial<UseUpdateMutateParams<RecordType>> = {},\r\n                context: { snapshot: Snapshot }\r\n            ) => {\r\n                if (\r\n                    mode.current === 'optimistic' ||\r\n                    mode.current === 'undoable'\r\n                ) {\r\n                    // Always refetch after error or success:\r\n                    context.snapshot.forEach(([key]) => {\r\n                        queryClient.invalidateQueries(key);\r\n                    });\r\n                }\r\n\r\n                if (reactMutationOptions.onSettled) {\r\n                    return reactMutationOptions.onSettled(\r\n                        data,\r\n                        error,\r\n                        variables,\r\n                        context\r\n                    );\r\n                }\r\n            },\r\n        }\r\n    );\r\n\r\n    const update = async (\r\n        callTimeResource: string = resource,\r\n        callTimeParams: Partial<UpdateParams<RecordType>> = {},\r\n        updateOptions: MutateOptions<\r\n            RecordType,\r\n            unknown,\r\n            Partial<UseUpdateMutateParams<RecordType>>,\r\n            unknown\r\n        > & { mutationMode?: MutationMode; returnPromise?: boolean } = {}\r\n    ) => {\r\n        const {\r\n            mutationMode,\r\n            returnPromise = reactMutationOptions.returnPromise,\r\n            onSuccess,\r\n            onSettled,\r\n            onError,\r\n        } = updateOptions;\r\n\r\n        // store the hook time params *at the moment of the call*\r\n        // because they may change afterwards, which would break the undoable mode\r\n        // as the previousData would be overwritten by the optimistic update\r\n        paramsRef.current = params;\r\n\r\n        if (mutationMode) {\r\n            mode.current = mutationMode;\r\n        }\r\n\r\n        if (returnPromise && mode.current !== 'pessimistic') {\r\n            console.warn(\r\n                'The returnPromise parameter can only be used if the mutationMode is set to pessimistic'\r\n            );\r\n        }\r\n\r\n        if (mode.current === 'pessimistic') {\r\n            if (returnPromise) {\r\n                return mutation.mutateAsync(\r\n                    { resource: callTimeResource, ...callTimeParams },\r\n                    { onSuccess, onSettled, onError }\r\n                );\r\n            }\r\n            return mutation.mutate(\r\n                { resource: callTimeResource, ...callTimeParams },\r\n                { onSuccess, onSettled, onError }\r\n            );\r\n        }\r\n\r\n        const {\r\n            id: callTimeId = id,\r\n            data: callTimeData = data,\r\n            meta: callTimeMeta = meta,\r\n        } = callTimeParams;\r\n\r\n        // optimistic update as documented in https://react-query-v3.tanstack.com/guides/optimistic-updates\r\n        // except we do it in a mutate wrapper instead of the onMutate callback\r\n        // to have access to success side effects\r\n\r\n        const previousRecord = queryClient.getQueryData<RecordType>([\r\n            callTimeResource,\r\n            'getOne',\r\n            { id: String(callTimeId), meta: callTimeMeta },\r\n        ]);\r\n\r\n        const queryKeys = [\r\n            [\r\n                callTimeResource,\r\n                'getOne',\r\n                { id: String(callTimeId), meta: callTimeMeta },\r\n            ],\r\n            [callTimeResource, 'getList'],\r\n            [callTimeResource, 'getInfiniteList'],\r\n            [callTimeResource, 'getMany'],\r\n            [callTimeResource, 'getManyReference'],\r\n        ];\r\n\r\n        /**\r\n         * Snapshot the previous values via queryClient.getQueriesData()\r\n         *\r\n         * The snapshotData ref will contain an array of tuples [query key, associated data]\r\n         *\r\n         * @example\r\n         * [\r\n         *   [['posts', 'getOne', { id: '1' }], { id: 1, title: 'Hello' }],\r\n         *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\r\n         *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\r\n         * ]\r\n         *\r\n         * @see https://react-query-v3.tanstack.com/reference/QueryClient#queryclientgetqueriesdata\r\n         */\r\n        snapshot.current = queryKeys.reduce(\r\n            (prev, curr) => prev.concat(queryClient.getQueriesData(curr)),\r\n            [] as Snapshot\r\n        );\r\n\r\n        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\r\n        await Promise.all(\r\n            snapshot.current.map(([key]) => queryClient.cancelQueries(key))\r\n        );\r\n\r\n        // Optimistically update to the new value\r\n        updateCache({\r\n            resource: callTimeResource,\r\n            id: callTimeId,\r\n            data: callTimeData,\r\n        });\r\n\r\n        // run the success callbacks during the next tick\r\n        if (onSuccess) {\r\n            setTimeout(\r\n                () =>\r\n                    onSuccess(\r\n                        { ...previousRecord, ...callTimeData },\r\n                        { resource: callTimeResource, ...callTimeParams },\r\n                        { snapshot: snapshot.current }\r\n                    ),\r\n                0\r\n            );\r\n        }\r\n        if (reactMutationOptions.onSuccess) {\r\n            setTimeout(\r\n                () =>\r\n                    reactMutationOptions.onSuccess(\r\n                        { ...previousRecord, ...callTimeData },\r\n                        { resource: callTimeResource, ...callTimeParams },\r\n                        { snapshot: snapshot.current }\r\n                    ),\r\n                0\r\n            );\r\n        }\r\n\r\n        if (mode.current === 'optimistic') {\r\n            // call the mutate method without success side effects\r\n            return mutation.mutate(\r\n                { resource: callTimeResource, ...callTimeParams },\r\n                { onSettled, onError }\r\n            );\r\n        } else {\r\n            // undoable mutation: register the mutation for later\r\n            undoableEventEmitter.once('end', ({ isUndo }) => {\r\n                if (isUndo) {\r\n                    // rollback\r\n                    snapshot.current.forEach(([key, value]) => {\r\n                        queryClient.setQueryData(key, value);\r\n                    });\r\n                } else {\r\n                    // call the mutate method without success side effects\r\n                    mutation.mutate(\r\n                        { resource: callTimeResource, ...callTimeParams },\r\n                        { onSettled, onError }\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    return [useEvent(update), mutation];\r\n};\r\n\r\ntype Snapshot = [key: QueryKey, value: any][];\r\n\r\nexport interface UseUpdateMutateParams<RecordType extends RaRecord = any> {\r\n    resource?: string;\r\n    id?: RecordType['id'];\r\n    data?: Partial<RecordType>;\r\n    previousData?: any;\r\n    meta?: any;\r\n}\r\n\r\nexport type UseUpdateOptions<\r\n    RecordType extends RaRecord = any,\r\n    MutationError = unknown\r\n> = UseMutationOptions<\r\n    RecordType,\r\n    MutationError,\r\n    Partial<UseUpdateMutateParams<RecordType>>\r\n> & { mutationMode?: MutationMode; returnPromise?: boolean };\r\n\r\nexport type UpdateMutationFunction<\r\n    RecordType extends RaRecord = any,\r\n    TReturnPromise extends boolean = boolean,\r\n    MutationError = unknown\r\n> = (\r\n    resource?: string,\r\n    params?: Partial<UpdateParams<RecordType>>,\r\n    options?: MutateOptions<\r\n        RecordType,\r\n        MutationError,\r\n        Partial<UseUpdateMutateParams<RecordType>>,\r\n        unknown\r\n    > & { mutationMode?: MutationMode; returnPromise?: TReturnPromise }\r\n) => Promise<TReturnPromise extends true ? RecordType : void>;\r\n\r\nexport type UseUpdateResult<\r\n    RecordType extends RaRecord = any,\r\n    TReturnPromise extends boolean = boolean,\r\n    MutationError = unknown\r\n> = [\r\n    UpdateMutationFunction<RecordType, TReturnPromise, MutationError>,\r\n    UseMutationResult<\r\n        RecordType,\r\n        MutationError,\r\n        Partial<UpdateParams<RecordType> & { resource?: string }>,\r\n        unknown\r\n    >\r\n];\r\n", "import { useRef } from 'react';\r\nimport {\r\n    useMutation,\r\n    useQueryClient,\r\n    UseMutationOptions,\r\n    UseMutationResult,\r\n    MutateOptions,\r\n    QueryKey,\r\n    UseInfiniteQueryResult,\r\n} from 'react-query';\r\n\r\nimport { useDataProvider } from './useDataProvider';\r\nimport undoableEventEmitter from './undoableEventEmitter';\r\nimport {\r\n    RaRecord,\r\n    UpdateManyParams,\r\n    MutationMode,\r\n    GetListResult as OriginalGetListResult,\r\n    GetInfiniteListResult,\r\n} from '../types';\r\nimport { useEvent } from '../util';\r\nimport { Identifier } from '..';\r\n\r\n/**\r\n * Get a callback to call the dataProvider.updateMany() method, the result and the loading state.\r\n *\r\n * @param {string} resource\r\n * @param {Params} params The updateMany parameters { ids, data, meta }\r\n * @param {Object} options Options object to pass to the queryClient.\r\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\r\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\r\n *\r\n * @typedef Params\r\n * @prop params.ids The resource identifiers, e.g. [123, 456]\r\n * @prop params.data The updates to merge into the record, e.g. { views: 10 }\r\n * @prop params.meta Optional meta parameters\r\n *\r\n * @returns The current mutation state. Destructure as [updateMany, { data, error, isLoading }].\r\n *\r\n * The return value updates according to the request state:\r\n *\r\n * - initial: [updateMany, { isLoading: false, isIdle: true }]\r\n * - start:   [updateMany, { isLoading: true }]\r\n * - success: [updateMany, { data: [data from response], isLoading: false, isSuccess: true }]\r\n * - error:   [updateMany, { error: [error from response], isLoading: false, isError: true }]\r\n *\r\n * The updateMany() function must be called with a resource and a parameter object: updateMany(resource, { ids, data, previousData }, options)\r\n *\r\n * This hook uses react-query useMutation under the hood.\r\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\r\n *\r\n * @see https://react-query-v3.tanstack.com/reference/useMutation\r\n *\r\n * @example // set params when calling the updateMany callback\r\n *\r\n * import { useUpdateMany, useListContext } from 'react-admin';\r\n *\r\n * const BulkResetViewsButton = () => {\r\n *     const { selectedIds } = useListContext();\r\n *     const [updateMany, { isLoading, error }] = useUpdateMany();\r\n *     const handleClick = () => {\r\n *         updateMany('posts', { ids: selectedIds, data: { views: 0 } });\r\n *     }\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <button disabled={isLoading} onClick={handleClick}>Reset views</button>;\r\n * };\r\n *\r\n * @example // set params when calling the hook\r\n *\r\n * import { useUpdateMany, useListContext } from 'react-admin';\r\n *\r\n * const BulkResetViewsButton = () => {\r\n *     const { selectedIds } = useListContext();\r\n *     const [updateMany, { isLoading, error }] = useUpdateMany('posts', { ids: selectedIds, data: { views: 0 } });\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <button disabled={isLoading} onClick={() => updateMany()}>Reset views</button>;\r\n * };\r\n */\r\nexport const useUpdateMany = <\r\n    RecordType extends RaRecord = any,\r\n    MutationError = unknown\r\n>(\r\n    resource?: string,\r\n    params: Partial<UpdateManyParams<Partial<RecordType>>> = {},\r\n    options: UseUpdateManyOptions<RecordType, MutationError> = {}\r\n): UseUpdateManyResult<RecordType, boolean, MutationError> => {\r\n    const dataProvider = useDataProvider();\r\n    const queryClient = useQueryClient();\r\n    const { ids, data, meta } = params;\r\n    const { mutationMode = 'pessimistic', ...reactMutationOptions } = options;\r\n    const mode = useRef<MutationMode>(mutationMode);\r\n    const paramsRef = useRef<Partial<UpdateManyParams<Partial<RecordType>>>>(\r\n        params\r\n    );\r\n    const snapshot = useRef<Snapshot>([]);\r\n\r\n    const updateCache = async ({\r\n        resource,\r\n        ids,\r\n        data,\r\n        meta,\r\n    }: {\r\n        resource: string;\r\n        ids: Identifier[];\r\n        data: any;\r\n        meta?: any;\r\n    }) => {\r\n        // hack: only way to tell react-query not to fetch this query for the next 5 seconds\r\n        // because setQueryData doesn't accept a stale time option\r\n        const updatedAt =\r\n            mode.current === 'undoable' ? Date.now() + 1000 * 5 : Date.now();\r\n\r\n        const updateColl = (old: RecordType[]) => {\r\n            if (!old) return;\r\n            let newCollection = [...old];\r\n            ids.forEach(id => {\r\n                // eslint-disable-next-line eqeqeq\r\n                const index = old.findIndex(record => record.id == id);\r\n                if (index === -1) {\r\n                    return;\r\n                }\r\n                newCollection = [\r\n                    ...newCollection.slice(0, index),\r\n                    { ...newCollection[index], ...data },\r\n                    ...newCollection.slice(index + 1),\r\n                ];\r\n            });\r\n            return newCollection;\r\n        };\r\n\r\n        type GetListResult = Omit<OriginalGetListResult, 'data'> & {\r\n            data?: RecordType[];\r\n        };\r\n\r\n        ids.forEach(id =>\r\n            queryClient.setQueryData(\r\n                [resource, 'getOne', { id: String(id), meta }],\r\n                (record: RecordType) => ({ ...record, ...data }),\r\n                { updatedAt }\r\n            )\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getList'],\r\n            (res: GetListResult) =>\r\n                res && res.data ? { ...res, data: updateColl(res.data) } : res,\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getInfiniteList'],\r\n            (res: UseInfiniteQueryResult<GetInfiniteListResult>['data']) =>\r\n                res && res.pages\r\n                    ? {\r\n                          ...res,\r\n                          pages: res.pages.map(page => ({\r\n                              ...page,\r\n                              data: updateColl(page.data),\r\n                          })),\r\n                      }\r\n                    : res,\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getMany'],\r\n            (coll: RecordType[]) =>\r\n                coll && coll.length > 0 ? updateColl(coll) : coll,\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getManyReference'],\r\n            (res: GetListResult) =>\r\n                res && res.data\r\n                    ? { data: updateColl(res.data), total: res.total }\r\n                    : res,\r\n            { updatedAt }\r\n        );\r\n    };\r\n\r\n    const mutation = useMutation<\r\n        Array<RecordType['id']>,\r\n        MutationError,\r\n        Partial<UseUpdateManyMutateParams<RecordType>>\r\n    >(\r\n        ({\r\n            resource: callTimeResource = resource,\r\n            ids: callTimeIds = paramsRef.current.ids,\r\n            data: callTimeData = paramsRef.current.data,\r\n            meta: callTimeMeta = paramsRef.current.meta,\r\n        } = {}) =>\r\n            dataProvider\r\n                .updateMany(callTimeResource, {\r\n                    ids: callTimeIds,\r\n                    data: callTimeData,\r\n                    meta: callTimeMeta,\r\n                })\r\n                .then(({ data }) => data),\r\n        {\r\n            ...reactMutationOptions,\r\n            onMutate: async (\r\n                variables: Partial<UseUpdateManyMutateParams<RecordType>>\r\n            ) => {\r\n                if (reactMutationOptions.onMutate) {\r\n                    const userContext =\r\n                        (await reactMutationOptions.onMutate(variables)) || {};\r\n                    return {\r\n                        snapshot: snapshot.current,\r\n                        // @ts-ignore\r\n                        ...userContext,\r\n                    };\r\n                } else {\r\n                    // Return a context object with the snapshot value\r\n                    return { snapshot: snapshot.current };\r\n                }\r\n            },\r\n            onError: (\r\n                error: MutationError,\r\n                variables: Partial<UseUpdateManyMutateParams<RecordType>> = {},\r\n                context: { snapshot: Snapshot }\r\n            ) => {\r\n                if (\r\n                    mode.current === 'optimistic' ||\r\n                    mode.current === 'undoable'\r\n                ) {\r\n                    // If the mutation fails, use the context returned from onMutate to rollback\r\n                    context.snapshot.forEach(([key, value]) => {\r\n                        queryClient.setQueryData(key, value);\r\n                    });\r\n                }\r\n\r\n                if (reactMutationOptions.onError) {\r\n                    return reactMutationOptions.onError(\r\n                        error,\r\n                        variables,\r\n                        context\r\n                    );\r\n                }\r\n                // call-time error callback is executed by react-query\r\n            },\r\n            onSuccess: (\r\n                data: Array<RecordType['id']>,\r\n                variables: Partial<UseUpdateManyMutateParams<RecordType>> = {},\r\n                context: unknown\r\n            ) => {\r\n                if (mode.current === 'pessimistic') {\r\n                    // update the getOne and getList query cache with the new result\r\n                    const {\r\n                        resource: callTimeResource = resource,\r\n                        ids: callTimeIds = ids,\r\n                        data: callTimeData = data,\r\n                        meta: callTimeMeta = meta,\r\n                    } = variables;\r\n                    updateCache({\r\n                        resource: callTimeResource,\r\n                        ids: callTimeIds,\r\n                        data: callTimeData,\r\n                        meta: callTimeMeta,\r\n                    });\r\n\r\n                    if (reactMutationOptions.onSuccess) {\r\n                        reactMutationOptions.onSuccess(\r\n                            data,\r\n                            variables,\r\n                            context\r\n                        );\r\n                    }\r\n                    // call-time success callback is executed by react-query\r\n                }\r\n            },\r\n            onSettled: (\r\n                data: Array<RecordType['id']>,\r\n                error: MutationError,\r\n                variables: Partial<UseUpdateManyMutateParams<RecordType>> = {},\r\n                context: { snapshot: Snapshot }\r\n            ) => {\r\n                if (\r\n                    mode.current === 'optimistic' ||\r\n                    mode.current === 'undoable'\r\n                ) {\r\n                    // Always refetch after error or success:\r\n                    context.snapshot.forEach(([key]) => {\r\n                        queryClient.invalidateQueries(key);\r\n                    });\r\n                }\r\n\r\n                if (reactMutationOptions.onSettled) {\r\n                    return reactMutationOptions.onSettled(\r\n                        data,\r\n                        error,\r\n                        variables,\r\n                        context\r\n                    );\r\n                }\r\n            },\r\n        }\r\n    );\r\n\r\n    const updateMany = async (\r\n        callTimeResource: string = resource,\r\n        callTimeParams: Partial<UpdateManyParams<RecordType>> = {},\r\n        updateOptions: MutateOptions<\r\n            Array<RecordType['id']>,\r\n            unknown,\r\n            Partial<UseUpdateManyMutateParams<RecordType>>,\r\n            unknown\r\n        > & { mutationMode?: MutationMode; returnPromise?: boolean } = {}\r\n    ) => {\r\n        const {\r\n            mutationMode,\r\n            returnPromise,\r\n            onSuccess,\r\n            onSettled,\r\n            onError,\r\n        } = updateOptions;\r\n\r\n        // store the hook time params *at the moment of the call*\r\n        // because they may change afterwards, which would break the undoable mode\r\n        // as the previousData would be overwritten by the optimistic update\r\n        paramsRef.current = params;\r\n\r\n        if (mutationMode) {\r\n            mode.current = mutationMode;\r\n        }\r\n\r\n        if (returnPromise && mode.current !== 'pessimistic') {\r\n            console.warn(\r\n                'The returnPromise parameter can only be used if the mutationMode is set to pessimistic'\r\n            );\r\n        }\r\n\r\n        if (mode.current === 'pessimistic') {\r\n            if (returnPromise) {\r\n                return mutation.mutateAsync(\r\n                    { resource: callTimeResource, ...callTimeParams },\r\n                    { onSuccess, onSettled, onError }\r\n                );\r\n            }\r\n            return mutation.mutate(\r\n                { resource: callTimeResource, ...callTimeParams },\r\n                { onSuccess, onSettled, onError }\r\n            );\r\n        }\r\n\r\n        const {\r\n            ids: callTimeIds = ids,\r\n            data: callTimeData = data,\r\n            meta: callTimeMeta = meta,\r\n        } = callTimeParams;\r\n\r\n        // optimistic update as documented in https://react-query-v3.tanstack.com/guides/optimistic-updates\r\n        // except we do it in a mutate wrapper instead of the onMutate callback\r\n        // to have access to success side effects\r\n\r\n        const queryKeys = [\r\n            [callTimeResource, 'getOne'],\r\n            [callTimeResource, 'getList'],\r\n            [callTimeResource, 'getInfiniteList'],\r\n            [callTimeResource, 'getMany'],\r\n            [callTimeResource, 'getManyReference'],\r\n        ];\r\n\r\n        /**\r\n         * Snapshot the previous values via queryClient.getQueriesData()\r\n         *\r\n         * The snapshotData ref will contain an array of tuples [query key, associated data]\r\n         *\r\n         * @example\r\n         * [\r\n         *   [['posts', 'getOne', { id: '1' }], { id: 1, title: 'Hello' }],\r\n         *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\r\n         *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\r\n         * ]\r\n         *\r\n         * @see https://react-query-v3.tanstack.com/reference/QueryClient#queryclientgetqueriesdata\r\n         */\r\n        snapshot.current = queryKeys.reduce(\r\n            (prev, curr) => prev.concat(queryClient.getQueriesData(curr)),\r\n            [] as Snapshot\r\n        );\r\n\r\n        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\r\n        await Promise.all(\r\n            snapshot.current.map(([key]) => queryClient.cancelQueries(key))\r\n        );\r\n\r\n        // Optimistically update to the new data\r\n        await updateCache({\r\n            resource: callTimeResource,\r\n            ids: callTimeIds,\r\n            data: callTimeData,\r\n            meta: callTimeMeta,\r\n        });\r\n\r\n        // run the success callbacks during the next tick\r\n        if (onSuccess) {\r\n            setTimeout(\r\n                () =>\r\n                    onSuccess(\r\n                        callTimeIds,\r\n                        { resource: callTimeResource, ...callTimeParams },\r\n                        { snapshot: snapshot.current }\r\n                    ),\r\n                0\r\n            );\r\n        }\r\n        if (reactMutationOptions.onSuccess) {\r\n            setTimeout(\r\n                () =>\r\n                    reactMutationOptions.onSuccess(\r\n                        callTimeIds,\r\n                        { resource: callTimeResource, ...callTimeParams },\r\n                        { snapshot: snapshot.current }\r\n                    ),\r\n                0\r\n            );\r\n        }\r\n\r\n        if (mode.current === 'optimistic') {\r\n            // call the mutate method without success side effects\r\n            return mutation.mutate(\r\n                { resource: callTimeResource, ...callTimeParams },\r\n                { onSettled, onError }\r\n            );\r\n        } else {\r\n            // undoable mutation: register the mutation for later\r\n            undoableEventEmitter.once('end', ({ isUndo }) => {\r\n                if (isUndo) {\r\n                    // rollback\r\n                    snapshot.current.forEach(([key, value]) => {\r\n                        queryClient.setQueryData(key, value);\r\n                    });\r\n                } else {\r\n                    // call the mutate method without success side effects\r\n                    mutation.mutate(\r\n                        { resource: callTimeResource, ...callTimeParams },\r\n                        { onSettled, onError }\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    return [useEvent(updateMany), mutation];\r\n};\r\n\r\ntype Snapshot = [key: QueryKey, value: any][];\r\n\r\nexport interface UseUpdateManyMutateParams<RecordType extends RaRecord = any> {\r\n    resource?: string;\r\n    ids?: Array<RecordType['id']>;\r\n    data?: Partial<RecordType>;\r\n    previousData?: any;\r\n    meta?: any;\r\n}\r\n\r\nexport type UseUpdateManyOptions<\r\n    RecordType extends RaRecord = any,\r\n    MutationError = unknown\r\n> = UseMutationOptions<\r\n    Array<RecordType['id']>,\r\n    MutationError,\r\n    Partial<UseUpdateManyMutateParams<RecordType>>\r\n> & { mutationMode?: MutationMode };\r\n\r\nexport type UseUpdateManyResult<\r\n    RecordType extends RaRecord = any,\r\n    TReturnPromise extends boolean = boolean,\r\n    MutationError = unknown\r\n> = [\r\n    (\r\n        resource?: string,\r\n        params?: Partial<UpdateManyParams<RecordType>>,\r\n        options?: MutateOptions<\r\n            Array<RecordType['id']>,\r\n            MutationError,\r\n            Partial<UseUpdateManyMutateParams<RecordType>>,\r\n            unknown\r\n        > & { mutationMode?: MutationMode; returnPromise?: TReturnPromise }\r\n    ) => Promise<TReturnPromise extends true ? Array<RecordType['id']> : void>,\r\n    UseMutationResult<\r\n        Array<RecordType['id']>,\r\n        MutationError,\r\n        Partial<UpdateManyParams<Partial<RecordType>> & { resource?: string }>,\r\n        unknown\r\n    >\r\n];\r\n", "import { useRef } from 'react';\r\nimport {\r\n    useMutation,\r\n    useQueryClient,\r\n    UseMutationOptions,\r\n    UseMutationResult,\r\n    MutateOptions,\r\n    QueryKey,\r\n    UseInfiniteQueryResult,\r\n} from 'react-query';\r\n\r\nimport { useDataProvider } from './useDataProvider';\r\nimport undoableEventEmitter from './undoableEventEmitter';\r\nimport {\r\n    RaRecord,\r\n    DeleteParams,\r\n    MutationMode,\r\n    GetListResult as OriginalGetListResult,\r\n    GetInfiniteListResult,\r\n} from '../types';\r\nimport { useEvent } from '../util';\r\n\r\n/**\r\n * Get a callback to call the dataProvider.delete() method, the result and the loading state.\r\n *\r\n * @param {string} resource\r\n * @param {Params} params The delete parameters { id, previousData }\r\n * @param {Object} options Options object to pass to the queryClient.\r\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\r\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\r\n *\r\n * @typedef Params\r\n * @prop params.id The resource identifier, e.g. 123\r\n * @prop params.previousData The record before the update is applied\r\n *\r\n * @returns The current mutation state. Destructure as [deleteOne, { data, error, isLoading }].\r\n *\r\n * The return value updates according to the request state:\r\n *\r\n * - initial: [deleteOne, { isLoading: false, isIdle: true }]\r\n * - start:   [deleteOne, { isLoading: true }]\r\n * - success: [deleteOne, { data: [data from response], isLoading: false, isSuccess: true }]\r\n * - error:   [deleteOne, { error: [error from response], isLoading: false, isError: true }]\r\n *\r\n * The deleteOne() function must be called with a resource and a parameter object: deleteOne(resource, { id, previousData, meta }, options)\r\n *\r\n * This hook uses react-query useMutation under the hood.\r\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\r\n *\r\n * @see https://react-query-v3.tanstack.com/reference/useMutation\r\n *\r\n * @example // set params when calling the deleteOne callback\r\n *\r\n * import { useDelete, useRecordContext } from 'react-admin';\r\n *\r\n * const DeleteButton = () => {\r\n *     const record = useRecordContext();\r\n *     const [deleteOne, { isLoading, error }] = useDelete();\r\n *     const handleClick = () => {\r\n *         deleteOne('likes', { id: record.id, previousData: record })\r\n *     }\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <button disabled={isLoading} onClick={handleClick}>Delete</div>;\r\n * };\r\n *\r\n * @example // set params when calling the hook\r\n *\r\n * import { useDelete, useRecordContext } from 'react-admin';\r\n *\r\n * const DeleteButton = () => {\r\n *     const record = useRecordContext();\r\n *     const [deleteOne, { isLoading, error }] = useDelete('likes', { id: record.id, previousData: record });\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <button disabled={isLoading} onClick={() => deleteOne()}>Delete</button>;\r\n * };\r\n *\r\n * @example // TypeScript\r\n * const [delete, { data }] = useDelete<Product>('products', { id, previousData: product });\r\n *                    \\-- data is Product\r\n */\r\nexport const useDelete = <\r\n    RecordType extends RaRecord = any,\r\n    MutationError = unknown\r\n>(\r\n    resource?: string,\r\n    params: Partial<DeleteParams<RecordType>> = {},\r\n    options: UseDeleteOptions<RecordType, MutationError> = {}\r\n): UseDeleteResult<RecordType, MutationError> => {\r\n    const dataProvider = useDataProvider();\r\n    const queryClient = useQueryClient();\r\n    const { id, previousData } = params;\r\n    const { mutationMode = 'pessimistic', ...reactMutationOptions } = options;\r\n    const mode = useRef<MutationMode>(mutationMode);\r\n    const paramsRef = useRef<Partial<DeleteParams<RecordType>>>(params);\r\n    const snapshot = useRef<Snapshot>([]);\r\n\r\n    const updateCache = ({ resource, id }) => {\r\n        // hack: only way to tell react-query not to fetch this query for the next 5 seconds\r\n        // because setQueryData doesn't accept a stale time option\r\n        const now = Date.now();\r\n        const updatedAt = mode.current === 'undoable' ? now + 5 * 1000 : now;\r\n\r\n        const updateColl = (old: RecordType[]) => {\r\n            if (!old) return;\r\n            const index = old.findIndex(\r\n                // eslint-disable-next-line eqeqeq\r\n                record => record.id == id\r\n            );\r\n            if (index === -1) {\r\n                return old;\r\n            }\r\n            return [...old.slice(0, index), ...old.slice(index + 1)];\r\n        };\r\n\r\n        type GetListResult = Omit<OriginalGetListResult, 'data'> & {\r\n            data?: RecordType[];\r\n        };\r\n\r\n        queryClient.setQueriesData(\r\n            [resource, 'getList'],\r\n            (res: GetListResult) => {\r\n                if (!res || !res.data) return res;\r\n                const newCollection = updateColl(res.data);\r\n                const recordWasFound = newCollection.length < res.data.length;\r\n                return recordWasFound\r\n                    ? {\r\n                          data: newCollection,\r\n                          total: res.total ? res.total - 1 : undefined,\r\n                          pageInfo: res.pageInfo,\r\n                      }\r\n                    : res;\r\n            },\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getInfiniteList'],\r\n            (res: UseInfiniteQueryResult<GetInfiniteListResult>['data']) => {\r\n                if (!res || !res.pages) return res;\r\n                return {\r\n                    ...res,\r\n                    pages: res.pages.map(page => {\r\n                        const newCollection = updateColl(page.data);\r\n                        const recordWasFound =\r\n                            newCollection.length < page.data.length;\r\n                        return recordWasFound\r\n                            ? {\r\n                                  ...page,\r\n                                  data: newCollection,\r\n                                  total: page.total\r\n                                      ? page.total - 1\r\n                                      : undefined,\r\n                                  pageInfo: page.pageInfo,\r\n                              }\r\n                            : page;\r\n                    }),\r\n                };\r\n            },\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getMany'],\r\n            (coll: RecordType[]) =>\r\n                coll && coll.length > 0 ? updateColl(coll) : coll,\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getManyReference'],\r\n            (res: GetListResult) => {\r\n                if (!res || !res.data) return res;\r\n                const newCollection = updateColl(res.data);\r\n                const recordWasFound = newCollection.length < res.data.length;\r\n                return recordWasFound\r\n                    ? {\r\n                          data: newCollection,\r\n                          total: res.total - 1,\r\n                      }\r\n                    : res;\r\n            },\r\n            { updatedAt }\r\n        );\r\n    };\r\n\r\n    const mutation = useMutation<\r\n        RecordType,\r\n        MutationError,\r\n        Partial<UseDeleteMutateParams<RecordType>>\r\n    >(\r\n        ({\r\n            resource: callTimeResource = resource,\r\n            id: callTimeId = paramsRef.current.id,\r\n            previousData: callTimePreviousData = paramsRef.current.previousData,\r\n            meta: callTimeMeta = paramsRef.current.meta,\r\n        } = {}) =>\r\n            dataProvider\r\n                .delete<RecordType>(callTimeResource, {\r\n                    id: callTimeId,\r\n                    previousData: callTimePreviousData,\r\n                    meta: callTimeMeta,\r\n                })\r\n                .then(({ data }) => data),\r\n        {\r\n            ...reactMutationOptions,\r\n            onMutate: async (\r\n                variables: Partial<UseDeleteMutateParams<RecordType>>\r\n            ) => {\r\n                if (reactMutationOptions.onMutate) {\r\n                    const userContext =\r\n                        (await reactMutationOptions.onMutate(variables)) || {};\r\n                    return {\r\n                        snapshot: snapshot.current,\r\n                        // @ts-ignore\r\n                        ...userContext,\r\n                    };\r\n                } else {\r\n                    // Return a context object with the snapshot value\r\n                    return { snapshot: snapshot.current };\r\n                }\r\n            },\r\n            onError: (\r\n                error: MutationError,\r\n                variables: Partial<UseDeleteMutateParams<RecordType>> = {},\r\n                context: { snapshot: Snapshot }\r\n            ) => {\r\n                if (\r\n                    mode.current === 'optimistic' ||\r\n                    mode.current === 'undoable'\r\n                ) {\r\n                    // If the mutation fails, use the context returned from onMutate to rollback\r\n                    context.snapshot.forEach(([key, value]) => {\r\n                        queryClient.setQueryData(key, value);\r\n                    });\r\n                }\r\n\r\n                if (reactMutationOptions.onError) {\r\n                    return reactMutationOptions.onError(\r\n                        error,\r\n                        variables,\r\n                        context\r\n                    );\r\n                }\r\n                // call-time error callback is executed by react-query\r\n            },\r\n            onSuccess: (\r\n                data: RecordType,\r\n                variables: Partial<UseDeleteMutateParams<RecordType>> = {},\r\n                context: unknown\r\n            ) => {\r\n                if (mode.current === 'pessimistic') {\r\n                    // update the getOne and getList query cache with the new result\r\n                    const {\r\n                        resource: callTimeResource = resource,\r\n                        id: callTimeId = id,\r\n                    } = variables;\r\n                    updateCache({\r\n                        resource: callTimeResource,\r\n                        id: callTimeId,\r\n                    });\r\n\r\n                    if (reactMutationOptions.onSuccess) {\r\n                        reactMutationOptions.onSuccess(\r\n                            data,\r\n                            variables,\r\n                            context\r\n                        );\r\n                    }\r\n                    // call-time success callback is executed by react-query\r\n                }\r\n            },\r\n            onSettled: (\r\n                data: RecordType,\r\n                error: MutationError,\r\n                variables: Partial<UseDeleteMutateParams<RecordType>> = {},\r\n                context: { snapshot: Snapshot }\r\n            ) => {\r\n                if (\r\n                    mode.current === 'optimistic' ||\r\n                    mode.current === 'undoable'\r\n                ) {\r\n                    // Always refetch after error or success:\r\n                    context.snapshot.forEach(([key]) => {\r\n                        queryClient.invalidateQueries(key);\r\n                    });\r\n                }\r\n\r\n                if (reactMutationOptions.onSettled) {\r\n                    return reactMutationOptions.onSettled(\r\n                        data,\r\n                        error,\r\n                        variables,\r\n                        context\r\n                    );\r\n                }\r\n            },\r\n        }\r\n    );\r\n\r\n    const mutate = async (\r\n        callTimeResource: string = resource,\r\n        callTimeParams: Partial<DeleteParams<RecordType>> = {},\r\n        updateOptions: MutateOptions<\r\n            RecordType,\r\n            MutationError,\r\n            Partial<UseDeleteMutateParams<RecordType>>,\r\n            unknown\r\n        > & { mutationMode?: MutationMode } = {}\r\n    ) => {\r\n        const { mutationMode, onSuccess, onSettled, onError } = updateOptions;\r\n\r\n        // store the hook time params *at the moment of the call*\r\n        // because they may change afterwards, which would break the undoable mode\r\n        // as the previousData would be overwritten by the optimistic update\r\n        paramsRef.current = params;\r\n\r\n        if (mutationMode) {\r\n            mode.current = mutationMode;\r\n        }\r\n\r\n        if (mode.current === 'pessimistic') {\r\n            return mutation.mutate(\r\n                { resource: callTimeResource, ...callTimeParams },\r\n                { onSuccess, onSettled, onError }\r\n            );\r\n        }\r\n\r\n        const {\r\n            id: callTimeId = id,\r\n            previousData: callTimePreviousData = previousData,\r\n        } = callTimeParams;\r\n\r\n        // optimistic update as documented in https://react-query-v3.tanstack.com/guides/optimistic-updates\r\n        // except we do it in a mutate wrapper instead of the onMutate callback\r\n        // to have access to success side effects\r\n\r\n        const queryKeys = [\r\n            [callTimeResource, 'getList'],\r\n            [callTimeResource, 'getInfiniteList'],\r\n            [callTimeResource, 'getMany'],\r\n            [callTimeResource, 'getManyReference'],\r\n        ];\r\n\r\n        /**\r\n         * Snapshot the previous values via queryClient.getQueriesData()\r\n         *\r\n         * The snapshotData ref will contain an array of tuples [query key, associated data]\r\n         *\r\n         * @example\r\n         * [\r\n         *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\r\n         *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\r\n         * ]\r\n         *\r\n         * @see https://react-query-v3.tanstack.com/reference/QueryClient#queryclientgetqueriesdata\r\n         */\r\n        snapshot.current = queryKeys.reduce(\r\n            (prev, curr) => prev.concat(queryClient.getQueriesData(curr)),\r\n            [] as Snapshot\r\n        );\r\n\r\n        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\r\n        await Promise.all(\r\n            snapshot.current.map(([key]) => queryClient.cancelQueries(key))\r\n        );\r\n\r\n        // Optimistically update to the new value\r\n        updateCache({\r\n            resource: callTimeResource,\r\n            id: callTimeId,\r\n        });\r\n\r\n        // run the success callbacks during the next tick\r\n        if (onSuccess) {\r\n            setTimeout(\r\n                () =>\r\n                    onSuccess(\r\n                        callTimePreviousData,\r\n                        { resource: callTimeResource, ...callTimeParams },\r\n                        { snapshot: snapshot.current }\r\n                    ),\r\n                0\r\n            );\r\n        }\r\n        if (reactMutationOptions.onSuccess) {\r\n            setTimeout(\r\n                () =>\r\n                    reactMutationOptions.onSuccess(\r\n                        callTimePreviousData,\r\n                        { resource: callTimeResource, ...callTimeParams },\r\n                        { snapshot: snapshot.current }\r\n                    ),\r\n                0\r\n            );\r\n        }\r\n\r\n        if (mode.current === 'optimistic') {\r\n            // call the mutate method without success side effects\r\n            return mutation.mutate(\r\n                { resource: callTimeResource, ...callTimeParams },\r\n                { onSettled, onError }\r\n            );\r\n        } else {\r\n            // undoable mutation: register the mutation for later\r\n            undoableEventEmitter.once('end', ({ isUndo }) => {\r\n                if (isUndo) {\r\n                    // rollback\r\n                    snapshot.current.forEach(([key, value]) => {\r\n                        queryClient.setQueryData(key, value);\r\n                    });\r\n                } else {\r\n                    // call the mutate method without success side effects\r\n                    mutation.mutate(\r\n                        { resource: callTimeResource, ...callTimeParams },\r\n                        { onSettled, onError }\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    return [useEvent(mutate), mutation];\r\n};\r\n\r\ntype Snapshot = [key: QueryKey, value: any][];\r\n\r\nexport interface UseDeleteMutateParams<RecordType extends RaRecord = any> {\r\n    resource?: string;\r\n    id?: RecordType['id'];\r\n    data?: Partial<RecordType>;\r\n    previousData?: any;\r\n    meta?: any;\r\n}\r\n\r\nexport type UseDeleteOptions<\r\n    RecordType extends RaRecord = any,\r\n    MutationError = unknown\r\n> = UseMutationOptions<\r\n    RecordType,\r\n    MutationError,\r\n    Partial<UseDeleteMutateParams<RecordType>>\r\n> & { mutationMode?: MutationMode };\r\n\r\nexport type UseDeleteResult<\r\n    RecordType extends RaRecord = any,\r\n    MutationError = unknown\r\n> = [\r\n    (\r\n        resource?: string,\r\n        params?: Partial<DeleteParams<RecordType>>,\r\n        options?: MutateOptions<\r\n            RecordType,\r\n            MutationError,\r\n            Partial<UseDeleteMutateParams<RecordType>>,\r\n            unknown\r\n        > & { mutationMode?: MutationMode }\r\n    ) => Promise<void>,\r\n    UseMutationResult<\r\n        RecordType,\r\n        MutationError,\r\n        Partial<DeleteParams<RecordType> & { resource?: string }>,\r\n        unknown\r\n    >\r\n];\r\n", "import { useRef } from 'react';\r\nimport {\r\n    useMutation,\r\n    useQueryClient,\r\n    UseMutationOptions,\r\n    UseMutationResult,\r\n    MutateOptions,\r\n    QueryKey,\r\n    UseInfiniteQueryResult,\r\n} from 'react-query';\r\n\r\nimport { useDataProvider } from './useDataProvider';\r\nimport undoableEventEmitter from './undoableEventEmitter';\r\nimport {\r\n    RaRecord,\r\n    DeleteManyParams,\r\n    MutationMode,\r\n    GetListResult as OriginalGetListResult,\r\n    GetInfiniteListResult,\r\n} from '../types';\r\nimport { useEvent } from '../util';\r\n\r\n/**\r\n * Get a callback to call the dataProvider.delete() method, the result and the loading state.\r\n *\r\n * @param {string} resource\r\n * @param {Params} params The delete parameters { ids }\r\n * @param {Object} options Options object to pass to the queryClient.\r\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { refresh(); } }\r\n * May include a mutation mode (optimistic/pessimistic/undoable), e.g. { mutationMode: 'undoable' }\r\n *\r\n * @typedef Params\r\n * @prop params.ids The resource identifiers, e.g. [123, 456]\r\n *\r\n * @returns The current mutation state. Destructure as [deleteMany, { data, error, isLoading }].\r\n *\r\n * The return value updates according to the request state:\r\n *\r\n * - initial: [deleteMany, { isLoading: false, isIdle: true }]\r\n * - start:   [deleteMany, { isLoading: true }]\r\n * - success: [deleteMany, { data: [data from response], isLoading: false, isSuccess: true }]\r\n * - error:   [deleteMany, { error: [error from response], isLoading: false, isError: true }]\r\n *\r\n * The deleteMany() function must be called with a resource and a parameter object: deleteMany(resource, { ids, meta }, options)\r\n *\r\n * This hook uses react-query useMutation under the hood.\r\n * This means the state object contains mutate, isIdle, reset and other react-query methods.\r\n *\r\n * @see https://react-query-v3.tanstack.com/reference/useMutation\r\n *\r\n * @example // set params when calling the deleteMany callback\r\n *\r\n * import { useDeleteMany } from 'react-admin';\r\n *\r\n * const BulkDeletePostsButton = ({ selectedIds }) => {\r\n *     const [deleteMany, { isLoading, error }] = useDeleteMany();\r\n *     const handleClick = () => {\r\n *         deleteMany('posts', { ids: selectedIds })\r\n *     }\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <button disabled={isLoading} onClick={handleClick}>Delete selected posts</button>;\r\n * };\r\n *\r\n * @example // set params when calling the hook\r\n *\r\n * import { useDeleteMany } from 'react-admin';\r\n *\r\n * const BulkDeletePostsButton = ({ selectedIds }) => {\r\n *     const [deleteMany, { isLoading, error }] = useDeleteMany('posts', { ids: selectedIds });\r\n *     const handleClick = () => {\r\n *         deleteMany()\r\n *     }\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return <button disabled={isLoading} onClick={handleClick}>Delete selected posts</button>;\r\n * };\r\n *\r\n * @example // TypeScript\r\n * const [deleteMany, { data }] = useDeleteMany<Product>('products', { ids });\r\n *                        \\-- data is Product\r\n */\r\nexport const useDeleteMany = <\r\n    RecordType extends RaRecord = any,\r\n    MutationError = unknown\r\n>(\r\n    resource?: string,\r\n    params: Partial<DeleteManyParams<RecordType>> = {},\r\n    options: UseDeleteManyOptions<RecordType, MutationError> = {}\r\n): UseDeleteManyResult<RecordType, MutationError> => {\r\n    const dataProvider = useDataProvider();\r\n    const queryClient = useQueryClient();\r\n    const { ids } = params;\r\n    const { mutationMode = 'pessimistic', ...reactMutationOptions } = options;\r\n    const mode = useRef<MutationMode>(mutationMode);\r\n    const paramsRef = useRef<Partial<DeleteManyParams<RecordType>>>({});\r\n    const snapshot = useRef<Snapshot>([]);\r\n\r\n    const updateCache = ({ resource, ids }) => {\r\n        // hack: only way to tell react-query not to fetch this query for the next 5 seconds\r\n        // because setQueryData doesn't accept a stale time option\r\n        const now = Date.now();\r\n        const updatedAt = mode.current === 'undoable' ? now + 5 * 1000 : now;\r\n\r\n        const updateColl = (old: RecordType[]) => {\r\n            if (!old) return;\r\n            let newCollection = [...old];\r\n            ids.forEach(id => {\r\n                const index = newCollection.findIndex(\r\n                    // eslint-disable-next-line eqeqeq\r\n                    record => record.id == id\r\n                );\r\n                if (index === -1) {\r\n                    return;\r\n                }\r\n                newCollection = [\r\n                    ...newCollection.slice(0, index),\r\n                    ...newCollection.slice(index + 1),\r\n                ];\r\n            });\r\n            return newCollection;\r\n        };\r\n\r\n        type GetListResult = Omit<OriginalGetListResult, 'data'> & {\r\n            data?: RecordType[];\r\n        };\r\n\r\n        queryClient.setQueriesData(\r\n            [resource, 'getList'],\r\n            (res: GetListResult) => {\r\n                if (!res || !res.data) return res;\r\n                const newCollection = updateColl(res.data);\r\n                const recordWasFound = newCollection.length < res.data.length;\r\n                return recordWasFound\r\n                    ? {\r\n                          data: newCollection,\r\n                          total: res.total\r\n                              ? res.total -\r\n                                (res.data.length - newCollection.length)\r\n                              : undefined,\r\n                          pageInfo: res.pageInfo,\r\n                      }\r\n                    : res;\r\n            },\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getInfiniteList'],\r\n            (res: UseInfiniteQueryResult<GetInfiniteListResult>['data']) => {\r\n                if (!res || !res.pages) return res;\r\n                return {\r\n                    ...res,\r\n                    pages: res.pages.map(page => {\r\n                        const newCollection = updateColl(page.data);\r\n                        const recordWasFound =\r\n                            newCollection.length < page.data.length;\r\n                        return recordWasFound\r\n                            ? {\r\n                                  ...page,\r\n                                  data: newCollection,\r\n                                  total: page.total\r\n                                      ? page.total -\r\n                                        (page.data.length -\r\n                                            newCollection.length)\r\n                                      : undefined,\r\n                                  pageInfo: page.pageInfo,\r\n                              }\r\n                            : page;\r\n                    }),\r\n                };\r\n            },\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getMany'],\r\n            (coll: RecordType[]) =>\r\n                coll && coll.length > 0 ? updateColl(coll) : coll,\r\n            { updatedAt }\r\n        );\r\n        queryClient.setQueriesData(\r\n            [resource, 'getManyReference'],\r\n            (res: GetListResult) => {\r\n                if (!res || !res.data) return res;\r\n                const newCollection = updateColl(res.data);\r\n                const recordWasFound = newCollection.length < res.data.length;\r\n                return recordWasFound\r\n                    ? {\r\n                          data: newCollection,\r\n                          total:\r\n                              res.total -\r\n                              (res.data.length - newCollection.length),\r\n                      }\r\n                    : res;\r\n            },\r\n            { updatedAt }\r\n        );\r\n    };\r\n\r\n    const mutation = useMutation<\r\n        RecordType['id'][],\r\n        MutationError,\r\n        Partial<UseDeleteManyMutateParams<RecordType>>\r\n    >(\r\n        ({\r\n            resource: callTimeResource = resource,\r\n            ids: callTimeIds = paramsRef.current.ids,\r\n            meta: callTimeMeta = paramsRef.current.meta,\r\n        } = {}) =>\r\n            dataProvider\r\n                .deleteMany<RecordType>(callTimeResource, {\r\n                    ids: callTimeIds,\r\n                    meta: callTimeMeta,\r\n                })\r\n                .then(({ data }) => data),\r\n        {\r\n            ...reactMutationOptions,\r\n            onMutate: async (\r\n                variables: Partial<UseDeleteManyMutateParams<RecordType>>\r\n            ) => {\r\n                if (reactMutationOptions.onMutate) {\r\n                    const userContext =\r\n                        (await reactMutationOptions.onMutate(variables)) || {};\r\n                    return {\r\n                        snapshot: snapshot.current,\r\n                        // @ts-ignore\r\n                        ...userContext,\r\n                    };\r\n                } else {\r\n                    // Return a context object with the snapshot value\r\n                    return { snapshot: snapshot.current };\r\n                }\r\n            },\r\n            onError: (\r\n                error: MutationError,\r\n                variables: Partial<UseDeleteManyMutateParams<RecordType>> = {},\r\n                context: { snapshot: Snapshot }\r\n            ) => {\r\n                if (\r\n                    mode.current === 'optimistic' ||\r\n                    mode.current === 'undoable'\r\n                ) {\r\n                    // If the mutation fails, use the context returned from onMutate to rollback\r\n                    context.snapshot.forEach(([key, value]) => {\r\n                        queryClient.setQueryData(key, value);\r\n                    });\r\n                }\r\n\r\n                if (reactMutationOptions.onError) {\r\n                    return reactMutationOptions.onError(\r\n                        error,\r\n                        variables,\r\n                        context\r\n                    );\r\n                }\r\n                // call-time error callback is executed by react-query\r\n            },\r\n            onSuccess: (\r\n                data: RecordType['id'][],\r\n                variables: Partial<UseDeleteManyMutateParams<RecordType>> = {},\r\n                context: unknown\r\n            ) => {\r\n                if (mode.current === 'pessimistic') {\r\n                    // update the getOne and getList query cache with the new result\r\n                    const {\r\n                        resource: callTimeResource = resource,\r\n                        ids: callTimeIds = ids,\r\n                    } = variables;\r\n                    updateCache({\r\n                        resource: callTimeResource,\r\n                        ids: callTimeIds,\r\n                    });\r\n\r\n                    if (reactMutationOptions.onSuccess) {\r\n                        reactMutationOptions.onSuccess(\r\n                            data,\r\n                            variables,\r\n                            context\r\n                        );\r\n                    }\r\n                    // call-time success callback is executed by react-query\r\n                }\r\n            },\r\n            onSettled: (\r\n                data: RecordType['id'][],\r\n                error: MutationError,\r\n                variables: Partial<UseDeleteManyMutateParams<RecordType>> = {},\r\n                context: { snapshot: Snapshot }\r\n            ) => {\r\n                if (\r\n                    mode.current === 'optimistic' ||\r\n                    mode.current === 'undoable'\r\n                ) {\r\n                    // Always refetch after error or success:\r\n                    context.snapshot.forEach(([key]) => {\r\n                        queryClient.invalidateQueries(key);\r\n                    });\r\n                }\r\n\r\n                if (reactMutationOptions.onSettled) {\r\n                    return reactMutationOptions.onSettled(\r\n                        data,\r\n                        error,\r\n                        variables,\r\n                        context\r\n                    );\r\n                }\r\n            },\r\n        }\r\n    );\r\n\r\n    const mutate = async (\r\n        callTimeResource: string = resource,\r\n        callTimeParams: Partial<DeleteManyParams<RecordType>> = {},\r\n        updateOptions: MutateOptions<\r\n            RecordType['id'][],\r\n            unknown,\r\n            Partial<UseDeleteManyMutateParams<RecordType>>,\r\n            unknown\r\n        > & { mutationMode?: MutationMode } = {}\r\n    ) => {\r\n        const { mutationMode, onSuccess, onSettled, onError } = updateOptions;\r\n\r\n        // store the hook time params *at the moment of the call*\r\n        // because they may change afterwards, which would break the undoable mode\r\n        // as the previousData would be overwritten by the optimistic update\r\n        paramsRef.current = params;\r\n\r\n        if (mutationMode) {\r\n            mode.current = mutationMode;\r\n        }\r\n\r\n        if (mode.current === 'pessimistic') {\r\n            return mutation.mutate(\r\n                { resource: callTimeResource, ...callTimeParams },\r\n                { onSuccess, onSettled, onError }\r\n            );\r\n        }\r\n\r\n        const { ids: callTimeIds = ids } = callTimeParams;\r\n\r\n        // optimistic update as documented in https://react-query-v3.tanstack.com/guides/optimistic-updates\r\n        // except we do it in a mutate wrapper instead of the onMutate callback\r\n        // to have access to success side effects\r\n\r\n        const queryKeys = [\r\n            [callTimeResource, 'getList'],\r\n            [callTimeResource, 'getInfiniteList'],\r\n            [callTimeResource, 'getMany'],\r\n            [callTimeResource, 'getManyReference'],\r\n        ];\r\n\r\n        /**\r\n         * Snapshot the previous values via queryClient.getQueriesData()\r\n         *\r\n         * The snapshotData ref will contain an array of tuples [query key, associated data]\r\n         *\r\n         * @example\r\n         * [\r\n         *   [['posts', 'getList'], { data: [{ id: 1, title: 'Hello' }], total: 1 }],\r\n         *   [['posts', 'getMany'], [{ id: 1, title: 'Hello' }]],\r\n         * ]\r\n         *\r\n         * @see https://react-query-v3.tanstack.com/reference/QueryClient#queryclientgetqueriesdata\r\n         */\r\n        snapshot.current = queryKeys.reduce(\r\n            (prev, curr) => prev.concat(queryClient.getQueriesData(curr)),\r\n            [] as Snapshot\r\n        );\r\n\r\n        // Cancel any outgoing re-fetches (so they don't overwrite our optimistic update)\r\n        await Promise.all(\r\n            snapshot.current.map(([key]) => queryClient.cancelQueries(key))\r\n        );\r\n\r\n        // Optimistically update to the new value\r\n        updateCache({\r\n            resource: callTimeResource,\r\n            ids: callTimeIds,\r\n        });\r\n\r\n        // run the success callbacks during the next tick\r\n        if (onSuccess) {\r\n            setTimeout(\r\n                () =>\r\n                    onSuccess(\r\n                        callTimeIds,\r\n                        { resource: callTimeResource, ...callTimeParams },\r\n                        { snapshot: snapshot.current }\r\n                    ),\r\n                0\r\n            );\r\n        }\r\n        if (reactMutationOptions.onSuccess) {\r\n            setTimeout(\r\n                () =>\r\n                    reactMutationOptions.onSuccess(\r\n                        callTimeIds,\r\n                        { resource: callTimeResource, ...callTimeParams },\r\n                        { snapshot: snapshot.current }\r\n                    ),\r\n                0\r\n            );\r\n        }\r\n\r\n        if (mode.current === 'optimistic') {\r\n            // call the mutate method without success side effects\r\n            return mutation.mutate(\r\n                { resource: callTimeResource, ...callTimeParams },\r\n                { onSettled, onError }\r\n            );\r\n        } else {\r\n            // undoable mutation: register the mutation for later\r\n            undoableEventEmitter.once('end', ({ isUndo }) => {\r\n                if (isUndo) {\r\n                    // rollback\r\n                    snapshot.current.forEach(([key, value]) => {\r\n                        queryClient.setQueryData(key, value);\r\n                    });\r\n                } else {\r\n                    // call the mutate method without success side effects\r\n                    mutation.mutate(\r\n                        { resource: callTimeResource, ...callTimeParams },\r\n                        { onSettled, onError }\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    return [useEvent(mutate), mutation];\r\n};\r\n\r\ntype Snapshot = [key: QueryKey, value: any][];\r\n\r\nexport interface UseDeleteManyMutateParams<RecordType extends RaRecord = any> {\r\n    resource?: string;\r\n    ids?: RecordType['id'][];\r\n    meta?: any;\r\n}\r\n\r\nexport type UseDeleteManyOptions<\r\n    RecordType extends RaRecord = any,\r\n    MutationError = unknown\r\n> = UseMutationOptions<\r\n    RecordType['id'][],\r\n    MutationError,\r\n    Partial<UseDeleteManyMutateParams<RecordType>>\r\n> & { mutationMode?: MutationMode };\r\n\r\nexport type UseDeleteManyResult<\r\n    RecordType extends RaRecord = any,\r\n    MutationError = unknown\r\n> = [\r\n    (\r\n        resource?: string,\r\n        params?: Partial<DeleteManyParams<RecordType>>,\r\n        options?: MutateOptions<\r\n            RecordType['id'][],\r\n            MutationError,\r\n            Partial<UseDeleteManyMutateParams<RecordType>>,\r\n            unknown\r\n        > & { mutationMode?: MutationMode }\r\n    ) => Promise<void>,\r\n    UseMutationResult<\r\n        RecordType['id'][],\r\n        MutationError,\r\n        Partial<DeleteManyParams<RecordType> & { resource?: string }>,\r\n        unknown\r\n    >\r\n];\r\n", "import {\r\n    useInfiniteQuery,\r\n    UseInfiniteQueryOptions,\r\n    UseInfiniteQueryResult,\r\n    useQueryClient,\r\n} from 'react-query';\r\n\r\nimport { RaRecord, GetListParams, GetInfiniteListResult } from '../types';\r\nimport { useDataProvider } from './useDataProvider';\r\n\r\n/**\r\n * Call the dataProvider.getList() method and return the resolved result\r\n * as well as the loading state. The return from useInfiniteGetList is equivalent to the return from react-hook form useInfiniteQuery.\r\n *\r\n * @see https://react-query-v3.tanstack.com/reference/useInfiniteQuery\r\n *\r\n * This hook will return the cached result when called a second time\r\n * with the same parameters, until the response arrives.\r\n *\r\n * @param {string} resource The resource name, e.g. 'posts'\r\n * @param {Params} params The getList parameters { pagination, sort, filter, meta }\r\n * @param {Object} options Options object to pass to the queryClient.\r\n * May include side effects to be executed upon success or failure, e.g. { onSuccess: () => { fetchNextPage(); } }\r\n *\r\n * @typedef Params\r\n * @prop params.pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\r\n * @prop params.sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\r\n * @prop params.filter The request filters, e.g. { title: 'hello, world' }\r\n * @prop params.meta Optional meta parameters\r\n *\r\n * @returns The current request state. Destructure as { data, total, error, isLoading, isSuccess, hasNextPage, fetchNextPage }.\r\n *\r\n * @example\r\n *\r\n * import { useInfiniteGetList } from 'react-admin';\r\n *\r\n * const LatestNews = () => {\r\n *     const { data, total, isLoading, error, hasNextPage, fetchNextPage } = useInfiniteGetList(\r\n *         'posts',\r\n *         { pagination: { page: 1, perPage: 10 }, sort: { field: 'published_at', order: 'DESC' } }\r\n *     );\r\n *     if (isLoading) { return <Loading />; }\r\n *     if (error) { return <p>ERROR</p>; }\r\n *     return (\r\n *        <>\r\n *            <ul>\r\n *                {data?.pages.map(page => {\r\n *                    return page.data.map(post => (\r\n *                        <li key={post.id}>{post.title}</li>\r\n *                    ));\r\n *                })}\r\n *            </ul>\r\n *            <div>\r\n *                <button disabled={!hasNextPage} onClick={() => fetchNextPage()}>\r\n *                    Fetch next page\r\n *                </button>\r\n *            </div>\r\n *        </>\r\n *    );\r\n * };\r\n */\r\n\r\nexport const useInfiniteGetList = <RecordType extends RaRecord = any>(\r\n    resource: string,\r\n    params: Partial<GetListParams> = {},\r\n    options?: UseInfiniteQueryOptions<GetInfiniteListResult<RecordType>, Error>\r\n): UseInfiniteGetListHookValue<RecordType> => {\r\n    const {\r\n        pagination = { page: 1, perPage: 25 },\r\n        sort = { field: 'id', order: 'DESC' },\r\n        filter = {},\r\n        meta,\r\n    } = params;\r\n    const dataProvider = useDataProvider();\r\n    const queryClient = useQueryClient();\r\n\r\n    const result = useInfiniteQuery<\r\n        GetInfiniteListResult<RecordType>,\r\n        Error,\r\n        GetInfiniteListResult<RecordType>\r\n    >(\r\n        [resource, 'getInfiniteList', { pagination, sort, filter, meta }],\r\n        ({ pageParam = pagination.page }) =>\r\n            dataProvider\r\n                .getList<RecordType>(resource, {\r\n                    pagination: {\r\n                        page: pageParam,\r\n                        perPage: pagination.perPage,\r\n                    },\r\n                    sort,\r\n                    filter,\r\n                    meta,\r\n                })\r\n                .then(({ data, pageInfo, total }) => ({\r\n                    data,\r\n                    total,\r\n                    pageParam,\r\n                    pageInfo,\r\n                })),\r\n        {\r\n            onSuccess: data => {\r\n                // optimistically populate the getOne cache\r\n                data.pages.forEach(page => {\r\n                    page.data.forEach(record => {\r\n                        queryClient.setQueryData(\r\n                            [\r\n                                resource,\r\n                                'getOne',\r\n                                { id: String(record.id), meta },\r\n                            ],\r\n                            oldRecord => oldRecord ?? record\r\n                        );\r\n                    });\r\n                });\r\n            },\r\n            ...options,\r\n            getNextPageParam: lastLoadedPage => {\r\n                if (lastLoadedPage.pageInfo) {\r\n                    return lastLoadedPage.pageInfo.hasNextPage\r\n                        ? lastLoadedPage.pageParam + 1\r\n                        : undefined;\r\n                }\r\n                const totalPages = Math.ceil(\r\n                    (lastLoadedPage.total || 0) / pagination.perPage\r\n                );\r\n\r\n                return lastLoadedPage.pageParam < totalPages\r\n                    ? Number(lastLoadedPage.pageParam) + 1\r\n                    : undefined;\r\n            },\r\n            getPreviousPageParam: lastLoadedPage => {\r\n                if (lastLoadedPage.pageInfo) {\r\n                    return lastLoadedPage.pageInfo.hasPreviousPage\r\n                        ? lastLoadedPage.pageParam - 1\r\n                        : undefined;\r\n                }\r\n\r\n                return lastLoadedPage.pageParam === 1\r\n                    ? undefined\r\n                    : lastLoadedPage.pageParam - 1;\r\n            },\r\n        }\r\n    );\r\n\r\n    return (result.data\r\n        ? {\r\n              ...result,\r\n              data: result.data,\r\n              total: result.data?.pages[0]?.total || undefined,\r\n          }\r\n        : result) as UseInfiniteQueryResult<\r\n        GetInfiniteListResult<RecordType>,\r\n        Error\r\n    > & {\r\n        total?: number;\r\n    };\r\n};\r\n\r\nexport type UseInfiniteGetListHookValue<\r\n    RecordType extends RaRecord = any\r\n> = UseInfiniteQueryResult<GetInfiniteListResult<RecordType>, Error> & {\r\n    total?: number;\r\n    pageParam?: number;\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactElement, useCallback, useMemo, useState } from 'react';\r\nimport {\r\n    PreferencesEditorContext,\r\n    PreferencesEditorContextValue,\r\n} from './PreferencesEditorContext';\r\n\r\nexport const PreferencesEditorContextProvider = ({ children }) => {\r\n    const [isEnabled, setIsEnabled] = useState(false);\r\n    const [editor, setEditor] = useState<ReactElement>(null);\r\n    const [preferenceKey, setPreferenceKey] = useState<string>();\r\n    const [path, setPath] = useState<string>(null);\r\n    const [title, setTitleString] = useState<string>(null);\r\n    const [titleOptions, setTitleOptions] = useState<any>();\r\n    const enable = useCallback(() => setIsEnabled(true), []);\r\n    const disable = useCallback(() => {\r\n        setIsEnabled(false);\r\n        setEditor(null);\r\n    }, []);\r\n\r\n    const setTitle = useCallback((title: string, titleOptions?: any) => {\r\n        setTitleString(title);\r\n        setTitleOptions(titleOptions);\r\n    }, []);\r\n\r\n    const context = useMemo<PreferencesEditorContextValue>(() => {\r\n        return {\r\n            editor,\r\n            setEditor,\r\n            preferenceKey,\r\n            setPreferenceKey,\r\n            title,\r\n            titleOptions,\r\n            setTitle,\r\n            isEnabled,\r\n            disable,\r\n            enable,\r\n            path,\r\n            setPath,\r\n        };\r\n    }, [\r\n        disable,\r\n        enable,\r\n        editor,\r\n        preferenceKey,\r\n        isEnabled,\r\n        path,\r\n        setPath,\r\n        title,\r\n        titleOptions,\r\n        setTitle,\r\n    ]);\r\n\r\n    return (\r\n        <PreferencesEditorContext.Provider value={context}>\r\n            {children}\r\n        </PreferencesEditorContext.Provider>\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport { createContext, ReactElement } from 'react';\r\n\r\nexport const PreferencesEditorContext = createContext<\r\n    PreferencesEditorContextValue\r\n>(undefined);\r\n\r\nexport type PreferencesEditorContextValue = {\r\n    editor: ReactElement | null;\r\n    setEditor: React.Dispatch<React.SetStateAction<ReactElement>>;\r\n    preferenceKey?: string;\r\n    setPreferenceKey: React.Dispatch<React.SetStateAction<string>>;\r\n    title: string | null;\r\n    titleOptions?: any;\r\n    setTitle: (title: string, titleOptions?: any) => void;\r\n    isEnabled: boolean;\r\n    enable: () => void;\r\n    disable: () => void;\r\n    path: string | null;\r\n    setPath: (path: string) => void;\r\n};\r\n", "import * as React from 'react';\r\nimport { createContext, useCallback, useState, useMemo } from 'react';\r\nimport isEqual from 'lodash/isEqual';\r\n\r\nimport { ResourceDefinition, ResourceOptions } from '../types';\r\n\r\nexport type ResourceDefinitions<OptionsType extends ResourceOptions = any> = {\r\n    [name: string]: ResourceDefinition<OptionsType>;\r\n};\r\n\r\nexport type ResourceDefinitionContextValue = {\r\n    definitions: ResourceDefinitions;\r\n    register: (config: ResourceDefinition) => void;\r\n    unregister: (config: ResourceDefinition) => void;\r\n};\r\n\r\nexport const ResourceDefinitionContext = createContext<\r\n    ResourceDefinitionContextValue\r\n>({\r\n    definitions: {},\r\n    register: () => {},\r\n    unregister: () => {},\r\n});\r\n\r\n/**\r\n * Context to store the current resource Definition.\r\n *\r\n * Use the useResourceDefinition() hook to read the context.\r\n *\r\n * @example\r\n *\r\n * import { useResourceDefinition, useTranslate } from 'ra-core';\r\n *\r\n * const PostMenuItem = () => {\r\n *     const { name, icon } = useResourceDefinition({ resource: 'posts' });\r\n *\r\n *     return (\r\n *          <MenuItem>\r\n *              <ListItemIcon>{icon}</ListItemIcon>\r\n *              {name}\r\n *          </MenuItem>\r\n *     );\r\n * };\r\n */\r\nexport const ResourceDefinitionContextProvider = ({\r\n    definitions: defaultDefinitions = {},\r\n    children,\r\n}: {\r\n    definitions?: ResourceDefinitions;\r\n    children: React.ReactNode;\r\n}) => {\r\n    const [definitions, setState] = useState<ResourceDefinitions>(\r\n        defaultDefinitions\r\n    );\r\n\r\n    const register = useCallback((config: ResourceDefinition) => {\r\n        setState(prev =>\r\n            isEqual(prev[config.name], config)\r\n                ? prev\r\n                : {\r\n                      ...prev,\r\n                      [config.name]: config,\r\n                  }\r\n        );\r\n    }, []);\r\n\r\n    const unregister = useCallback((config: ResourceDefinition) => {\r\n        setState(prev => {\r\n            const { [config.name]: _, ...rest } = prev;\r\n            return rest;\r\n        });\r\n    }, []);\r\n\r\n    const contextValue = useMemo(\r\n        () => ({ definitions, register, unregister }),\r\n        [definitions] // eslint-disable-line react-hooks/exhaustive-deps\r\n    );\r\n\r\n    return (\r\n        <ResourceDefinitionContext.Provider value={contextValue}>\r\n            {children}\r\n        </ResourceDefinitionContext.Provider>\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport { ComponentType, useEffect, isValidElement, createElement } from 'react';\r\nimport { Routes, Route } from 'react-router-dom';\r\n\r\nimport { CoreAdminRoutes } from './CoreAdminRoutes';\r\nimport { Ready } from '../util';\r\nimport {\r\n    TitleComponent,\r\n    LoginComponent,\r\n    LayoutComponent,\r\n    CoreLayoutProps,\r\n    AdminChildren,\r\n    CatchAllComponent,\r\n    DashboardComponent,\r\n    LoadingComponent,\r\n} from '../types';\r\n\r\nexport type ChildrenFunction = () => ComponentType[];\r\n\r\nconst DefaultLayout = ({ children }: CoreLayoutProps) => <>{children}</>;\r\n\r\nexport interface CoreAdminUIProps {\r\n    catchAll?: CatchAllComponent;\r\n    children?: AdminChildren;\r\n    dashboard?: DashboardComponent;\r\n    disableTelemetry?: boolean;\r\n    layout?: LayoutComponent;\r\n    loading?: LoadingComponent;\r\n    authCallbackPage?: ComponentType | boolean;\r\n    loginPage?: LoginComponent | boolean;\r\n    /**\r\n     * @deprecated use a custom layout instead\r\n     */\r\n    menu?: ComponentType;\r\n    requireAuth?: boolean;\r\n    ready?: ComponentType;\r\n    title?: TitleComponent;\r\n}\r\n\r\nexport const CoreAdminUI = (props: CoreAdminUIProps) => {\r\n    const {\r\n        catchAll = Noop,\r\n        children,\r\n        dashboard,\r\n        disableTelemetry = false,\r\n        layout = DefaultLayout,\r\n        loading = Noop,\r\n        loginPage: LoginPage = false,\r\n        authCallbackPage: LoginCallbackPage = false,\r\n        menu, // deprecated, use a custom layout instead\r\n        ready = Ready,\r\n        title = 'React Admin',\r\n        requireAuth = false,\r\n    } = props;\r\n\r\n    useEffect(() => {\r\n        if (\r\n            disableTelemetry ||\r\n            process.env.NODE_ENV !== 'production' ||\r\n            typeof window === 'undefined' ||\r\n            typeof window.location === 'undefined' ||\r\n            typeof Image === 'undefined'\r\n        ) {\r\n            return;\r\n        }\r\n        const img = new Image();\r\n        img.src = `https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=${window.location.hostname}`;\r\n    }, [disableTelemetry]);\r\n\r\n    return (\r\n        <Routes>\r\n            {LoginPage !== false && LoginPage !== true ? (\r\n                <Route path=\"/login\" element={createOrGetElement(LoginPage)} />\r\n            ) : null}\r\n\r\n            {LoginCallbackPage !== false && LoginCallbackPage !== true ? (\r\n                <Route\r\n                    path=\"/auth-callback\"\r\n                    element={createOrGetElement(LoginCallbackPage)}\r\n                />\r\n            ) : null}\r\n\r\n            <Route\r\n                path=\"/*\"\r\n                element={\r\n                    <CoreAdminRoutes\r\n                        catchAll={catchAll}\r\n                        dashboard={dashboard}\r\n                        layout={layout}\r\n                        loading={loading}\r\n                        menu={menu}\r\n                        requireAuth={requireAuth}\r\n                        ready={ready}\r\n                        title={title}\r\n                    >\r\n                        {children}\r\n                    </CoreAdminRoutes>\r\n                }\r\n            />\r\n        </Routes>\r\n    );\r\n};\r\n\r\nconst createOrGetElement = el => (isValidElement(el) ? el : createElement(el));\r\n\r\nconst Noop = () => null;\r\n", "import * as React from 'react';\r\nimport { useState, useEffect, Children, ComponentType } from 'react';\r\nimport { Navigate, Route, Routes } from 'react-router-dom';\r\n\r\nimport { WithPermissions, useCheckAuth } from '../auth';\r\nimport { useTimeout } from '../util';\r\nimport { useScrollToTop, useCreatePath } from '../routing';\r\nimport {\r\n    AdminChildren,\r\n    CatchAllComponent,\r\n    LayoutComponent,\r\n    LoadingComponent,\r\n    CoreLayoutProps,\r\n} from '../types';\r\nimport { useConfigureAdminRouterFromChildren } from './useConfigureAdminRouterFromChildren';\r\n\r\nexport const CoreAdminRoutes = (props: CoreAdminRoutesProps) => {\r\n    const oneSecondHasPassed = useTimeout(1000);\r\n    useScrollToTop();\r\n    const createPath = useCreatePath();\r\n\r\n    const {\r\n        customRoutesWithLayout,\r\n        customRoutesWithoutLayout,\r\n        status,\r\n        resources,\r\n    } = useConfigureAdminRouterFromChildren(props.children);\r\n\r\n    const {\r\n        layout: Layout,\r\n        catchAll: CatchAll,\r\n        dashboard,\r\n        loading: LoadingPage,\r\n        menu,\r\n        requireAuth,\r\n        ready: Ready,\r\n        title,\r\n    } = props;\r\n\r\n    const [canRender, setCanRender] = useState(!requireAuth);\r\n    const checkAuth = useCheckAuth();\r\n\r\n    useEffect(() => {\r\n        if (requireAuth) {\r\n            checkAuth()\r\n                .then(() => {\r\n                    setCanRender(true);\r\n                })\r\n                .catch(() => {});\r\n        }\r\n    }, [checkAuth, requireAuth]);\r\n\r\n    if (status === 'empty') {\r\n        return <Ready />;\r\n    }\r\n\r\n    if (status === 'loading' || !canRender) {\r\n        return (\r\n            <Routes>\r\n                {customRoutesWithoutLayout}\r\n                {oneSecondHasPassed ? (\r\n                    <Route path=\"*\" element={<LoadingPage />} />\r\n                ) : (\r\n                    <Route path=\"*\" element={null} />\r\n                )}\r\n            </Routes>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Routes>\r\n            {/*\r\n                Render the custom routes that were outside the child function.\r\n            */}\r\n            {customRoutesWithoutLayout}\r\n            <Route\r\n                path=\"/*\"\r\n                element={\r\n                    <div>\r\n                        <Layout dashboard={dashboard} menu={menu} title={title}>\r\n                            <Routes>\r\n                                {customRoutesWithLayout}\r\n                                {Children.map(resources, resource => (\r\n                                    <Route\r\n                                        key={resource.props.name}\r\n                                        path={`${resource.props.name}/*`}\r\n                                        element={resource}\r\n                                    />\r\n                                ))}\r\n                                <Route\r\n                                    path=\"/\"\r\n                                    element={\r\n                                        dashboard ? (\r\n                                            <WithPermissions\r\n                                                authParams={defaultAuthParams}\r\n                                                component={dashboard}\r\n                                            />\r\n                                        ) : resources.length > 0 ? (\r\n                                            <Navigate\r\n                                                to={createPath({\r\n                                                    resource:\r\n                                                        resources[0].props.name,\r\n                                                    type: 'list',\r\n                                                })}\r\n                                            />\r\n                                        ) : null\r\n                                    }\r\n                                />\r\n                                <Route\r\n                                    path=\"*\"\r\n                                    element={<CatchAll title={title} />}\r\n                                />\r\n                            </Routes>\r\n                        </Layout>\r\n                    </div>\r\n                }\r\n            />\r\n        </Routes>\r\n    );\r\n};\r\n\r\nexport interface CoreAdminRoutesProps extends CoreLayoutProps {\r\n    layout: LayoutComponent;\r\n    catchAll: CatchAllComponent;\r\n    children?: AdminChildren;\r\n    loading: LoadingComponent;\r\n    requireAuth?: boolean;\r\n    ready?: ComponentType;\r\n}\r\n\r\nconst defaultAuthParams = { params: { route: 'dashboard' } };\r\n", "import * as React from 'react';\r\nimport {\r\n    Children,\r\n    Dispatch,\r\n    Fragment,\r\n    ReactElement,\r\n    ReactNode,\r\n    SetStateAction,\r\n    useCallback,\r\n    useEffect,\r\n    useState,\r\n} from 'react';\r\nimport { useLogout, usePermissions } from '../auth';\r\nimport { useSafeSetState } from '../util';\r\nimport {\r\n    AdminChildren,\r\n    RenderResourcesFunction,\r\n    ResourceDefinition,\r\n    ResourceProps,\r\n} from '../types';\r\nimport { CustomRoutesProps } from './CustomRoutes';\r\nimport { useResourceDefinitionContext } from './useResourceDefinitionContext';\r\n\r\n/**\r\n * This hook inspects the CoreAdminRouter children and returns them separated in three groups:\r\n * - Custom routes without layout\r\n * - Custom routes with layout\r\n * - Resources\r\n *\r\n * It also returns a status:\r\n * - loading: still loading children from a function child\r\n * - empty: no resources were provided among children\r\n * - ready: admin is ready to be rendered\r\n *\r\n * @example\r\n * const {\r\n *    customRoutesWithLayout,\r\n *    customRoutesWithoutLayout,\r\n *    resources,\r\n *    status,\r\n * } = useConfigureAdminRouterFromChildren(children);\r\n */\r\nexport const useConfigureAdminRouterFromChildren = (\r\n    children: AdminChildren\r\n): RoutesAndResources & { status: AdminRouterStatus } => {\r\n    const { permissions, isLoading } = usePermissions();\r\n\r\n    // Whenever children are updated, update our custom routes and resources\r\n    const [routesAndResources, status] = useRoutesAndResourcesFromChildren(\r\n        children,\r\n        permissions,\r\n        isLoading\r\n    );\r\n\r\n    // Whenever the resources change, we must ensure they're all registered\r\n    useRegisterResources(routesAndResources.resources, permissions);\r\n\r\n    return {\r\n        customRoutesWithLayout: routesAndResources.customRoutesWithLayout,\r\n        customRoutesWithoutLayout: routesAndResources.customRoutesWithoutLayout,\r\n        status,\r\n        resources: routesAndResources.resources,\r\n    };\r\n};\r\n\r\n/**\r\n * A hook that determine the routes and resources from React nodes and permissions.\r\n * Returns a tuple with the routes and resources as a single object, and the status.\r\n * @param children React nodes to inspect\r\n * @param permissions The permissions\r\n */\r\nconst useRoutesAndResourcesFromChildren = (\r\n    children: ReactNode,\r\n    permissions: any,\r\n    isLoading: boolean\r\n): [RoutesAndResources, AdminRouterStatus] => {\r\n    // Gather custom routes and resources that were declared as direct children of CoreAdminRouter\r\n    // e.g. Not returned from the child function (if any)\r\n    // We need to know right away whether some resources were declared to correctly\r\n    // initialize the status at the next stop\r\n    const doLogout = useLogout();\r\n    const [\r\n        routesAndResources,\r\n        setRoutesAndResources,\r\n        mergeRoutesAndResources,\r\n    ] = useRoutesAndResourcesState(getRoutesAndResourceFromNodes(children));\r\n\r\n    const [status, setStatus] = useSafeSetState<AdminRouterStatus>(() =>\r\n        getStatus({\r\n            children,\r\n            ...routesAndResources,\r\n        })\r\n    );\r\n\r\n    useEffect(() => {\r\n        const resolveChildFunction = async (\r\n            childFunc: RenderResourcesFunction\r\n        ) => {\r\n            try {\r\n                const childrenFuncResult = childFunc(permissions);\r\n                if ((childrenFuncResult as Promise<ReactNode>)?.then) {\r\n                    (childrenFuncResult as Promise<ReactNode>).then(\r\n                        resolvedChildren => {\r\n                            mergeRoutesAndResources(\r\n                                getRoutesAndResourceFromNodes(resolvedChildren)\r\n                            );\r\n                            setStatus('ready');\r\n                        }\r\n                    );\r\n                } else {\r\n                    mergeRoutesAndResources(\r\n                        getRoutesAndResourceFromNodes(childrenFuncResult)\r\n                    );\r\n                    setStatus('ready');\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n                doLogout();\r\n            }\r\n        };\r\n\r\n        const updateFromChildren = async () => {\r\n            const functionChild = getSingleChildFunction(children);\r\n            const newRoutesAndResources = getRoutesAndResourceFromNodes(\r\n                children\r\n            );\r\n            setRoutesAndResources(newRoutesAndResources);\r\n            setStatus(\r\n                !!functionChild\r\n                    ? 'loading'\r\n                    : newRoutesAndResources.resources.length > 0 ||\r\n                      newRoutesAndResources.customRoutesWithLayout.length > 0 ||\r\n                      newRoutesAndResources.customRoutesWithoutLayout.length > 0\r\n                    ? 'ready'\r\n                    : 'empty'\r\n            );\r\n\r\n            if (functionChild) {\r\n                resolveChildFunction(functionChild);\r\n            }\r\n        };\r\n        if (!isLoading) {\r\n            updateFromChildren();\r\n        }\r\n    }, [\r\n        children,\r\n        doLogout,\r\n        isLoading,\r\n        mergeRoutesAndResources,\r\n        permissions,\r\n        setRoutesAndResources,\r\n        setStatus,\r\n    ]);\r\n\r\n    return [routesAndResources, status];\r\n};\r\n\r\n/*\r\n * A hook that store the routes and resources just like setState but also provides an additional function\r\n * to merge new routes and resources with the existing ones.\r\n */\r\nconst useRoutesAndResourcesState = (\r\n    initialState: RoutesAndResources\r\n): [\r\n    RoutesAndResources,\r\n    Dispatch<SetStateAction<RoutesAndResources>>,\r\n    (newRoutesAndResources: RoutesAndResources) => void\r\n] => {\r\n    const [routesAndResources, setRoutesAndResources] = useState(initialState);\r\n\r\n    const mergeRoutesAndResources = useCallback(\r\n        (newRoutesAndResources: RoutesAndResources) => {\r\n            setRoutesAndResources(previous => ({\r\n                customRoutesWithLayout: previous.customRoutesWithLayout.concat(\r\n                    newRoutesAndResources.customRoutesWithLayout\r\n                ),\r\n                customRoutesWithoutLayout: previous.customRoutesWithoutLayout.concat(\r\n                    newRoutesAndResources.customRoutesWithoutLayout\r\n                ),\r\n                resources: previous.resources.concat(\r\n                    newRoutesAndResources.resources\r\n                ),\r\n            }));\r\n        },\r\n        []\r\n    );\r\n\r\n    return [routesAndResources, setRoutesAndResources, mergeRoutesAndResources];\r\n};\r\n\r\n/**\r\n * A hook that register resources and unregister them when the calling component is unmounted.\r\n * @param resources: An array of Resource elements\r\n * @param permissions: The permissions\r\n */\r\nconst useRegisterResources = (\r\n    resources: (ReactElement<ResourceProps> & ResourceWithRegisterFunction)[],\r\n    permissions: any\r\n) => {\r\n    const { register, unregister } = useResourceDefinitionContext();\r\n\r\n    useEffect(() => {\r\n        resources.forEach(resource => {\r\n            if (\r\n                typeof ((resource.type as unknown) as ResourceWithRegisterFunction)\r\n                    .registerResource === 'function'\r\n            ) {\r\n                const definition = ((resource.type as unknown) as ResourceWithRegisterFunction).registerResource(\r\n                    resource.props,\r\n                    permissions\r\n                );\r\n                register(definition);\r\n            } else {\r\n                throw new Error(\r\n                    'When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition'\r\n                );\r\n            }\r\n        });\r\n        return () => {\r\n            resources.forEach(resource => {\r\n                if (\r\n                    typeof ((resource.type as unknown) as ResourceWithRegisterFunction)\r\n                        .registerResource === 'function'\r\n                ) {\r\n                    const definition = ((resource.type as unknown) as ResourceWithRegisterFunction).registerResource(\r\n                        resource.props,\r\n                        permissions\r\n                    );\r\n                    unregister(definition);\r\n                } else {\r\n                    throw new Error(\r\n                        'When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition'\r\n                    );\r\n                }\r\n            });\r\n        };\r\n    }, [permissions, register, resources, unregister]);\r\n};\r\n\r\nconst getStatus = ({\r\n    children,\r\n    resources,\r\n    customRoutesWithLayout,\r\n    customRoutesWithoutLayout,\r\n}: {\r\n    children: ReactNode;\r\n    resources: ReactElement<ResourceProps>[];\r\n    customRoutesWithLayout: ReactElement<CustomRoutesProps>[];\r\n    customRoutesWithoutLayout: ReactElement<CustomRoutesProps>[];\r\n}) => {\r\n    return getSingleChildFunction(children)\r\n        ? 'loading'\r\n        : resources.length > 0 ||\r\n          customRoutesWithLayout.length > 0 ||\r\n          customRoutesWithoutLayout.length > 0\r\n        ? 'ready'\r\n        : 'empty';\r\n};\r\n\r\n/**\r\n * Inspect the children of a CoreAdminRouter to see if one of them is a function.\r\n * Throws an error if there are more than one function child.\r\n * Returns the function child if one was provided, or null otherwise.\r\n */\r\nconst getSingleChildFunction = (\r\n    children: ReactNode\r\n): RenderResourcesFunction | null => {\r\n    const childrenArray = Array.isArray(children) ? children : [children];\r\n\r\n    const functionChildren = childrenArray.filter(\r\n        child => typeof child === 'function'\r\n    );\r\n\r\n    if (functionChildren.length > 1) {\r\n        throw new Error(\r\n            'You can only provide one function child to AdminRouter'\r\n        );\r\n    }\r\n\r\n    if (functionChildren.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    return functionChildren[0] as RenderResourcesFunction;\r\n};\r\n\r\n/**\r\n * Inspect the children and return an object with the following keys:\r\n * - customRoutesWithLayout: an array of the custom routes to render inside the layout\r\n * - customRoutesWithoutLayout: an array of custom routes to render outside the layout\r\n * - resources: an array of resources elements\r\n */\r\nconst getRoutesAndResourceFromNodes = (\r\n    children: ReactNode\r\n): RoutesAndResources => {\r\n    const customRoutesWithLayout = [];\r\n    const customRoutesWithoutLayout = [];\r\n    const resources = [];\r\n    Children.forEach(children, element => {\r\n        if (!React.isValidElement(element)) {\r\n            // Ignore non-elements. This allows people to more easily inline\r\n            // conditionals in their route config.\r\n            return;\r\n        }\r\n        if (element.type === Fragment) {\r\n            const customRoutesFromFragment = getRoutesAndResourceFromNodes(\r\n                element.props.children\r\n            );\r\n            customRoutesWithLayout.push(\r\n                ...customRoutesFromFragment.customRoutesWithLayout\r\n            );\r\n            customRoutesWithoutLayout.push(\r\n                ...customRoutesFromFragment.customRoutesWithoutLayout\r\n            );\r\n            resources.push(...customRoutesFromFragment.resources);\r\n        }\r\n\r\n        if ((element.type as any).raName === 'CustomRoutes') {\r\n            const customRoutesElement = element as ReactElement<\r\n                CustomRoutesProps\r\n            >;\r\n\r\n            if (customRoutesElement.props.noLayout) {\r\n                customRoutesWithoutLayout.push(\r\n                    customRoutesElement.props.children\r\n                );\r\n            } else {\r\n                customRoutesWithLayout.push(customRoutesElement.props.children);\r\n            }\r\n        } else if ((element.type as any).raName === 'Resource') {\r\n            resources.push(element as ReactElement<ResourceProps>);\r\n        }\r\n    });\r\n\r\n    return {\r\n        customRoutesWithLayout,\r\n        customRoutesWithoutLayout,\r\n        resources,\r\n    };\r\n};\r\n\r\ntype RoutesAndResources = {\r\n    customRoutesWithLayout: ReactElement<CustomRoutesProps>[];\r\n    customRoutesWithoutLayout: ReactElement<CustomRoutesProps>[];\r\n    resources: (ReactElement<ResourceProps> & ResourceWithRegisterFunction)[];\r\n};\r\n\r\ntype ResourceWithRegisterFunction = {\r\n    registerResource: (\r\n        props: ResourceProps,\r\n        permissions: any\r\n    ) => ResourceDefinition;\r\n};\r\n\r\ntype AdminRouterStatus = 'loading' | 'empty' | 'ready';\r\n", "import { useContext } from 'react';\r\n\r\nimport { ResourceDefinitionContext } from './ResourceDefinitionContext';\r\n\r\nexport const useResourceDefinitionContext = () =>\r\n    useContext(ResourceDefinitionContext);\r\n", "import { ReactNode } from 'react';\r\n\r\n/**\r\n * This component allows you to provide custom routes to the Admin.\r\n * @param props The component props\r\n * @param props.children The custom routes.\r\n * @param props.noLayout A boolean indicating whether to render the routes outside the Layout. Defaults to false.\r\n * @returns Nothing. This is a configuration component.\r\n */\r\nexport const CustomRoutes = (_props: CustomRoutesProps) => {\r\n    return null;\r\n};\r\n\r\nCustomRoutes.raName = 'CustomRoutes';\r\n\r\nexport type CustomRoutesProps = {\r\n    children: ReactNode;\r\n    noLayout?: boolean;\r\n};\r\n", "import * as React from 'react';\r\nimport { ComponentType, ReactElement, isValidElement } from 'react';\r\nimport { Route, Routes } from 'react-router-dom';\r\nimport { isValidElementType } from 'react-is';\r\n\r\nimport { ResourceProps } from '../types';\r\nimport { ResourceContextProvider } from './ResourceContextProvider';\r\n\r\nexport const Resource = (props: ResourceProps) => {\r\n    const { create, edit, list, name, show } = props;\r\n\r\n    return (\r\n        <ResourceContextProvider value={name}>\r\n            <Routes>\r\n                {create && (\r\n                    <Route path=\"create/*\" element={getElement(create)} />\r\n                )}\r\n                {show && <Route path=\":id/show/*\" element={getElement(show)} />}\r\n                {edit && <Route path=\":id/*\" element={getElement(edit)} />}\r\n                {list && <Route path=\"/*\" element={getElement(list)} />}\r\n                {props.children}\r\n            </Routes>\r\n        </ResourceContextProvider>\r\n    );\r\n};\r\n\r\nconst getElement = (ElementOrComponent: ComponentType<any> | ReactElement) => {\r\n    if (isValidElement(ElementOrComponent)) {\r\n        return ElementOrComponent;\r\n    }\r\n\r\n    if (isValidElementType(ElementOrComponent)) {\r\n        return <ElementOrComponent />;\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nResource.raName = 'Resource';\r\n\r\nResource.registerResource = ({\r\n    create,\r\n    edit,\r\n    icon,\r\n    list,\r\n    name,\r\n    options,\r\n    show,\r\n    recordRepresentation,\r\n    hasCreate,\r\n    hasEdit,\r\n    hasShow,\r\n}: ResourceProps) => ({\r\n    name,\r\n    options,\r\n    hasList: !!list,\r\n    hasCreate: !!create || !!hasCreate,\r\n    hasEdit: !!edit || !!hasEdit,\r\n    hasShow: !!show || !!hasShow,\r\n    icon,\r\n    recordRepresentation,\r\n});\r\n", "import * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport { ResourceContext, ResourceContextValue } from './ResourceContext';\r\n\r\n/**\r\n * Create a Resource Context with the resource name\r\n *\r\n * Some react-admin components rely on the resource name to be available in the context.\r\n * This component provides it.\r\n *\r\n * If the value is empty, the context is not provided.\r\n *\r\n * @param {string} value the resource name\r\n * @example\r\n *\r\n * import { ResourceContextProvider } from 'react-admin';\r\n *\r\n * const MyComponent = () => (\r\n *    <ResourceContextProvider value=\"posts\">\r\n *       <MyResourceSpecificComponent />\r\n *   </ResourceContextProvider>\r\n * );\r\n */\r\nexport const ResourceContextProvider = ({\r\n    children,\r\n    value,\r\n}: {\r\n    children: ReactElement;\r\n    value?: ResourceContextValue;\r\n}) =>\r\n    value ? (\r\n        <ResourceContext.Provider value={value}>\r\n            {children}\r\n        </ResourceContext.Provider>\r\n    ) : (\r\n        children\r\n    );\r\n", "import { createContext } from 'react';\r\n\r\n/**\r\n * Context to store the current resource name.\r\n *\r\n * Use the useResource() hook to read the context. That's what most components do in react-admin.\r\n *\r\n * @example\r\n *\r\n * import { useResourceContext, useTranslate } from 'ra-core';\r\n *\r\n * const MyCustomEditTitle = props => {\r\n *     const name = useResourceContext(props);\r\n *\r\n *     return (\r\n *         <h1>{translate(`${name}.name`)}</h1>\r\n *     );\r\n * };\r\n */\r\nexport const ResourceContext = createContext<ResourceContextValue>(undefined);\r\n\r\nexport type ResourceContextValue = string;\r\n", "import inflection from 'inflection';\r\n\r\nimport { useResourceDefinitions } from './useResourceDefinitions';\r\nimport { useTranslate } from '../i18n';\r\n\r\n/**\r\n * A hook which returns function to get a translated resource name. It will use the label option of the `Resource` component if it was provided.\r\n *\r\n * @returns {GetResourceLabel} A function which takes a resource name and an optional number indicating the number of items (used for pluralization) and returns a translated string.\r\n * @example\r\n * const Menu = () => {\r\n *     const resources = useResourceDefinitions();\r\n *     const getResourceLabel = useGetResourceLabel();\r\n *\r\n *     return (\r\n *         <ul>\r\n *             {Object.keys(resources).map(name => (\r\n *                 <li key={name}>\r\n *                     {getResourceLabel(name, 2)}\r\n *                 </li>\r\n *             ))}\r\n *         </ul>\r\n *     )\r\n * }\r\n */\r\nexport const useGetResourceLabel = (): GetResourceLabel => {\r\n    const translate = useTranslate();\r\n    const definitions = useResourceDefinitions();\r\n\r\n    return (resource: string, count = 2): string => {\r\n        const resourceDefinition = definitions[resource];\r\n\r\n        const label = translate(`resources.${resource}.name`, {\r\n            smart_count: count,\r\n            _:\r\n                resourceDefinition &&\r\n                resourceDefinition.options &&\r\n                resourceDefinition.options.label\r\n                    ? translate(resourceDefinition.options.label, {\r\n                          smart_count: count,\r\n                          _: resourceDefinition.options.label,\r\n                      })\r\n                    : inflection.humanize(\r\n                          count > 1\r\n                              ? inflection.pluralize(resource)\r\n                              : inflection.singularize(resource)\r\n                      ),\r\n        });\r\n\r\n        return label;\r\n    };\r\n};\r\n\r\nexport type GetResourceLabel = (resource: string, count?: number) => string;\r\n", "import { ResourceDefinitions } from './ResourceDefinitionContext';\r\nimport { useResourceDefinitionContext } from './useResourceDefinitionContext';\r\n\r\n/**\r\n * Get the definition of the all resources\r\n *\r\n * @example\r\n *\r\n * const definitions = useResourceDefinitions();\r\n * console.log(definitions.posts);\r\n * // {\r\n * //   name: 'posts',\r\n * //   hasList: true,\r\n * //   hasEdit: true,\r\n * //   hasShow: true,\r\n * //   hasCreate: true,\r\n * //   options: {},\r\n * //   icon: PostIcon,\r\n * //   recordRepresentation: 'title',\r\n * // }\r\n */\r\nexport const useResourceDefinitions = <\r\n    OptionsType = any\r\n>(): ResourceDefinitions<OptionsType> =>\r\n    useResourceDefinitionContext().definitions;\r\n", "import { useContext } from 'react';\r\nimport { ResourceContext, ResourceContextValue } from './ResourceContext';\r\n\r\n/**\r\n * Hook to read the resource from the ResourceContext.\r\n *\r\n * Must be used within a <ResourceContextProvider> (e.g. as a descendent of <Resource>\r\n * or any reference related components), or called with a resource prop.\r\n *\r\n * @example\r\n *\r\n * const ResourceName = (props) => {\r\n *   const resource = useResourceContext(props);\r\n *   const getResourceLabel = useGetResourceLabel();\r\n *   return <>{getResourceLabel(resource, 1)}</>;\r\n * }\r\n *\r\n * // use it in a resource context\r\n * const MyComponent = () => (\r\n *   <ResourceContextProvider value=\"posts\">\r\n *     <ResourceName />\r\n *     ...\r\n *   </ResourceContextProvider>\r\n * );\r\n *\r\n * // override resource via props\r\n * const MyComponent = () => (\r\n *   <>\r\n *     <ResourceName resource=\"posts\"/>\r\n *     ...\r\n *   </>\r\n * );\r\n *\r\n * @returns {ResourceContextValue} The resource name, e.g. 'posts'\r\n */\r\nexport const useResourceContext = <\r\n    ResourceInformationsType extends Partial<{ resource: string }>\r\n>(\r\n    props?: ResourceInformationsType\r\n): ResourceContextValue => {\r\n    const context = useContext(ResourceContext);\r\n    return (props && props.resource) || context;\r\n};\r\n", "import { useMemo } from 'react';\r\nimport defaults from 'lodash/defaults';\r\n\r\nimport { useResourceDefinitions } from './useResourceDefinitions';\r\nimport { useResourceContext } from './useResourceContext';\r\nimport { ResourceDefinition, ResourceOptions } from '../types';\r\n\r\n/**\r\n * Hook to get the definition of a given resource\r\n *\r\n * @example // Get the current resource definition (based on ResourceContext)\r\n *\r\n * const definition = useResourceDefinition();\r\n * console.log(definition);\r\n * // {\r\n * //   name: 'posts',\r\n * //   hasList: true,\r\n * //   hasEdit: true,\r\n * //   hasShow: true,\r\n * //   hasCreate: true,\r\n * //   options: {},\r\n * //   icon: PostIcon,\r\n * // }\r\n *\r\n * @example // Pass a resource prop to check a different resource definition\r\n *\r\n * const definition = useResourceDefinition({ resource: 'posts' });\r\n */\r\nexport const useResourceDefinition = <\r\n    OptionsType extends ResourceOptions = any\r\n>(\r\n    props?: UseResourceDefinitionOptions\r\n): ResourceDefinition<OptionsType> => {\r\n    const resource = useResourceContext(props);\r\n    const resourceDefinitions = useResourceDefinitions();\r\n    const { hasCreate, hasEdit, hasList, hasShow, recordRepresentation } =\r\n        props || {};\r\n\r\n    const definition = useMemo(() => {\r\n        return defaults(\r\n            {},\r\n            {\r\n                hasCreate,\r\n                hasEdit,\r\n                hasList,\r\n                hasShow,\r\n                recordRepresentation,\r\n            },\r\n            resourceDefinitions[resource]\r\n        );\r\n    }, [\r\n        resource,\r\n        resourceDefinitions,\r\n        hasCreate,\r\n        hasEdit,\r\n        hasList,\r\n        hasShow,\r\n        recordRepresentation,\r\n    ]);\r\n\r\n    return definition;\r\n};\r\n\r\nexport interface UseResourceDefinitionOptions {\r\n    readonly resource?: string;\r\n    readonly hasList?: boolean;\r\n    readonly hasEdit?: boolean;\r\n    readonly hasShow?: boolean;\r\n    readonly hasCreate?: boolean;\r\n    readonly recordRepresentation?:\r\n        | string\r\n        | React.ReactElement\r\n        | ((record: any) => string);\r\n}\r\n", "import * as React from 'react';\r\nimport { useCallback, ReactNode } from 'react';\r\nimport get from 'lodash/get';\r\n\r\nimport { useResourceDefinition } from './useResourceDefinition';\r\n\r\n/**\r\n * Get default string representation of a record\r\n *\r\n * @example // No customization\r\n * const getRecordRepresentation = useGetRecordRepresentation('posts');\r\n * getRecordRepresentation({ id: 1, title: 'Hello' }); // => \"#1\"\r\n *\r\n * @example // With <Resource name=\"posts\" recordRepresentation=\"title\" />\r\n * const getRecordRepresentation = useGetRecordRepresentation('posts');\r\n * getRecordRepresentation({ id: 1, title: 'Hello' }); // => \"Hello\"\r\n */\r\nexport const useGetRecordRepresentation = (\r\n    resource: string\r\n): ((record: any) => ReactNode) => {\r\n    const { recordRepresentation } = useResourceDefinition({ resource });\r\n    return useCallback(\r\n        record => {\r\n            if (!record) return '';\r\n            if (typeof recordRepresentation === 'function') {\r\n                return recordRepresentation(record);\r\n            }\r\n            if (typeof recordRepresentation === 'string') {\r\n                return get(record, recordRepresentation);\r\n            }\r\n            if (React.isValidElement(recordRepresentation)) {\r\n                return recordRepresentation;\r\n            }\r\n            return `#${record.id}`;\r\n        },\r\n        [recordRepresentation]\r\n    );\r\n};\r\n", "import { useCallback, ReactElement } from 'react';\r\n\r\nimport { useTranslate } from './useTranslate';\r\nimport { useLabelPrefix, getFieldLabelTranslationArgs } from '../util';\r\nimport { useResourceContext } from '../core';\r\n\r\nexport const useTranslateLabel = () => {\r\n    const translate = useTranslate();\r\n    const prefix = useLabelPrefix();\r\n    const resourceFromContext = useResourceContext();\r\n\r\n    return useCallback(\r\n        ({\r\n            source,\r\n            label,\r\n            resource,\r\n        }: {\r\n            source?: string;\r\n            label?: string | false | ReactElement;\r\n            resource?: string;\r\n        }) => {\r\n            if (label === false || label === '') {\r\n                return null;\r\n            }\r\n\r\n            if (label && typeof label !== 'string') {\r\n                return label;\r\n            }\r\n\r\n            return translate(\r\n                ...getFieldLabelTranslationArgs({\r\n                    label: label as string,\r\n                    prefix,\r\n                    resource,\r\n                    resourceFromContext,\r\n                    source,\r\n                })\r\n            );\r\n        },\r\n        [prefix, resourceFromContext, translate]\r\n    );\r\n};\r\n", "import { useCallback } from 'react';\r\n\r\nimport { Translate } from '../types';\r\nimport { useI18nProvider } from './useI18nProvider';\r\n\r\n/**\r\n * Translate a string using the current locale and the translations from the i18nProvider\r\n *\r\n * @see Polyglot.t()\r\n * @link https://airbnb.io/polyglot.js/#polyglotprototypetkey-interpolationoptions\r\n *\r\n * @return {Function} A translation function, accepting two arguments\r\n *   - a string used as key in the translations\r\n *   - an interpolationOptions object\r\n *\r\n * @example\r\n *\r\n * import { useTranslate } from 'react-admin';\r\n *\r\n * const SettingsMenu = () => {\r\n *     const translate = useTranslate();\r\n *     return <MenuItem>{translate('settings')}</MenuItem>;\r\n * }\r\n */\r\nexport const useTranslate = (): Translate => {\r\n    const i18nProvider = useI18nProvider();\r\n    const translate = useCallback(\r\n        (key: string, options?: any) =>\r\n            i18nProvider.translate(key, options) as string,\r\n        // update the hook each time the locale changes\r\n        [i18nProvider] // eslint-disable-line react-hooks/exhaustive-deps\r\n    );\r\n    return i18nProvider ? translate : identity;\r\n};\r\n\r\nconst identity = key => key;\r\n", "import { useContext } from 'react';\r\nimport {\r\n    TranslatableContext,\r\n    TranslatableContextValue,\r\n} from './TranslatableContext';\r\n\r\n/**\r\n * Gives access to the current TranslatableContext.\r\n *\r\n * @example\r\n * <TranslatableFields\r\n *     selector={<MyLanguageSelector />}\r\n *     locales={['en', 'fr']}\r\n * >\r\n *     <TextField source={getSource('title')} />\r\n * <TranslatableFields>\r\n *\r\n * const MyLanguageSelector = () => {\r\n *     const {\r\n *         locales,\r\n *         selectedLocale,\r\n *         selectLocale,\r\n *     } = useTranslatableContext();\r\n *\r\n *     return (\r\n *         <select onChange={selectLocale}>\r\n *             {locales.map((locale) => (\r\n *                 <option selected={locale.locale === selectedLocale}>\r\n *                     {locale.name}\r\n *                 </option>\r\n *             ))}\r\n *        </select>\r\n *     );\r\n * }\r\n */\r\nexport const useTranslatableContext = (): TranslatableContextValue => {\r\n    const context = useContext(TranslatableContext);\r\n\r\n    if (!context) {\r\n        throw new Error(\r\n            'useTranslatableContext must be used inside a TranslatableContextProvider'\r\n        );\r\n    }\r\n\r\n    return context;\r\n};\r\n", "export const DEFAULT_LOCALE = 'en';\r\n\r\nexport * from './substituteTokens';\r\nexport * from './TestTranslationProvider';\r\nexport * from './I18nContext';\r\nexport * from './I18nContextProvider';\r\nexport * from './TranslationMessages';\r\nexport * from './TranslatableContext';\r\nexport * from './TranslatableContextProvider';\r\nexport * from './TranslationUtils';\r\nexport * from './useLocaleState';\r\nexport * from './useLocale';\r\nexport * from './useLocales';\r\nexport * from './useSetLocale';\r\nexport * from './useTranslatable';\r\nexport * from './useTranslatableContext';\r\nexport * from './useTranslate';\r\nexport * from './useTranslateLabel';\r\nexport * from './useI18nProvider';\r\n", "import inflection from 'inflection';\r\n\r\ninterface Args {\r\n    label?: string;\r\n    prefix?: string;\r\n    resource?: string;\r\n    resourceFromContext?: string;\r\n    source?: string;\r\n}\r\n\r\ntype TranslationArguments = [string, any?];\r\n\r\n/**\r\n * Returns an array of arguments to use with the translate function for the label of a field.\r\n * The label will be the one specified by the label prop or one computed from the resource and source props.\r\n *\r\n * Usage:\r\n *  <span>\r\n *      {translate(...getFieldLabelTranslationArgs({ label, resource, source }))}\r\n *  </span>\r\n *\r\n * @see useTranslateLabel for a ready-to-use hook\r\n */\r\nexport default (options?: Args): TranslationArguments => {\r\n    if (!options) return [''];\r\n\r\n    const { label, prefix, resource, resourceFromContext, source } = options;\r\n\r\n    if (typeof label !== 'undefined') return [label, { _: label }];\r\n\r\n    if (typeof source === 'undefined') return [''];\r\n\r\n    const { sourceWithoutDigits, sourceSuffix } = getSourceParts(source);\r\n\r\n    const defaultLabel = inflection.transform(\r\n        sourceSuffix.replace(/\\./g, ' '),\r\n        ['underscore', 'humanize']\r\n    );\r\n\r\n    if (resource) {\r\n        return [\r\n            `resources.${resource}.fields.${sourceWithoutDigits}`,\r\n            { _: defaultLabel },\r\n        ];\r\n    }\r\n\r\n    if (prefix) {\r\n        return [`${prefix}.${sourceWithoutDigits}`, { _: defaultLabel }];\r\n    }\r\n\r\n    return [\r\n        `resources.${resourceFromContext}.fields.${sourceWithoutDigits}`,\r\n        { _: defaultLabel },\r\n    ];\r\n};\r\n\r\n/**\r\n * Uses the source string to guess a translation message and a default label.\r\n *\r\n * @example\r\n * getSourceParts('pictures') // { sourceWithoutDigits: 'pictures', sourceSuffix: 'pictures' }\r\n * getSourceParts('pictures.url') // { sourceWithoutDigits: 'pictures.url', sourceSuffix: 'pictures.url' }\r\n * getSourceParts('pictures.0.url') // { sourceWithoutDigits: 'pictures.url', sourceSuffix: 'url' }\r\n * getSourceParts('pictures.12.urls.5.protocol') // { sourceWithoutDigits: 'pictures.urls.protocol', sourceSuffix: 'protocol' }\r\n */\r\nconst getSourceParts = (source: string) => {\r\n    // remove digits, e.g. 'book.authors.2.categories.3.identifier.name' => 'book.authors.categories.identifier.name'\r\n    const sourceWithoutDigits = source.replace(/\\.\\d+\\./g, '.');\r\n    // get final part, e.g. 'book.authors.2.categories.3.identifier.name' => 'identifier.name'\r\n    // we're not using a regexp here to avoid code scanning alert \"Polynomial regular expression used on uncontrolled data\"\r\n    const parts = source.split('.');\r\n    let lastPartWithDigits;\r\n    parts.forEach((part, index) => {\r\n        if (onlyDigits(part)) {\r\n            lastPartWithDigits = index;\r\n        }\r\n    });\r\n    const sourceSuffix =\r\n        lastPartWithDigits != null\r\n            ? parts.slice(lastPartWithDigits + 1).join('.')\r\n            : source;\r\n\r\n    return { sourceWithoutDigits, sourceSuffix };\r\n};\r\n\r\n// 48 and 57 are the char codes for \"0\" and \"9\", respectively\r\nconst onlyDigits = s => {\r\n    for (let i = s.length - 1; i >= 0; i--) {\r\n        const d = s.charCodeAt(i);\r\n        if (d < 48 || d > 57) return false;\r\n    }\r\n    return true;\r\n};\r\n", "import { isValidElementType } from 'react-is';\r\n\r\nexport default (props, propName, componentName) => {\r\n    if (props[propName] && !isValidElementType(props[propName])) {\r\n        return new Error(\r\n            `Invalid prop '${propName}' supplied to '${componentName}': the prop is not a valid React component`\r\n        );\r\n    }\r\n};\r\n", "import * as React from 'react';\r\nimport { useState } from 'react';\r\n\r\nconst styles = {\r\n    root: {\r\n        width: '100vw',\r\n        height: '100vh',\r\n        display: 'flex',\r\n        flexDirection: 'column' as 'column',\r\n        fontFamily: '\"Roboto\", sans-serif',\r\n    },\r\n    main: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        textAlign: 'center' as 'center',\r\n        flexDirection: 'column' as 'column',\r\n        background:\r\n            'linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)',\r\n        color: 'white',\r\n        fontSize: '1.5em',\r\n        fontWeight: 'bold' as 'bold',\r\n    },\r\n    secondary: {\r\n        height: '20vh',\r\n        background: '#e8e8e8',\r\n        color: 'black',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-evenly',\r\n    },\r\n    link: {\r\n        textAlign: 'center' as 'center',\r\n        width: 150,\r\n        display: 'block',\r\n        textDecoration: 'none',\r\n        color: 'black',\r\n        opacity: 0.7,\r\n    },\r\n    linkHovered: {\r\n        opacity: 1,\r\n    },\r\n    image: {\r\n        width: 50,\r\n    },\r\n    logo: {\r\n        height: 100,\r\n    },\r\n};\r\n\r\nconst Button = ({ img, label, href }) => {\r\n    const [hovered, setHovered] = useState(false);\r\n    return (\r\n        <div>\r\n            <a\r\n                href={href}\r\n                style={\r\n                    hovered\r\n                        ? { ...styles.link, ...styles.linkHovered }\r\n                        : styles.link\r\n                }\r\n                onMouseEnter={() => setHovered(true)}\r\n                onMouseLeave={() => setHovered(false)}\r\n            >\r\n                <img src={img} alt={label} style={styles.image} />\r\n                <br />\r\n                {label}\r\n            </a>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default () =>\r\n    process.env.NODE_ENV === 'production' ? (\r\n        <span />\r\n    ) : (\r\n        <div style={styles.root}>\r\n            <div style={styles.main}>\r\n                <img\r\n                    style={styles.logo}\r\n                    src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\"\r\n                    alt=\"react-admin logo\"\r\n                />\r\n                <h1>Welcome to React-admin</h1>\r\n                <div>\r\n                    Your application is properly configured.\r\n                    <br />\r\n                    Now you can add a &lt;Resource&gt; as child of\r\n                    &lt;Admin&gt;.\r\n                </div>\r\n            </div>\r\n            <div style={styles.secondary}>\r\n                <Button\r\n                    href=\"https://marmelab.com/react-admin/documentation.html\"\r\n                    img=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\"\r\n                    label=\"Documentation\"\r\n                />\r\n                <Button\r\n                    href=\"https://github.com/marmelab/react-admin/tree/master/examples\"\r\n                    img=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=\"\r\n                    label=\"Examples\"\r\n                />\r\n                <Button\r\n                    href=\"https://stackoverflow.com/questions/tagged/react-admin\"\r\n                    img=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\"\r\n                    label=\"Community\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n", "export default (condition: any, message: string) => {\r\n    if (condition && process.env.NODE_ENV !== 'production') {\r\n        console.warn(message); // eslint-disable-line\r\n    }\r\n};\r\n", "import { useRef, useEffect } from 'react';\r\n\r\n/**\r\n * Debug hook showing which props updated between two renders\r\n * @example\r\n *\r\n * const MyComponent = React.memo(props => {\r\n *   useWhyDidYouUpdate('MyComponent', props);\r\n *   return <div...;\r\n * });\r\n *\r\n * @link https://usehooks.com/useWhyDidYouUpdate/\r\n */\r\nexport default function useWhyDidYouUpdate(name, props) {\r\n    // Get a mutable ref object where we can store props ...\r\n    // ... for comparison next time this hook runs.\r\n    const previousProps = useRef() as any;\r\n\r\n    useEffect(() => {\r\n        if (previousProps.current) {\r\n            // Get all keys from previous and current props\r\n            const allKeys = Object.keys({ ...previousProps.current, ...props });\r\n            // Use this object to keep track of changed props\r\n            const changesObj = {};\r\n            // Iterate through keys\r\n            allKeys.forEach(key => {\r\n                // If previous is different from current\r\n                if (previousProps.current[key] !== props[key]) {\r\n                    // Add to changesObj\r\n                    changesObj[key] = {\r\n                        from: previousProps.current[key],\r\n                        to: props[key],\r\n                    };\r\n                }\r\n            });\r\n\r\n            // If changesObj not empty then output to console\r\n            if (Object.keys(changesObj).length) {\r\n                console.log('[why-did-you-update]', name, changesObj);\r\n            }\r\n        }\r\n\r\n        // Finally update previousProps with current props for next hook call\r\n        previousProps.current = props;\r\n    });\r\n}\r\n", "export const getMutationMode = (mutationMode, undoable) => {\r\n    if (mutationMode) {\r\n        return mutationMode;\r\n    }\r\n    switch (undoable) {\r\n        case true:\r\n            return 'undoable';\r\n        case false:\r\n            return 'pessimistic';\r\n        default:\r\n            return 'undoable';\r\n    }\r\n};\r\n", "import { LegacyRef, MutableRefObject, RefCallback } from 'react';\r\n\r\n// https://github.com/gregberge/react-merge-refs\r\nexport function mergeRefs<T = any>(\r\n    refs: Array<MutableRefObject<T> | LegacyRef<T>>\r\n): RefCallback<T> {\r\n    return value => {\r\n        refs.forEach(ref => {\r\n            if (typeof ref === 'function') {\r\n                ref(value);\r\n            } else if (ref != null) {\r\n                (ref as MutableRefObject<T | null>).current = value;\r\n            }\r\n        });\r\n    };\r\n}\r\n", "import * as React from 'react';\r\nimport { useCallback } from 'react';\r\n\r\n// allow the hook to work in SSR\r\nconst useLayoutEffect =\r\n    typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\r\n\r\n/**\r\n * Alternative to useCallback that doesn't update the callback when dependencies change\r\n *\r\n * @see https://reactjs.org/docs/hooks-faq.html#how-to-read-an-often-changing-value-from-usecallback\r\n * @see https://github.com/facebook/react/issues/14099#issuecomment-440013892\r\n */\r\nexport const useEvent = <Args extends unknown[], Return>(\r\n    fn: (...args: Args) => Return\r\n): ((...args: Args) => Return) => {\r\n    const ref = React.useRef<(...args: Args) => Return>(() => {\r\n        throw new Error('Cannot call an event handler while rendering.');\r\n    });\r\n\r\n    useLayoutEffect(() => {\r\n        ref.current = fn;\r\n    });\r\n\r\n    return useCallback((...args: Args) => ref.current(...args), []);\r\n};\r\n", "import debounce from 'lodash/debounce';\r\n\r\n/**\r\n * A version of lodash/debounce that always returns a promise but wait for the debounced function to return to resolve it.\r\n * @param func The function to debounce\r\n * @param wait The debounce delay\r\n * @returns A debounced function that returns a promise\r\n */\r\nexport function asyncDebounce<\r\n    FunctionType extends (...args: any[]) => Promise<any>\r\n>(func: FunctionType, wait?: number) {\r\n    const resolveSet = new Set<(p: any) => void>();\r\n    const rejectSet = new Set<(p: any) => void>();\r\n\r\n    const debounced = debounce((args: Parameters<FunctionType>) => {\r\n        func(...args)\r\n            .then((...res) => {\r\n                resolveSet.forEach(resolve => resolve(...res));\r\n            })\r\n            .catch((...res) => {\r\n                rejectSet.forEach(reject => reject(...res));\r\n            })\r\n            .finally(() => {\r\n                resolveSet.clear();\r\n                rejectSet.clear();\r\n            });\r\n    }, wait);\r\n\r\n    return (...args: Parameters<FunctionType>): ReturnType<FunctionType> =>\r\n        new Promise((resolve, reject) => {\r\n            resolveSet.add(resolve);\r\n            rejectSet.add(reject);\r\n            debounced(args);\r\n        }) as ReturnType<FunctionType>;\r\n}\r\n", "import { createContext } from 'react';\r\n\r\nexport const LabelPrefixContext = createContext<string>('');\r\n", "import * as React from 'react';\r\nimport { LabelPrefixContext } from './LabelPrefixContext';\r\nimport { useLabelPrefix } from './useLabelPrefix';\r\n\r\nexport const LabelPrefixContextProvider = ({\r\n    prefix,\r\n    concatenate = true,\r\n    children,\r\n}) => {\r\n    const oldPrefix = useLabelPrefix();\r\n    const newPrefix =\r\n        oldPrefix && concatenate ? `${oldPrefix}.${prefix}` : prefix;\r\n    return (\r\n        <LabelPrefixContext.Provider value={newPrefix}>\r\n            {children}\r\n        </LabelPrefixContext.Provider>\r\n    );\r\n};\r\n", "import { useContext } from 'react';\r\nimport { LabelPrefixContext } from './LabelPrefixContext';\r\n\r\nexport const useLabelPrefix = () => useContext(LabelPrefixContext);\r\n", "import { useCallback } from 'react';\r\n\r\nimport { useStoreContext } from './useStoreContext';\r\n\r\n/**\r\n * Get a callback to remove an item from the store\r\n *\r\n * @example\r\n * import { useRemoveFromStore } from 'react-admin';\r\n *\r\n * const ResetDatagridPrefs = () {\r\n *    const removeItem = useRemoveFromStore();\r\n *\r\n *    const handleClick = () => {\r\n *        removeItem('datagrid.prefs');\r\n *    };\r\n *\r\n *    return <Button onClick={hancleClick}>Reset datagrid preferences</Button>;\r\n * }\r\n */\r\nexport const useRemoveFromStore = (hookTimeKey?: string) => {\r\n    const { removeItem } = useStoreContext();\r\n    return useCallback(\r\n        (key?: string) => {\r\n            if (\r\n                typeof key === 'undefined' &&\r\n                typeof hookTimeKey === 'undefined'\r\n            ) {\r\n                throw new Error(\r\n                    'You must provide a key to remove an item from the store'\r\n                );\r\n            }\r\n            // @ts-ignore\r\n            return removeItem(key ?? hookTimeKey);\r\n        },\r\n        [removeItem, hookTimeKey]\r\n    );\r\n};\r\n", "import { useCallback } from 'react';\r\n\r\nimport { useStoreContext } from './useStoreContext';\r\n\r\n/**\r\n * Get a callback to remove all item with a certain key prefix from the store\r\n *\r\n * @example\r\n * import { useRemoveItemsFromStore } from 'react-admin';\r\n *\r\n * const ResetDatagridPrefs = () {\r\n *    const removeItems = useRemoveItemsFromStore();\r\n *\r\n *    const handleClick = () => {\r\n *        removeItems('datagrid.prefs');\r\n *    };\r\n *\r\n *    return <Button onClick={hancleClick}>Reset datagrid preferences</Button>;\r\n * }\r\n */\r\nexport const useRemoveItemsFromStore = (hookTimeKeyPrefix?: string) => {\r\n    const { removeItems } = useStoreContext();\r\n    return useCallback(\r\n        (keyPrefix?: string) => {\r\n            if (\r\n                typeof keyPrefix === 'undefined' &&\r\n                typeof hookTimeKeyPrefix === 'undefined'\r\n            ) {\r\n                throw new Error(\r\n                    'You must provide a key to remove an item from the store'\r\n                );\r\n            }\r\n            // @ts-ignore\r\n            return removeItems(keyPrefix ?? hookTimeKeyPrefix);\r\n        },\r\n        [removeItems, hookTimeKeyPrefix]\r\n    );\r\n};\r\n", "import { useStoreContext } from './useStoreContext';\r\n\r\n/**\r\n * Get a callback to remove all items from the store\r\n *\r\n * @example\r\n * import { useResetStore } from 'react-admin';\r\n *\r\n * const ResetPrefs = () {\r\n *    const reset = useResetStore();\r\n *\r\n *    const handleClick = () => {\r\n *        reset();\r\n *    };\r\n *\r\n *    return <Button onClick={handleClick}>Reset preferences</Button>;\r\n * }\r\n */\r\nexport const useResetStore = () => {\r\n    const { reset } = useStoreContext();\r\n    return reset;\r\n};\r\n", "import { useMemo } from 'react';\r\nimport { useQuery, UseQueryOptions } from 'react-query';\r\nimport useAuthProvider from './useAuthProvider';\r\nimport useLogoutIfAccessDenied from './useLogoutIfAccessDenied';\r\n\r\nconst emptyParams = {};\r\n\r\n/**\r\n * Hook for getting user permissions\r\n *\r\n * Calls the authProvider.getPermissions() method using react-query.\r\n * If the authProvider returns a rejected promise, returns empty permissions.\r\n *\r\n * The return value updates according to the request state:\r\n *\r\n * - start: { isLoading: true }\r\n * - success: { permissions: [any], isLoading: false }\r\n * - error: { error: [error from provider], isLoading: false }\r\n *\r\n * Useful to enable features based on user permissions\r\n *\r\n * @param {Object} params Any params you want to pass to the authProvider\r\n *\r\n * @returns The current auth check state. Destructure as { permissions, error, isLoading, refetch }.\r\n *\r\n * @example\r\n *     import { usePermissions } from 'react-admin';\r\n *\r\n *     const PostDetail = props => {\r\n *         const { isLoading, permissions } = usePermissions();\r\n *         if (!isLoading && permissions == 'editor') {\r\n *             return <PostEdit {...props} />\r\n *         } else {\r\n *             return <PostShow {...props} />\r\n *         }\r\n *     };\r\n */\r\nconst usePermissions = <Permissions = any, Error = any>(\r\n    params = emptyParams,\r\n    queryParams: UseQueryOptions<Permissions, Error> = {\r\n        staleTime: 5 * 60 * 1000,\r\n    }\r\n) => {\r\n    const authProvider = useAuthProvider();\r\n    const logoutIfAccessDenied = useLogoutIfAccessDenied();\r\n\r\n    const result = useQuery(\r\n        ['auth', 'getPermissions', params],\r\n        authProvider\r\n            ? () => authProvider.getPermissions(params)\r\n            : async () => [],\r\n        {\r\n            onError: error => {\r\n                if (process.env.NODE_ENV !== 'production') {\r\n                    console.error(error);\r\n                }\r\n                logoutIfAccessDenied(error);\r\n            },\r\n            ...queryParams,\r\n        }\r\n    );\r\n\r\n    return useMemo(\r\n        () => ({\r\n            permissions: result.data,\r\n            isLoading: result.isLoading,\r\n            error: result.error,\r\n            refetch: result.refetch,\r\n        }),\r\n        [result]\r\n    );\r\n};\r\n\r\nexport default usePermissions;\r\n", "import usePermissions from './usePermissions';\r\n\r\nconst emptyParams = {};\r\n\r\n/**\r\n * @deprecated use usePermissions instead\r\n *\r\n * @see usePermissions\r\n */\r\nconst usePermissionsOptimized = (params = emptyParams) => {\r\n    return usePermissions(params);\r\n};\r\n\r\nexport default usePermissionsOptimized;\r\n", "import { Children, ReactElement, ComponentType, createElement } from 'react';\r\nimport { Location } from 'react-router-dom';\r\n\r\nimport warning from '../util/warning';\r\nimport { useAuthenticated } from './useAuthenticated';\r\nimport usePermissions from './usePermissions';\r\n\r\nexport interface WithPermissionsChildrenParams {\r\n    permissions: any;\r\n}\r\n\r\ntype WithPermissionsChildren = (\r\n    params: WithPermissionsChildrenParams\r\n) => ReactElement;\r\n\r\nexport interface WithPermissionsProps {\r\n    authParams?: object;\r\n    children?: WithPermissionsChildren;\r\n    component?: ComponentType<any>;\r\n    location?: Location;\r\n    render?: WithPermissionsChildren;\r\n    staticContext?: object;\r\n    [key: string]: any;\r\n}\r\n\r\nconst isEmptyChildren = children => Children.count(children) === 0;\r\n\r\n/**\r\n * After checking that the user is authenticated,\r\n * retrieves the user's permissions for a specific context.\r\n *\r\n * Useful for Route components ; used internally by Resource.\r\n * Use it to decorate your custom page components to require\r\n * a custom role. It will pass the permissions as a prop to your\r\n * component.\r\n *\r\n * You can set additional `authParams` at will if your authProvider\r\n * requires it.\r\n *\r\n * @example\r\n *     import { Admin, CustomRoutes, WithPermissions } from 'react-admin';\r\n *\r\n *     const Foo = ({ permissions }) => (\r\n *         {permissions === 'admin' ? <p>Sensitive data</p> : null}\r\n *         <p>Not sensitive data</p>\r\n *     );\r\n *\r\n *     const customRoutes = [\r\n *         <Route path=\"/foo\" element={\r\n *             <WithPermissions\r\n *                  authParams={{ foo: 'bar' }}\r\n *                  component={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}\r\n *              />\r\n *         } />\r\n *     ];\r\n *     const App = () => (\r\n *         <Admin>\r\n *             <CustomRoutes>{customRoutes}</CustomRoutes>\r\n *         </Admin>\r\n *     );\r\n */\r\nconst WithPermissions = (props: WithPermissionsProps) => {\r\n    const {\r\n        authParams,\r\n        children,\r\n        render,\r\n        component,\r\n        staticContext,\r\n        ...rest\r\n    } = props;\r\n    warning(\r\n        (render && children && !isEmptyChildren(children)) ||\r\n            (render && component) ||\r\n            (component && children && !isEmptyChildren(children)),\r\n        'You should only use one of the `component`, `render` and `children` props in <WithPermissions>'\r\n    );\r\n\r\n    useAuthenticated(authParams);\r\n    const { permissions } = usePermissions(authParams);\r\n    // render even though the usePermissions() call isn't finished (optimistic rendering)\r\n    if (component) {\r\n        return createElement(component, { permissions, ...rest });\r\n    }\r\n    // @deprecated\r\n    if (render) {\r\n        return render({ permissions, ...rest });\r\n    }\r\n    // @deprecated\r\n    if (children) {\r\n        return children({ permissions, ...rest });\r\n    }\r\n};\r\n\r\nexport default WithPermissions as ComponentType<WithPermissionsProps>;\r\n", "import { UseQueryOptions } from 'react-query';\r\nimport useAuthState from './useAuthState';\r\n\r\n/**\r\n * Restrict access to authenticated users.\r\n * Redirect anonymous users to the login page.\r\n *\r\n * Use it in your custom page components to require\r\n * authentication.\r\n *\r\n * You can set additional `authParams` at will if your authProvider\r\n * requires it.\r\n *\r\n * @example\r\n *     import { Admin, CustomRoutes, useAuthenticated } from 'react-admin';\r\n *     const FooPage = () => {\r\n *         useAuthenticated();\r\n *         return <Foo />;\r\n *     }\r\n *     const customRoutes = [\r\n *         <Route path=\"/foo\" element={<FooPage />} />\r\n *     ];\r\n *     const App = () => (\r\n *         <Admin>\r\n *             <CustomRoutes>{customRoutes}</CustomRoutes>\r\n *         </Admin>\r\n *     );\r\n */\r\nexport const useAuthenticated = <ParamsType = any>({\r\n    params,\r\n    ...options\r\n}: UseAuthenticatedOptions<ParamsType> = {}) => {\r\n    useAuthState(params ?? emptyParams, true, options);\r\n};\r\n\r\nexport type UseAuthenticatedOptions<ParamsType> = UseQueryOptions<\r\n    boolean,\r\n    any\r\n> & {\r\n    params?: ParamsType;\r\n};\r\n\r\nconst emptyParams = {};\r\n", "import { useCallback } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\n\r\nimport { useNotificationContext } from '../notification';\r\nimport { useBasename } from '../routing';\r\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\r\nimport { removeDoubleSlashes } from '../routing/useCreatePath';\r\n\r\n/**\r\n * Get a callback for calling the authProvider.login() method\r\n * and redirect to the previous authenticated page (or the home page) on success.\r\n *\r\n * @see useAuthProvider\r\n *\r\n * @returns {Function} login callback\r\n *\r\n * @example\r\n *\r\n * import { useLogin } from 'react-admin';\r\n *\r\n * const LoginButton = () => {\r\n *     const [loading, setLoading] = useState(false);\r\n *     const login = useLogin();\r\n *     const handleClick = {\r\n *         setLoading(true);\r\n *         login({ username: 'john', password: 'p@ssw0rd' }, '/posts')\r\n *             .then(() => setLoading(false));\r\n *     }\r\n *     return <button onClick={handleClick}>Login</button>;\r\n * }\r\n */\r\nconst useLogin = (): Login => {\r\n    const authProvider = useAuthProvider();\r\n    const location = useLocation();\r\n    const locationState = location.state as any;\r\n    const navigate = useNavigate();\r\n    const basename = useBasename();\r\n    const { resetNotifications } = useNotificationContext();\r\n    const nextPathName = locationState && locationState.nextPathname;\r\n    const nextSearch = locationState && locationState.nextSearch;\r\n    const afterLoginUrl = removeDoubleSlashes(\r\n        `${basename}/${defaultAuthParams.afterLoginUrl}`\r\n    );\r\n\r\n    const login = useCallback(\r\n        (params: any = {}, pathName) =>\r\n            authProvider.login(params).then(ret => {\r\n                resetNotifications();\r\n                if (ret && ret.hasOwnProperty('redirectTo')) {\r\n                    if (ret) {\r\n                        navigate(ret.redirectTo);\r\n                    }\r\n                } else {\r\n                    const redirectUrl = pathName\r\n                        ? pathName\r\n                        : nextPathName + nextSearch || afterLoginUrl;\r\n                    navigate(redirectUrl);\r\n                }\r\n                return ret;\r\n            }),\r\n        [\r\n            authProvider,\r\n            navigate,\r\n            nextPathName,\r\n            nextSearch,\r\n            resetNotifications,\r\n            afterLoginUrl,\r\n        ]\r\n    );\r\n\r\n    const loginWithoutProvider = useCallback(\r\n        (_, __) => {\r\n            resetNotifications();\r\n            navigate(afterLoginUrl);\r\n            return Promise.resolve();\r\n        },\r\n        [navigate, resetNotifications, afterLoginUrl]\r\n    );\r\n\r\n    return authProvider ? login : loginWithoutProvider;\r\n};\r\n\r\n/**\r\n * Log a user in by calling the authProvider.login() method\r\n *\r\n * @param {Object} params Login parameters to pass to the authProvider. May contain username/email, password, etc\r\n * @param {string} pathName The path to redirect to after login. By default, redirects to the home page, or to the last page visited after disconnection.\r\n *\r\n * @return {Promise} The authProvider response\r\n */\r\ntype Login = (params: any, pathName?: string) => Promise<any>;\r\n\r\nexport default useLogin;\r\n", "import { useCallback } from 'react';\r\n\r\nimport useAuthProvider from './useAuthProvider';\r\n\r\nconst getPermissionsWithoutProvider = () => Promise.resolve([]);\r\n\r\n/**\r\n * Get a callback for calling the authProvider.getPermissions() method.\r\n *\r\n * @see useAuthProvider\r\n *\r\n * @returns {Function} getPermissions callback\r\n *\r\n * This is a low level hook. See those more specialized hooks\r\n * offering state handling.\r\n *\r\n * @see usePermissions\r\n *\r\n * @example\r\n *\r\n * import { useGetPermissions } from 'react-admin';\r\n *\r\n * const Roles = () => {\r\n *     const [permissions, setPermissions] = useState([]);\r\n *     const getPermissions = useGetPermissions();\r\n *     useEffect(() => {\r\n *         getPermissions().then(permissions => setPermissions(permissions))\r\n *     }, [])\r\n *     return (\r\n *         <ul>\r\n *             {permissions.map((permission, key) => (\r\n *                 <li key={key}>{permission}</li>\r\n *             ))}\r\n *         </ul>\r\n *     );\r\n * }\r\n */\r\nconst useGetPermissions = (): GetPermissions => {\r\n    const authProvider = useAuthProvider();\r\n    const getPermissions = useCallback(\r\n        (params: any = {}) => authProvider.getPermissions(params),\r\n        [authProvider]\r\n    );\r\n\r\n    return authProvider ? getPermissions : getPermissionsWithoutProvider;\r\n};\r\n\r\n/**\r\n * Proxy for calling authProvider.getPermissions()\r\n *\r\n * @param {Object} params The parameters to pass to the authProvider\r\n *\r\n * @return {Promise} The authProvider response\r\n */\r\ntype GetPermissions = (params?: any) => Promise<any>;\r\n\r\nexport default useGetPermissions;\r\n", "export type UserCheck = (\r\n    payload: object,\r\n    pathName: string,\r\n    routeParams?: object\r\n) => void;\r\n\r\nexport const AUTH_LOGIN = 'AUTH_LOGIN';\r\nexport const AUTH_CHECK = 'AUTH_CHECK';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\r\nexport const AUTH_GET_PERMISSIONS = 'AUTH_GET_PERMISSIONS';\r\n\r\nexport type AuthActionType =\r\n    | typeof AUTH_LOGIN\r\n    | typeof AUTH_LOGOUT\r\n    | typeof AUTH_ERROR\r\n    | typeof AUTH_CHECK\r\n    | typeof AUTH_GET_PERMISSIONS;\r\n", "import {\r\n    AUTH_LOGIN,\r\n    AUTH_LOGOUT,\r\n    AUTH_CHECK,\r\n    AUTH_ERROR,\r\n    AUTH_GET_PERMISSIONS,\r\n} from './types';\r\nimport { AuthProvider, LegacyAuthProvider } from '../types';\r\n\r\n/**\r\n * Turn a function-based authProvider to an object-based one\r\n *\r\n * Allows using legacy authProviders transparently.\r\n *\r\n * @param {Function} legacyAuthProvider A legacy authProvider (type, params) => Promise<any>\r\n *\r\n * @returns {Object} An authProvider that react-admin can use\r\n */\r\nexport default (legacyAuthProvider: LegacyAuthProvider): AuthProvider => {\r\n    const authProvider = (...args) => legacyAuthProvider.apply(null, args);\r\n    authProvider.login = params => legacyAuthProvider(AUTH_LOGIN, params);\r\n    authProvider.logout = params => legacyAuthProvider(AUTH_LOGOUT, params);\r\n    authProvider.checkAuth = params => legacyAuthProvider(AUTH_CHECK, params);\r\n    authProvider.checkError = error => legacyAuthProvider(AUTH_ERROR, error);\r\n    authProvider.getPermissions = params =>\r\n        legacyAuthProvider(AUTH_GET_PERMISSIONS, params);\r\n    return authProvider;\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\n\r\nimport useAuthState from './useAuthState';\r\n\r\n/**\r\n * Restrict access to children to authenticated users.\r\n * Redirects anonymous users to the login page.\r\n *\r\n * Use it to decorate your custom page components to require\r\n * authentication.\r\n *\r\n * By default this component is optimistic: it does not block\r\n * rendering children when checking authentication, but this mode\r\n * can be turned off by setting `requireAuth` to true.\r\n *\r\n * You can set additional `authParams` at will if your authProvider\r\n * requires it.\r\n *\r\n * @see useAuthState\r\n *\r\n * @example\r\n *     import { Admin, CustomRoutes, Authenticated } from 'react-admin';\r\n *\r\n *     const customRoutes = [\r\n *         <Route\r\n *             path=\"/foo\"\r\n *             element={\r\n *                 <Authenticated authParams={{ foo: 'bar' }}>\r\n *                     <Foo />\r\n *                 </Authenticated>\r\n *             }\r\n *         />\r\n *     ];\r\n *     const App = () => (\r\n *         <Admin>\r\n *             <CustomRoutes>{customRoutes}</CustomRoutes>\r\n *         </Admin>\r\n *     );\r\n */\r\nexport const Authenticated = (props: AuthenticatedProps) => {\r\n    const { authParams, children, requireAuth = false } = props;\r\n\r\n    // this hook will log out if the authProvider doesn't validate that the user is authenticated\r\n    const { isLoading, authenticated } = useAuthState(authParams, true);\r\n\r\n    // in pessimistic mode don't render the children until authenticated\r\n    if ((requireAuth && isLoading) || !authenticated) {\r\n        return null;\r\n    }\r\n\r\n    // render the children in optimistic rendering or after authenticated\r\n    return <>{children}</>;\r\n};\r\n\r\nexport interface AuthenticatedProps {\r\n    children: ReactNode;\r\n    authParams?: object;\r\n    requireAuth?: boolean;\r\n}\r\n", "import { useCallback } from 'react';\r\n\r\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\r\nimport useLogout from './useLogout';\r\nimport { useNotify } from '../notification';\r\nimport { useBasename } from '../routing';\r\nimport { removeDoubleSlashes } from '../routing/useCreatePath';\r\n\r\n/**\r\n * Get a callback for calling the authProvider.checkAuth() method.\r\n * In case of rejection, redirects to the login page, displays a notification,\r\n * and throws an error.\r\n *\r\n * This is a low level hook. See those more specialized hooks\r\n * for common authentication tasks, based on useCheckAuth.\r\n *\r\n * @see useAuthenticated\r\n * @see useAuthState\r\n *\r\n * @returns {Function} checkAuth callback\r\n *\r\n * @example\r\n *\r\n * import { useCheckAuth } from 'react-admin';\r\n *\r\n * const MyProtectedPage = () => {\r\n *     const checkAuth = useCheckAuth();\r\n *     useEffect(() => {\r\n *         checkAuth().catch(() => {});\r\n *     }, []);\r\n *     return <p>Private content: EZAEZEZAET</p>\r\n * } // tip: use useAuthenticated() hook instead\r\n *\r\n * const MyPage = () => {\r\n *     const checkAuth = useCheckAuth();\r\n *     const [authenticated, setAuthenticated] = useState(true); // optimistic auth\r\n *     useEffect(() => {\r\n *         checkAuth({}, false)\r\n *              .then(() => setAuthenticated(true))\r\n *              .catch(() => setAuthenticated(false));\r\n *     }, []);\r\n *     return authenticated ? <Bar /> : <BarNotAuthenticated />;\r\n * } // tip: use useAuthState() hook instead\r\n */\r\nexport const useCheckAuth = (): CheckAuth => {\r\n    const authProvider = useAuthProvider();\r\n    const notify = useNotify();\r\n    const logout = useLogout();\r\n    const basename = useBasename();\r\n    const loginUrl = removeDoubleSlashes(\r\n        `${basename}/${defaultAuthParams.loginUrl}`\r\n    );\r\n\r\n    const checkAuth = useCallback(\r\n        (\r\n            params: any = {},\r\n            logoutOnFailure = true,\r\n            redirectTo = loginUrl,\r\n            disableNotification = false\r\n        ) =>\r\n            authProvider.checkAuth(params).catch(error => {\r\n                if (logoutOnFailure) {\r\n                    logout(\r\n                        {},\r\n                        error && error.redirectTo != null\r\n                            ? error.redirectTo\r\n                            : redirectTo\r\n                    );\r\n                    const shouldSkipNotify =\r\n                        disableNotification ||\r\n                        (error && error.message === false);\r\n                    !shouldSkipNotify &&\r\n                        notify(\r\n                            getErrorMessage(error, 'ra.auth.auth_check_error'),\r\n                            { type: 'error' }\r\n                        );\r\n                }\r\n                throw error;\r\n            }),\r\n        [authProvider, logout, notify, loginUrl]\r\n    );\r\n\r\n    return authProvider ? checkAuth : checkAuthWithoutAuthProvider;\r\n};\r\n\r\nconst checkAuthWithoutAuthProvider = () => Promise.resolve();\r\n\r\n/**\r\n * Check if the current user is authenticated by calling authProvider.checkAuth().\r\n * Logs the user out on failure.\r\n *\r\n * @param {Object} params The parameters to pass to the authProvider\r\n * @param {boolean} logoutOnFailure Whether the user should be logged out if the authProvider fails to authenticate them. True by default.\r\n * @param {string} redirectTo The login form url. Defaults to '/login'\r\n * @param {boolean} disableNotification Avoid showing a notification after the user is logged out. false by default.\r\n *\r\n * @return {Promise} Resolved to the authProvider response if the user passes the check, or rejected with an error otherwise\r\n */\r\nexport type CheckAuth = (\r\n    params?: any,\r\n    logoutOnFailure?: boolean,\r\n    redirectTo?: string,\r\n    /** @deprecated to disable the notification, authProvider.checkAuth() should return an object with an error property set to true */\r\n    disableNotification?: boolean\r\n) => Promise<any>;\r\n\r\nconst getErrorMessage = (error, defaultMessage) =>\r\n    typeof error === 'string'\r\n        ? error\r\n        : typeof error === 'undefined' || !error.message\r\n        ? defaultMessage\r\n        : error.message;\r\n", "import { useMemo } from 'react';\r\nimport { useQuery, UseQueryOptions, QueryObserverResult } from 'react-query';\r\n\r\nimport useAuthProvider from './useAuthProvider';\r\nimport { UserIdentity } from '../types';\r\n\r\nconst defaultIdentity = {\r\n    id: '',\r\n    fullName: null,\r\n};\r\nconst defaultQueryParams = {\r\n    staleTime: 5 * 60 * 1000,\r\n};\r\n\r\n/**\r\n * Return the current user identity by calling authProvider.getIdentity() on mount\r\n *\r\n * The return value updates according to the call state:\r\n *\r\n * - mount: { isLoading: true }\r\n * - success: { data: Identity, refetch: () => {}, isLoading: false }\r\n * - error: { error: Error, isLoading: false }\r\n *\r\n * The implementation is left to the authProvider.\r\n *\r\n * @returns The current user identity. Destructure as { isLoading, data, error, refetch }.\r\n *\r\n * @example\r\n * import { useGetIdentity, useGetOne } from 'react-admin';\r\n *\r\n * const PostDetail = ({ id }) => {\r\n *     const { data: post, isLoading: postLoading } = useGetOne('posts', { id });\r\n *     const { data: identity, isLoading: identityLoading } = useGetIdentity();\r\n *     if (postLoading || identityLoading) return <>Loading...</>;\r\n *     if (!post.lockedBy || post.lockedBy === identity.id) {\r\n *         // post isn't locked, or is locked by me\r\n *         return <PostEdit post={post} />\r\n *     } else {\r\n *         // post is locked by someone else and cannot be edited\r\n *         return <PostShow post={post} />\r\n *     }\r\n * }\r\n */\r\nexport const useGetIdentity = (\r\n    queryParams: UseQueryOptions<UserIdentity, Error> = defaultQueryParams\r\n): UseGetIdentityResult => {\r\n    const authProvider = useAuthProvider();\r\n\r\n    const result = useQuery(\r\n        ['auth', 'getIdentity'],\r\n        authProvider\r\n            ? () => authProvider.getIdentity()\r\n            : async () => defaultIdentity,\r\n        {\r\n            enabled: typeof authProvider?.getIdentity === 'function',\r\n            ...queryParams,\r\n        }\r\n    );\r\n\r\n    // @FIXME: return useQuery's result directly by removing identity prop (BC break - to be done in v5)\r\n    return useMemo(\r\n        () =>\r\n            result.isLoading\r\n                ? { isLoading: true }\r\n                : result.error\r\n                ? { error: result.error, isLoading: false }\r\n                : {\r\n                      data: result.data,\r\n                      identity: result.data,\r\n                      refetch: result.refetch,\r\n                      isLoading: false,\r\n                  },\r\n\r\n        [result]\r\n    );\r\n};\r\n\r\nexport type UseGetIdentityResult =\r\n    | {\r\n          isLoading: true;\r\n          data?: undefined;\r\n          identity?: undefined;\r\n          error?: undefined;\r\n          refetch?: undefined;\r\n      }\r\n    | {\r\n          isLoading: false;\r\n          data?: undefined;\r\n          identity?: undefined;\r\n          error: Error;\r\n          refetch?: undefined;\r\n      }\r\n    | {\r\n          isLoading: false;\r\n          data: UserIdentity;\r\n          /**\r\n           * @deprecated Use data instead\r\n           */\r\n          identity: UserIdentity;\r\n          error?: undefined;\r\n          refetch: () => Promise<QueryObserverResult<UserIdentity, Error>>;\r\n      };\r\n\r\nexport default useGetIdentity;\r\n", "import { useQuery, UseQueryOptions } from 'react-query';\r\nimport { useLocation } from 'react-router';\r\nimport { useRedirect } from '../routing';\r\nimport { AuthProvider, AuthRedirectResult } from '../types';\r\nimport useAuthProvider from './useAuthProvider';\r\n\r\n/**\r\n * This hook calls the `authProvider.handleCallback()` method on mount. This is meant to be used in a route called\r\n * by an external authentication service (e.g. Auth0) after the user has logged in.\r\n * By default, it redirects to application home page upon success, or to the `redirectTo` location returned by `authProvider. handleCallback`.\r\n *\r\n * @returns An object containing { isLoading, data, error, refetch }.\r\n */\r\nexport const useHandleAuthCallback = (\r\n    options?: UseQueryOptions<ReturnType<AuthProvider['handleCallback']>>\r\n) => {\r\n    const authProvider = useAuthProvider();\r\n    const redirect = useRedirect();\r\n    const location = useLocation();\r\n    const locationState = location.state as any;\r\n    const nextPathName = locationState && locationState.nextPathname;\r\n    const nextSearch = locationState && locationState.nextSearch;\r\n    const defaultRedirectUrl = nextPathName ? nextPathName + nextSearch : '/';\r\n\r\n    return useQuery(\r\n        ['auth', 'handleCallback'],\r\n        () => authProvider.handleCallback(),\r\n        {\r\n            retry: false,\r\n            onSuccess: data => {\r\n                // AuthProviders relying on a third party services redirect back to the app can't\r\n                // use the location state to store the path on which the user was before the login.\r\n                // So we support a fallback on the localStorage.\r\n                const previousLocation = localStorage.getItem(\r\n                    PreviousLocationStorageKey\r\n                );\r\n                const redirectTo =\r\n                    (data as AuthRedirectResult)?.redirectTo ??\r\n                    previousLocation;\r\n\r\n                if (redirectTo === false) {\r\n                    return;\r\n                }\r\n\r\n                redirect(redirectTo ?? defaultRedirectUrl);\r\n            },\r\n            ...options,\r\n        }\r\n    );\r\n};\r\n\r\n/**\r\n * Key used to store the previous location in localStorage.\r\n * Used by the useHandleAuthCallback hook to redirect the user to their previous location after a successful login.\r\n */\r\nexport const PreviousLocationStorageKey = '@react-admin/nextPathname';\r\n", "import { AuthProvider } from '../types';\r\n\r\n/**\r\n * A higher-order function which wraps an authProvider to handle refreshing authentication.\r\n * This is useful when the authentication service supports a refresh token mechanism.\r\n * The wrapped provider will call the refreshAuth function before\r\n * calling the authProvider checkAuth, getIdentity and getPermissions methods.\r\n *\r\n * The refreshAuth function should return a Promise that resolves when the authentication token has been refreshed.\r\n * It might throw an error if the refresh failed. In this case, react-admin will handle the error as usual.\r\n *\r\n * @param provider An authProvider\r\n * @param refreshAuth A function that refreshes the authentication token if needed and returns a Promise.\r\n * @returns A wrapped authProvider.\r\n *\r\n * @example\r\n * import { addRefreshAuthToAuthProvider } from 'react-admin';\r\n * import { authProvider } from './authProvider';\r\n * import { refreshAuth } from './refreshAuth';\r\n *\r\n * const authProvider = addRefreshAuthToAuthProvider(authProvider, refreshAuth);\r\n */\r\nexport const addRefreshAuthToAuthProvider = (\r\n    provider: AuthProvider,\r\n    refreshAuth: () => Promise<void>\r\n): AuthProvider => {\r\n    const proxy = new Proxy(provider, {\r\n        get(_, name) {\r\n            const shouldIntercept =\r\n                AuthProviderInterceptedMethods.includes(name.toString()) &&\r\n                provider[name.toString()] != null;\r\n\r\n            if (shouldIntercept) {\r\n                return async (...args: any[]) => {\r\n                    await refreshAuth();\r\n                    return provider[name.toString()](...args);\r\n                };\r\n            }\r\n\r\n            return provider[name.toString()];\r\n        },\r\n    });\r\n\r\n    return proxy;\r\n};\r\n\r\nconst AuthProviderInterceptedMethods = [\r\n    'checkAuth',\r\n    'getIdentity',\r\n    'getPermissions',\r\n];\r\n", "import { DataProvider } from '../types';\r\n\r\n/**\r\n * A higher-order function which wraps a dataProvider to handle refreshing authentication.\r\n * This is useful when the authentication service supports a refresh token mechanism.\r\n * The wrapped provider will call the refreshAuth function before calling any dataProvider methods.\r\n *\r\n * The refreshAuth function should return a Promise that resolves when the authentication token has been refreshed.\r\n * It might throw an error if the refresh failed. In this case, react-admin will handle the error as usual.\r\n *\r\n * @param provider A dataProvider\r\n * @param refreshAuth A function that refreshes the authentication token if needed and returns a Promise.\r\n * @returns A wrapped dataProvider.\r\n *\r\n * @example\r\n * import { addRefreshAuthToDataProvider } from 'react-admin';\r\n * import { jsonServerProvider } from 'ra-data-json-server';\r\n * import { refreshAuth } from './refreshAuth';\r\n *\r\n * const dataProvider = addRefreshAuthToDataProvider(jsonServerProvider('http://localhost:3000'), refreshAuth);\r\n */\r\nexport const addRefreshAuthToDataProvider = (\r\n    provider: DataProvider,\r\n    refreshAuth: () => Promise<void>\r\n): DataProvider => {\r\n    const proxy = new Proxy(provider, {\r\n        get(_, name) {\r\n            return async (...args: any[]) => {\r\n                await refreshAuth();\r\n                return provider[name.toString()](...args);\r\n            };\r\n        },\r\n    });\r\n\r\n    return proxy;\r\n};\r\n", "import * as React from 'react';\r\nimport { createContext, useContext } from 'react';\r\n\r\nexport const PreferenceKeyContext = createContext<string>('');\r\n\r\nexport const PreferenceKeyContextProvider = ({\r\n    value = '',\r\n    children,\r\n}: {\r\n    value?: string;\r\n    children: React.ReactNode;\r\n}) => (\r\n    <PreferenceKeyContext.Provider value={value}>\r\n        {children}\r\n    </PreferenceKeyContext.Provider>\r\n);\r\n\r\nexport const usePreferenceKey = () => {\r\n    return useContext(PreferenceKeyContext);\r\n};\r\n", "import { useStore } from '../store/useStore';\r\nimport { usePreferenceKey } from './PreferenceKeyContext';\r\n\r\n/**\r\n * Get a preference value from the store\r\n *\r\n * Relies on the store, using a key namespaced with the preference key from the PreferenceKeyContext\r\n * @example\r\n *\r\n * // when used inside a PreferenceKeyContext of value 'my-app'\r\n * const [theme, setTheme] = usePreference('theme', 'light');\r\n * // this is equivalent to\r\n * const [theme, setTheme] = useStore('my-app.theme', 'light');\r\n */\r\nexport const usePreference = <T = any>(key?: string, defaultValue?: T) => {\r\n    const preferenceKey = usePreferenceKey();\r\n    return useStore<T>(\r\n        preferenceKey && key ? `${preferenceKey}.${key}` : preferenceKey ?? key,\r\n        defaultValue\r\n    );\r\n};\r\n", "import { useContext } from 'react';\r\nimport {\r\n    PreferencesEditorContext,\r\n    PreferencesEditorContextValue,\r\n} from './PreferencesEditorContext';\r\n\r\nexport const usePreferencesEditor = (): PreferencesEditorContextValue =>\r\n    useContext(PreferencesEditorContext);\r\n", "import { useState, useEffect } from 'react';\r\n\r\nimport { usePreference } from './usePreference';\r\n\r\n/**\r\n * Get the props for a preference input that changes the value on blur\r\n *\r\n * Relies on `usePreference`, so it's using the PreferenceKeyContext\r\n *\r\n * @example\r\n * const FontSizePreferenceInput = () => {\r\n *     const field = usePreferenceInput('ui.font.size', 10);\r\n *     return (\r\n *         <div>\r\n *             <label for=\"font-size\">Font size</label>\r\n *             <input id=\"font-size\" {...field} />\r\n *         </div>\r\n *     );\r\n * }\r\n */\r\nexport const usePreferenceInput = (key?: string, defaultValue?: any) => {\r\n    const [valueFromStore, setValueFromStore] = usePreference(\r\n        key,\r\n        defaultValue\r\n    );\r\n    const [value, setValue] = useState(valueFromStore);\r\n    useEffect(() => {\r\n        setValue(valueFromStore || defaultValue);\r\n    }, [valueFromStore, defaultValue]);\r\n\r\n    const onChange = event => {\r\n        setValue(event.target.value === '' ? defaultValue : event.target.value);\r\n    };\r\n\r\n    const onBlur = () => {\r\n        setValueFromStore(value);\r\n    };\r\n\r\n    const onKeyDown = event => {\r\n        if (event.key === 'Enter') {\r\n            setValueFromStore(value);\r\n            const form = event.target.form;\r\n            if (form) {\r\n                const index = [...form].indexOf(event.target);\r\n                form.elements[index + 1]?.focus();\r\n            }\r\n            event.preventDefault();\r\n        }\r\n    };\r\n\r\n    return { value, onChange, onBlur, onKeyDown };\r\n};\r\n", "import { useEffect } from 'react';\r\nimport { usePreferencesEditor } from './usePreferencesEditor';\r\n\r\n/**\r\n * Set inspector title on mount\r\n *\r\n * @example\r\n * useSetInspectorTitle('Datagrid');\r\n */\r\nexport const useSetInspectorTitle = (title: string, options?: any) => {\r\n    const { setTitle } = usePreferencesEditor();\r\n\r\n    useEffect(() => {\r\n        setTitle(title, options);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [title, JSON.stringify(options), setTitle]);\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { useFormContext, FieldValues } from 'react-hook-form';\r\nimport get from 'lodash/get';\r\nimport { useFormValues } from './useFormValues';\r\n\r\n/**\r\n * Get the current (edited) value of the record from the form and pass it\r\n * to a child function\r\n *\r\n * @example\r\n *\r\n * const PostEdit = (props) => (\r\n *     <Edit {...props}>\r\n *         <SimpleForm<FieldValues>>\r\n *             <BooleanInput source=\"hasEmail\" />\r\n *             <FormDataConsumer>\r\n *                 {({ formData, ...rest }) => formData.hasEmail &&\r\n *                      <TextInput source=\"email\" {...rest} />\r\n *                 }\r\n *             </FormDataConsumer>\r\n *         </SimpleForm>\r\n *     </Edit>\r\n * );\r\n *\r\n * @example\r\n *\r\n * const OrderEdit = (props) => (\r\n *     <Edit {...props}>\r\n *         <SimpleForm>\r\n *             <SelectInput source=\"country\" choices={countries} />\r\n *             <FormDataConsumer<FieldValues>>\r\n *                 {({ formData, ...rest }) =>\r\n *                      <SelectInput\r\n *                          source=\"city\"\r\n *                          choices={getCitiesFor(formData.country)}\r\n *                          {...rest}\r\n *                      />\r\n *                 }\r\n *             </FormDataConsumer>\r\n *         </SimpleForm>\r\n *     </Edit>\r\n * );\r\n */\r\nconst FormDataConsumer = <TFieldValues extends FieldValues = FieldValues>(\r\n    props: ConnectedProps<TFieldValues>\r\n) => {\r\n    const form = useFormContext<TFieldValues>();\r\n    const {\r\n        formState: {\r\n            // Don't know exactly why, but this is needed for the form values to be updated\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            isDirty,\r\n        },\r\n    } = form;\r\n    const formData = useFormValues<TFieldValues>();\r\n    return (\r\n        <FormDataConsumerView<TFieldValues> formData={formData} {...props} />\r\n    );\r\n};\r\n\r\nexport const FormDataConsumerView = <\r\n    TFieldValues extends FieldValues = FieldValues\r\n>(\r\n    props: Props<TFieldValues>\r\n) => {\r\n    const { children, form, formData, source, index, ...rest } = props;\r\n    let ret;\r\n\r\n    // If we have an index, we are in an iterator like component (such as the SimpleFormIterator)\r\n    if (typeof index !== 'undefined' && source) {\r\n        const scopedFormData = get(formData, source);\r\n        const getSource = (scopedSource: string) => `${source}.${scopedSource}`;\r\n        ret = children({ formData, scopedFormData, getSource, ...rest });\r\n    } else {\r\n        ret = children({ formData, ...rest });\r\n    }\r\n\r\n    return ret === undefined ? null : ret;\r\n};\r\n\r\nexport default FormDataConsumer;\r\n\r\nexport interface FormDataConsumerRenderParams<\r\n    TFieldValues extends FieldValues = FieldValues\r\n> {\r\n    formData: TFieldValues;\r\n    scopedFormData?: any;\r\n    getSource?: (source: string) => string;\r\n}\r\n\r\nexport type FormDataConsumerRender<\r\n    TFieldValues extends FieldValues = FieldValues\r\n> = (params: FormDataConsumerRenderParams<TFieldValues>) => ReactNode;\r\n\r\ninterface ConnectedProps<TFieldValues extends FieldValues = FieldValues> {\r\n    children: FormDataConsumerRender<TFieldValues>;\r\n    form?: string;\r\n    record?: any;\r\n    source?: string;\r\n    [key: string]: any;\r\n}\r\n\r\ninterface Props<TFieldValues extends FieldValues> extends ConnectedProps {\r\n    formData: TFieldValues;\r\n    index?: number;\r\n}\r\n", "import { FieldValues, useFormContext, useWatch } from 'react-hook-form';\r\n\r\n// hook taken from https://react-hook-form.com/docs/usewatch/#rules\r\nexport const useFormValues = <\r\n    TFieldValues extends FieldValues = FieldValues\r\n>() => {\r\n    const { getValues } = useFormContext<TFieldValues>();\r\n\r\n    return {\r\n        ...useWatch(), // subscribe to form value updates\r\n        ...getValues(), // always merge with latest form values\r\n    };\r\n};\r\n", "import { createContext } from 'react';\r\n\r\nexport const FormGroupsContext = createContext<\r\n    FormGroupsContextValue | undefined\r\n>(undefined);\r\n\r\nexport type FormGroupSubscriber = () => void;\r\n\r\nexport type FormGroupsContextValue = {\r\n    registerGroup: (name: string) => void;\r\n    unregisterGroup: (name: string) => void;\r\n    registerField: (source: string, group?: string) => void;\r\n    unregisterField: (source: string, group?: string) => void;\r\n    getGroupFields: (name: string) => string[];\r\n    /**\r\n     * Subscribe to any changes of the group content (fields added or removed).\r\n     * Subscribers can get the current fields of the group by calling getGroupFields.\r\n     * Returns a function to unsubscribe.\r\n     */\r\n    subscribe: (name: string, subscriber: FormGroupSubscriber) => () => void;\r\n};\r\n", "import * as React from 'react';\r\nimport {\r\n    ValidationErrorMessage,\r\n    ValidationErrorMessageWithArgs,\r\n} from './validate';\r\nimport { useTranslate } from '../i18n';\r\n\r\nexport interface ValidationErrorProps {\r\n    error: ValidationErrorMessage;\r\n}\r\n\r\nconst ValidationError = (props: ValidationErrorProps) => {\r\n    const { error } = props;\r\n    const translate = useTranslate();\r\n    if ((error as ValidationErrorMessageWithArgs).message) {\r\n        const { message, args } = error as ValidationErrorMessageWithArgs;\r\n        return <>{translate(message, { _: message, ...args })}</>;\r\n    }\r\n\r\n    return <>{translate(error as string, { _: error })}</>;\r\n};\r\n\r\nexport default ValidationError;\r\n", "import { FieldValues } from 'react-hook-form';\r\n\r\n/**\r\n * Convert a simple validation function that returns an object matching the form shape with errors\r\n * to a validation resolver compatible with react-hook-form.\r\n *\r\n * @example\r\n * const validate = (values: any) => {\r\n *     if (values.username == null || values.username.trim() === '') {\r\n *         return { username: 'Required' };\r\n *     }\r\n * }\r\n *\r\n * const validationResolver = getSimpleValidationResolver(validate);\r\n *\r\n * const UserForm = () => (\r\n *     <Form\r\n *         defaultValues={{ username: 'John' }}\r\n *         validationResolver={validationResolver}\r\n *     >\r\n *         <TextField source=\"username\" />\r\n *     </Form>\r\n * );\r\n */\r\nexport const getSimpleValidationResolver = (validate: ValidateForm) => async (\r\n    data: FieldValues\r\n) => {\r\n    const errors = await validate(data);\r\n\r\n    // If there are no errors, early return the form values\r\n    if (!errors || isEmptyObject(errors)) {\r\n        return { values: data, errors: {} };\r\n    }\r\n\r\n    // Else, we return an error object shaped like errors but having for each leaf\r\n    // `type: 'manual'` and a `message` prop like react-hook-form expects it\r\n    const transformedErrors = transformErrorFields(errors);\r\n\r\n    // Sometimes we still need to transform the error object to realize there are actually\r\n    // no errors in it.\r\n    //   e.g. with an ArrayInput we can get something like: `{backlinks: [{}, {}]}`\r\n    // If, after transformation, there are no errors, we return the form values\r\n    if (!transformedErrors || isEmptyObject(transformedErrors)) {\r\n        return { values: data, errors: {} };\r\n    }\r\n\r\n    // Else return the errors and no values\r\n    return {\r\n        values: {},\r\n        errors: transformedErrors,\r\n    };\r\n};\r\n\r\nconst transformErrorFields = (error: object) => {\r\n    return Object.keys(error).reduce((acc, field) => {\r\n        // Handle arrays\r\n        if (Array.isArray(error[field])) {\r\n            let arrayHasErrors = false;\r\n            const transformedArrayErrors = error[field].map(item => {\r\n                if (!isEmptyObject(item)) {\r\n                    arrayHasErrors = true;\r\n                }\r\n                return transformErrorFields(item);\r\n            });\r\n            if (!arrayHasErrors) {\r\n                return acc;\r\n            }\r\n            return {\r\n                ...acc,\r\n                [field]: transformedArrayErrors,\r\n            };\r\n        }\r\n\r\n        // Handle objects\r\n        if (isEmptyObject(error[field])) {\r\n            return acc;\r\n        }\r\n        if (\r\n            typeof error[field] === 'object' &&\r\n            !isRaTranslationObj(error[field])\r\n        ) {\r\n            return {\r\n                ...acc,\r\n                [field]: transformErrorFields(error[field]),\r\n            };\r\n        }\r\n\r\n        // Handle leaf (either primary type or RaTranslationObj)\r\n        return {\r\n            ...acc,\r\n            [field]: addTypeAndMessage(error[field]),\r\n        };\r\n    }, {} as FieldValues);\r\n};\r\n\r\nconst addTypeAndMessage = (error: object) => ({\r\n    type: 'manual',\r\n    message: isRaTranslationObj(error) ? error : { message: error },\r\n});\r\n\r\nconst isRaTranslationObj = (obj: object) =>\r\n    Object.keys(obj).includes('message') && Object.keys(obj).includes('args');\r\n\r\nconst isEmptyObject = (obj: object) =>\r\n    Object.getOwnPropertyNames(obj).length === 0;\r\n\r\nexport type ValidateForm = (\r\n    data: FieldValues\r\n) => FieldValues | Promise<FieldValues>;\r\n", "import { createContext } from 'react';\r\nimport { UseGetListHookValue } from '../../dataProvider/useGetList';\r\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\r\n\r\n/**\r\n * Context to store choices and functions to retrieve them.\r\n *\r\n * Use the useChoicesContext() hook to read the context.\r\n */\r\nexport const ChoicesContext = createContext<ChoicesContextValue | undefined>(\r\n    undefined\r\n);\r\n\r\nexport type ChoicesContextValue<RecordType extends RaRecord = any> = {\r\n    allChoices: RecordType[];\r\n    availableChoices: RecordType[];\r\n    displayedFilters: any;\r\n    error?: any;\r\n    filter?: FilterPayload;\r\n    filterValues: any;\r\n    hasNextPage: boolean;\r\n    hasPreviousPage: boolean;\r\n    hideFilter: (filterName: string) => void;\r\n    isFetching: boolean;\r\n    isLoading: boolean;\r\n    page: number;\r\n    perPage: number;\r\n    refetch: (() => void) | UseGetListHookValue<RecordType>['refetch'];\r\n    resource: string;\r\n    selectedChoices: RecordType[];\r\n    setFilters: (\r\n        filters: any,\r\n        displayedFilters: any,\r\n        debounce?: boolean\r\n    ) => void;\r\n    setPage: (page: number) => void;\r\n    setPerPage: (page: number) => void;\r\n    setSort: (sort: SortPayload) => void;\r\n    showFilter: (filterName: string, defaultValue: any) => void;\r\n    sort: SortPayload;\r\n    source: string;\r\n    total: number;\r\n    isFromReference: boolean;\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { ChoicesContext, ChoicesContextValue } from './ChoicesContext';\r\n\r\nexport const ChoicesContextProvider = ({\r\n    children,\r\n    value,\r\n}: {\r\n    children: ReactNode;\r\n    value: ChoicesContextValue;\r\n}) => (\r\n    <ChoicesContext.Provider value={value}>{children}</ChoicesContext.Provider>\r\n);\r\n", "import { useContext, useMemo } from 'react';\r\nimport { RaRecord } from '../../types';\r\nimport { useList } from '../../controller';\r\nimport { ChoicesContext, ChoicesContextValue } from './ChoicesContext';\r\n\r\nexport const useChoicesContext = <ChoicesType extends RaRecord = RaRecord>(\r\n    options: Partial<ChoicesContextValue> & { choices?: ChoicesType[] } = {}\r\n): ChoicesContextValue => {\r\n    const context = useContext(ChoicesContext) as ChoicesContextValue<\r\n        ChoicesType\r\n    >;\r\n    const { data, ...list } = useList<ChoicesType>({\r\n        data: options.choices,\r\n        // When not in a ChoicesContext, paginating does not make sense (e.g. AutocompleteInput).\r\n        perPage: Infinity,\r\n    });\r\n    const result = useMemo(() => {\r\n        // Props take precedence over context.\r\n        if (options.choices || !context) {\r\n            return {\r\n                allChoices: data,\r\n                availableChoices: options.availableChoices ?? data,\r\n                selectedChoices: options.selectedChoices ?? data,\r\n                displayedFilters:\r\n                    options.selectedChoices ?? list.displayedFilters,\r\n                error: options.error,\r\n                filter: options.filter ?? list.filter,\r\n                filterValues: options.filterValues ?? list.filterValues,\r\n                hasNextPage: options.hasNextPage ?? list.hasNextPage,\r\n                hasPreviousPage:\r\n                    options.hasPreviousPage ?? list.hasPreviousPage,\r\n                hideFilter: options.hideFilter ?? list.hideFilter,\r\n                isFetching: options.isFetching ?? list.isFetching,\r\n                isLoading: options.isLoading ?? list.isLoading,\r\n                page: options.page ?? list.page,\r\n                perPage: options.perPage ?? list.perPage,\r\n                refetch: options.refetch ?? list.refetch,\r\n                resource: options.resource ?? list.resource,\r\n                setFilters: options.setFilters ?? list.setFilters,\r\n                setPage: options.setPage ?? list.setPage,\r\n                setPerPage: options.setPerPage ?? list.setPerPage,\r\n                setSort: options.setSort ?? list.setSort,\r\n                showFilter: options.showFilter ?? list.showFilter,\r\n                sort: options.sort ?? list.sort,\r\n                source: options.source,\r\n                total: options.total ?? list.total,\r\n                isFromReference: false,\r\n            };\r\n        }\r\n        return context;\r\n    }, [context, data, list, options]);\r\n\r\n    return result;\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport {\r\n    FormProvider,\r\n    FieldValues,\r\n    UseFormProps,\r\n    SubmitHandler,\r\n} from 'react-hook-form';\r\n\r\nimport { FormGroupsProvider } from './FormGroupsProvider';\r\nimport { RaRecord } from '../types';\r\nimport { useRecordContext, OptionalRecordContextProvider } from '../controller';\r\nimport { useResourceContext } from '../core';\r\nimport { LabelPrefixContextProvider } from '../util';\r\nimport { ValidateForm } from './getSimpleValidationResolver';\r\nimport { useAugmentedForm } from './useAugmentedForm';\r\n\r\n/**\r\n * Creates a form element, initialized with the current record, calling the saveContext on submit\r\n *\r\n * Wrapper around react-hook-form's useForm, FormContextProvider, and <form>.\r\n * Also sets up a FormGroupContext, and handles submission validation.\r\n *\r\n * @example\r\n *\r\n * const MyForm = ({ record, defaultValues, validate }) => (\r\n *    <Form record={record} defaultValues={defaultValues} validate={validate}>\r\n *        <Stack>\r\n *            <TextInput source=\"title\" />\r\n *            <SaveButton />\r\n *        </Stack>\r\n *    </Form>\r\n * );\r\n *\r\n * @typedef {Object} Props the props you can use\r\n * @prop {Object} defaultValues\r\n * @prop {Function} validate\r\n * @prop {Function} save\r\n *\r\n * @see useForm\r\n * @see FormGroupContext\r\n *\r\n * @link https://react-hook-form.com/docs/useformcontext\r\n */\r\nexport const Form = (props: FormProps) => {\r\n    const { children, id, className, noValidate = false } = props;\r\n    const record = useRecordContext(props);\r\n    const resource = useResourceContext(props);\r\n    const { form, formHandleSubmit } = useAugmentedForm(props);\r\n\r\n    return (\r\n        <OptionalRecordContextProvider value={record}>\r\n            <LabelPrefixContextProvider prefix={`resources.${resource}.fields`}>\r\n                <FormProvider {...form}>\r\n                    <FormGroupsProvider>\r\n                        <form\r\n                            onSubmit={formHandleSubmit}\r\n                            noValidate={noValidate}\r\n                            id={id}\r\n                            className={className}\r\n                        >\r\n                            {children}\r\n                        </form>\r\n                    </FormGroupsProvider>\r\n                </FormProvider>\r\n            </LabelPrefixContextProvider>\r\n        </OptionalRecordContextProvider>\r\n    );\r\n};\r\n\r\nexport type FormProps = FormOwnProps &\r\n    Omit<UseFormProps, 'onSubmit'> & {\r\n        validate?: ValidateForm;\r\n        noValidate?: boolean;\r\n    };\r\n\r\nexport interface FormOwnProps {\r\n    children: ReactNode;\r\n    className?: string;\r\n    defaultValues?: any;\r\n    formRootPathname?: string;\r\n    id?: string;\r\n    record?: Partial<RaRecord>;\r\n    resource?: string;\r\n    onSubmit?: SubmitHandler<FieldValues>;\r\n    warnWhenUnsavedChanges?: boolean;\r\n    sanitizeEmptyValues?: boolean;\r\n}\r\n", "import * as React from 'react';\r\nimport { ReactNode, useMemo, useRef } from 'react';\r\nimport {\r\n    FormGroupsContext,\r\n    FormGroupsContextValue,\r\n    FormGroupSubscriber,\r\n} from './FormGroupsContext';\r\n\r\n/**\r\n * This component provides functions through context to manage form groups,\r\n * allowing to link or unlink an input to a group.\r\n * @see FormGroupContextProvider\r\n * @see useFormGroup\r\n * @see useFormGroups\r\n */\r\nexport const FormGroupsProvider = ({ children }: { children: ReactNode }) => {\r\n    const formGroups = useRef<{ [key: string]: string[] }>({});\r\n    const subscribers = useRef<{\r\n        [key: string]: FormGroupSubscriber[];\r\n    }>({});\r\n\r\n    const formContextValue = useMemo<FormGroupsContextValue>(\r\n        () => ({\r\n            /**\r\n             * Register a subscriber function for the specified group. The subscriber\r\n             * will be called whenever the group content changes (fields added or removed).\r\n             */\r\n            subscribe: (group, subscriber) => {\r\n                if (!subscribers.current[group]) {\r\n                    subscribers.current[group] = [];\r\n                }\r\n                subscribers.current[group].push(subscriber);\r\n\r\n                return () => {\r\n                    subscribers.current[group] = subscribers.current[\r\n                        group\r\n                    ].filter(s => s !== subscriber);\r\n                };\r\n            },\r\n            getGroupFields: name => formGroups.current[name] || [],\r\n            registerGroup: name => {\r\n                formGroups.current[name] = formGroups.current[name] || [];\r\n            },\r\n            unregisterGroup: name => {\r\n                delete formGroups[name];\r\n            },\r\n            registerField: (source, group) => {\r\n                if (group != null) {\r\n                    if (!(formGroups.current[group] || []).includes(source)) {\r\n                        formGroups.current[group] = [\r\n                            ...(formGroups.current[group] || []),\r\n                            source,\r\n                        ];\r\n                        // Notify subscribers that the group fields have changed\r\n                        if (subscribers.current[group]) {\r\n                            subscribers.current[group].forEach(subscriber =>\r\n                                subscriber()\r\n                            );\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            unregisterField: (source, group) => {\r\n                if (group != null) {\r\n                    if (!formGroups.current[group]) {\r\n                        console.warn(`Invalid form group ${group}`);\r\n                    } else {\r\n                        const fields = new Set(formGroups.current[group]);\r\n                        fields.delete(source);\r\n                        formGroups.current[group] = Array.from(fields);\r\n\r\n                        // Notify subscribers that the group fields have changed\r\n                        if (subscribers.current[group]) {\r\n                            subscribers.current[group].forEach(subscriber =>\r\n                                subscriber()\r\n                            );\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n        }),\r\n        []\r\n    );\r\n\r\n    return (\r\n        <FormGroupsContext.Provider value={formContextValue}>\r\n            {children}\r\n        </FormGroupsContext.Provider>\r\n    );\r\n};\r\n", "import { BaseSyntheticEvent, useCallback, useMemo, useRef } from 'react';\r\nimport {\r\n    FieldValues,\r\n    SubmitHandler,\r\n    useForm,\r\n    UseFormProps,\r\n} from 'react-hook-form';\r\n\r\nimport { RaRecord } from '../types';\r\nimport { useSaveContext } from '../controller';\r\nimport { useRecordContext } from '../controller';\r\nimport getFormInitialValues from './getFormInitialValues';\r\nimport {\r\n    getSimpleValidationResolver,\r\n    ValidateForm,\r\n} from './getSimpleValidationResolver';\r\nimport { setSubmissionErrors } from './setSubmissionErrors';\r\nimport { useNotifyIsFormInvalid } from './useNotifyIsFormInvalid';\r\nimport { useWarnWhenUnsavedChanges } from './useWarnWhenUnsavedChanges';\r\nimport { sanitizeEmptyValues as sanitizeValues } from './sanitizeEmptyValues';\r\n\r\n/**\r\n * Wrapper around react-hook-form's useForm\r\n *\r\n * This hook adds the following features to react-hook-form's useForm:\r\n *\r\n * - form initialization based on RecordContext\r\n * - validation based on a validate function\r\n * - sanitization of empty values\r\n * - notification on invalid form\r\n * - stop form submission event propagation\r\n */\r\nexport const useAugmentedForm = (props: UseAugmentedFormProps) => {\r\n    const {\r\n        criteriaMode = 'firstError',\r\n        defaultValues,\r\n        formRootPathname,\r\n        resolver,\r\n        reValidateMode = 'onChange',\r\n        onSubmit,\r\n        sanitizeEmptyValues,\r\n        warnWhenUnsavedChanges,\r\n        validate,\r\n        ...rest\r\n    } = props;\r\n    const record = useRecordContext(props);\r\n    const saveContext = useSaveContext();\r\n\r\n    const defaultValuesIncludingRecord = useMemo(\r\n        () => getFormInitialValues(defaultValues, record),\r\n        // eslint-disable-next-line\r\n        [\r\n            // eslint-disable-next-line\r\n            JSON.stringify({\r\n                defaultValues:\r\n                    typeof defaultValues === 'function'\r\n                        ? 'function'\r\n                        : defaultValues,\r\n                record,\r\n            }),\r\n        ]\r\n    );\r\n\r\n    const finalResolver = resolver\r\n        ? resolver\r\n        : validate\r\n        ? getSimpleValidationResolver(validate)\r\n        : undefined;\r\n\r\n    const form = useForm({\r\n        criteriaMode,\r\n        values: defaultValuesIncludingRecord,\r\n        reValidateMode,\r\n        resolver: finalResolver,\r\n        ...rest,\r\n    });\r\n\r\n    const formRef = useRef(form);\r\n\r\n    // notify on invalid form\r\n    useNotifyIsFormInvalid(form.control);\r\n\r\n    // warn when unsaved change\r\n    useWarnWhenUnsavedChanges(\r\n        Boolean(warnWhenUnsavedChanges),\r\n        formRootPathname,\r\n        form.control\r\n    );\r\n\r\n    // submit callbacks\r\n    const handleSubmit = useCallback(\r\n        async (values, event) => {\r\n            let errors;\r\n            const finalValues = sanitizeEmptyValues\r\n                ? sanitizeValues(values, record)\r\n                : values;\r\n            if (onSubmit) {\r\n                errors = await onSubmit(finalValues, event);\r\n            }\r\n            if (onSubmit == null && saveContext?.save) {\r\n                errors = await saveContext.save(finalValues, event);\r\n            }\r\n            if (errors != null) {\r\n                setSubmissionErrors(errors, formRef.current.setError);\r\n            }\r\n        },\r\n        [onSubmit, saveContext, sanitizeEmptyValues, record]\r\n    );\r\n\r\n    const formHandleSubmit = useCallback(\r\n        (event: BaseSyntheticEvent) => {\r\n            if (!event.defaultPrevented) {\r\n                // Prevent outer forms to receive the event\r\n                event.stopPropagation();\r\n                form.handleSubmit(handleSubmit)(event);\r\n            }\r\n            return;\r\n        },\r\n        [form, handleSubmit]\r\n    );\r\n\r\n    return {\r\n        form,\r\n        handleSubmit,\r\n        formHandleSubmit,\r\n    };\r\n};\r\n\r\nexport type UseAugmentedFormProps = UseFormOwnProps &\r\n    Omit<UseFormProps, 'onSubmit'> & {\r\n        validate?: ValidateForm;\r\n    };\r\n\r\nexport interface UseFormOwnProps {\r\n    defaultValues?: any;\r\n    formRootPathname?: string;\r\n    record?: Partial<RaRecord>;\r\n    onSubmit?: SubmitHandler<FieldValues>;\r\n    warnWhenUnsavedChanges?: boolean;\r\n    sanitizeEmptyValues?: boolean;\r\n}\r\n", "import merge from 'lodash/merge';\r\nimport { RaRecord } from '../types';\r\n\r\nexport default function getFormInitialValues(\r\n    defaultValues: DefaultValue,\r\n    record?: Partial<RaRecord>\r\n) {\r\n    const finalInitialValues = merge(\r\n        {},\r\n        getValues(defaultValues, record),\r\n        record\r\n    );\r\n    return finalInitialValues;\r\n}\r\n\r\nfunction getValues(values, record) {\r\n    if (typeof values === 'object') {\r\n        return values;\r\n    }\r\n\r\n    if (typeof values === 'function') {\r\n        return values(record);\r\n    }\r\n\r\n    return {};\r\n}\r\n\r\ninterface DefaultValueObject {\r\n    [key: string]: any;\r\n}\r\ntype DefaultValueFunction = (record: RaRecord) => DefaultValueObject;\r\ntype DefaultValue = DefaultValueObject | DefaultValueFunction;\r\n", "import { FieldValues, UseFormSetError } from 'react-hook-form';\r\n\r\n/**\r\n * This internal function is used to convert an object matching the form shape with errors to a\r\n * format compatible with react-hook-form. It's used to handle submission errors. Only useful when\r\n * you are implementing a custom form without leveraging our Form component.\r\n *\r\n * @example\r\n * const MyForm = () => {\r\n *     const { register, handleSubmit, setError } = useForm();\r\n *     const onSubmit = data => {\r\n *         return saveAsync(data).catch(error => setSubmissionErrors(error.body.details));\r\n *     };\r\n *\r\n *     return (\r\n *         <form onSubmit={handleSubmit(onSubmit)}>\r\n *             ...\r\n *         </form>\r\n *     );\r\n * };\r\n */\r\nexport const setSubmissionErrors = (\r\n    errors: FieldValues,\r\n    setError: UseFormSetError<FieldValues>\r\n) => {\r\n    const setErrorFromObject = (errors: FieldValues, rootPath: string) => {\r\n        Object.entries(errors).forEach(([name, error]) => {\r\n            if (typeof error === 'object') {\r\n                setErrorFromObject(error, `${rootPath}${name}.`);\r\n                return;\r\n            }\r\n            setError(`${rootPath}${name}`, {\r\n                type: 'server',\r\n                message: error.toString(),\r\n            });\r\n        });\r\n    };\r\n    setErrorFromObject(errors, '');\r\n};\r\n", "import { useEffect, useRef } from 'react';\r\nimport { useFormState, Control } from 'react-hook-form';\r\nimport { useNotify } from '../notification';\r\n\r\n/**\r\n * This hook display an error message on submit in Form and SaveButton.\r\n *\r\n * We can't do the form validity check in the form submit handler\r\n * as the form state may not have been updated yet when onSubmit validation mode is enabled\r\n * or when the form hasn't been touched at all.\r\n */\r\nexport const useNotifyIsFormInvalid = (control?: Control) => {\r\n    const { submitCount, errors } = useFormState(\r\n        control ? { control } : undefined\r\n    );\r\n    const submitCountRef = useRef(submitCount);\r\n    const notify = useNotify();\r\n\r\n    useEffect(() => {\r\n        // Checking the submit count allows us to only display the notification after users\r\n        // tried to submit\r\n        if (submitCount > submitCountRef.current) {\r\n            submitCountRef.current = submitCount;\r\n\r\n            if (Object.keys(errors).length > 0) {\r\n                notify('ra.message.invalid_form', { type: 'error' });\r\n            }\r\n        }\r\n    }, [errors, submitCount, notify]);\r\n};\r\n", "import { useContext, useEffect, useRef } from 'react';\r\nimport { useFormState, Control } from 'react-hook-form';\r\nimport { UNSAFE_NavigationContext, useLocation } from 'react-router-dom';\r\nimport { History, Transition } from 'history';\r\nimport { useTranslate } from '../i18n';\r\n\r\n/**\r\n * Display a confirmation dialog if the form has unsaved changes.\r\n * - If the user confirms, the navigation continues and the changes are lost.\r\n * - If the user cancels, the navigation is cancelled and the changes are kept.\r\n */\r\nexport const useWarnWhenUnsavedChanges = (\r\n    enable: boolean,\r\n    formRootPathname?: string,\r\n    control?: Control\r\n) => {\r\n    // react-router v6 does not yet provide a way to block navigation\r\n    // This is planned for a future release\r\n    // See https://github.com/remix-run/react-router/issues/8139\r\n    const navigator = useContext(UNSAFE_NavigationContext).navigator as History;\r\n    const location = useLocation();\r\n    const translate = useTranslate();\r\n    const { isSubmitSuccessful, isSubmitting, dirtyFields } = useFormState(\r\n        control ? { control } : undefined\r\n    );\r\n    const isDirty = Object.keys(dirtyFields).length > 0;\r\n    const initialLocation = useRef(formRootPathname || location.pathname);\r\n\r\n    useEffect(() => {\r\n        if (!enable || !isDirty) return;\r\n        if (!navigator.block) {\r\n            if (process.env.NODE_ENV !== 'production') {\r\n                console.warn(\r\n                    'warnWhenUnsavedChanged is not compatible with react-router >= 6.4. If you need this feature, please downgrade react-router to 6.3.0'\r\n                );\r\n            }\r\n            return;\r\n        }\r\n\r\n        let unblock = navigator.block((tx: Transition) => {\r\n            const newLocationIsInsideCurrentLocation = tx.location.pathname.startsWith(\r\n                initialLocation.current\r\n            );\r\n            const newLocationIsShowView = tx.location.pathname.startsWith(\r\n                `${initialLocation.current}/show`\r\n            );\r\n            const newLocationIsInsideForm =\r\n                newLocationIsInsideCurrentLocation && !newLocationIsShowView;\r\n\r\n            if (\r\n                !isSubmitting &&\r\n                (newLocationIsInsideForm ||\r\n                    isSubmitSuccessful ||\r\n                    window.confirm(translate('ra.message.unsaved_changes')))\r\n            ) {\r\n                unblock();\r\n                tx.retry();\r\n            } else {\r\n                if (isSubmitting) {\r\n                    // Retry the transition (possibly several times) until the form is no longer submitting.\r\n                    // The value of 100ms is arbitrary, it allows to give some time between retries.\r\n                    setTimeout(() => {\r\n                        tx.retry();\r\n                    }, 100);\r\n                }\r\n            }\r\n        });\r\n\r\n        return unblock;\r\n    }, [\r\n        enable,\r\n        location,\r\n        navigator,\r\n        isDirty,\r\n        isSubmitting,\r\n        isSubmitSuccessful,\r\n        translate,\r\n    ]);\r\n};\r\n", "/**\r\n * Remove empty strings from form state\r\n *\r\n * @example\r\n * sanitizeEmptyValues({ foo: '', bar: 'baz' }) // { bar: 'baz' }\r\n */\r\nexport const sanitizeEmptyValues = (values: any, record: any = {}): any => {\r\n    const sanitizedValues = {};\r\n    Object.keys(values).forEach(key => {\r\n        if (values[key] == null || values[key] === '') {\r\n            if (record.hasOwnProperty(key)) {\r\n                // user has emptied a field, make the value null\r\n                sanitizedValues[key] = null;\r\n            } else {\r\n                // user has emptied a field, but the initial value was undefined\r\n                // so we don't include it in the sanitized values\r\n            }\r\n        } else {\r\n            // this is a non-empty value, so we include it in the sanitized values\r\n            sanitizedValues[key] = values[key];\r\n        }\r\n    });\r\n    return sanitizedValues;\r\n};\r\n", "import lodashMemoize from 'lodash/memoize';\r\n\r\n/* eslint-disable no-underscore-dangle */\r\n/* @link http://stackoverflow.com/questions/46155/validate-email-address-in-javascript */\r\nconst EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // eslint-disable-line no-useless-escape\r\n\r\nconst isEmpty = (value: any) =>\r\n    typeof value === 'undefined' ||\r\n    value === null ||\r\n    value === '' ||\r\n    (Array.isArray(value) && value.length === 0);\r\n\r\nexport interface ValidationErrorMessageWithArgs {\r\n    message: string;\r\n    args: {\r\n        [key: string]: ValidationErrorMessageWithArgs | any;\r\n    };\r\n}\r\n\r\nexport type ValidationErrorMessage = string | ValidationErrorMessageWithArgs;\r\n\r\nexport type Validator = (\r\n    value: any,\r\n    values: any,\r\n    props: any\r\n) =>\r\n    | ValidationErrorMessage\r\n    | null\r\n    | undefined\r\n    | Promise<ValidationErrorMessage | null | undefined>;\r\n\r\n// type predicate, see https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates\r\nfunction isValidationErrorMessageWithArgs(\r\n    error: ReturnType<Validator>\r\n): error is ValidationErrorMessageWithArgs {\r\n    return error ? error.hasOwnProperty('message') : false;\r\n}\r\n\r\ninterface MessageFuncParams {\r\n    args: any;\r\n    value: any;\r\n    values: any;\r\n}\r\n\r\ntype MessageFunc = (params: MessageFuncParams) => ValidationErrorMessage;\r\n\r\nconst getMessage = (\r\n    message: string | MessageFunc,\r\n    messageArgs: any,\r\n    value: any,\r\n    values: any\r\n) =>\r\n    typeof message === 'function'\r\n        ? message({\r\n              args: messageArgs,\r\n              value,\r\n              values,\r\n          })\r\n        : messageArgs\r\n        ? {\r\n              message,\r\n              args: messageArgs,\r\n          }\r\n        : message;\r\n\r\ntype Memoize = <T extends (...args: any[]) => any>(\r\n    func: T,\r\n    resolver?: (...args: any[]) => any\r\n) => T;\r\n\r\n// If we define validation functions directly in JSX, it will\r\n// result in a new function at every render, and then trigger infinite re-render.\r\n// Hence, we memoize every built-in validator to prevent a \"Maximum call stack\" error.\r\nconst memoize: Memoize = (fn: any) =>\r\n    lodashMemoize(fn, (...args) => JSON.stringify(args));\r\n\r\nconst isFunction = value => typeof value === 'function';\r\n\r\nexport const combine2Validators = (\r\n    validator1: Validator,\r\n    validator2: Validator\r\n): Validator => {\r\n    return (value, values, meta) => {\r\n        const result1 = validator1(value, values, meta);\r\n        if (!result1) {\r\n            return validator2(value, values, meta);\r\n        }\r\n        if (\r\n            typeof result1 === 'string' ||\r\n            isValidationErrorMessageWithArgs(result1)\r\n        ) {\r\n            return result1;\r\n        }\r\n\r\n        return result1.then(resolvedResult1 => {\r\n            if (!resolvedResult1) {\r\n                return validator2(value, values, meta);\r\n            }\r\n            return resolvedResult1;\r\n        });\r\n    };\r\n};\r\n\r\n// Compose multiple validators into a single one for use with react-hook-form\r\nexport const composeValidators = (...validators) => {\r\n    const allValidators = (Array.isArray(validators[0])\r\n        ? validators[0]\r\n        : validators\r\n    ).filter(isFunction) as Validator[];\r\n    return allValidators.reduce(combine2Validators, () => null);\r\n};\r\n\r\n// Compose multiple validators into a single one for use with react-hook-form\r\nexport const composeSyncValidators = (...validators) => (\r\n    value,\r\n    values,\r\n    meta\r\n) => {\r\n    const allValidators = (Array.isArray(validators[0])\r\n        ? validators[0]\r\n        : validators\r\n    ).filter(isFunction) as Validator[];\r\n\r\n    for (const validator of allValidators) {\r\n        const error = validator(value, values, meta);\r\n\r\n        if (error) {\r\n            return error;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Required validator\r\n *\r\n * Returns an error if the value is null, undefined, or empty\r\n *\r\n * @param {string|Function} message\r\n *\r\n * @example\r\n *\r\n * const titleValidators = [required('The title is required')];\r\n * <TextInput name=\"title\" validate={titleValidators} />\r\n */\r\nexport const required = memoize((message = 'ra.validation.required') =>\r\n    Object.assign(\r\n        (value, values) =>\r\n            isEmpty(value)\r\n                ? getMessage(message, undefined, value, values)\r\n                : undefined,\r\n        { isRequired: true }\r\n    )\r\n);\r\n\r\n/**\r\n * Minimum length validator\r\n *\r\n * Returns an error if the value has a length less than the parameter\r\n *\r\n * @param {integer} min\r\n * @param {string|Function} message\r\n *\r\n * @example\r\n *\r\n * const passwordValidators = [minLength(10, 'Should be at least 10 characters')];\r\n * <TextInput type=\"password\" name=\"password\" validate={passwordValidators} />\r\n */\r\nexport const minLength = memoize(\r\n    (min, message = 'ra.validation.minLength') => (value, values) =>\r\n        !isEmpty(value) && value.length < min\r\n            ? getMessage(message, { min }, value, values)\r\n            : undefined\r\n);\r\n\r\n/**\r\n * Maximum length validator\r\n *\r\n * Returns an error if the value has a length higher than the parameter\r\n *\r\n * @param {integer} max\r\n * @param {string|Function} message\r\n *\r\n * @example\r\n *\r\n * const nameValidators = [maxLength(10, 'Should be at most 10 characters')];\r\n * <TextInput name=\"name\" validate={nameValidators} />\r\n */\r\nexport const maxLength = memoize(\r\n    (max, message = 'ra.validation.maxLength') => (value, values) =>\r\n        !isEmpty(value) && value.length > max\r\n            ? getMessage(message, { max }, value, values)\r\n            : undefined\r\n);\r\n\r\n/**\r\n * Minimum validator\r\n *\r\n * Returns an error if the value is less than the parameter\r\n *\r\n * @param {integer} min\r\n * @param {string|Function} message\r\n *\r\n * @example\r\n *\r\n * const fooValidators = [minValue(5, 'Should be more than 5')];\r\n * <NumberInput name=\"foo\" validate={fooValidators} />\r\n */\r\nexport const minValue = memoize(\r\n    (min, message = 'ra.validation.minValue') => (value, values) =>\r\n        !isEmpty(value) && value < min\r\n            ? getMessage(message, { min }, value, values)\r\n            : undefined\r\n);\r\n\r\n/**\r\n * Maximum validator\r\n *\r\n * Returns an error if the value is higher than the parameter\r\n *\r\n * @param {integer} max\r\n * @param {string|Function} message\r\n *\r\n * @example\r\n *\r\n * const fooValidators = [maxValue(10, 'Should be less than 10')];\r\n * <NumberInput name=\"foo\" validate={fooValidators} />\r\n */\r\nexport const maxValue = memoize(\r\n    (max, message = 'ra.validation.maxValue') => (value, values) =>\r\n        !isEmpty(value) && value > max\r\n            ? getMessage(message, { max }, value, values)\r\n            : undefined\r\n);\r\n\r\n/**\r\n * Number validator\r\n *\r\n * Returns an error if the value is not a number\r\n *\r\n * @param {string|Function} message\r\n *\r\n * @example\r\n *\r\n * const ageValidators = [number('Must be a number')];\r\n * <TextInput name=\"age\" validate={ageValidators} />\r\n */\r\nexport const number = memoize(\r\n    (message = 'ra.validation.number') => (value, values) =>\r\n        !isEmpty(value) && isNaN(Number(value))\r\n            ? getMessage(message, undefined, value, values)\r\n            : undefined\r\n);\r\n\r\n/**\r\n * Regular expression validator\r\n *\r\n * Returns an error if the value does not match the pattern given as parameter\r\n *\r\n * @param {RegExp} pattern\r\n * @param {string|Function} message\r\n *\r\n * @example\r\n *\r\n * const zipValidators = [regex(/^\\d{5}(?:[-\\s]\\d{4})?$/, 'Must be a zip code')];\r\n * <TextInput name=\"zip\" validate={zipValidators} />\r\n */\r\nexport const regex = lodashMemoize(\r\n    (pattern, message = 'ra.validation.regex') => (value, values?) =>\r\n        !isEmpty(value) && typeof value === 'string' && !pattern.test(value)\r\n            ? getMessage(message, { pattern }, value, values)\r\n            : undefined,\r\n    (pattern, message) => {\r\n        return pattern.toString() + message;\r\n    }\r\n);\r\n\r\n/**\r\n * Email validator\r\n *\r\n * Returns an error if the value is not a valid email\r\n *\r\n * @param {string|Function} message\r\n *\r\n * @example\r\n *\r\n * const emailValidators = [email('Must be an email')];\r\n * <TextInput name=\"email\" validate={emailValidators} />\r\n */\r\nexport const email = memoize((message = 'ra.validation.email') =>\r\n    regex(EMAIL_REGEX, message)\r\n);\r\n\r\nconst oneOfTypeMessage: MessageFunc = ({ args }) => ({\r\n    message: 'ra.validation.oneOf',\r\n    args,\r\n});\r\n\r\n/**\r\n * Choices validator\r\n *\r\n * Returns an error if the value is not among the list passed as parameter\r\n *\r\n * @param {array} list\r\n * @param {string|Function} message\r\n *\r\n * @example\r\n *\r\n * const genderValidators = [choices(['male', 'female'], 'Must be either Male or Female')];\r\n * <TextInput name=\"gender\" validate={genderValidators} />\r\n */\r\nexport const choices = memoize(\r\n    (list, message = oneOfTypeMessage) => (value, values) =>\r\n        !isEmpty(value) && list.indexOf(value) === -1\r\n            ? getMessage(message, { list }, value, values)\r\n            : undefined\r\n);\r\n\r\n/**\r\n * Given a validator, returns a boolean indicating whether the field is required or not.\r\n */\r\nexport const isRequired = validate => {\r\n    if (validate && validate.isRequired) {\r\n        return true;\r\n    }\r\n    if (Array.isArray(validate)) {\r\n        return !!validate.find(it => it.isRequired);\r\n    }\r\n    return false;\r\n};\r\n", "import { createContext } from 'react';\r\n\r\n/**\r\n * Context allowing inputs to register to a specific group.\r\n * This enables other components in the group to access group properties such as its\r\n * validation (valid/invalid) or whether its inputs have been updated (dirty/pristine).\r\n *\r\n * This should only be used through a FormGroupContextProvider.\r\n */\r\nexport const FormGroupContext = createContext<FormGroupContextValue>(undefined);\r\n\r\nexport type FormGroupContextValue = string;\r\n", "import * as React from 'react';\r\nimport { ReactNode, useEffect } from 'react';\r\nimport { FormGroupContext } from './FormGroupContext';\r\nimport { useFormGroups } from './useFormGroups';\r\n\r\n/**\r\n * This provider allows its input children to register to a specific group.\r\n * This enables other components in the group to access group properties such as its\r\n * validation (valid/invalid) or whether its inputs have been updated (dirty/pristine).\r\n *\r\n * @example\r\n * import { Edit, SimpleForm, TextInput, FormGroupContextProvider, useFormGroup } from 'react-admin';\r\n * import { Accordion, AccordionDetails, AccordionSummary, Typography } from '@mui/material';\r\n *\r\n * const PostEdit = (props) => (\r\n *     <Edit {...props}>\r\n *         <SimpleForm>\r\n *             <TextInput source=\"title\" />\r\n *             <FormGroupContextProvider name=\"options\">\r\n *                 <Accordion>\r\n *                     <AccordionSummary\r\n *                         expandIcon={<ExpandMoreIcon />}\r\n *                         aria-controls=\"options-content\"\r\n *                         id=\"options-header\"\r\n *                     >\r\n *                         <AccordionSectionTitle name=\"options\">Options</AccordionSectionTitle>\r\n *                     </AccordionSummary>\r\n *                     <AccordionDetails id=\"options-content\" aria-labelledby=\"options-header\">\r\n *                         <TextInput source=\"teaser\" validate={minLength(20)} />\r\n *                     </AccordionDetails>\r\n *                 </Accordion>\r\n *             </FormGroupContextProvider>\r\n *         </SimpleForm>\r\n *     </Edit>\r\n * );\r\n *\r\n * const AccordionSectionTitle = ({ children, name }) => {\r\n *     const formGroupState = useFormGroup(name);\r\n *     return (\r\n *         <Typography color={formGroupState.invalid && formGroupState.dirty ? 'error' : 'inherit'}>\r\n *             {children}\r\n *         </Typography>\r\n *     );\r\n * }\r\n *\r\n * @param props The component props\r\n * @param {ReactNode} props.children The form group content\r\n * @param {String} props.name The form group name\r\n */\r\nexport const FormGroupContextProvider = ({\r\n    children,\r\n    name,\r\n}: {\r\n    children: ReactNode;\r\n    name: string;\r\n}) => {\r\n    const formGroups = useFormGroups();\r\n\r\n    useEffect(() => {\r\n        if (\r\n            !formGroups ||\r\n            !formGroups.registerGroup ||\r\n            !formGroups.unregisterGroup\r\n        ) {\r\n            console.warn(\r\n                `The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components`\r\n            );\r\n            return;\r\n        }\r\n        formGroups.registerGroup(name);\r\n\r\n        return () => {\r\n            formGroups.unregisterGroup(name);\r\n        };\r\n    }, [formGroups, name]);\r\n\r\n    return (\r\n        <FormGroupContext.Provider value={name}>\r\n            {children}\r\n        </FormGroupContext.Provider>\r\n    );\r\n};\r\n", "import { useContext } from 'react';\r\nimport { FormGroupsContext } from './FormGroupsContext';\r\n\r\n/**\r\n * Retrieve the form groups management context. Used by inputs to register themselves into a form group.\r\n */\r\nexport const useFormGroups = () => {\r\n    const context = useContext(FormGroupsContext);\r\n    return context;\r\n};\r\n", "import { useEffect } from 'react';\r\nimport {\r\n    FieldValues,\r\n    UseFieldArrayReturn,\r\n    useFormContext,\r\n} from 'react-hook-form';\r\nimport get from 'lodash/get';\r\nimport { useRecordContext } from '../controller';\r\nimport { InputProps } from './useInput';\r\n\r\ninterface StandardInput {\r\n    inputProps: Partial<InputProps> & { source: string };\r\n    isArrayInput?: undefined;\r\n    fieldArrayInputControl?: undefined;\r\n}\r\n\r\ninterface ArrayInput {\r\n    inputProps: Partial<InputProps> & { source: string };\r\n    isArrayInput: true;\r\n    fieldArrayInputControl: UseFieldArrayReturn<FieldValues, string, 'id'>;\r\n}\r\n\r\ntype Props = StandardInput | ArrayInput;\r\n\r\n/*\r\n * This hook updates the input with the default value if default value is present\r\n * and field input is not already populated or dirty\r\n */\r\nexport const useApplyInputDefaultValues = ({\r\n    inputProps,\r\n    isArrayInput,\r\n    fieldArrayInputControl,\r\n}: Props) => {\r\n    const { defaultValue, source } = inputProps;\r\n    const record = useRecordContext(inputProps);\r\n    const {\r\n        getValues,\r\n        resetField,\r\n        getFieldState,\r\n        formState,\r\n        reset,\r\n    } = useFormContext();\r\n    const recordValue = get(record, source);\r\n    const formValue = get(getValues(), source);\r\n    const { isDirty } = getFieldState(source, formState);\r\n\r\n    useEffect(() => {\r\n        if (\r\n            defaultValue == null ||\r\n            formValue != null ||\r\n            recordValue != null ||\r\n            isDirty\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        // Side note: For Array Input but checked for all to avoid possible regression\r\n        // Since we use get(record, source), if source is like foo.23.bar,\r\n        // this effect will run. However we only want to set the default value\r\n        // for the subfield bar if the record actually has a value for foo.23\r\n        const pathContainsIndex = source\r\n            .split('.')\r\n            .some(pathPart => numericRegex.test(pathPart));\r\n        if (pathContainsIndex) {\r\n            const parentPath = source.split('.').slice(0, -1).join('.');\r\n            const parentValue = get(getValues(), parentPath);\r\n            if (parentValue == null) {\r\n                // the parent is undefined, so we don't want to set the default value\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (isArrayInput) {\r\n            if (!fieldArrayInputControl) {\r\n                throw new Error(\r\n                    'useApplyInputDefaultValues: No fieldArrayInputControl passed in props for array input usage'\r\n                );\r\n            }\r\n\r\n            // We need to update inputs nested in array using react hook forms\r\n            // own array controller rather then the generic reset to prevent control losing\r\n            // context of the nested inputs\r\n            fieldArrayInputControl.replace(defaultValue);\r\n            // resets the form so that control no longer sees the form as dirty after\r\n            // defaults applied\r\n            reset({}, { keepValues: true });\r\n\r\n            return;\r\n        }\r\n\r\n        resetField(source, { defaultValue });\r\n    });\r\n};\r\n\r\nconst numericRegex = /^\\d+$/;\r\n", "import * as React from 'react';\r\nimport { ReactElement, isValidElement, useCallback } from 'react';\r\nimport get from 'lodash/get';\r\n\r\nimport { useTranslate } from '../i18n';\r\nimport { RaRecord } from '../types';\r\nimport { RecordContextProvider } from '../controller';\r\n\r\nexport type OptionTextElement = ReactElement<{\r\n    record: RaRecord;\r\n}>;\r\nexport type OptionTextFunc = (choice: any) => React.ReactNode;\r\nexport type OptionText = OptionTextElement | OptionTextFunc | string;\r\n\r\nexport interface ChoicesProps {\r\n    choices?: any[];\r\n    isFetching?: boolean;\r\n    isLoading?: boolean;\r\n    optionValue?: string;\r\n    optionText?: OptionText;\r\n    translateChoice?: boolean;\r\n}\r\n\r\nexport interface UseChoicesOptions {\r\n    optionValue?: string;\r\n    optionText?: OptionText;\r\n    disableValue?: string;\r\n    translateChoice?: boolean;\r\n}\r\n\r\n/*\r\n * Returns helper functions for choices handling.\r\n *\r\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\r\n * @param optionValue The property to use to get the choice value\r\n * @param translateChoice A boolean indicating whether to option text should be translated\r\n *\r\n * @returns An object with helper functions:\r\n * - getChoiceText: Returns the choice text or a React element\r\n * - getChoiceValue: Returns the choice value\r\n */\r\nexport const useChoices = ({\r\n    optionText = 'name',\r\n    optionValue = 'id',\r\n    disableValue = 'disabled',\r\n    translateChoice = true,\r\n}: UseChoicesOptions) => {\r\n    const translate = useTranslate();\r\n\r\n    const getChoiceText = useCallback(\r\n        choice => {\r\n            if (isValidElement<{ record: any }>(optionText)) {\r\n                return (\r\n                    <RecordContextProvider value={choice}>\r\n                        {optionText}\r\n                    </RecordContextProvider>\r\n                );\r\n            }\r\n            const choiceName =\r\n                typeof optionText === 'function'\r\n                    ? optionText(choice)\r\n                    : get(choice, optionText);\r\n\r\n            return isValidElement(choiceName)\r\n                ? choiceName\r\n                : translateChoice\r\n                ? translate(String(choiceName), { _: choiceName })\r\n                : String(choiceName);\r\n        },\r\n        [optionText, translate, translateChoice]\r\n    );\r\n\r\n    const getChoiceValue = useCallback(choice => get(choice, optionValue), [\r\n        optionValue,\r\n    ]);\r\n\r\n    const getDisableValue = useCallback(choice => get(choice, disableValue), [\r\n        disableValue,\r\n    ]);\r\n\r\n    return {\r\n        getChoiceText,\r\n        getChoiceValue,\r\n        getDisableValue,\r\n    };\r\n};\r\n", "import { useCallback, useEffect, useState } from 'react';\r\nimport get from 'lodash/get';\r\nimport isEqual from 'lodash/isEqual';\r\nimport { useFormState } from 'react-hook-form';\r\nimport { useFormGroups } from './useFormGroups';\r\n\r\ntype FieldState = {\r\n    name: string;\r\n    error?: any;\r\n    isDirty: boolean;\r\n    isTouched: boolean;\r\n    isValid: boolean;\r\n};\r\n\r\ntype FormGroupState = {\r\n    errors?: object;\r\n    isDirty: boolean;\r\n    isTouched: boolean;\r\n    isValid: boolean;\r\n};\r\n\r\n/**\r\n * Retrieve a specific form group data such as its validation status (valid/invalid) or\r\n * or whether its inputs have been updated (dirty/pristine)\r\n *\r\n * @example\r\n * import { Edit, SimpleForm, TextInput, FormGroupContextProvider, useFormGroup, minLength } from 'react-admin';\r\n * import { Accordion, AccordionDetails, AccordionSummary, Typography } from '@mui/material';\r\n * import ExpandMoreIcon from '@mui/icons-material/ExpandMoreIcon';\r\n *\r\n * const PostEdit = (props) => (\r\n *     <Edit {...props}>\r\n *         <SimpleForm>\r\n *             <TextInput source=\"title\" />\r\n *             <FormGroupContextProvider name=\"options\">\r\n *                 <Accordion>\r\n *                     <AccordionSummary\r\n *                         expandIcon={<ExpandMoreIcon />}\r\n *                         aria-controls=\"options-content\"\r\n *                         id=\"options-header\"\r\n *                     >\r\n *                         <AccordionSectionTitle name=\"options\">Options</AccordionSectionTitle>\r\n *                     </AccordionSummary>\r\n *                     <AccordionDetails id=\"options-content\" aria-labelledby=\"options-header\">\r\n *                         <TextInput source=\"teaser\" validate={minLength(20)} />\r\n *                     </AccordionDetails>\r\n *                 </Accordion>\r\n *             </FormGroupContextProvider>\r\n *         </SimpleForm>\r\n *     </Edit>\r\n * );\r\n *\r\n * const AccordionSectionTitle = ({ children, name }) => {\r\n *     const formGroupState = useFormGroup(name);\r\n *     return (\r\n *         <Typography color={!formGroupState.isValid && formGroupState.isDirty ? 'error' : 'inherit'}>\r\n *             {children}\r\n *         </Typography>\r\n *     );\r\n * }\r\n *\r\n * @param {string} name The form group name\r\n * @returns {FormGroupState} The form group state\r\n */\r\nexport const useFormGroup = (name: string): FormGroupState => {\r\n    const { dirtyFields, touchedFields, errors } = useFormState();\r\n    const formGroups = useFormGroups();\r\n    const [state, setState] = useState<FormGroupState>({\r\n        errors: undefined,\r\n        isDirty: false,\r\n        isTouched: false,\r\n        isValid: true,\r\n    });\r\n\r\n    const updateGroupState = useCallback(() => {\r\n        const fields = formGroups.getGroupFields(name);\r\n        const fieldStates = fields\r\n            .map<FieldState>(field => {\r\n                return {\r\n                    name: field,\r\n                    error: get(errors, field, undefined),\r\n                    isDirty: get(dirtyFields, field, false) !== false,\r\n                    isValid: get(errors, field, undefined) == undefined, // eslint-disable-line\r\n                    isTouched: get(touchedFields, field, false) !== false,\r\n                };\r\n            })\r\n            .filter(fieldState => fieldState != undefined); // eslint-disable-line\r\n\r\n        const newState = getFormGroupState(fieldStates);\r\n        setState(oldState => {\r\n            if (!isEqual(oldState, newState)) {\r\n                return newState;\r\n            }\r\n\r\n            return oldState;\r\n        });\r\n    }, [dirtyFields, errors, touchedFields, formGroups, name]);\r\n\r\n    useEffect(\r\n        () => {\r\n            updateGroupState();\r\n        },\r\n        // eslint-disable-next-line\r\n        [\r\n            // eslint-disable-next-line\r\n            JSON.stringify({ dirtyFields, errors, touchedFields }),\r\n            updateGroupState,\r\n        ]\r\n    );\r\n\r\n    useEffect(() => {\r\n        // Whenever the group content changes (input are added or removed)\r\n        // we must update its state\r\n        return formGroups.subscribe(name, () => {\r\n            updateGroupState();\r\n        });\r\n    }, [formGroups, name, updateGroupState]);\r\n\r\n    return state;\r\n};\r\n\r\n/**\r\n * Get the state of a form group\r\n *\r\n * @param {FieldState[]} fieldStates A map of field states from react-hook-form where the key is the field name.\r\n * @returns {FormGroupState} The state of the group.\r\n */\r\nexport const getFormGroupState = (\r\n    fieldStates: FieldState[]\r\n): FormGroupState => {\r\n    return fieldStates.reduce<FormGroupState>(\r\n        (acc, fieldState) => {\r\n            let errors = acc.errors || {};\r\n\r\n            if (fieldState.error) {\r\n                errors[fieldState.name] = fieldState.error;\r\n            }\r\n\r\n            const newState = {\r\n                isDirty: acc.isDirty || fieldState.isDirty,\r\n                errors,\r\n                isTouched: acc.isTouched || fieldState.isTouched,\r\n                isValid: acc.isValid && fieldState.isValid,\r\n            };\r\n\r\n            return newState;\r\n        },\r\n        {\r\n            isDirty: false,\r\n            errors: undefined,\r\n            isValid: true,\r\n            isTouched: false,\r\n        }\r\n    );\r\n};\r\n", "import { useContext } from 'react';\r\nimport { FormGroupContext } from './FormGroupContext';\r\n\r\n/**\r\n * Retrieve the name of the form group the consumer belongs to. May be undefined if the consumer is not inside a form group.\r\n */\r\nexport const useFormGroupContext = () => {\r\n    const context = useContext(FormGroupContext);\r\n    return context;\r\n};\r\n", "import {\r\n    ValidationErrorMessage,\r\n    ValidationErrorMessageWithArgs,\r\n} from './validate';\r\nimport { useTranslate } from '../i18n';\r\n\r\n/**\r\n * This internal hook returns a function that can translate an error message.\r\n * It handles simple string errors and those which have a message and args.\r\n * Only useful if you are implementing custom inputs without leveraging our useInput hook.\r\n *\r\n * @example\r\n * const MyInput = props => {\r\n *      const { field, fieldState } = useController(props);\r\n *      useEffect(() => {\r\n *          if (fieldState.error) {\r\n *              const errorMessage = useGetValidationErrorMessage(fieldState.error);\r\n *              alert(errorMessage);\r\n *          }\r\n *      }, [fieldState.error]);\r\n *\r\n *      return (\r\n *          <input {...field} />\r\n *      );\r\n * }\r\n *\r\n * @see ValidationErrorMessage\r\n * @see ValidationErrorMessageWithArgs\r\n */\r\nexport const useGetValidationErrorMessage = () => {\r\n    const translate = useTranslate();\r\n\r\n    return (error: ValidationErrorMessage) => {\r\n        if ((error as ValidationErrorMessageWithArgs).message != null) {\r\n            const { message, args } = error as ValidationErrorMessageWithArgs;\r\n            return translate(message, { _: message, ...args });\r\n        }\r\n        return translate(error as string, { _: error });\r\n    };\r\n};\r\n", "import { ReactElement, useEffect } from 'react';\r\nimport {\r\n    ControllerFieldState,\r\n    ControllerRenderProps,\r\n    useController,\r\n    UseControllerProps,\r\n    UseControllerReturn,\r\n    UseFormStateReturn,\r\n} from 'react-hook-form';\r\nimport get from 'lodash/get';\r\n\r\nimport { useRecordContext } from '../controller';\r\nimport { composeValidators, Validator } from './validate';\r\nimport isRequired from './isRequired';\r\nimport { useFormGroupContext } from './useFormGroupContext';\r\nimport { useGetValidationErrorMessage } from './useGetValidationErrorMessage';\r\nimport { useFormGroups } from './useFormGroups';\r\nimport { useApplyInputDefaultValues } from './useApplyInputDefaultValues';\r\nimport { useEvent } from '../util';\r\n\r\n// replace null or undefined values by empty string to avoid controlled/uncontrolled input warning\r\nconst defaultFormat = (value: any) => (value == null ? '' : value);\r\n// parse empty string into null as it's more suitable for a majority of backends\r\nconst defaultParse = (value: string) => (value === '' ? null : value);\r\n\r\nexport const useInput = <ValueType = any>(\r\n    props: InputProps<ValueType>\r\n): UseInputValue => {\r\n    const {\r\n        defaultValue,\r\n        format = defaultFormat,\r\n        id,\r\n        isRequired: isRequiredOption,\r\n        name,\r\n        onBlur: initialOnBlur,\r\n        onChange: initialOnChange,\r\n        parse = defaultParse,\r\n        source,\r\n        validate,\r\n        ...options\r\n    } = props;\r\n    const finalName = name || source;\r\n    const formGroupName = useFormGroupContext();\r\n    const formGroups = useFormGroups();\r\n    const record = useRecordContext();\r\n    const getValidationErrorMessage = useGetValidationErrorMessage();\r\n\r\n    useEffect(() => {\r\n        if (!formGroups || formGroupName == null) {\r\n            return;\r\n        }\r\n\r\n        formGroups.registerField(source, formGroupName);\r\n\r\n        return () => {\r\n            formGroups.unregisterField(source, formGroupName);\r\n        };\r\n    }, [formGroups, formGroupName, source]);\r\n\r\n    const sanitizedValidate = Array.isArray(validate)\r\n        ? composeValidators(validate)\r\n        : validate;\r\n\r\n    // Fetch the defaultValue from the record if available or apply the provided defaultValue.\r\n    // This ensures dynamically added inputs have their value set correctly (ArrayInput for example).\r\n    // We don't do this for the form level defaultValues so that it works as it should in react-hook-form\r\n    // (i.e. field level defaultValue override form level defaultValues for this field).\r\n    const { field: controllerField, fieldState, formState } = useController({\r\n        name: finalName,\r\n        defaultValue: get(record, source, defaultValue),\r\n        rules: {\r\n            validate: async (value, values) => {\r\n                if (!sanitizedValidate) return true;\r\n                const error = await sanitizedValidate(value, values, props);\r\n\r\n                if (!error) return true;\r\n                return getValidationErrorMessage(error);\r\n            },\r\n        },\r\n        ...options,\r\n    });\r\n\r\n    // Because our forms may receive an asynchronously loaded record for instance,\r\n    // they may reset their default values which would override the input default value.\r\n    // This hook ensures that the input default value is applied when a new record is loaded but has\r\n    // no value for the input.\r\n    useApplyInputDefaultValues({ inputProps: props });\r\n\r\n    const onBlur = useEvent((...event: any[]) => {\r\n        controllerField.onBlur();\r\n        if (initialOnBlur) {\r\n            initialOnBlur(...event);\r\n        }\r\n    });\r\n\r\n    const onChange = useEvent((...event: any[]) => {\r\n        const eventOrValue = (props.type === 'checkbox' &&\r\n        event[0]?.target?.value === 'on'\r\n            ? event[0].target.checked\r\n            : event[0]?.target?.value ?? event[0]) as any;\r\n        controllerField.onChange(parse ? parse(eventOrValue) : eventOrValue);\r\n        if (initialOnChange) {\r\n            initialOnChange(...event);\r\n        }\r\n    });\r\n\r\n    const field = {\r\n        ...controllerField,\r\n        value: format ? format(controllerField.value) : controllerField.value,\r\n        onBlur,\r\n        onChange,\r\n    };\r\n\r\n    return {\r\n        id: id || source,\r\n        field,\r\n        fieldState,\r\n        formState,\r\n        isRequired: isRequiredOption || isRequired(validate),\r\n    };\r\n};\r\n\r\nexport type InputProps<ValueType = any> = Omit<\r\n    UseControllerProps,\r\n    'name' | 'defaultValue' | 'rules'\r\n> &\r\n    Partial<UseControllerReturn> & {\r\n        alwaysOn?: any;\r\n        defaultValue?: any;\r\n        format?: (value: ValueType) => any;\r\n        id?: string;\r\n        isRequired?: boolean;\r\n        label?: string | ReactElement | false;\r\n        helperText?: string | ReactElement | false;\r\n        name?: string;\r\n        onBlur?: (...event: any[]) => void;\r\n        onChange?: (...event: any[]) => void;\r\n        parse?: (value: any) => ValueType;\r\n        type?: string;\r\n        resource?: string;\r\n        source: string;\r\n        validate?: Validator | Validator[];\r\n    };\r\n\r\nexport type UseInputValue = {\r\n    id: string;\r\n    isRequired: boolean;\r\n    field: ControllerRenderProps;\r\n    formState: UseFormStateReturn<Record<string, string>>;\r\n    fieldState: ControllerFieldState;\r\n};\r\n", "const isRequired = validate => {\r\n    if (validate && validate.isRequired) {\r\n        return true;\r\n    }\r\n    if (Array.isArray(validate)) {\r\n        return validate.some(it => it.isRequired);\r\n    }\r\n    return false;\r\n};\r\n\r\nexport default isRequired;\r\n", "import { useCallback, isValidElement, ReactElement } from 'react';\r\nimport set from 'lodash/set';\r\nimport { useChoices, OptionText, UseChoicesOptions } from './useChoices';\r\nimport { useTranslate } from '../i18n';\r\n\r\n/*\r\n * Returns helper functions for suggestions handling.\r\n *\r\n * @param allowDuplicates A boolean indicating whether a suggestion can be added several times\r\n * @param choices An array of available choices\r\n * @param limitChoicesToValue A boolean indicating whether the initial suggestions should be limited to the currently selected one(s)\r\n * @param matchSuggestion Optional unless `optionText` is a React element. Function which check whether a choice matches a filter. Must return a boolean.\r\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\r\n * @param optionValue The property to use to get the choice value\r\n * @param selectedItem The currently selected item. Maybe an array of selected items\r\n * @param suggestionLimit The maximum number of suggestions returned\r\n * @param translateChoice A boolean indicating whether to option text should be translated\r\n *\r\n * @returns An object with helper functions:\r\n * - getChoiceText: Returns the choice text or a React element\r\n * - getChoiceValue: Returns the choice value\r\n * - getSuggestions: A function taking a filter value (string) and returning the matching suggestions\r\n */\r\nexport const useSuggestions = ({\r\n    allowCreate,\r\n    choices,\r\n    createText = 'ra.action.create',\r\n    createValue = '@@create',\r\n    limitChoicesToValue,\r\n    matchSuggestion,\r\n    optionText,\r\n    optionValue,\r\n    selectedItem,\r\n    suggestionLimit = 0,\r\n    translateChoice,\r\n}: UseSuggestionsOptions) => {\r\n    const translate = useTranslate();\r\n    const { getChoiceText, getChoiceValue } = useChoices({\r\n        optionText,\r\n        optionValue,\r\n        translateChoice,\r\n    });\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    const getSuggestions = useCallback(\r\n        getSuggestionsFactory({\r\n            allowCreate,\r\n            choices,\r\n            createText,\r\n            createValue,\r\n            getChoiceText,\r\n            getChoiceValue,\r\n            limitChoicesToValue,\r\n            matchSuggestion,\r\n            optionText,\r\n            optionValue,\r\n            selectedItem,\r\n            suggestionLimit,\r\n        }),\r\n        [\r\n            allowCreate,\r\n            choices,\r\n            createText,\r\n            createValue,\r\n            getChoiceText,\r\n            getChoiceValue,\r\n            limitChoicesToValue,\r\n            matchSuggestion,\r\n            optionText,\r\n            optionValue,\r\n            selectedItem,\r\n            suggestionLimit,\r\n            translate,\r\n        ]\r\n    );\r\n\r\n    return {\r\n        getChoiceText,\r\n        getChoiceValue,\r\n        getSuggestions,\r\n    };\r\n};\r\n\r\nconst escapeRegExp = value =>\r\n    value ? value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') : ''; // $& means the whole matched string\r\n\r\nexport interface UseSuggestionsOptions extends UseChoicesOptions {\r\n    allowCreate?: boolean;\r\n    allowDuplicates?: boolean;\r\n    choices: any[];\r\n    createText?: string;\r\n    createValue?: any;\r\n    limitChoicesToValue?: boolean;\r\n    matchSuggestion?: (\r\n        filter: string,\r\n        suggestion: any,\r\n        exact?: boolean\r\n    ) => boolean;\r\n    suggestionLimit?: number;\r\n    selectedItem?: any | any[];\r\n}\r\n\r\n/**\r\n * Default matcher implementation which check whether the suggestion text matches the filter.\r\n */\r\nconst defaultMatchSuggestion = getChoiceText => (\r\n    filter,\r\n    suggestion,\r\n    exact = false\r\n) => {\r\n    const suggestionText = getChoiceText(suggestion);\r\n\r\n    const isReactElement = isValidElement(suggestionText);\r\n    const regex = escapeRegExp(filter);\r\n\r\n    return isReactElement\r\n        ? false\r\n        : suggestionText &&\r\n              !!suggestionText.match(\r\n                  // We must escape any RegExp reserved characters to avoid errors\r\n                  // For example, the filter might contain * which must be escaped as \\*\r\n                  new RegExp(exact ? `^${regex}$` : regex, 'i')\r\n              );\r\n};\r\n\r\n/**\r\n * Get the suggestions to display after applying a fuzzy search on the available choices\r\n *\r\n * @example\r\n *\r\n * getSuggestions({\r\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\r\n *   optionText: 'name',\r\n *   optionValue: 'id',\r\n *   getSuggestionText: choice => choice[optionText],\r\n * })('pub')\r\n *\r\n * // Will return [{ id: 2, name: 'publisher' }]\r\n * getSuggestions({\r\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\r\n *   optionText: 'name',\r\n *   optionValue: 'id',\r\n *   getSuggestionText: choice => choice[optionText],\r\n * })('pub')\r\n *\r\n * // Will return [{ id: 2, name: 'publisher' }]\r\n */\r\nexport const getSuggestionsFactory = ({\r\n    allowCreate = false,\r\n    choices = [],\r\n    createText = 'ra.action.create',\r\n    createValue = '@@create',\r\n    optionText = 'name',\r\n    optionValue = 'id',\r\n    getChoiceText,\r\n    getChoiceValue,\r\n    limitChoicesToValue = false,\r\n    matchSuggestion = defaultMatchSuggestion(getChoiceText),\r\n    selectedItem,\r\n    suggestionLimit = 0,\r\n}: UseSuggestionsOptions & {\r\n    getChoiceText: (choice: any) => string | ReactElement;\r\n    getChoiceValue: (choice: any) => string;\r\n}) => filter => {\r\n    let suggestions: any[] = [];\r\n    // if an item is selected and matches the filter\r\n    if (\r\n        selectedItem &&\r\n        !Array.isArray(selectedItem) &&\r\n        matchSuggestion(filter, selectedItem)\r\n    ) {\r\n        if (limitChoicesToValue) {\r\n            // display only the selected item\r\n            suggestions = choices.filter(\r\n                choice =>\r\n                    getChoiceValue(choice) === getChoiceValue(selectedItem)\r\n            );\r\n        } else {\r\n            suggestions = [...choices];\r\n        }\r\n    } else {\r\n        suggestions = choices.filter(\r\n            choice =>\r\n                matchSuggestion(filter, choice) ||\r\n                (selectedItem != null &&\r\n                    (!Array.isArray(selectedItem)\r\n                        ? getChoiceValue(choice) ===\r\n                          getChoiceValue(selectedItem)\r\n                        : selectedItem.some(\r\n                              selected =>\r\n                                  getChoiceValue(choice) ===\r\n                                  getChoiceValue(selected)\r\n                          )))\r\n        );\r\n    }\r\n\r\n    suggestions = limitSuggestions(suggestions, suggestionLimit);\r\n\r\n    const hasExactMatch = suggestions.some(suggestion =>\r\n        matchSuggestion(filter, suggestion, true)\r\n    );\r\n\r\n    if (allowCreate) {\r\n        const filterIsSelectedItem =\r\n            // If the selectedItem is an array (for example AutocompleteArrayInput)\r\n            // we shouldn't try to match\r\n            !!selectedItem && !Array.isArray(selectedItem)\r\n                ? matchSuggestion(filter, selectedItem, true)\r\n                : false;\r\n        if (!hasExactMatch && !filterIsSelectedItem) {\r\n            suggestions.push(\r\n                getSuggestion({\r\n                    optionText,\r\n                    optionValue,\r\n                    text: createText,\r\n                    value: createValue,\r\n                })\r\n            );\r\n        }\r\n    }\r\n\r\n    // Only keep unique items. Necessary because we might have fetched\r\n    // the currently selected choice in addition of the possible choices\r\n    // that may also contain it\r\n    const result = suggestions.filter(\r\n        (suggestion, index) => suggestions.indexOf(suggestion) === index\r\n    );\r\n    return result;\r\n};\r\n\r\n/**\r\n * @example\r\n *\r\n * limitSuggestions(\r\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\r\n *  1\r\n * );\r\n *\r\n * // Will return [{ id: 1, name: 'foo' }]\r\n *\r\n * @param suggestions List of suggestions\r\n * @param limit\r\n */\r\nconst limitSuggestions = (suggestions: any[], limit: any = 0) =>\r\n    Number.isInteger(limit) && limit > 0\r\n        ? suggestions.slice(0, limit)\r\n        : suggestions;\r\n\r\n/**\r\n * addSuggestion(\r\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\r\n * );\r\n *\r\n * // Will return [{ id: null, name: '' }, { id: 1, name: 'foo' }, { id: 2, name: 'bar' }]\r\n *\r\n * @param suggestions List of suggestions\r\n * @param options\r\n * @param options.optionText\r\n */\r\nconst getSuggestion = ({\r\n    optionText = 'name',\r\n    optionValue = 'id',\r\n    text = '',\r\n    value = null,\r\n}: {\r\n    optionText: OptionText;\r\n    optionValue: string;\r\n    text: string;\r\n    value: any;\r\n}) => {\r\n    const suggestion = {};\r\n    set(suggestion, optionValue, value);\r\n    if (typeof optionText === 'string') {\r\n        set(suggestion, optionText, text);\r\n    }\r\n\r\n    return suggestion;\r\n};\r\n", "import merge from 'lodash/merge';\r\nimport { useResourceContext } from '../core';\r\nimport { useDataProvider } from '../dataProvider';\r\nimport { useTranslate, useTranslateLabel } from '../i18n';\r\nimport { InputProps } from './useInput';\r\nimport { useCallback, useRef } from 'react';\r\nimport set from 'lodash/set';\r\nimport { asyncDebounce } from '../util';\r\nimport { useRecordContext } from '../controller';\r\n\r\n/**\r\n * A hook that returns a validation function checking for a record field uniqueness\r\n * by calling the dataProvider getList function with a filter.\r\n *\r\n * @example // Passing options at declaration time\r\n * const UserCreateForm = () => {\r\n *     const unique = useUnique({ message: 'Username is already used'});\r\n *     return (\r\n *         <SimpleForm>\r\n *             <TextInput source=\"username\" validate={unique()} />\r\n *         </SimpleForm>\r\n *     );\r\n * }\r\n *\r\n * @example // Passing options at call time\r\n * const UserCreateForm = () => {\r\n *     const unique = useUnique();\r\n *     return (\r\n *         <SimpleForm>\r\n *             <TextInput source=\"username\" validate={unique({ message: 'Username is already used'})} />\r\n *         </SimpleForm>\r\n *     );\r\n * }\r\n *\r\n * @example // With additional filters\r\n * const UserCreateForm = () => {\r\n *     const unique = useUnique();\r\n *     return (\r\n *         <SimpleForm>\r\n *             <ReferenceInput source=\"organization_id\" reference=\"organizations\" />\r\n *             <FormDataConsumer>\r\n *                 {({ formData }) => (\r\n *                     <TextInput\r\n *                         source=\"username\"\r\n *                         validate={unique({ filter: { organization_id: formData.organization_id })}\r\n *                     />\r\n *                 )}\r\n *             </FormDataConsumer>\r\n *         </SimpleForm>\r\n *     );\r\n * }\r\n */\r\nexport const useUnique = (options?: UseUniqueOptions) => {\r\n    const dataProvider = useDataProvider();\r\n    const translateLabel = useTranslateLabel();\r\n    const resource = useResourceContext(options);\r\n    const translate = useTranslate();\r\n    const record = useRecordContext();\r\n\r\n    const debouncedGetList = useRef(\r\n        // The initial value is here to set the correct type on useRef\r\n        asyncDebounce(\r\n            dataProvider.getList,\r\n            options?.debounce ?? DEFAULT_DEBOUNCE\r\n        )\r\n    );\r\n\r\n    const validateUnique = useCallback(\r\n        (callTimeOptions?: UseUniqueOptions) => {\r\n            const { message, filter, debounce: interval } = merge<\r\n                UseUniqueOptions,\r\n                any,\r\n                any\r\n            >(\r\n                {\r\n                    debounce: DEFAULT_DEBOUNCE,\r\n                    filter: {},\r\n                    message: 'ra.validation.unique',\r\n                },\r\n                options,\r\n                callTimeOptions\r\n            );\r\n\r\n            debouncedGetList.current = asyncDebounce(\r\n                dataProvider.getList,\r\n                interval\r\n            );\r\n\r\n            return async (value: any, allValues: any, props: InputProps) => {\r\n                try {\r\n                    const finalFilter = set(\r\n                        merge({}, filter),\r\n                        props.source,\r\n                        value\r\n                    );\r\n                    const { data, total } = await debouncedGetList.current(\r\n                        resource,\r\n                        {\r\n                            filter: finalFilter,\r\n                            pagination: { page: 1, perPage: 1 },\r\n                            sort: { field: 'id', order: 'ASC' },\r\n                        }\r\n                    );\r\n\r\n                    if (total > 0 && !data.some(r => r.id === record?.id)) {\r\n                        return translate(message, {\r\n                            _: message,\r\n                            source: props.source,\r\n                            value,\r\n                            field: translateLabel({\r\n                                label: props.label,\r\n                                source: props.source,\r\n                                resource,\r\n                            }),\r\n                        });\r\n                    }\r\n                } catch (error) {\r\n                    return translate('ra.notification.http_error');\r\n                }\r\n\r\n                return undefined;\r\n            };\r\n        },\r\n        [dataProvider, options, record, resource, translate, translateLabel]\r\n    );\r\n\r\n    return validateUnique;\r\n};\r\n\r\nconst DEFAULT_DEBOUNCE = 1000;\r\n\r\nexport type UseUniqueOptions = {\r\n    debounce?: number;\r\n    resource?: string;\r\n    message?: string;\r\n    filter?: Record<string, any>;\r\n};\r\n", "import * as React from 'react';\r\nimport inflection from 'inflection';\r\n\r\nimport getValuesFromRecords from './getValuesFromRecords';\r\nimport InferredElement from './InferredElement';\r\n\r\nimport {\r\n    isObject,\r\n    valuesAreArray,\r\n    valuesAreBoolean,\r\n    valuesAreDate,\r\n    valuesAreDateString,\r\n    valuesAreHtml,\r\n    valuesAreInteger,\r\n    valuesAreNumeric,\r\n    valuesAreObject,\r\n    valuesAreString,\r\n} from './assertions';\r\nimport { InferredTypeMap } from './types';\r\n\r\nconst DefaultComponent = () => <span>;</span>;\r\nconst defaultType = {\r\n    type: DefaultComponent,\r\n    representation: () => '<DefaultComponent />',\r\n};\r\nconst defaultTypes = {\r\n    array: defaultType,\r\n    boolean: defaultType,\r\n    date: defaultType,\r\n    email: defaultType,\r\n    id: defaultType,\r\n    number: defaultType,\r\n    reference: defaultType,\r\n    referenceArray: defaultType,\r\n    richText: defaultType,\r\n    string: defaultType,\r\n    url: defaultType,\r\n};\r\n\r\nconst hasType = (type, types) => typeof types[type] !== 'undefined';\r\n\r\n/**\r\n * Guesses an element based on an array of values\r\n *\r\n * @example\r\n *     inferElementFromValues(\r\n *         'address',\r\n *         ['2 Baker Street', '1 Downing street'],\r\n *         { number: NumberField, string: StringField }\r\n *     );\r\n *     // new InferredElement(<StringField source=\"address\" />)\r\n *\r\n * Types are optional: if a type isn't provided, the function falls back\r\n * to the nearest type.\r\n *\r\n * @example\r\n *     inferElementFromValues(\r\n *         'content',\r\n *         ['<h1>Hello</h1>'],\r\n *         { string: StringField } // no richText type\r\n *     );\r\n *     // new InferredElement(<StringField source=\"content\" />)\r\n *\r\n * Types can be disabled by passing a falsy value.\r\n *\r\n * @example\r\n *     inferElementFromValues(\r\n *         'content',\r\n *         ['<h1>Hello</h1>'],\r\n *         { string: StringField, richText: false }\r\n *     );\r\n *     // null\r\n *\r\n * @param {string} name Property name, e.g. 'date_of_birth'\r\n * @param {any[]} values an array of values from which to determine the type, e.g. [12, 34.4, 43]\r\n * @param {Object} types A set of components indexed by type. The string type is the only required one\r\n *\r\n * @return InferredElement\r\n */\r\nconst inferElementFromValues = (\r\n    name,\r\n    values = [],\r\n    types: InferredTypeMap = defaultTypes\r\n) => {\r\n    if (name === 'id' && hasType('id', types)) {\r\n        return new InferredElement(types.id, { source: name });\r\n    }\r\n    if (name.substr(name.length - 3) === '_id' && hasType('reference', types)) {\r\n        const reference = inflection.pluralize(name.substr(0, name.length - 3));\r\n        return (\r\n            types.reference &&\r\n            new InferredElement(types.reference, {\r\n                source: name,\r\n                reference,\r\n            })\r\n        );\r\n    }\r\n    if (name.substr(name.length - 2) === 'Id' && hasType('reference', types)) {\r\n        const reference = inflection.pluralize(name.substr(0, name.length - 2));\r\n        return (\r\n            types.reference &&\r\n            new InferredElement(types.reference, {\r\n                source: name,\r\n                reference,\r\n            })\r\n        );\r\n    }\r\n    if (\r\n        name.substr(name.length - 4) === '_ids' &&\r\n        hasType('referenceArray', types)\r\n    ) {\r\n        const reference = inflection.pluralize(name.substr(0, name.length - 4));\r\n        return (\r\n            types.referenceArray &&\r\n            new InferredElement(types.referenceArray, {\r\n                source: name,\r\n                reference,\r\n            })\r\n        );\r\n    }\r\n    if (\r\n        name.substr(name.length - 3) === 'Ids' &&\r\n        hasType('referenceArray', types)\r\n    ) {\r\n        const reference = inflection.pluralize(name.substr(0, name.length - 3));\r\n        return (\r\n            types.referenceArray &&\r\n            new InferredElement(types.referenceArray, {\r\n                source: name,\r\n                reference,\r\n            })\r\n        );\r\n    }\r\n    if (values.length === 0) {\r\n        // FIXME introspect further using name\r\n        return new InferredElement(types.string, { source: name });\r\n    }\r\n    if (valuesAreArray(values)) {\r\n        if (isObject(values[0][0]) && hasType('array', types)) {\r\n            const leafValues = getValuesFromRecords(\r\n                values.reduce((acc, vals) => acc.concat(vals), [])\r\n            );\r\n            // FIXME bad visual representation\r\n            return (\r\n                types.array &&\r\n                new InferredElement(\r\n                    types.array,\r\n                    {\r\n                        source: name,\r\n                    },\r\n                    Object.keys(leafValues).map(leafName =>\r\n                        inferElementFromValues(\r\n                            leafName,\r\n                            leafValues[leafName],\r\n                            types\r\n                        )\r\n                    )\r\n                )\r\n            );\r\n        }\r\n        // FIXME introspect further\r\n        return new InferredElement(types.string, { source: name });\r\n    }\r\n    if (valuesAreBoolean(values) && hasType('boolean', types)) {\r\n        return new InferredElement(types.boolean, { source: name });\r\n    }\r\n    if (valuesAreDate(values) && hasType('date', types)) {\r\n        return new InferredElement(types.date, { source: name });\r\n    }\r\n    if (valuesAreString(values)) {\r\n        if (name === 'email' && hasType('email', types)) {\r\n            return new InferredElement(types.email, { source: name });\r\n        }\r\n        if (name === 'url' && hasType('url', types)) {\r\n            return new InferredElement(types.url, { source: name });\r\n        }\r\n        if (valuesAreDateString(values) && hasType('date', types)) {\r\n            return new InferredElement(types.date, { source: name });\r\n        }\r\n        if (valuesAreHtml(values) && hasType('richText', types)) {\r\n            return new InferredElement(types.richText, { source: name });\r\n        }\r\n        return new InferredElement(types.string, { source: name });\r\n    }\r\n    if (\r\n        (valuesAreInteger(values) || valuesAreNumeric(values)) &&\r\n        hasType('number', types)\r\n    ) {\r\n        return new InferredElement(types.number, { source: name });\r\n    }\r\n    if (valuesAreObject(values)) {\r\n        // we need to go deeper\r\n        // Arbitrarily, choose the first prop of the first object\r\n        const propName = Object.keys(values[0]).shift();\r\n        if (!propName) {\r\n            return new InferredElement(types.string, { source: name });\r\n        }\r\n        const leafValues = values.map(v => v[propName]);\r\n        return inferElementFromValues(`${name}.${propName}`, leafValues, types);\r\n    }\r\n    return new InferredElement(types.string, { source: name });\r\n};\r\n\r\nexport default inferElementFromValues;\r\n", "/**\r\n * Gets a list of values indexed by field based on a list of records\r\n *\r\n * @example\r\n * const records = [\r\n *     {\r\n *         id: 1,\r\n *         title: \"Lorem Ipsum\",\r\n *         views: 254,\r\n *         user_id: 123,\r\n *     },\r\n *     {\r\n *         id: 2,\r\n *         title: \"Sic Dolor amet\",\r\n *         views: 65,\r\n *         user_id: 456,\r\n *     },\r\n * ];\r\n * getValuesFromRecords(records);\r\n * // {\r\n * //    id: [1, 2],\r\n * //    title: ['Lorem Ipsum', 'Sic Dolor amet'],\r\n * //    views: [254, 65],\r\n * //    user_id: [123, 456],\r\n * // }\r\n */\r\nexport default (records: any[]) =>\r\n    records.reduce((values, record) => {\r\n        Object.keys(record).forEach(fieldName => {\r\n            if (!values[fieldName]) {\r\n                values[fieldName] = [];\r\n            }\r\n            if (record[fieldName] != null) {\r\n                const value = Array.isArray(record[fieldName])\r\n                    ? [record[fieldName]]\r\n                    : record[fieldName];\r\n                values[fieldName] = values[fieldName].concat(value);\r\n            }\r\n        });\r\n        return values;\r\n    }, {});\r\n", "import { createElement } from 'react';\r\nimport { InferredType } from './types';\r\n\r\nclass InferredElement {\r\n    constructor(\r\n        private type?: InferredType,\r\n        private props?: any,\r\n        private children?: any\r\n    ) {\r\n        this.type = type;\r\n        this.props = props;\r\n        this.children = children;\r\n    }\r\n\r\n    getElement(props = {}) {\r\n        if (!this.type || !this.type.component) {\r\n            return;\r\n        }\r\n        return this.children\r\n            ? createElement(\r\n                  this.type.component,\r\n                  { ...this.props, ...props },\r\n                  this.children.length > 0\r\n                      ? this.children.map((child, index) =>\r\n                            child.getElement({ key: index })\r\n                        )\r\n                      : this.children.getElement()\r\n              )\r\n            : createElement(this.type.component, { ...this.props, ...props });\r\n    }\r\n\r\n    getProps() {\r\n        return this.props;\r\n    }\r\n\r\n    isDefined() {\r\n        return !!this.type;\r\n    }\r\n\r\n    getRepresentation() {\r\n        if (!this.type) {\r\n            return;\r\n        }\r\n        if (this.type.representation) {\r\n            return this.type.representation(this.props, this.children);\r\n        }\r\n        if (this.type.component) {\r\n            return `<${\r\n                this.type.component.displayName || this.type.component.name\r\n            } source=\"${this.props.source}\" />`;\r\n        }\r\n    }\r\n}\r\n\r\nexport default InferredElement;\r\n", "export default function _typeof(obj) {\r\n  \"@babel/helpers - typeof\";\r\n\r\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\r\n    return typeof obj;\r\n  } : function (obj) {\r\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n  }, _typeof(obj);\r\n}", "export default function toInteger(dirtyNumber) {\r\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\r\n    return NaN;\r\n  }\r\n  var number = Number(dirtyNumber);\r\n  if (isNaN(number)) {\r\n    return number;\r\n  }\r\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\r\n}", "export default function requiredArgs(required, args) {\r\n  if (args.length < required) {\r\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\r\n  }\r\n}", "import _typeof from \"@babel/runtime/helpers/esm/typeof\";\r\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\r\n/**\r\n * @name toDate\r\n * @category Common Helpers\r\n * @summary Convert the given argument to an instance of Date.\r\n *\r\n * @description\r\n * Convert the given argument to an instance of Date.\r\n *\r\n * If the argument is an instance of Date, the function returns its clone.\r\n *\r\n * If the argument is a number, it is treated as a timestamp.\r\n *\r\n * If the argument is none of the above, the function returns Invalid Date.\r\n *\r\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\r\n *\r\n * @param {Date|Number} argument - the value to convert\r\n * @returns {Date} the parsed date in the local time zone\r\n * @throws {TypeError} 1 argument required\r\n *\r\n * @example\r\n * // Clone the date:\r\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\r\n * //=> Tue Feb 11 2014 11:30:30\r\n *\r\n * @example\r\n * // Convert the timestamp to date:\r\n * const result = toDate(1392098430000)\r\n * //=> Tue Feb 11 2014 11:30:30\r\n */\r\nexport default function toDate(argument) {\r\n  requiredArgs(1, arguments);\r\n  var argStr = Object.prototype.toString.call(argument);\r\n\r\n  // Clone the date\r\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\r\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\r\n    return new Date(argument.getTime());\r\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\r\n    return new Date(argument);\r\n  } else {\r\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\r\n      // eslint-disable-next-line no-console\r\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\r\n      // eslint-disable-next-line no-console\r\n      console.warn(new Error().stack);\r\n    }\r\n    return new Date(NaN);\r\n  }\r\n}", "import toInteger from \"../_lib/toInteger/index.js\";\r\nimport toDate from \"../toDate/index.js\";\r\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\r\n/**\r\n * @name addMilliseconds\r\n * @category Millisecond Helpers\r\n * @summary Add the specified number of milliseconds to the given date.\r\n *\r\n * @description\r\n * Add the specified number of milliseconds to the given date.\r\n *\r\n * @param {Date|Number} date - the date to be changed\r\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\r\n * @returns {Date} the new date with the milliseconds added\r\n * @throws {TypeError} 2 arguments required\r\n *\r\n * @example\r\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\r\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\r\n * //=> Thu Jul 10 2014 12:45:30.750\r\n */\r\nexport default function addMilliseconds(dirtyDate, dirtyAmount) {\r\n  requiredArgs(2, arguments);\r\n  var timestamp = toDate(dirtyDate).getTime();\r\n  var amount = toInteger(dirtyAmount);\r\n  return new Date(timestamp + amount);\r\n}", "var defaultOptions = {};\r\nexport function getDefaultOptions() {\r\n  return defaultOptions;\r\n}\r\nexport function setDefaultOptions(newOptions) {\r\n  defaultOptions = newOptions;\r\n}", "/**\r\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\r\n * They usually appear for dates that denote time before the timezones were introduced\r\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\r\n * and GMT+01:00:00 after that date)\r\n *\r\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\r\n * which would lead to incorrect calculations.\r\n *\r\n * This function returns the timezone offset in milliseconds that takes seconds in account.\r\n */\r\nexport default function getTimezoneOffsetInMilliseconds(date) {\r\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\r\n  utcDate.setUTCFullYear(date.getFullYear());\r\n  return date.getTime() - utcDate.getTime();\r\n}", "/**\r\n * Days in 1 week.\r\n *\r\n * @name daysInWeek\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var daysInWeek = 7;\r\n\r\n/**\r\n * Days in 1 year\r\n * One years equals 365.2425 days according to the formula:\r\n *\r\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\r\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\r\n *\r\n * @name daysInYear\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var daysInYear = 365.2425;\r\n\r\n/**\r\n * Maximum allowed time.\r\n *\r\n * @name maxTime\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\r\n\r\n/**\r\n * Milliseconds in 1 minute\r\n *\r\n * @name millisecondsInMinute\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var millisecondsInMinute = 60000;\r\n\r\n/**\r\n * Milliseconds in 1 hour\r\n *\r\n * @name millisecondsInHour\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var millisecondsInHour = 3600000;\r\n\r\n/**\r\n * Milliseconds in 1 second\r\n *\r\n * @name millisecondsInSecond\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var millisecondsInSecond = 1000;\r\n\r\n/**\r\n * Minimum allowed time.\r\n *\r\n * @name minTime\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var minTime = -maxTime;\r\n\r\n/**\r\n * Minutes in 1 hour\r\n *\r\n * @name minutesInHour\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var minutesInHour = 60;\r\n\r\n/**\r\n * Months in 1 quarter\r\n *\r\n * @name monthsInQuarter\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var monthsInQuarter = 3;\r\n\r\n/**\r\n * Months in 1 year\r\n *\r\n * @name monthsInYear\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var monthsInYear = 12;\r\n\r\n/**\r\n * Quarters in 1 year\r\n *\r\n * @name quartersInYear\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var quartersInYear = 4;\r\n\r\n/**\r\n * Seconds in 1 hour\r\n *\r\n * @name secondsInHour\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var secondsInHour = 3600;\r\n\r\n/**\r\n * Seconds in 1 minute\r\n *\r\n * @name secondsInMinute\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var secondsInMinute = 60;\r\n\r\n/**\r\n * Seconds in 1 day\r\n *\r\n * @name secondsInDay\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var secondsInDay = secondsInHour * 24;\r\n\r\n/**\r\n * Seconds in 1 week\r\n *\r\n * @name secondsInWeek\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var secondsInWeek = secondsInDay * 7;\r\n\r\n/**\r\n * Seconds in 1 year\r\n *\r\n * @name secondsInYear\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var secondsInYear = secondsInDay * daysInYear;\r\n\r\n/**\r\n * Seconds in 1 month\r\n *\r\n * @name secondsInMonth\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var secondsInMonth = secondsInYear / 12;\r\n\r\n/**\r\n * Seconds in 1 quarter\r\n *\r\n * @name secondsInQuarter\r\n * @constant\r\n * @type {number}\r\n * @default\r\n */\r\nexport var secondsInQuarter = secondsInMonth * 3;", "import _typeof from \"@babel/runtime/helpers/esm/typeof\";\r\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\r\n/**\r\n * @name isDate\r\n * @category Common Helpers\r\n * @summary Is the given value a date?\r\n *\r\n * @description\r\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\r\n *\r\n * @param {*} value - the value to check\r\n * @returns {boolean} true if the given value is a date\r\n * @throws {TypeError} 1 arguments required\r\n *\r\n * @example\r\n * // For a valid date:\r\n * const result = isDate(new Date())\r\n * //=> true\r\n *\r\n * @example\r\n * // For an invalid date:\r\n * const result = isDate(new Date(NaN))\r\n * //=> true\r\n *\r\n * @example\r\n * // For some value:\r\n * const result = isDate('2014-02-31')\r\n * //=> false\r\n *\r\n * @example\r\n * // For an object:\r\n * const result = isDate({})\r\n * //=> false\r\n */\r\nexport default function isDate(value) {\r\n  requiredArgs(1, arguments);\r\n  return value instanceof Date || _typeof(value) === 'object' && Object.prototype.toString.call(value) === '[object Date]';\r\n}", "import isDate from \"../isDate/index.js\";\r\nimport toDate from \"../toDate/index.js\";\r\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\r\n/**\r\n * @name isValid\r\n * @category Common Helpers\r\n * @summary Is the given date valid?\r\n *\r\n * @description\r\n * Returns false if argument is Invalid Date and true otherwise.\r\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\r\n * Invalid Date is a Date, whose time value is NaN.\r\n *\r\n * Time value of Date: http://es5.github.io/#x15.9.1.1\r\n *\r\n * @param {*} date - the date to check\r\n * @returns {Boolean} the date is valid\r\n * @throws {TypeError} 1 argument required\r\n *\r\n * @example\r\n * // For the valid date:\r\n * const result = isValid(new Date(2014, 1, 31))\r\n * //=> true\r\n *\r\n * @example\r\n * // For the value, convertable into a date:\r\n * const result = isValid(1393804800000)\r\n * //=> true\r\n *\r\n * @example\r\n * // For the invalid date:\r\n * const result = isValid(new Date(''))\r\n * //=> false\r\n */\r\nexport default function isValid(dirtyDate) {\r\n  requiredArgs(1, arguments);\r\n  if (!isDate(dirtyDate) && typeof dirtyDate !== 'number') {\r\n    return false;\r\n  }\r\n  var date = toDate(dirtyDate);\r\n  return !isNaN(Number(date));\r\n}", "import addMilliseconds from \"../addMilliseconds/index.js\";\r\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\r\nimport toInteger from \"../_lib/toInteger/index.js\";\r\n/**\r\n * @name subMilliseconds\r\n * @category Millisecond Helpers\r\n * @summary Subtract the specified number of milliseconds from the given date.\r\n *\r\n * @description\r\n * Subtract the specified number of milliseconds from the given date.\r\n *\r\n * @param {Date|Number} date - the date to be changed\r\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\r\n * @returns {Date} the new date with the milliseconds subtracted\r\n * @throws {TypeError} 2 arguments required\r\n *\r\n * @example\r\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\r\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\r\n * //=> Thu Jul 10 2014 12:45:29.250\r\n */\r\nexport default function subMilliseconds(dirtyDate, dirtyAmount) {\r\n  requiredArgs(2, arguments);\r\n  var amount = toInteger(dirtyAmount);\r\n  return addMilliseconds(dirtyDate, -amount);\r\n}", "import toDate from \"../../toDate/index.js\";\r\nimport requiredArgs from \"../requiredArgs/index.js\";\r\nexport default function startOfUTCISOWeek(dirtyDate) {\r\n  requiredArgs(1, arguments);\r\n  var weekStartsOn = 1;\r\n  var date = toDate(dirtyDate);\r\n  var day = date.getUTCDay();\r\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\r\n  date.setUTCDate(date.getUTCDate() - diff);\r\n  date.setUTCHours(0, 0, 0, 0);\r\n  return date;\r\n}", "import toDate from \"../../toDate/index.js\";\r\nimport requiredArgs from \"../requiredArgs/index.js\";\r\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\r\nexport default function getUTCISOWeekYear(dirtyDate) {\r\n  requiredArgs(1, arguments);\r\n  var date = toDate(dirtyDate);\r\n  var year = date.getUTCFullYear();\r\n  var fourthOfJanuaryOfNextYear = new Date(0);\r\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\r\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\r\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\r\n  var fourthOfJanuaryOfThisYear = new Date(0);\r\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\r\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\r\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\r\n  if (date.getTime() >= startOfNextYear.getTime()) {\r\n    return year + 1;\r\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\r\n    return year;\r\n  } else {\r\n    return year - 1;\r\n  }\r\n}", "import getUTCISOWeekYear from \"../getUTCISOWeekYear/index.js\";\r\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\r\nimport requiredArgs from \"../requiredArgs/index.js\";\r\nexport default function startOfUTCISOWeekYear(dirtyDate) {\r\n  requiredArgs(1, arguments);\r\n  var year = getUTCISOWeekYear(dirtyDate);\r\n  var fourthOfJanuary = new Date(0);\r\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\r\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\r\n  var date = startOfUTCISOWeek(fourthOfJanuary);\r\n  return date;\r\n}", "import toDate from \"../../toDate/index.js\";\r\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\r\nimport startOfUTCISOWeekYear from \"../startOfUTCISOWeekYear/index.js\";\r\nimport requiredArgs from \"../requiredArgs/index.js\";\r\nvar MILLISECONDS_IN_WEEK = 604800000;\r\nexport default function getUTCISOWeek(dirtyDate) {\r\n  requiredArgs(1, arguments);\r\n  var date = toDate(dirtyDate);\r\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime();\r\n\r\n  // Round the number of days to the nearest integer\r\n  // because the number of milliseconds in a week is not constant\r\n  // (e.g. it's different in the week of the daylight saving time clock shift)\r\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\r\n}", "import toDate from \"../../toDate/index.js\";\r\nimport requiredArgs from \"../requiredArgs/index.js\";\r\nimport toInteger from \"../toInteger/index.js\";\r\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\r\nexport default function startOfUTCWeek(dirtyDate, options) {\r\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\r\n  requiredArgs(1, arguments);\r\n  var defaultOptions = getDefaultOptions();\r\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\r\n\r\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\r\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\r\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\r\n  }\r\n  var date = toDate(dirtyDate);\r\n  var day = date.getUTCDay();\r\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\r\n  date.setUTCDate(date.getUTCDate() - diff);\r\n  date.setUTCHours(0, 0, 0, 0);\r\n  return date;\r\n}", "import toDate from \"../../toDate/index.js\";\r\nimport requiredArgs from \"../requiredArgs/index.js\";\r\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\r\nimport toInteger from \"../toInteger/index.js\";\r\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\r\nexport default function getUTCWeekYear(dirtyDate, options) {\r\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\r\n  requiredArgs(1, arguments);\r\n  var date = toDate(dirtyDate);\r\n  var year = date.getUTCFullYear();\r\n  var defaultOptions = getDefaultOptions();\r\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\r\n\r\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\r\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\r\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\r\n  }\r\n  var firstWeekOfNextYear = new Date(0);\r\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\r\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\r\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, options);\r\n  var firstWeekOfThisYear = new Date(0);\r\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\r\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\r\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, options);\r\n  if (date.getTime() >= startOfNextYear.getTime()) {\r\n    return year + 1;\r\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\r\n    return year;\r\n  } else {\r\n    return year - 1;\r\n  }\r\n}", "import getUTCWeekYear from \"../getUTCWeekYear/index.js\";\r\nimport requiredArgs from \"../requiredArgs/index.js\";\r\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\r\nimport toInteger from \"../toInteger/index.js\";\r\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\r\nexport default function startOfUTCWeekYear(dirtyDate, options) {\r\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\r\n  requiredArgs(1, arguments);\r\n  var defaultOptions = getDefaultOptions();\r\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\r\n  var year = getUTCWeekYear(dirtyDate, options);\r\n  var firstWeek = new Date(0);\r\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\r\n  firstWeek.setUTCHours(0, 0, 0, 0);\r\n  var date = startOfUTCWeek(firstWeek, options);\r\n  return date;\r\n}", "import toDate from \"../../toDate/index.js\";\r\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\r\nimport startOfUTCWeekYear from \"../startOfUTCWeekYear/index.js\";\r\nimport requiredArgs from \"../requiredArgs/index.js\";\r\nvar MILLISECONDS_IN_WEEK = 604800000;\r\nexport default function getUTCWeek(dirtyDate, options) {\r\n  requiredArgs(1, arguments);\r\n  var date = toDate(dirtyDate);\r\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime();\r\n\r\n  // Round the number of days to the nearest integer\r\n  // because the number of milliseconds in a week is not constant\r\n  // (e.g. it's different in the week of the daylight saving time clock shift)\r\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\r\n}", "var dateLongFormatter = function dateLongFormatter(pattern, formatLong) {\r\n  switch (pattern) {\r\n    case 'P':\r\n      return formatLong.date({\r\n        width: 'short'\r\n      });\r\n    case 'PP':\r\n      return formatLong.date({\r\n        width: 'medium'\r\n      });\r\n    case 'PPP':\r\n      return formatLong.date({\r\n        width: 'long'\r\n      });\r\n    case 'PPPP':\r\n    default:\r\n      return formatLong.date({\r\n        width: 'full'\r\n      });\r\n  }\r\n};\r\nvar timeLongFormatter = function timeLongFormatter(pattern, formatLong) {\r\n  switch (pattern) {\r\n    case 'p':\r\n      return formatLong.time({\r\n        width: 'short'\r\n      });\r\n    case 'pp':\r\n      return formatLong.time({\r\n        width: 'medium'\r\n      });\r\n    case 'ppp':\r\n      return formatLong.time({\r\n        width: 'long'\r\n      });\r\n    case 'pppp':\r\n    default:\r\n      return formatLong.time({\r\n        width: 'full'\r\n      });\r\n  }\r\n};\r\nvar dateTimeLongFormatter = function dateTimeLongFormatter(pattern, formatLong) {\r\n  var matchResult = pattern.match(/(P+)(p+)?/) || [];\r\n  var datePattern = matchResult[1];\r\n  var timePattern = matchResult[2];\r\n  if (!timePattern) {\r\n    return dateLongFormatter(pattern, formatLong);\r\n  }\r\n  var dateTimeFormat;\r\n  switch (datePattern) {\r\n    case 'P':\r\n      dateTimeFormat = formatLong.dateTime({\r\n        width: 'short'\r\n      });\r\n      break;\r\n    case 'PP':\r\n      dateTimeFormat = formatLong.dateTime({\r\n        width: 'medium'\r\n      });\r\n      break;\r\n    case 'PPP':\r\n      dateTimeFormat = formatLong.dateTime({\r\n        width: 'long'\r\n      });\r\n      break;\r\n    case 'PPPP':\r\n    default:\r\n      dateTimeFormat = formatLong.dateTime({\r\n        width: 'full'\r\n      });\r\n      break;\r\n  }\r\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\r\n};\r\nvar longFormatters = {\r\n  p: timeLongFormatter,\r\n  P: dateTimeLongFormatter\r\n};\r\nexport default longFormatters;", "var protectedDayOfYearTokens = ['D', 'DD'];\r\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\r\nexport function isProtectedDayOfYearToken(token) {\r\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\r\n}\r\nexport function isProtectedWeekYearToken(token) {\r\n  return protectedWeekYearTokens.indexOf(token) !== -1;\r\n}\r\nexport function throwProtectedError(token, format, input) {\r\n  if (token === 'YYYY') {\r\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\r\n  } else if (token === 'YY') {\r\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\r\n  } else if (token === 'D') {\r\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\r\n  } else if (token === 'DD') {\r\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\r\n  }\r\n}", "var formatDistanceLocale = {\r\n  lessThanXSeconds: {\r\n    one: 'less than a second',\r\n    other: 'less than {{count}} seconds'\r\n  },\r\n  xSeconds: {\r\n    one: '1 second',\r\n    other: '{{count}} seconds'\r\n  },\r\n  halfAMinute: 'half a minute',\r\n  lessThanXMinutes: {\r\n    one: 'less than a minute',\r\n    other: 'less than {{count}} minutes'\r\n  },\r\n  xMinutes: {\r\n    one: '1 minute',\r\n    other: '{{count}} minutes'\r\n  },\r\n  aboutXHours: {\r\n    one: 'about 1 hour',\r\n    other: 'about {{count}} hours'\r\n  },\r\n  xHours: {\r\n    one: '1 hour',\r\n    other: '{{count}} hours'\r\n  },\r\n  xDays: {\r\n    one: '1 day',\r\n    other: '{{count}} days'\r\n  },\r\n  aboutXWeeks: {\r\n    one: 'about 1 week',\r\n    other: 'about {{count}} weeks'\r\n  },\r\n  xWeeks: {\r\n    one: '1 week',\r\n    other: '{{count}} weeks'\r\n  },\r\n  aboutXMonths: {\r\n    one: 'about 1 month',\r\n    other: 'about {{count}} months'\r\n  },\r\n  xMonths: {\r\n    one: '1 month',\r\n    other: '{{count}} months'\r\n  },\r\n  aboutXYears: {\r\n    one: 'about 1 year',\r\n    other: 'about {{count}} years'\r\n  },\r\n  xYears: {\r\n    one: '1 year',\r\n    other: '{{count}} years'\r\n  },\r\n  overXYears: {\r\n    one: 'over 1 year',\r\n    other: 'over {{count}} years'\r\n  },\r\n  almostXYears: {\r\n    one: 'almost 1 year',\r\n    other: 'almost {{count}} years'\r\n  }\r\n};\r\nvar formatDistance = function formatDistance(token, count, options) {\r\n  var result;\r\n  var tokenValue = formatDistanceLocale[token];\r\n  if (typeof tokenValue === 'string') {\r\n    result = tokenValue;\r\n  } else if (count === 1) {\r\n    result = tokenValue.one;\r\n  } else {\r\n    result = tokenValue.other.replace('{{count}}', count.toString());\r\n  }\r\n  if (options !== null && options !== void 0 && options.addSuffix) {\r\n    if (options.comparison && options.comparison > 0) {\r\n      return 'in ' + result;\r\n    } else {\r\n      return result + ' ago';\r\n    }\r\n  }\r\n  return result;\r\n};\r\nexport default formatDistance;", "export default function buildFormatLongFn(args) {\r\n  return function () {\r\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n    // TODO: Remove String()\r\n    var width = options.width ? String(options.width) : args.defaultWidth;\r\n    var format = args.formats[width] || args.formats[args.defaultWidth];\r\n    return format;\r\n  };\r\n}", "import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\r\nvar dateFormats = {\r\n  full: 'EEEE, MMMM do, y',\r\n  long: 'MMMM do, y',\r\n  medium: 'MMM d, y',\r\n  short: 'MM/dd/yyyy'\r\n};\r\nvar timeFormats = {\r\n  full: 'h:mm:ss a zzzz',\r\n  long: 'h:mm:ss a z',\r\n  medium: 'h:mm:ss a',\r\n  short: 'h:mm a'\r\n};\r\nvar dateTimeFormats = {\r\n  full: \"{{date}} 'at' {{time}}\",\r\n  long: \"{{date}} 'at' {{time}}\",\r\n  medium: '{{date}}, {{time}}',\r\n  short: '{{date}}, {{time}}'\r\n};\r\nvar formatLong = {\r\n  date: buildFormatLongFn({\r\n    formats: dateFormats,\r\n    defaultWidth: 'full'\r\n  }),\r\n  time: buildFormatLongFn({\r\n    formats: timeFormats,\r\n    defaultWidth: 'full'\r\n  }),\r\n  dateTime: buildFormatLongFn({\r\n    formats: dateTimeFormats,\r\n    defaultWidth: 'full'\r\n  })\r\n};\r\nexport default formatLong;", "var formatRelativeLocale = {\r\n  lastWeek: \"'last' eeee 'at' p\",\r\n  yesterday: \"'yesterday at' p\",\r\n  today: \"'today at' p\",\r\n  tomorrow: \"'tomorrow at' p\",\r\n  nextWeek: \"eeee 'at' p\",\r\n  other: 'P'\r\n};\r\nvar formatRelative = function formatRelative(token, _date, _baseDate, _options) {\r\n  return formatRelativeLocale[token];\r\n};\r\nexport default formatRelative;", "export default function buildLocalizeFn(args) {\r\n  return function (dirtyIndex, options) {\r\n    var context = options !== null && options !== void 0 && options.context ? String(options.context) : 'standalone';\r\n    var valuesArray;\r\n    if (context === 'formatting' && args.formattingValues) {\r\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\r\n      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;\r\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\r\n    } else {\r\n      var _defaultWidth = args.defaultWidth;\r\n      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;\r\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\r\n    }\r\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\r\n    // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\r\n    return valuesArray[index];\r\n  };\r\n}", "import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\r\nvar eraValues = {\r\n  narrow: ['B', 'A'],\r\n  abbreviated: ['BC', 'AD'],\r\n  wide: ['Before Christ', 'Anno Domini']\r\n};\r\nvar quarterValues = {\r\n  narrow: ['1', '2', '3', '4'],\r\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\r\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\r\n};\r\n\r\n// Note: in English, the names of days of the week and months are capitalized.\r\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\r\n// Generally, formatted dates should look like they are in the middle of a sentence,\r\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\r\nvar monthValues = {\r\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\r\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\r\n};\r\nvar dayValues = {\r\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\r\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\r\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\r\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\r\n};\r\nvar dayPeriodValues = {\r\n  narrow: {\r\n    am: 'a',\r\n    pm: 'p',\r\n    midnight: 'mi',\r\n    noon: 'n',\r\n    morning: 'morning',\r\n    afternoon: 'afternoon',\r\n    evening: 'evening',\r\n    night: 'night'\r\n  },\r\n  abbreviated: {\r\n    am: 'AM',\r\n    pm: 'PM',\r\n    midnight: 'midnight',\r\n    noon: 'noon',\r\n    morning: 'morning',\r\n    afternoon: 'afternoon',\r\n    evening: 'evening',\r\n    night: 'night'\r\n  },\r\n  wide: {\r\n    am: 'a.m.',\r\n    pm: 'p.m.',\r\n    midnight: 'midnight',\r\n    noon: 'noon',\r\n    morning: 'morning',\r\n    afternoon: 'afternoon',\r\n    evening: 'evening',\r\n    night: 'night'\r\n  }\r\n};\r\nvar formattingDayPeriodValues = {\r\n  narrow: {\r\n    am: 'a',\r\n    pm: 'p',\r\n    midnight: 'mi',\r\n    noon: 'n',\r\n    morning: 'in the morning',\r\n    afternoon: 'in the afternoon',\r\n    evening: 'in the evening',\r\n    night: 'at night'\r\n  },\r\n  abbreviated: {\r\n    am: 'AM',\r\n    pm: 'PM',\r\n    midnight: 'midnight',\r\n    noon: 'noon',\r\n    morning: 'in the morning',\r\n    afternoon: 'in the afternoon',\r\n    evening: 'in the evening',\r\n    night: 'at night'\r\n  },\r\n  wide: {\r\n    am: 'a.m.',\r\n    pm: 'p.m.',\r\n    midnight: 'midnight',\r\n    noon: 'noon',\r\n    morning: 'in the morning',\r\n    afternoon: 'in the afternoon',\r\n    evening: 'in the evening',\r\n    night: 'at night'\r\n  }\r\n};\r\nvar ordinalNumber = function ordinalNumber(dirtyNumber, _options) {\r\n  var number = Number(dirtyNumber);\r\n\r\n  // If ordinal numbers depend on context, for example,\r\n  // if they are different for different grammatical genders,\r\n  // use `options.unit`.\r\n  //\r\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\r\n  // 'day', 'hour', 'minute', 'second'.\r\n\r\n  var rem100 = number % 100;\r\n  if (rem100 > 20 || rem100 < 10) {\r\n    switch (rem100 % 10) {\r\n      case 1:\r\n        return number + 'st';\r\n      case 2:\r\n        return number + 'nd';\r\n      case 3:\r\n        return number + 'rd';\r\n    }\r\n  }\r\n  return number + 'th';\r\n};\r\nvar localize = {\r\n  ordinalNumber: ordinalNumber,\r\n  era: buildLocalizeFn({\r\n    values: eraValues,\r\n    defaultWidth: 'wide'\r\n  }),\r\n  quarter: buildLocalizeFn({\r\n    values: quarterValues,\r\n    defaultWidth: 'wide',\r\n    argumentCallback: function argumentCallback(quarter) {\r\n      return quarter - 1;\r\n    }\r\n  }),\r\n  month: buildLocalizeFn({\r\n    values: monthValues,\r\n    defaultWidth: 'wide'\r\n  }),\r\n  day: buildLocalizeFn({\r\n    values: dayValues,\r\n    defaultWidth: 'wide'\r\n  }),\r\n  dayPeriod: buildLocalizeFn({\r\n    values: dayPeriodValues,\r\n    defaultWidth: 'wide',\r\n    formattingValues: formattingDayPeriodValues,\r\n    defaultFormattingWidth: 'wide'\r\n  })\r\n};\r\nexport default localize;", "export default function buildMatchFn(args) {\r\n  return function (string) {\r\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n    var width = options.width;\r\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\r\n    var matchResult = string.match(matchPattern);\r\n    if (!matchResult) {\r\n      return null;\r\n    }\r\n    var matchedString = matchResult[0];\r\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\r\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\r\n      return pattern.test(matchedString);\r\n    }) : findKey(parsePatterns, function (pattern) {\r\n      return pattern.test(matchedString);\r\n    });\r\n    var value;\r\n    value = args.valueCallback ? args.valueCallback(key) : key;\r\n    value = options.valueCallback ? options.valueCallback(value) : value;\r\n    var rest = string.slice(matchedString.length);\r\n    return {\r\n      value: value,\r\n      rest: rest\r\n    };\r\n  };\r\n}\r\nfunction findKey(object, predicate) {\r\n  for (var key in object) {\r\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\r\n      return key;\r\n    }\r\n  }\r\n  return undefined;\r\n}\r\nfunction findIndex(array, predicate) {\r\n  for (var key = 0; key < array.length; key++) {\r\n    if (predicate(array[key])) {\r\n      return key;\r\n    }\r\n  }\r\n  return undefined;\r\n}", "export default function buildMatchPatternFn(args) {\r\n  return function (string) {\r\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n    var matchResult = string.match(args.matchPattern);\r\n    if (!matchResult) return null;\r\n    var matchedString = matchResult[0];\r\n    var parseResult = string.match(args.parsePattern);\r\n    if (!parseResult) return null;\r\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\r\n    value = options.valueCallback ? options.valueCallback(value) : value;\r\n    var rest = string.slice(matchedString.length);\r\n    return {\r\n      value: value,\r\n      rest: rest\r\n    };\r\n  };\r\n}", "import buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\r\nimport buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\r\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\r\nvar parseOrdinalNumberPattern = /\\d+/i;\r\nvar matchEraPatterns = {\r\n  narrow: /^(b|a)/i,\r\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\r\n  wide: /^(before christ|before common era|anno domini|common era)/i\r\n};\r\nvar parseEraPatterns = {\r\n  any: [/^b/i, /^(a|c)/i]\r\n};\r\nvar matchQuarterPatterns = {\r\n  narrow: /^[1234]/i,\r\n  abbreviated: /^q[1234]/i,\r\n  wide: /^[1234](th|st|nd|rd)? quarter/i\r\n};\r\nvar parseQuarterPatterns = {\r\n  any: [/1/i, /2/i, /3/i, /4/i]\r\n};\r\nvar matchMonthPatterns = {\r\n  narrow: /^[jfmasond]/i,\r\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\r\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\r\n};\r\nvar parseMonthPatterns = {\r\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\r\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\r\n};\r\nvar matchDayPatterns = {\r\n  narrow: /^[smtwf]/i,\r\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\r\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\r\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\r\n};\r\nvar parseDayPatterns = {\r\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\r\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\r\n};\r\nvar matchDayPeriodPatterns = {\r\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\r\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\r\n};\r\nvar parseDayPeriodPatterns = {\r\n  any: {\r\n    am: /^a/i,\r\n    pm: /^p/i,\r\n    midnight: /^mi/i,\r\n    noon: /^no/i,\r\n    morning: /morning/i,\r\n    afternoon: /afternoon/i,\r\n    evening: /evening/i,\r\n    night: /night/i\r\n  }\r\n};\r\nvar match = {\r\n  ordinalNumber: buildMatchPatternFn({\r\n    matchPattern: matchOrdinalNumberPattern,\r\n    parsePattern: parseOrdinalNumberPattern,\r\n    valueCallback: function valueCallback(value) {\r\n      return parseInt(value, 10);\r\n    }\r\n  }),\r\n  era: buildMatchFn({\r\n    matchPatterns: matchEraPatterns,\r\n    defaultMatchWidth: 'wide',\r\n    parsePatterns: parseEraPatterns,\r\n    defaultParseWidth: 'any'\r\n  }),\r\n  quarter: buildMatchFn({\r\n    matchPatterns: matchQuarterPatterns,\r\n    defaultMatchWidth: 'wide',\r\n    parsePatterns: parseQuarterPatterns,\r\n    defaultParseWidth: 'any',\r\n    valueCallback: function valueCallback(index) {\r\n      return index + 1;\r\n    }\r\n  }),\r\n  month: buildMatchFn({\r\n    matchPatterns: matchMonthPatterns,\r\n    defaultMatchWidth: 'wide',\r\n    parsePatterns: parseMonthPatterns,\r\n    defaultParseWidth: 'any'\r\n  }),\r\n  day: buildMatchFn({\r\n    matchPatterns: matchDayPatterns,\r\n    defaultMatchWidth: 'wide',\r\n    parsePatterns: parseDayPatterns,\r\n    defaultParseWidth: 'any'\r\n  }),\r\n  dayPeriod: buildMatchFn({\r\n    matchPatterns: matchDayPeriodPatterns,\r\n    defaultMatchWidth: 'any',\r\n    parsePatterns: parseDayPeriodPatterns,\r\n    defaultParseWidth: 'any'\r\n  })\r\n};\r\nexport default match;", "import formatDistance from \"./_lib/formatDistance/index.js\";\r\nimport formatLong from \"./_lib/formatLong/index.js\";\r\nimport formatRelative from \"./_lib/formatRelative/index.js\";\r\nimport localize from \"./_lib/localize/index.js\";\r\nimport match from \"./_lib/match/index.js\";\r\n/**\r\n * @type {Locale}\r\n * @category Locales\r\n * @summary English locale (United States).\r\n * @language English\r\n * @iso-639-2 eng\r\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\r\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\r\n */\r\nvar locale = {\r\n  code: 'en-US',\r\n  formatDistance: formatDistance,\r\n  formatLong: formatLong,\r\n  formatRelative: formatRelative,\r\n  localize: localize,\r\n  match: match,\r\n  options: {\r\n    weekStartsOn: 0 /* Sunday */,\r\n    firstWeekContainsDate: 1\r\n  }\r\n};\r\nexport default locale;", "import defaultLocale from \"../../locale/en-US/index.js\";\r\nexport default defaultLocale;", "export default function assign(target, object) {\r\n  if (target == null) {\r\n    throw new TypeError('assign requires that input parameter not be null or undefined');\r\n  }\r\n  for (var property in object) {\r\n    if (Object.prototype.hasOwnProperty.call(object, property)) {\r\n      ;\r\n      target[property] = object[property];\r\n    }\r\n  }\r\n  return target;\r\n}", "import { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\r\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\r\nimport compareAsc from \"../compareAsc/index.js\";\r\nimport toDate from \"../toDate/index.js\";\r\nimport cloneObject from \"../_lib/cloneObject/index.js\";\r\nimport assign from \"../_lib/assign/index.js\";\r\nimport defaultLocale from \"../_lib/defaultLocale/index.js\";\r\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\r\nvar MILLISECONDS_IN_MINUTE = 1000 * 60;\r\nvar MINUTES_IN_DAY = 60 * 24;\r\nvar MINUTES_IN_MONTH = MINUTES_IN_DAY * 30;\r\nvar MINUTES_IN_YEAR = MINUTES_IN_DAY * 365;\r\n\r\n/**\r\n * @name formatDistanceStrict\r\n * @category Common Helpers\r\n * @summary Return the distance between the given dates in words.\r\n *\r\n * @description\r\n * Return the distance between the given dates in words, using strict units.\r\n * This is like `formatDistance`, but does not use helpers like 'almost', 'over',\r\n * 'less than' and the like.\r\n *\r\n * | Distance between dates | Result              |\r\n * |------------------------|---------------------|\r\n * | 0 ... 59 secs          | [0..59] seconds     |\r\n * | 1 ... 59 mins          | [1..59] minutes     |\r\n * | 1 ... 23 hrs           | [1..23] hours       |\r\n * | 1 ... 29 days          | [1..29] days        |\r\n * | 1 ... 11 months        | [1..11] months      |\r\n * | 1 ... N years          | [1..N]  years       |\r\n *\r\n * @param {Date|Number} date - the date\r\n * @param {Date|Number} baseDate - the date to compare with\r\n * @param {Object} [options] - an object with options.\r\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\r\n * @param {'second'|'minute'|'hour'|'day'|'month'|'year'} [options.unit] - if specified, will force a unit\r\n * @param {'floor'|'ceil'|'round'} [options.roundingMethod='round'] - which way to round partial units\r\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\r\n * @returns {String} the distance in words\r\n * @throws {TypeError} 2 arguments required\r\n * @throws {RangeError} `date` must not be Invalid Date\r\n * @throws {RangeError} `baseDate` must not be Invalid Date\r\n * @throws {RangeError} `options.roundingMethod` must be 'floor', 'ceil' or 'round'\r\n * @throws {RangeError} `options.unit` must be 'second', 'minute', 'hour', 'day', 'month' or 'year'\r\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\r\n *\r\n * @example\r\n * // What is the distance between 2 July 2014 and 1 January 2015?\r\n * const result = formatDistanceStrict(new Date(2014, 6, 2), new Date(2015, 0, 2))\r\n * //=> '6 months'\r\n *\r\n * @example\r\n * // What is the distance between 1 January 2015 00:00:15\r\n * // and 1 January 2015 00:00:00?\r\n * const result = formatDistanceStrict(\r\n *   new Date(2015, 0, 1, 0, 0, 15),\r\n *   new Date(2015, 0, 1, 0, 0, 0)\r\n * )\r\n * //=> '15 seconds'\r\n *\r\n * @example\r\n * // What is the distance from 1 January 2016\r\n * // to 1 January 2015, with a suffix?\r\n * const result = formatDistanceStrict(new Date(2015, 0, 1), new Date(2016, 0, 1), {\r\n *   addSuffix: true\r\n * })\r\n * //=> '1 year ago'\r\n *\r\n * @example\r\n * // What is the distance from 1 January 2016\r\n * // to 1 January 2015, in minutes?\r\n * const result = formatDistanceStrict(new Date(2016, 0, 1), new Date(2015, 0, 1), {\r\n *   unit: 'minute'\r\n * })\r\n * //=> '525600 minutes'\r\n *\r\n * @example\r\n * // What is the distance from 1 January 2015\r\n * // to 28 January 2015, in months, rounded up?\r\n * const result = formatDistanceStrict(new Date(2015, 0, 28), new Date(2015, 0, 1), {\r\n *   unit: 'month',\r\n *   roundingMethod: 'ceil'\r\n * })\r\n * //=> '1 month'\r\n *\r\n * @example\r\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\r\n * import { eoLocale } from 'date-fns/locale/eo'\r\n * const result = formatDistanceStrict(new Date(2016, 7, 1), new Date(2015, 0, 1), {\r\n *   locale: eoLocale\r\n * })\r\n * //=> '1 jaro'\r\n */\r\n\r\nexport default function formatDistanceStrict(dirtyDate, dirtyBaseDate, options) {\r\n  var _ref, _options$locale, _options$roundingMeth;\r\n  requiredArgs(2, arguments);\r\n  var defaultOptions = getDefaultOptions();\r\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\r\n  if (!locale.formatDistance) {\r\n    throw new RangeError('locale must contain localize.formatDistance property');\r\n  }\r\n  var comparison = compareAsc(dirtyDate, dirtyBaseDate);\r\n  if (isNaN(comparison)) {\r\n    throw new RangeError('Invalid time value');\r\n  }\r\n  var localizeOptions = assign(cloneObject(options), {\r\n    addSuffix: Boolean(options === null || options === void 0 ? void 0 : options.addSuffix),\r\n    comparison: comparison\r\n  });\r\n  var dateLeft;\r\n  var dateRight;\r\n  if (comparison > 0) {\r\n    dateLeft = toDate(dirtyBaseDate);\r\n    dateRight = toDate(dirtyDate);\r\n  } else {\r\n    dateLeft = toDate(dirtyDate);\r\n    dateRight = toDate(dirtyBaseDate);\r\n  }\r\n  var roundingMethod = String((_options$roundingMeth = options === null || options === void 0 ? void 0 : options.roundingMethod) !== null && _options$roundingMeth !== void 0 ? _options$roundingMeth : 'round');\r\n  var roundingMethodFn;\r\n  if (roundingMethod === 'floor') {\r\n    roundingMethodFn = Math.floor;\r\n  } else if (roundingMethod === 'ceil') {\r\n    roundingMethodFn = Math.ceil;\r\n  } else if (roundingMethod === 'round') {\r\n    roundingMethodFn = Math.round;\r\n  } else {\r\n    throw new RangeError(\"roundingMethod must be 'floor', 'ceil' or 'round'\");\r\n  }\r\n  var milliseconds = dateRight.getTime() - dateLeft.getTime();\r\n  var minutes = milliseconds / MILLISECONDS_IN_MINUTE;\r\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(dateRight) - getTimezoneOffsetInMilliseconds(dateLeft);\r\n\r\n  // Use DST-normalized difference in minutes for years, months and days;\r\n  // use regular difference in minutes for hours, minutes and seconds.\r\n  var dstNormalizedMinutes = (milliseconds - timezoneOffset) / MILLISECONDS_IN_MINUTE;\r\n  var defaultUnit = options === null || options === void 0 ? void 0 : options.unit;\r\n  var unit;\r\n  if (!defaultUnit) {\r\n    if (minutes < 1) {\r\n      unit = 'second';\r\n    } else if (minutes < 60) {\r\n      unit = 'minute';\r\n    } else if (minutes < MINUTES_IN_DAY) {\r\n      unit = 'hour';\r\n    } else if (dstNormalizedMinutes < MINUTES_IN_MONTH) {\r\n      unit = 'day';\r\n    } else if (dstNormalizedMinutes < MINUTES_IN_YEAR) {\r\n      unit = 'month';\r\n    } else {\r\n      unit = 'year';\r\n    }\r\n  } else {\r\n    unit = String(defaultUnit);\r\n  }\r\n\r\n  // 0 up to 60 seconds\r\n  if (unit === 'second') {\r\n    var seconds = roundingMethodFn(milliseconds / 1000);\r\n    return locale.formatDistance('xSeconds', seconds, localizeOptions);\r\n\r\n    // 1 up to 60 mins\r\n  } else if (unit === 'minute') {\r\n    var roundedMinutes = roundingMethodFn(minutes);\r\n    return locale.formatDistance('xMinutes', roundedMinutes, localizeOptions);\r\n\r\n    // 1 up to 24 hours\r\n  } else if (unit === 'hour') {\r\n    var hours = roundingMethodFn(minutes / 60);\r\n    return locale.formatDistance('xHours', hours, localizeOptions);\r\n\r\n    // 1 up to 30 days\r\n  } else if (unit === 'day') {\r\n    var days = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_DAY);\r\n    return locale.formatDistance('xDays', days, localizeOptions);\r\n\r\n    // 1 up to 12 months\r\n  } else if (unit === 'month') {\r\n    var months = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_MONTH);\r\n    return months === 12 && defaultUnit !== 'month' ? locale.formatDistance('xYears', 1, localizeOptions) : locale.formatDistance('xMonths', months, localizeOptions);\r\n\r\n    // 1 year up to max Date\r\n  } else if (unit === 'year') {\r\n    var years = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_YEAR);\r\n    return locale.formatDistance('xYears', years, localizeOptions);\r\n  }\r\n  throw new RangeError(\"unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'\");\r\n}", "import toDate from \"../toDate/index.js\";\r\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\r\nvar MILLISECONDS_IN_DAY = 24 * 60 * 60 * 1000;\r\n\r\n/**\r\n * @name getOverlappingDaysInIntervals\r\n * @category Interval Helpers\r\n * @summary Get the number of days that overlap in two time intervals\r\n *\r\n * @description\r\n * Get the number of days that overlap in two time intervals\r\n *\r\n * @param {Interval} intervalLeft - the first interval to compare. See [Interval]{@link docs/Interval}\r\n * @param {Interval} intervalRight - the second interval to compare. See [Interval]{@link docs/Interval}\r\n * @returns {Number} the number of days that overlap in two time intervals\r\n * @throws {TypeError} 2 arguments required\r\n * @throws {RangeError} The start of an interval cannot be after its end\r\n * @throws {RangeError} Date in interval cannot be `Invalid Date`\r\n *\r\n * @example\r\n * // For overlapping time intervals adds 1 for each started overlapping day:\r\n * getOverlappingDaysInIntervals(\r\n *   { start: new Date(2014, 0, 10), end: new Date(2014, 0, 20) },\r\n *   { start: new Date(2014, 0, 17), end: new Date(2014, 0, 21) }\r\n * )\r\n * //=> 3\r\n *\r\n * @example\r\n * // For non-overlapping time intervals returns 0:\r\n * getOverlappingDaysInIntervals(\r\n *   { start: new Date(2014, 0, 10), end: new Date(2014, 0, 20) },\r\n *   { start: new Date(2014, 0, 21), end: new Date(2014, 0, 22) }\r\n * )\r\n * //=> 0\r\n */\r\n\r\nexport default function getOverlappingDaysInIntervals(dirtyIntervalLeft, dirtyIntervalRight) {\r\n  requiredArgs(2, arguments);\r\n  var intervalLeft = dirtyIntervalLeft || {};\r\n  var intervalRight = dirtyIntervalRight || {};\r\n  var leftStartTime = toDate(intervalLeft.start).getTime();\r\n  var leftEndTime = toDate(intervalLeft.end).getTime();\r\n  var rightStartTime = toDate(intervalRight.start).getTime();\r\n  var rightEndTime = toDate(intervalRight.end).getTime();\r\n\r\n  // Throw an exception if start date is after end date or if any date is `Invalid Date`\r\n  if (!(leftStartTime <= leftEndTime && rightStartTime <= rightEndTime)) {\r\n    throw new RangeError('Invalid interval');\r\n  }\r\n  var isOverlapping = leftStartTime < rightEndTime && rightStartTime < leftEndTime;\r\n  if (!isOverlapping) {\r\n    return 0;\r\n  }\r\n  var overlapStartDate = rightStartTime < leftStartTime ? leftStartTime : rightStartTime;\r\n  var overlapEndDate = rightEndTime > leftEndTime ? leftEndTime : rightEndTime;\r\n  var differenceInMs = overlapEndDate - overlapStartDate;\r\n  return Math.ceil(differenceInMs / MILLISECONDS_IN_DAY);\r\n}", "export default function _arrayLikeToArray(arr, len) {\r\n  if (len == null || len > arr.length) len = arr.length;\r\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\r\n  return arr2;\r\n}", "import arrayLikeToArray from \"./arrayLikeToArray.js\";\r\nexport default function _unsupportedIterableToArray(o, minLen) {\r\n  if (!o) return;\r\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\r\n  var n = Object.prototype.toString.call(o).slice(8, -1);\r\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\r\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\r\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\r\n}", "import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\r\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\r\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\r\n  if (!it) {\r\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\r\n      if (it) o = it;\r\n      var i = 0;\r\n      var F = function F() {};\r\n      return {\r\n        s: F,\r\n        n: function n() {\r\n          if (i >= o.length) return {\r\n            done: true\r\n          };\r\n          return {\r\n            done: false,\r\n            value: o[i++]\r\n          };\r\n        },\r\n        e: function e(_e) {\r\n          throw _e;\r\n        },\r\n        f: F\r\n      };\r\n    }\r\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n  }\r\n  var normalCompletion = true,\r\n    didErr = false,\r\n    err;\r\n  return {\r\n    s: function s() {\r\n      it = it.call(o);\r\n    },\r\n    n: function n() {\r\n      var step = it.next();\r\n      normalCompletion = step.done;\r\n      return step;\r\n    },\r\n    e: function e(_e2) {\r\n      didErr = true;\r\n      err = _e2;\r\n    },\r\n    f: function f() {\r\n      try {\r\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\r\n      } finally {\r\n        if (didErr) throw err;\r\n      }\r\n    }\r\n  };\r\n}", "import setPrototypeOf from \"./setPrototypeOf.js\";\r\nexport default function _inherits(subClass, superClass) {\r\n  if (typeof superClass !== \"function\" && superClass !== null) {\r\n    throw new TypeError(\"Super expression must either be null or a function\");\r\n  }\r\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n    constructor: {\r\n      value: subClass,\r\n      writable: true,\r\n      configurable: true\r\n    }\r\n  });\r\n  Object.defineProperty(subClass, \"prototype\", {\r\n    writable: false\r\n  });\r\n  if (superClass) setPrototypeOf(subClass, superClass);\r\n}", "export default function _getPrototypeOf(o) {\r\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\r\n    return o.__proto__ || Object.getPrototypeOf(o);\r\n  };\r\n  return _getPrototypeOf(o);\r\n}", "export default function _isNativeReflectConstruct() {\r\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\r\n  if (Reflect.construct.sham) return false;\r\n  if (typeof Proxy === \"function\") return true;\r\n  try {\r\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}", "import _typeof from \"./typeof.js\";\r\nimport assertThisInitialized from \"./assertThisInitialized.js\";\r\nexport default function _possibleConstructorReturn(self, call) {\r\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\r\n    return call;\r\n  } else if (call !== void 0) {\r\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\r\n  }\r\n  return assertThisInitialized(self);\r\n}", "import getPrototypeOf from \"./getPrototypeOf.js\";\r\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\r\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\r\nexport default function _createSuper(Derived) {\r\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\r\n  return function _createSuperInternal() {\r\n    var Super = getPrototypeOf(Derived),\r\n      result;\r\n    if (hasNativeReflectConstruct) {\r\n      var NewTarget = getPrototypeOf(this).constructor;\r\n      result = Reflect.construct(Super, arguments, NewTarget);\r\n    } else {\r\n      result = Super.apply(this, arguments);\r\n    }\r\n    return possibleConstructorReturn(this, result);\r\n  };\r\n}", "export default function _classCallCheck(instance, Constructor) {\r\n  if (!(instance instanceof Constructor)) {\r\n    throw new TypeError(\"Cannot call a class as a function\");\r\n  }\r\n}", "import _typeof from \"./typeof.js\";\r\nexport default function _toPrimitive(input, hint) {\r\n  if (_typeof(input) !== \"object\" || input === null) return input;\r\n  var prim = input[Symbol.toPrimitive];\r\n  if (prim !== undefined) {\r\n    var res = prim.call(input, hint || \"default\");\r\n    if (_typeof(res) !== \"object\") return res;\r\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\r\n  }\r\n  return (hint === \"string\" ? String : Number)(input);\r\n}", "import _typeof from \"./typeof.js\";\r\nimport toPrimitive from \"./toPrimitive.js\";\r\nexport default function _toPropertyKey(arg) {\r\n  var key = toPrimitive(arg, \"string\");\r\n  return _typeof(key) === \"symbol\" ? key : String(key);\r\n}", "import toPropertyKey from \"./toPropertyKey.js\";\r\nfunction _defineProperties(target, props) {\r\n  for (var i = 0; i < props.length; i++) {\r\n    var descriptor = props[i];\r\n    descriptor.enumerable = descriptor.enumerable || false;\r\n    descriptor.configurable = true;\r\n    if (\"value\" in descriptor) descriptor.writable = true;\r\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\r\n  }\r\n}\r\nexport default function _createClass(Constructor, protoProps, staticProps) {\r\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\r\n  if (staticProps) _defineProperties(Constructor, staticProps);\r\n  Object.defineProperty(Constructor, \"prototype\", {\r\n    writable: false\r\n  });\r\n  return Constructor;\r\n}", "import toPropertyKey from \"./toPropertyKey.js\";\r\nexport default function _defineProperty(obj, key, value) {\r\n  key = toPropertyKey(key);\r\n  if (key in obj) {\r\n    Object.defineProperty(obj, key, {\r\n      value: value,\r\n      enumerable: true,\r\n      configurable: true,\r\n      writable: true\r\n    });\r\n  } else {\r\n    obj[key] = value;\r\n  }\r\n  return obj;\r\n}", "import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nvar TIMEZONE_UNIT_PRIORITY = 10;\r\nexport var Setter = /*#__PURE__*/function () {\r\n  function Setter() {\r\n    _classCallCheck(this, Setter);\r\n    _defineProperty(this, \"priority\", void 0);\r\n    _defineProperty(this, \"subPriority\", 0);\r\n  }\r\n  _createClass(Setter, [{\r\n    key: \"validate\",\r\n    value: function validate(_utcDate, _options) {\r\n      return true;\r\n    }\r\n  }]);\r\n  return Setter;\r\n}();\r\nexport var ValueSetter = /*#__PURE__*/function (_Setter) {\r\n  _inherits(ValueSetter, _Setter);\r\n  var _super = _createSuper(ValueSetter);\r\n  function ValueSetter(value, validateValue, setValue, priority, subPriority) {\r\n    var _this;\r\n    _classCallCheck(this, ValueSetter);\r\n    _this = _super.call(this);\r\n    _this.value = value;\r\n    _this.validateValue = validateValue;\r\n    _this.setValue = setValue;\r\n    _this.priority = priority;\r\n    if (subPriority) {\r\n      _this.subPriority = subPriority;\r\n    }\r\n    return _this;\r\n  }\r\n  _createClass(ValueSetter, [{\r\n    key: \"validate\",\r\n    value: function validate(utcDate, options) {\r\n      return this.validateValue(utcDate, this.value, options);\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(utcDate, flags, options) {\r\n      return this.setValue(utcDate, flags, this.value, options);\r\n    }\r\n  }]);\r\n  return ValueSetter;\r\n}(Setter);\r\nexport var DateToSystemTimezoneSetter = /*#__PURE__*/function (_Setter2) {\r\n  _inherits(DateToSystemTimezoneSetter, _Setter2);\r\n  var _super2 = _createSuper(DateToSystemTimezoneSetter);\r\n  function DateToSystemTimezoneSetter() {\r\n    var _this2;\r\n    _classCallCheck(this, DateToSystemTimezoneSetter);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this2 = _super2.call.apply(_super2, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this2), \"priority\", TIMEZONE_UNIT_PRIORITY);\r\n    _defineProperty(_assertThisInitialized(_this2), \"subPriority\", -1);\r\n    return _this2;\r\n  }\r\n  _createClass(DateToSystemTimezoneSetter, [{\r\n    key: \"set\",\r\n    value: function set(date, flags) {\r\n      if (flags.timestampIsSet) {\r\n        return date;\r\n      }\r\n      var convertedDate = new Date(0);\r\n      convertedDate.setFullYear(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\r\n      convertedDate.setHours(date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());\r\n      return convertedDate;\r\n    }\r\n  }]);\r\n  return DateToSystemTimezoneSetter;\r\n}(Setter);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { ValueSetter } from \"./Setter.js\";\r\nexport var Parser = /*#__PURE__*/function () {\r\n  function Parser() {\r\n    _classCallCheck(this, Parser);\r\n    _defineProperty(this, \"incompatibleTokens\", void 0);\r\n    _defineProperty(this, \"priority\", void 0);\r\n    _defineProperty(this, \"subPriority\", void 0);\r\n  }\r\n  _createClass(Parser, [{\r\n    key: \"run\",\r\n    value: function run(dateString, token, match, options) {\r\n      var result = this.parse(dateString, token, match, options);\r\n      if (!result) {\r\n        return null;\r\n      }\r\n      return {\r\n        setter: new ValueSetter(result.value, this.validate, this.set, this.priority, this.subPriority),\r\n        rest: result.rest\r\n      };\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_utcDate, _value, _options) {\r\n      return true;\r\n    }\r\n  }]);\r\n  return Parser;\r\n}();", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nexport var EraParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(EraParser, _Parser);\r\n  var _super = _createSuper(EraParser);\r\n  function EraParser() {\r\n    var _this;\r\n    _classCallCheck(this, EraParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 140);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['R', 'u', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(EraParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        // AD, BC\r\n        case 'G':\r\n        case 'GG':\r\n        case 'GGG':\r\n          return match.era(dateString, {\r\n            width: 'abbreviated'\r\n          }) || match.era(dateString, {\r\n            width: 'narrow'\r\n          });\r\n        // A, B\r\n        case 'GGGGG':\r\n          return match.era(dateString, {\r\n            width: 'narrow'\r\n          });\r\n        // Anno Domini, Before Christ\r\n        case 'GGGG':\r\n        default:\r\n          return match.era(dateString, {\r\n            width: 'wide'\r\n          }) || match.era(dateString, {\r\n            width: 'abbreviated'\r\n          }) || match.era(dateString, {\r\n            width: 'narrow'\r\n          });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, flags, value) {\r\n      flags.era = value;\r\n      date.setUTCFullYear(value, 0, 1);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return EraParser;\r\n}(Parser);", "export var numericPatterns = {\r\n  month: /^(1[0-2]|0?\\d)/,\r\n  // 0 to 12\r\n  date: /^(3[0-1]|[0-2]?\\d)/,\r\n  // 0 to 31\r\n  dayOfYear: /^(36[0-6]|3[0-5]\\d|[0-2]?\\d?\\d)/,\r\n  // 0 to 366\r\n  week: /^(5[0-3]|[0-4]?\\d)/,\r\n  // 0 to 53\r\n  hour23h: /^(2[0-3]|[0-1]?\\d)/,\r\n  // 0 to 23\r\n  hour24h: /^(2[0-4]|[0-1]?\\d)/,\r\n  // 0 to 24\r\n  hour11h: /^(1[0-1]|0?\\d)/,\r\n  // 0 to 11\r\n  hour12h: /^(1[0-2]|0?\\d)/,\r\n  // 0 to 12\r\n  minute: /^[0-5]?\\d/,\r\n  // 0 to 59\r\n  second: /^[0-5]?\\d/,\r\n  // 0 to 59\r\n\r\n  singleDigit: /^\\d/,\r\n  // 0 to 9\r\n  twoDigits: /^\\d{1,2}/,\r\n  // 0 to 99\r\n  threeDigits: /^\\d{1,3}/,\r\n  // 0 to 999\r\n  fourDigits: /^\\d{1,4}/,\r\n  // 0 to 9999\r\n\r\n  anyDigitsSigned: /^-?\\d+/,\r\n  singleDigitSigned: /^-?\\d/,\r\n  // 0 to 9, -0 to -9\r\n  twoDigitsSigned: /^-?\\d{1,2}/,\r\n  // 0 to 99, -0 to -99\r\n  threeDigitsSigned: /^-?\\d{1,3}/,\r\n  // 0 to 999, -0 to -999\r\n  fourDigitsSigned: /^-?\\d{1,4}/ // 0 to 9999, -0 to -9999\r\n};\r\n\r\nexport var timezonePatterns = {\r\n  basicOptionalMinutes: /^([+-])(\\d{2})(\\d{2})?|Z/,\r\n  basic: /^([+-])(\\d{2})(\\d{2})|Z/,\r\n  basicOptionalSeconds: /^([+-])(\\d{2})(\\d{2})((\\d{2}))?|Z/,\r\n  extended: /^([+-])(\\d{2}):(\\d{2})|Z/,\r\n  extendedOptionalSeconds: /^([+-])(\\d{2}):(\\d{2})(:(\\d{2}))?|Z/\r\n};", "import { millisecondsInHour, millisecondsInMinute, millisecondsInSecond } from \"../../constants/index.js\";\r\nimport { numericPatterns } from \"./constants.js\";\r\nexport function mapValue(parseFnResult, mapFn) {\r\n  if (!parseFnResult) {\r\n    return parseFnResult;\r\n  }\r\n  return {\r\n    value: mapFn(parseFnResult.value),\r\n    rest: parseFnResult.rest\r\n  };\r\n}\r\nexport function parseNumericPattern(pattern, dateString) {\r\n  var matchResult = dateString.match(pattern);\r\n  if (!matchResult) {\r\n    return null;\r\n  }\r\n  return {\r\n    value: parseInt(matchResult[0], 10),\r\n    rest: dateString.slice(matchResult[0].length)\r\n  };\r\n}\r\nexport function parseTimezonePattern(pattern, dateString) {\r\n  var matchResult = dateString.match(pattern);\r\n  if (!matchResult) {\r\n    return null;\r\n  }\r\n\r\n  // Input is 'Z'\r\n  if (matchResult[0] === 'Z') {\r\n    return {\r\n      value: 0,\r\n      rest: dateString.slice(1)\r\n    };\r\n  }\r\n  var sign = matchResult[1] === '+' ? 1 : -1;\r\n  var hours = matchResult[2] ? parseInt(matchResult[2], 10) : 0;\r\n  var minutes = matchResult[3] ? parseInt(matchResult[3], 10) : 0;\r\n  var seconds = matchResult[5] ? parseInt(matchResult[5], 10) : 0;\r\n  return {\r\n    value: sign * (hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * millisecondsInSecond),\r\n    rest: dateString.slice(matchResult[0].length)\r\n  };\r\n}\r\nexport function parseAnyDigitsSigned(dateString) {\r\n  return parseNumericPattern(numericPatterns.anyDigitsSigned, dateString);\r\n}\r\nexport function parseNDigits(n, dateString) {\r\n  switch (n) {\r\n    case 1:\r\n      return parseNumericPattern(numericPatterns.singleDigit, dateString);\r\n    case 2:\r\n      return parseNumericPattern(numericPatterns.twoDigits, dateString);\r\n    case 3:\r\n      return parseNumericPattern(numericPatterns.threeDigits, dateString);\r\n    case 4:\r\n      return parseNumericPattern(numericPatterns.fourDigits, dateString);\r\n    default:\r\n      return parseNumericPattern(new RegExp('^\\\\d{1,' + n + '}'), dateString);\r\n  }\r\n}\r\nexport function parseNDigitsSigned(n, dateString) {\r\n  switch (n) {\r\n    case 1:\r\n      return parseNumericPattern(numericPatterns.singleDigitSigned, dateString);\r\n    case 2:\r\n      return parseNumericPattern(numericPatterns.twoDigitsSigned, dateString);\r\n    case 3:\r\n      return parseNumericPattern(numericPatterns.threeDigitsSigned, dateString);\r\n    case 4:\r\n      return parseNumericPattern(numericPatterns.fourDigitsSigned, dateString);\r\n    default:\r\n      return parseNumericPattern(new RegExp('^-?\\\\d{1,' + n + '}'), dateString);\r\n  }\r\n}\r\nexport function dayPeriodEnumToHours(dayPeriod) {\r\n  switch (dayPeriod) {\r\n    case 'morning':\r\n      return 4;\r\n    case 'evening':\r\n      return 17;\r\n    case 'pm':\r\n    case 'noon':\r\n    case 'afternoon':\r\n      return 12;\r\n    case 'am':\r\n    case 'midnight':\r\n    case 'night':\r\n    default:\r\n      return 0;\r\n  }\r\n}\r\nexport function normalizeTwoDigitYear(twoDigitYear, currentYear) {\r\n  var isCommonEra = currentYear > 0;\r\n  // Absolute number of the current year:\r\n  // 1 -> 1 AC\r\n  // 0 -> 1 BC\r\n  // -1 -> 2 BC\r\n  var absCurrentYear = isCommonEra ? currentYear : 1 - currentYear;\r\n  var result;\r\n  if (absCurrentYear <= 50) {\r\n    result = twoDigitYear || 100;\r\n  } else {\r\n    var rangeEnd = absCurrentYear + 50;\r\n    var rangeEndCentury = Math.floor(rangeEnd / 100) * 100;\r\n    var isPreviousCentury = twoDigitYear >= rangeEnd % 100;\r\n    result = twoDigitYear + rangeEndCentury - (isPreviousCentury ? 100 : 0);\r\n  }\r\n  return isCommonEra ? result : 1 - result;\r\n}\r\nexport function isLeapYearIndex(year) {\r\n  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;\r\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { mapValue, normalizeTwoDigitYear, parseNDigits } from \"../utils.js\";\r\n// From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_Patterns\r\n// | Year     |     y | yy |   yyy |  yyyy | yyyyy |\r\n// |----------|-------|----|-------|-------|-------|\r\n// | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\r\n// | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\r\n// | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\r\n// | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\r\n// | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\r\nexport var YearParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(YearParser, _Parser);\r\n  var _super = _createSuper(YearParser);\r\n  function YearParser() {\r\n    var _this;\r\n    _classCallCheck(this, YearParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'u', 'w', 'I', 'i', 'e', 'c', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(YearParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      var valueCallback = function valueCallback(year) {\r\n        return {\r\n          year: year,\r\n          isTwoDigitYear: token === 'yy'\r\n        };\r\n      };\r\n      switch (token) {\r\n        case 'y':\r\n          return mapValue(parseNDigits(4, dateString), valueCallback);\r\n        case 'yo':\r\n          return mapValue(match.ordinalNumber(dateString, {\r\n            unit: 'year'\r\n          }), valueCallback);\r\n        default:\r\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value.isTwoDigitYear || value.year > 0;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, flags, value) {\r\n      var currentYear = date.getUTCFullYear();\r\n      if (value.isTwoDigitYear) {\r\n        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);\r\n        date.setUTCFullYear(normalizedTwoDigitYear, 0, 1);\r\n        date.setUTCHours(0, 0, 0, 0);\r\n        return date;\r\n      }\r\n      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;\r\n      date.setUTCFullYear(year, 0, 1);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return YearParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { parseNDigits, normalizeTwoDigitYear, mapValue } from \"../utils.js\";\r\nimport getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\r\nimport startOfUTCWeek from \"../../../_lib/startOfUTCWeek/index.js\";\r\n// Local week-numbering year\r\nexport var LocalWeekYearParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(LocalWeekYearParser, _Parser);\r\n  var _super = _createSuper(LocalWeekYearParser);\r\n  function LocalWeekYearParser() {\r\n    var _this;\r\n    _classCallCheck(this, LocalWeekYearParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'Q', 'q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(LocalWeekYearParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      var valueCallback = function valueCallback(year) {\r\n        return {\r\n          year: year,\r\n          isTwoDigitYear: token === 'YY'\r\n        };\r\n      };\r\n      switch (token) {\r\n        case 'Y':\r\n          return mapValue(parseNDigits(4, dateString), valueCallback);\r\n        case 'Yo':\r\n          return mapValue(match.ordinalNumber(dateString, {\r\n            unit: 'year'\r\n          }), valueCallback);\r\n        default:\r\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value.isTwoDigitYear || value.year > 0;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, flags, value, options) {\r\n      var currentYear = getUTCWeekYear(date, options);\r\n      if (value.isTwoDigitYear) {\r\n        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);\r\n        date.setUTCFullYear(normalizedTwoDigitYear, 0, options.firstWeekContainsDate);\r\n        date.setUTCHours(0, 0, 0, 0);\r\n        return startOfUTCWeek(date, options);\r\n      }\r\n      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;\r\n      date.setUTCFullYear(year, 0, options.firstWeekContainsDate);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return startOfUTCWeek(date, options);\r\n    }\r\n  }]);\r\n  return LocalWeekYearParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { parseNDigitsSigned } from \"../utils.js\";\r\nimport startOfUTCISOWeek from \"../../../_lib/startOfUTCISOWeek/index.js\"; // ISO week-numbering year\r\nexport var ISOWeekYearParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(ISOWeekYearParser, _Parser);\r\n  var _super = _createSuper(ISOWeekYearParser);\r\n  function ISOWeekYearParser() {\r\n    var _this;\r\n    _classCallCheck(this, ISOWeekYearParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['G', 'y', 'Y', 'u', 'Q', 'q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(ISOWeekYearParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token) {\r\n      if (token === 'R') {\r\n        return parseNDigitsSigned(4, dateString);\r\n      }\r\n      return parseNDigitsSigned(token.length, dateString);\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(_date, _flags, value) {\r\n      var firstWeekOfYear = new Date(0);\r\n      firstWeekOfYear.setUTCFullYear(value, 0, 4);\r\n      firstWeekOfYear.setUTCHours(0, 0, 0, 0);\r\n      return startOfUTCISOWeek(firstWeekOfYear);\r\n    }\r\n  }]);\r\n  return ISOWeekYearParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { parseNDigitsSigned } from \"../utils.js\";\r\nexport var ExtendedYearParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(ExtendedYearParser, _Parser);\r\n  var _super = _createSuper(ExtendedYearParser);\r\n  function ExtendedYearParser() {\r\n    var _this;\r\n    _classCallCheck(this, ExtendedYearParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['G', 'y', 'Y', 'R', 'w', 'I', 'i', 'e', 'c', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(ExtendedYearParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token) {\r\n      if (token === 'u') {\r\n        return parseNDigitsSigned(4, dateString);\r\n      }\r\n      return parseNDigitsSigned(token.length, dateString);\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCFullYear(value, 0, 1);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return ExtendedYearParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { parseNDigits } from \"../utils.js\";\r\nexport var QuarterParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(QuarterParser, _Parser);\r\n  var _super = _createSuper(QuarterParser);\r\n  function QuarterParser() {\r\n    var _this;\r\n    _classCallCheck(this, QuarterParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 120);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(QuarterParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        // 1, 2, 3, 4\r\n        case 'Q':\r\n        case 'QQ':\r\n          // 01, 02, 03, 04\r\n          return parseNDigits(token.length, dateString);\r\n        // 1st, 2nd, 3rd, 4th\r\n        case 'Qo':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'quarter'\r\n          });\r\n        // Q1, Q2, Q3, Q4\r\n        case 'QQQ':\r\n          return match.quarter(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.quarter(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        // 1, 2, 3, 4 (narrow quarter; could be not numerical)\r\n        case 'QQQQQ':\r\n          return match.quarter(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        // 1st quarter, 2nd quarter, ...\r\n        case 'QQQQ':\r\n        default:\r\n          return match.quarter(dateString, {\r\n            width: 'wide',\r\n            context: 'formatting'\r\n          }) || match.quarter(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.quarter(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 1 && value <= 4;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCMonth((value - 1) * 3, 1);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return QuarterParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { parseNDigits } from \"../utils.js\";\r\nexport var StandAloneQuarterParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(StandAloneQuarterParser, _Parser);\r\n  var _super = _createSuper(StandAloneQuarterParser);\r\n  function StandAloneQuarterParser() {\r\n    var _this;\r\n    _classCallCheck(this, StandAloneQuarterParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 120);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'Q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(StandAloneQuarterParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        // 1, 2, 3, 4\r\n        case 'q':\r\n        case 'qq':\r\n          // 01, 02, 03, 04\r\n          return parseNDigits(token.length, dateString);\r\n        // 1st, 2nd, 3rd, 4th\r\n        case 'qo':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'quarter'\r\n          });\r\n        // Q1, Q2, Q3, Q4\r\n        case 'qqq':\r\n          return match.quarter(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'standalone'\r\n          }) || match.quarter(dateString, {\r\n            width: 'narrow',\r\n            context: 'standalone'\r\n          });\r\n        // 1, 2, 3, 4 (narrow quarter; could be not numerical)\r\n        case 'qqqqq':\r\n          return match.quarter(dateString, {\r\n            width: 'narrow',\r\n            context: 'standalone'\r\n          });\r\n        // 1st quarter, 2nd quarter, ...\r\n        case 'qqqq':\r\n        default:\r\n          return match.quarter(dateString, {\r\n            width: 'wide',\r\n            context: 'standalone'\r\n          }) || match.quarter(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'standalone'\r\n          }) || match.quarter(dateString, {\r\n            width: 'narrow',\r\n            context: 'standalone'\r\n          });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 1 && value <= 4;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCMonth((value - 1) * 3, 1);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return StandAloneQuarterParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { mapValue, parseNDigits, parseNumericPattern } from \"../utils.js\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nexport var MonthParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(MonthParser, _Parser);\r\n  var _super = _createSuper(MonthParser);\r\n  function MonthParser() {\r\n    var _this;\r\n    _classCallCheck(this, MonthParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'L', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']);\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 110);\r\n    return _this;\r\n  }\r\n  _createClass(MonthParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      var valueCallback = function valueCallback(value) {\r\n        return value - 1;\r\n      };\r\n      switch (token) {\r\n        // 1, 2, ..., 12\r\n        case 'M':\r\n          return mapValue(parseNumericPattern(numericPatterns.month, dateString), valueCallback);\r\n        // 01, 02, ..., 12\r\n        case 'MM':\r\n          return mapValue(parseNDigits(2, dateString), valueCallback);\r\n        // 1st, 2nd, ..., 12th\r\n        case 'Mo':\r\n          return mapValue(match.ordinalNumber(dateString, {\r\n            unit: 'month'\r\n          }), valueCallback);\r\n        // Jan, Feb, ..., Dec\r\n        case 'MMM':\r\n          return match.month(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.month(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        // J, F, ..., D\r\n        case 'MMMMM':\r\n          return match.month(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        // January, February, ..., December\r\n        case 'MMMM':\r\n        default:\r\n          return match.month(dateString, {\r\n            width: 'wide',\r\n            context: 'formatting'\r\n          }) || match.month(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.month(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 0 && value <= 11;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCMonth(value, 1);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return MonthParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nimport { parseNumericPattern, parseNDigits, mapValue } from \"../utils.js\";\r\nexport var StandAloneMonthParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(StandAloneMonthParser, _Parser);\r\n  var _super = _createSuper(StandAloneMonthParser);\r\n  function StandAloneMonthParser() {\r\n    var _this;\r\n    _classCallCheck(this, StandAloneMonthParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 110);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'M', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(StandAloneMonthParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      var valueCallback = function valueCallback(value) {\r\n        return value - 1;\r\n      };\r\n      switch (token) {\r\n        // 1, 2, ..., 12\r\n        case 'L':\r\n          return mapValue(parseNumericPattern(numericPatterns.month, dateString), valueCallback);\r\n        // 01, 02, ..., 12\r\n        case 'LL':\r\n          return mapValue(parseNDigits(2, dateString), valueCallback);\r\n        // 1st, 2nd, ..., 12th\r\n        case 'Lo':\r\n          return mapValue(match.ordinalNumber(dateString, {\r\n            unit: 'month'\r\n          }), valueCallback);\r\n        // Jan, Feb, ..., Dec\r\n        case 'LLL':\r\n          return match.month(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'standalone'\r\n          }) || match.month(dateString, {\r\n            width: 'narrow',\r\n            context: 'standalone'\r\n          });\r\n        // J, F, ..., D\r\n        case 'LLLLL':\r\n          return match.month(dateString, {\r\n            width: 'narrow',\r\n            context: 'standalone'\r\n          });\r\n        // January, February, ..., December\r\n        case 'LLLL':\r\n        default:\r\n          return match.month(dateString, {\r\n            width: 'wide',\r\n            context: 'standalone'\r\n          }) || match.month(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'standalone'\r\n          }) || match.month(dateString, {\r\n            width: 'narrow',\r\n            context: 'standalone'\r\n          });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 0 && value <= 11;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCMonth(value, 1);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return StandAloneMonthParser;\r\n}(Parser);", "import toInteger from \"../toInteger/index.js\";\r\nimport toDate from \"../../toDate/index.js\";\r\nimport getUTCWeek from \"../getUTCWeek/index.js\";\r\nimport requiredArgs from \"../requiredArgs/index.js\";\r\nexport default function setUTCWeek(dirtyDate, dirtyWeek, options) {\r\n  requiredArgs(2, arguments);\r\n  var date = toDate(dirtyDate);\r\n  var week = toInteger(dirtyWeek);\r\n  var diff = getUTCWeek(date, options) - week;\r\n  date.setUTCDate(date.getUTCDate() - diff * 7);\r\n  return date;\r\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\r\nimport setUTCWeek from \"../../../_lib/setUTCWeek/index.js\";\r\nimport startOfUTCWeek from \"../../../_lib/startOfUTCWeek/index.js\"; // Local week of year\r\nexport var LocalWeekParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(LocalWeekParser, _Parser);\r\n  var _super = _createSuper(LocalWeekParser);\r\n  function LocalWeekParser() {\r\n    var _this;\r\n    _classCallCheck(this, LocalWeekParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 100);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(LocalWeekParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 'w':\r\n          return parseNumericPattern(numericPatterns.week, dateString);\r\n        case 'wo':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'week'\r\n          });\r\n        default:\r\n          return parseNDigits(token.length, dateString);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 1 && value <= 53;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value, options) {\r\n      return startOfUTCWeek(setUTCWeek(date, value, options), options);\r\n    }\r\n  }]);\r\n  return LocalWeekParser;\r\n}(Parser);", "import toInteger from \"../toInteger/index.js\";\r\nimport toDate from \"../../toDate/index.js\";\r\nimport getUTCISOWeek from \"../getUTCISOWeek/index.js\";\r\nimport requiredArgs from \"../requiredArgs/index.js\";\r\nexport default function setUTCISOWeek(dirtyDate, dirtyISOWeek) {\r\n  requiredArgs(2, arguments);\r\n  var date = toDate(dirtyDate);\r\n  var isoWeek = toInteger(dirtyISOWeek);\r\n  var diff = getUTCISOWeek(date) - isoWeek;\r\n  date.setUTCDate(date.getUTCDate() - diff * 7);\r\n  return date;\r\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\r\nimport setUTCISOWeek from \"../../../_lib/setUTCISOWeek/index.js\";\r\nimport startOfUTCISOWeek from \"../../../_lib/startOfUTCISOWeek/index.js\"; // ISO week of year\r\nexport var ISOWeekParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(ISOWeekParser, _Parser);\r\n  var _super = _createSuper(ISOWeekParser);\r\n  function ISOWeekParser() {\r\n    var _this;\r\n    _classCallCheck(this, ISOWeekParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 100);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(ISOWeekParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 'I':\r\n          return parseNumericPattern(numericPatterns.week, dateString);\r\n        case 'Io':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'week'\r\n          });\r\n        default:\r\n          return parseNDigits(token.length, dateString);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 1 && value <= 53;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      return startOfUTCISOWeek(setUTCISOWeek(date, value));\r\n    }\r\n  }]);\r\n  return ISOWeekParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { isLeapYearIndex, parseNDigits, parseNumericPattern } from \"../utils.js\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nvar DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\nvar DAYS_IN_MONTH_LEAP_YEAR = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n\r\n// Day of the month\r\nexport var DateParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(DateParser, _Parser);\r\n  var _super = _createSuper(DateParser);\r\n  function DateParser() {\r\n    var _this;\r\n    _classCallCheck(this, DateParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\r\n    _defineProperty(_assertThisInitialized(_this), \"subPriority\", 1);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(DateParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 'd':\r\n          return parseNumericPattern(numericPatterns.date, dateString);\r\n        case 'do':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'date'\r\n          });\r\n        default:\r\n          return parseNDigits(token.length, dateString);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(date, value) {\r\n      var year = date.getUTCFullYear();\r\n      var isLeapYear = isLeapYearIndex(year);\r\n      var month = date.getUTCMonth();\r\n      if (isLeapYear) {\r\n        return value >= 1 && value <= DAYS_IN_MONTH_LEAP_YEAR[month];\r\n      } else {\r\n        return value >= 1 && value <= DAYS_IN_MONTH[month];\r\n      }\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCDate(value);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return DateParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nimport { parseNumericPattern, parseNDigits, isLeapYearIndex } from \"../utils.js\";\r\nexport var DayOfYearParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(DayOfYearParser, _Parser);\r\n  var _super = _createSuper(DayOfYearParser);\r\n  function DayOfYearParser() {\r\n    var _this;\r\n    _classCallCheck(this, DayOfYearParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\r\n    _defineProperty(_assertThisInitialized(_this), \"subpriority\", 1);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'M', 'L', 'w', 'I', 'd', 'E', 'i', 'e', 'c', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(DayOfYearParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 'D':\r\n        case 'DD':\r\n          return parseNumericPattern(numericPatterns.dayOfYear, dateString);\r\n        case 'Do':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'date'\r\n          });\r\n        default:\r\n          return parseNDigits(token.length, dateString);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(date, value) {\r\n      var year = date.getUTCFullYear();\r\n      var isLeapYear = isLeapYearIndex(year);\r\n      if (isLeapYear) {\r\n        return value >= 1 && value <= 366;\r\n      } else {\r\n        return value >= 1 && value <= 365;\r\n      }\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCMonth(0, value);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return DayOfYearParser;\r\n}(Parser);", "import toDate from \"../../toDate/index.js\";\r\nimport requiredArgs from \"../requiredArgs/index.js\";\r\nimport toInteger from \"../toInteger/index.js\";\r\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\r\nexport default function setUTCDay(dirtyDate, dirtyDay, options) {\r\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\r\n  requiredArgs(2, arguments);\r\n  var defaultOptions = getDefaultOptions();\r\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\r\n\r\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\r\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\r\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\r\n  }\r\n  var date = toDate(dirtyDate);\r\n  var day = toInteger(dirtyDay);\r\n  var currentDay = date.getUTCDay();\r\n  var remainder = day % 7;\r\n  var dayIndex = (remainder + 7) % 7;\r\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;\r\n  date.setUTCDate(date.getUTCDate() + diff);\r\n  return date;\r\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\"; // Day of week\r\nexport var DayParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(DayParser, _Parser);\r\n  var _super = _createSuper(DayParser);\r\n  function DayParser() {\r\n    var _this;\r\n    _classCallCheck(this, DayParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['D', 'i', 'e', 'c', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(DayParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        // Tue\r\n        case 'E':\r\n        case 'EE':\r\n        case 'EEE':\r\n          return match.day(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'short',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        // T\r\n        case 'EEEEE':\r\n          return match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        // Tu\r\n        case 'EEEEEE':\r\n          return match.day(dateString, {\r\n            width: 'short',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        // Tuesday\r\n        case 'EEEE':\r\n        default:\r\n          return match.day(dateString, {\r\n            width: 'wide',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'short',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 0 && value <= 6;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value, options) {\r\n      date = setUTCDay(date, value, options);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return DayParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { mapValue, parseNDigits } from \"../utils.js\";\r\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\"; // Local day of week\r\nexport var LocalDayParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(LocalDayParser, _Parser);\r\n  var _super = _createSuper(LocalDayParser);\r\n  function LocalDayParser() {\r\n    var _this;\r\n    _classCallCheck(this, LocalDayParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'c', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(LocalDayParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match, options) {\r\n      var valueCallback = function valueCallback(value) {\r\n        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;\r\n        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;\r\n      };\r\n      switch (token) {\r\n        // 3\r\n        case 'e':\r\n        case 'ee':\r\n          // 03\r\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\r\n        // 3rd\r\n        case 'eo':\r\n          return mapValue(match.ordinalNumber(dateString, {\r\n            unit: 'day'\r\n          }), valueCallback);\r\n        // Tue\r\n        case 'eee':\r\n          return match.day(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'short',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        // T\r\n        case 'eeeee':\r\n          return match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        // Tu\r\n        case 'eeeeee':\r\n          return match.day(dateString, {\r\n            width: 'short',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        // Tuesday\r\n        case 'eeee':\r\n        default:\r\n          return match.day(dateString, {\r\n            width: 'wide',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'short',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 0 && value <= 6;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value, options) {\r\n      date = setUTCDay(date, value, options);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return LocalDayParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { mapValue, parseNDigits } from \"../utils.js\";\r\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\"; // Stand-alone local day of week\r\nexport var StandAloneLocalDayParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(StandAloneLocalDayParser, _Parser);\r\n  var _super = _createSuper(StandAloneLocalDayParser);\r\n  function StandAloneLocalDayParser() {\r\n    var _this;\r\n    _classCallCheck(this, StandAloneLocalDayParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'e', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(StandAloneLocalDayParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match, options) {\r\n      var valueCallback = function valueCallback(value) {\r\n        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;\r\n        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;\r\n      };\r\n      switch (token) {\r\n        // 3\r\n        case 'c':\r\n        case 'cc':\r\n          // 03\r\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\r\n        // 3rd\r\n        case 'co':\r\n          return mapValue(match.ordinalNumber(dateString, {\r\n            unit: 'day'\r\n          }), valueCallback);\r\n        // Tue\r\n        case 'ccc':\r\n          return match.day(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'standalone'\r\n          }) || match.day(dateString, {\r\n            width: 'short',\r\n            context: 'standalone'\r\n          }) || match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'standalone'\r\n          });\r\n        // T\r\n        case 'ccccc':\r\n          return match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'standalone'\r\n          });\r\n        // Tu\r\n        case 'cccccc':\r\n          return match.day(dateString, {\r\n            width: 'short',\r\n            context: 'standalone'\r\n          }) || match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'standalone'\r\n          });\r\n        // Tuesday\r\n        case 'cccc':\r\n        default:\r\n          return match.day(dateString, {\r\n            width: 'wide',\r\n            context: 'standalone'\r\n          }) || match.day(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'standalone'\r\n          }) || match.day(dateString, {\r\n            width: 'short',\r\n            context: 'standalone'\r\n          }) || match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'standalone'\r\n          });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 0 && value <= 6;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value, options) {\r\n      date = setUTCDay(date, value, options);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return StandAloneLocalDayParser;\r\n}(Parser);", "import toDate from \"../../toDate/index.js\";\r\nimport requiredArgs from \"../requiredArgs/index.js\";\r\nimport toInteger from \"../toInteger/index.js\";\r\nexport default function setUTCISODay(dirtyDate, dirtyDay) {\r\n  requiredArgs(2, arguments);\r\n  var day = toInteger(dirtyDay);\r\n  if (day % 7 === 0) {\r\n    day = day - 7;\r\n  }\r\n  var weekStartsOn = 1;\r\n  var date = toDate(dirtyDate);\r\n  var currentDay = date.getUTCDay();\r\n  var remainder = day % 7;\r\n  var dayIndex = (remainder + 7) % 7;\r\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;\r\n  date.setUTCDate(date.getUTCDate() + diff);\r\n  return date;\r\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { mapValue, parseNDigits } from \"../utils.js\";\r\nimport setUTCISODay from \"../../../_lib/setUTCISODay/index.js\"; // ISO day of week\r\nexport var ISODayParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(ISODayParser, _Parser);\r\n  var _super = _createSuper(ISODayParser);\r\n  function ISODayParser() {\r\n    var _this;\r\n    _classCallCheck(this, ISODayParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'E', 'e', 'c', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(ISODayParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      var valueCallback = function valueCallback(value) {\r\n        if (value === 0) {\r\n          return 7;\r\n        }\r\n        return value;\r\n      };\r\n      switch (token) {\r\n        // 2\r\n        case 'i':\r\n        case 'ii':\r\n          // 02\r\n          return parseNDigits(token.length, dateString);\r\n        // 2nd\r\n        case 'io':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'day'\r\n          });\r\n        // Tue\r\n        case 'iii':\r\n          return mapValue(match.day(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'short',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          }), valueCallback);\r\n        // T\r\n        case 'iiiii':\r\n          return mapValue(match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          }), valueCallback);\r\n        // Tu\r\n        case 'iiiiii':\r\n          return mapValue(match.day(dateString, {\r\n            width: 'short',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          }), valueCallback);\r\n        // Tuesday\r\n        case 'iiii':\r\n        default:\r\n          return mapValue(match.day(dateString, {\r\n            width: 'wide',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'short',\r\n            context: 'formatting'\r\n          }) || match.day(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          }), valueCallback);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 1 && value <= 7;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date = setUTCISODay(date, value);\r\n      date.setUTCHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return ISODayParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { dayPeriodEnumToHours } from \"../utils.js\";\r\nexport var AMPMParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(AMPMParser, _Parser);\r\n  var _super = _createSuper(AMPMParser);\r\n  function AMPMParser() {\r\n    var _this;\r\n    _classCallCheck(this, AMPMParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 80);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['b', 'B', 'H', 'k', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(AMPMParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 'a':\r\n        case 'aa':\r\n        case 'aaa':\r\n          return match.dayPeriod(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.dayPeriod(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        case 'aaaaa':\r\n          return match.dayPeriod(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        case 'aaaa':\r\n        default:\r\n          return match.dayPeriod(dateString, {\r\n            width: 'wide',\r\n            context: 'formatting'\r\n          }) || match.dayPeriod(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.dayPeriod(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return AMPMParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { dayPeriodEnumToHours } from \"../utils.js\";\r\nexport var AMPMMidnightParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(AMPMMidnightParser, _Parser);\r\n  var _super = _createSuper(AMPMMidnightParser);\r\n  function AMPMMidnightParser() {\r\n    var _this;\r\n    _classCallCheck(this, AMPMMidnightParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 80);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'B', 'H', 'k', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(AMPMMidnightParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 'b':\r\n        case 'bb':\r\n        case 'bbb':\r\n          return match.dayPeriod(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.dayPeriod(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        case 'bbbbb':\r\n          return match.dayPeriod(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        case 'bbbb':\r\n        default:\r\n          return match.dayPeriod(dateString, {\r\n            width: 'wide',\r\n            context: 'formatting'\r\n          }) || match.dayPeriod(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.dayPeriod(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return AMPMMidnightParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { dayPeriodEnumToHours } from \"../utils.js\"; // in the morning, in the afternoon, in the evening, at night\r\nexport var DayPeriodParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(DayPeriodParser, _Parser);\r\n  var _super = _createSuper(DayPeriodParser);\r\n  function DayPeriodParser() {\r\n    var _this;\r\n    _classCallCheck(this, DayPeriodParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 80);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'b', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(DayPeriodParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 'B':\r\n        case 'BB':\r\n        case 'BBB':\r\n          return match.dayPeriod(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.dayPeriod(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        case 'BBBBB':\r\n          return match.dayPeriod(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n        case 'BBBB':\r\n        default:\r\n          return match.dayPeriod(dateString, {\r\n            width: 'wide',\r\n            context: 'formatting'\r\n          }) || match.dayPeriod(dateString, {\r\n            width: 'abbreviated',\r\n            context: 'formatting'\r\n          }) || match.dayPeriod(dateString, {\r\n            width: 'narrow',\r\n            context: 'formatting'\r\n          });\r\n      }\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return DayPeriodParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\r\nexport var Hour1to12Parser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(Hour1to12Parser, _Parser);\r\n  var _super = _createSuper(Hour1to12Parser);\r\n  function Hour1to12Parser() {\r\n    var _this;\r\n    _classCallCheck(this, Hour1to12Parser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['H', 'K', 'k', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(Hour1to12Parser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 'h':\r\n          return parseNumericPattern(numericPatterns.hour12h, dateString);\r\n        case 'ho':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'hour'\r\n          });\r\n        default:\r\n          return parseNDigits(token.length, dateString);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 1 && value <= 12;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      var isPM = date.getUTCHours() >= 12;\r\n      if (isPM && value < 12) {\r\n        date.setUTCHours(value + 12, 0, 0, 0);\r\n      } else if (!isPM && value === 12) {\r\n        date.setUTCHours(0, 0, 0, 0);\r\n      } else {\r\n        date.setUTCHours(value, 0, 0, 0);\r\n      }\r\n      return date;\r\n    }\r\n  }]);\r\n  return Hour1to12Parser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\r\nexport var Hour0to23Parser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(Hour0to23Parser, _Parser);\r\n  var _super = _createSuper(Hour0to23Parser);\r\n  function Hour0to23Parser() {\r\n    var _this;\r\n    _classCallCheck(this, Hour0to23Parser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'b', 'h', 'K', 'k', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(Hour0to23Parser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 'H':\r\n          return parseNumericPattern(numericPatterns.hour23h, dateString);\r\n        case 'Ho':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'hour'\r\n          });\r\n        default:\r\n          return parseNDigits(token.length, dateString);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 0 && value <= 23;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCHours(value, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return Hour0to23Parser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\r\nexport var Hour0To11Parser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(Hour0To11Parser, _Parser);\r\n  var _super = _createSuper(Hour0To11Parser);\r\n  function Hour0To11Parser() {\r\n    var _this;\r\n    _classCallCheck(this, Hour0To11Parser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['h', 'H', 'k', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(Hour0To11Parser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 'K':\r\n          return parseNumericPattern(numericPatterns.hour11h, dateString);\r\n        case 'Ko':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'hour'\r\n          });\r\n        default:\r\n          return parseNDigits(token.length, dateString);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 0 && value <= 11;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      var isPM = date.getUTCHours() >= 12;\r\n      if (isPM && value < 12) {\r\n        date.setUTCHours(value + 12, 0, 0, 0);\r\n      } else {\r\n        date.setUTCHours(value, 0, 0, 0);\r\n      }\r\n      return date;\r\n    }\r\n  }]);\r\n  return Hour0To11Parser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\r\nexport var Hour1To24Parser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(Hour1To24Parser, _Parser);\r\n  var _super = _createSuper(Hour1To24Parser);\r\n  function Hour1To24Parser() {\r\n    var _this;\r\n    _classCallCheck(this, Hour1To24Parser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'b', 'h', 'H', 'K', 't', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(Hour1To24Parser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 'k':\r\n          return parseNumericPattern(numericPatterns.hour24h, dateString);\r\n        case 'ko':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'hour'\r\n          });\r\n        default:\r\n          return parseNDigits(token.length, dateString);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 1 && value <= 24;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      var hours = value <= 24 ? value % 24 : value;\r\n      date.setUTCHours(hours, 0, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return Hour1To24Parser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\r\nexport var MinuteParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(MinuteParser, _Parser);\r\n  var _super = _createSuper(MinuteParser);\r\n  function MinuteParser() {\r\n    var _this;\r\n    _classCallCheck(this, MinuteParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 60);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(MinuteParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 'm':\r\n          return parseNumericPattern(numericPatterns.minute, dateString);\r\n        case 'mo':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'minute'\r\n          });\r\n        default:\r\n          return parseNDigits(token.length, dateString);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 0 && value <= 59;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCMinutes(value, 0, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return MinuteParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\r\nexport var SecondParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(SecondParser, _Parser);\r\n  var _super = _createSuper(SecondParser);\r\n  function SecondParser() {\r\n    var _this;\r\n    _classCallCheck(this, SecondParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 50);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(SecondParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token, match) {\r\n      switch (token) {\r\n        case 's':\r\n          return parseNumericPattern(numericPatterns.second, dateString);\r\n        case 'so':\r\n          return match.ordinalNumber(dateString, {\r\n            unit: 'second'\r\n          });\r\n        default:\r\n          return parseNDigits(token.length, dateString);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"validate\",\r\n    value: function validate(_date, value) {\r\n      return value >= 0 && value <= 59;\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCSeconds(value, 0);\r\n      return date;\r\n    }\r\n  }]);\r\n  return SecondParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { mapValue, parseNDigits } from \"../utils.js\";\r\nexport var FractionOfSecondParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(FractionOfSecondParser, _Parser);\r\n  var _super = _createSuper(FractionOfSecondParser);\r\n  function FractionOfSecondParser() {\r\n    var _this;\r\n    _classCallCheck(this, FractionOfSecondParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 30);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T']);\r\n    return _this;\r\n  }\r\n  _createClass(FractionOfSecondParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token) {\r\n      var valueCallback = function valueCallback(value) {\r\n        return Math.floor(value * Math.pow(10, -token.length + 3));\r\n      };\r\n      return mapValue(parseNDigits(token.length, dateString), valueCallback);\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, _flags, value) {\r\n      date.setUTCMilliseconds(value);\r\n      return date;\r\n    }\r\n  }]);\r\n  return FractionOfSecondParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { timezonePatterns } from \"../constants.js\";\r\nimport { parseTimezonePattern } from \"../utils.js\"; // Timezone (ISO-8601. +00:00 is `'Z'`)\r\nexport var ISOTimezoneWithZParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(ISOTimezoneWithZParser, _Parser);\r\n  var _super = _createSuper(ISOTimezoneWithZParser);\r\n  function ISOTimezoneWithZParser() {\r\n    var _this;\r\n    _classCallCheck(this, ISOTimezoneWithZParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 10);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T', 'x']);\r\n    return _this;\r\n  }\r\n  _createClass(ISOTimezoneWithZParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token) {\r\n      switch (token) {\r\n        case 'X':\r\n          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, dateString);\r\n        case 'XX':\r\n          return parseTimezonePattern(timezonePatterns.basic, dateString);\r\n        case 'XXXX':\r\n          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, dateString);\r\n        case 'XXXXX':\r\n          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, dateString);\r\n        case 'XXX':\r\n        default:\r\n          return parseTimezonePattern(timezonePatterns.extended, dateString);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, flags, value) {\r\n      if (flags.timestampIsSet) {\r\n        return date;\r\n      }\r\n      return new Date(date.getTime() - value);\r\n    }\r\n  }]);\r\n  return ISOTimezoneWithZParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { timezonePatterns } from \"../constants.js\";\r\nimport { parseTimezonePattern } from \"../utils.js\"; // Timezone (ISO-8601)\r\nexport var ISOTimezoneParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(ISOTimezoneParser, _Parser);\r\n  var _super = _createSuper(ISOTimezoneParser);\r\n  function ISOTimezoneParser() {\r\n    var _this;\r\n    _classCallCheck(this, ISOTimezoneParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 10);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T', 'X']);\r\n    return _this;\r\n  }\r\n  _createClass(ISOTimezoneParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString, token) {\r\n      switch (token) {\r\n        case 'x':\r\n          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, dateString);\r\n        case 'xx':\r\n          return parseTimezonePattern(timezonePatterns.basic, dateString);\r\n        case 'xxxx':\r\n          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, dateString);\r\n        case 'xxxxx':\r\n          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, dateString);\r\n        case 'xxx':\r\n        default:\r\n          return parseTimezonePattern(timezonePatterns.extended, dateString);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(date, flags, value) {\r\n      if (flags.timestampIsSet) {\r\n        return date;\r\n      }\r\n      return new Date(date.getTime() - value);\r\n    }\r\n  }]);\r\n  return ISOTimezoneParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { parseAnyDigitsSigned } from \"../utils.js\";\r\nexport var TimestampSecondsParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(TimestampSecondsParser, _Parser);\r\n  var _super = _createSuper(TimestampSecondsParser);\r\n  function TimestampSecondsParser() {\r\n    var _this;\r\n    _classCallCheck(this, TimestampSecondsParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 40);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", '*');\r\n    return _this;\r\n  }\r\n  _createClass(TimestampSecondsParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString) {\r\n      return parseAnyDigitsSigned(dateString);\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(_date, _flags, value) {\r\n      return [new Date(value * 1000), {\r\n        timestampIsSet: true\r\n      }];\r\n    }\r\n  }]);\r\n  return TimestampSecondsParser;\r\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\r\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\r\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\r\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\r\nimport { Parser } from \"../Parser.js\";\r\nimport { parseAnyDigitsSigned } from \"../utils.js\";\r\nexport var TimestampMillisecondsParser = /*#__PURE__*/function (_Parser) {\r\n  _inherits(TimestampMillisecondsParser, _Parser);\r\n  var _super = _createSuper(TimestampMillisecondsParser);\r\n  function TimestampMillisecondsParser() {\r\n    var _this;\r\n    _classCallCheck(this, TimestampMillisecondsParser);\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n    _this = _super.call.apply(_super, [this].concat(args));\r\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 20);\r\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", '*');\r\n    return _this;\r\n  }\r\n  _createClass(TimestampMillisecondsParser, [{\r\n    key: \"parse\",\r\n    value: function parse(dateString) {\r\n      return parseAnyDigitsSigned(dateString);\r\n    }\r\n  }, {\r\n    key: \"set\",\r\n    value: function set(_date, _flags, value) {\r\n      return [new Date(value), {\r\n        timestampIsSet: true\r\n      }];\r\n    }\r\n  }]);\r\n  return TimestampMillisecondsParser;\r\n}(Parser);", "import { EraParser } from \"./EraParser.js\";\r\nimport { YearParser } from \"./YearParser.js\";\r\nimport { LocalWeekYearParser } from \"./LocalWeekYearParser.js\";\r\nimport { ISOWeekYearParser } from \"./ISOWeekYearParser.js\";\r\nimport { ExtendedYearParser } from \"./ExtendedYearParser.js\";\r\nimport { QuarterParser } from \"./QuarterParser.js\";\r\nimport { StandAloneQuarterParser } from \"./StandAloneQuarterParser.js\";\r\nimport { MonthParser } from \"./MonthParser.js\";\r\nimport { StandAloneMonthParser } from \"./StandAloneMonthParser.js\";\r\nimport { LocalWeekParser } from \"./LocalWeekParser.js\";\r\nimport { ISOWeekParser } from \"./ISOWeekParser.js\";\r\nimport { DateParser } from \"./DateParser.js\";\r\nimport { DayOfYearParser } from \"./DayOfYearParser.js\";\r\nimport { DayParser } from \"./DayParser.js\";\r\nimport { LocalDayParser } from \"./LocalDayParser.js\";\r\nimport { StandAloneLocalDayParser } from \"./StandAloneLocalDayParser.js\";\r\nimport { ISODayParser } from \"./ISODayParser.js\";\r\nimport { AMPMParser } from \"./AMPMParser.js\";\r\nimport { AMPMMidnightParser } from \"./AMPMMidnightParser.js\";\r\nimport { DayPeriodParser } from \"./DayPeriodParser.js\";\r\nimport { Hour1to12Parser } from \"./Hour1to12Parser.js\";\r\nimport { Hour0to23Parser } from \"./Hour0to23Parser.js\";\r\nimport { Hour0To11Parser } from \"./Hour0To11Parser.js\";\r\nimport { Hour1To24Parser } from \"./Hour1To24Parser.js\";\r\nimport { MinuteParser } from \"./MinuteParser.js\";\r\nimport { SecondParser } from \"./SecondParser.js\";\r\nimport { FractionOfSecondParser } from \"./FractionOfSecondParser.js\";\r\nimport { ISOTimezoneWithZParser } from \"./ISOTimezoneWithZParser.js\";\r\nimport { ISOTimezoneParser } from \"./ISOTimezoneParser.js\";\r\nimport { TimestampSecondsParser } from \"./TimestampSecondsParser.js\";\r\nimport { TimestampMillisecondsParser } from \"./TimestampMillisecondsParser.js\";\r\n/*\r\n * |     | Unit                           |     | Unit                           |\r\n * |-----|--------------------------------|-----|--------------------------------|\r\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\r\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\r\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\r\n * |  d  | Day of month                   |  D  | Day of year                    |\r\n * |  e  | Local day of week              |  E  | Day of week                    |\r\n * |  f  |                                |  F* | Day of week in month           |\r\n * |  g* | Modified Julian day            |  G  | Era                            |\r\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\r\n * |  i! | ISO day of week                |  I! | ISO week of year               |\r\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\r\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\r\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\r\n * |  m  | Minute                         |  M  | Month                          |\r\n * |  n  |                                |  N  |                                |\r\n * |  o! | Ordinal number modifier        |  O* | Timezone (GMT)                 |\r\n * |  p  |                                |  P  |                                |\r\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\r\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\r\n * |  s  | Second                         |  S  | Fraction of second             |\r\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\r\n * |  u  | Extended year                  |  U* | Cyclic year                    |\r\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\r\n * |  w  | Local week of year             |  W* | Week of month                  |\r\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\r\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\r\n * |  z* | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\r\n *\r\n * Letters marked by * are not implemented but reserved by Unicode standard.\r\n *\r\n * Letters marked by ! are non-standard, but implemented by date-fns:\r\n * - `o` modifies the previous token to turn it into an ordinal (see `parse` docs)\r\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\r\n *   i.e. 7 for Sunday, 1 for Monday, etc.\r\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\r\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\r\n *   `R` is supposed to be used in conjunction with `I` and `i`\r\n *   for universal ISO week-numbering date, whereas\r\n *   `Y` is supposed to be used in conjunction with `w` and `e`\r\n *   for week-numbering date specific to the locale.\r\n */\r\nexport var parsers = {\r\n  G: new EraParser(),\r\n  y: new YearParser(),\r\n  Y: new LocalWeekYearParser(),\r\n  R: new ISOWeekYearParser(),\r\n  u: new ExtendedYearParser(),\r\n  Q: new QuarterParser(),\r\n  q: new StandAloneQuarterParser(),\r\n  M: new MonthParser(),\r\n  L: new StandAloneMonthParser(),\r\n  w: new LocalWeekParser(),\r\n  I: new ISOWeekParser(),\r\n  d: new DateParser(),\r\n  D: new DayOfYearParser(),\r\n  E: new DayParser(),\r\n  e: new LocalDayParser(),\r\n  c: new StandAloneLocalDayParser(),\r\n  i: new ISODayParser(),\r\n  a: new AMPMParser(),\r\n  b: new AMPMMidnightParser(),\r\n  B: new DayPeriodParser(),\r\n  h: new Hour1to12Parser(),\r\n  H: new Hour0to23Parser(),\r\n  K: new Hour0To11Parser(),\r\n  k: new Hour1To24Parser(),\r\n  m: new MinuteParser(),\r\n  s: new SecondParser(),\r\n  S: new FractionOfSecondParser(),\r\n  X: new ISOTimezoneWithZParser(),\r\n  x: new ISOTimezoneParser(),\r\n  t: new TimestampSecondsParser(),\r\n  T: new TimestampMillisecondsParser()\r\n};", "import _typeof from \"@babel/runtime/helpers/esm/typeof\";\r\nimport _createForOfIteratorHelper from \"@babel/runtime/helpers/esm/createForOfIteratorHelper\";\r\nimport defaultLocale from \"../_lib/defaultLocale/index.js\";\r\nimport subMilliseconds from \"../subMilliseconds/index.js\";\r\nimport toDate from \"../toDate/index.js\";\r\nimport assign from \"../_lib/assign/index.js\";\r\nimport longFormatters from \"../_lib/format/longFormatters/index.js\";\r\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\r\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from \"../_lib/protectedTokens/index.js\";\r\nimport toInteger from \"../_lib/toInteger/index.js\";\r\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\r\nimport { DateToSystemTimezoneSetter } from \"./_lib/Setter.js\";\r\nimport { parsers } from \"./_lib/parsers/index.js\";\r\nimport { getDefaultOptions } from \"../_lib/defaultOptions/index.js\"; // This RegExp consists of three parts separated by `|`:\r\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\r\n//   (one of the certain letters followed by `o`)\r\n// - (\\w)\\1* matches any sequences of the same letter\r\n// - '' matches two quote characters in a row\r\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\r\n//   except a single quote symbol, which ends the sequence.\r\n//   Two quote characters do not end the sequence.\r\n//   If there is no matching single quote\r\n//   then the sequence will continue until the end of the string.\r\n// - . matches any single character unmatched by previous parts of the RegExps\r\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\r\n\r\n// This RegExp catches symbols escaped by quotes, and also\r\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\r\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\r\nvar escapedStringRegExp = /^'([^]*?)'?$/;\r\nvar doubleQuoteRegExp = /''/g;\r\nvar notWhitespaceRegExp = /\\S/;\r\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\r\n\r\n/**\r\n * @name parse\r\n * @category Common Helpers\r\n * @summary Parse the date.\r\n *\r\n * @description\r\n * Return the date parsed from string using the given format string.\r\n *\r\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\r\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n *\r\n * The characters in the format string wrapped between two single quotes characters (') are escaped.\r\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\r\n *\r\n * Format of the format string is based on Unicode Technical Standard #35:\r\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\r\n * with a few additions (see note 5 below the table).\r\n *\r\n * Not all tokens are compatible. Combinations that don't make sense or could lead to bugs are prohibited\r\n * and will throw `RangeError`. For example usage of 24-hour format token with AM/PM token will throw an exception:\r\n *\r\n * ```javascript\r\n * parse('23 AM', 'HH a', new Date())\r\n * //=> RangeError: The format string mustn't contain `HH` and `a` at the same time\r\n * ```\r\n *\r\n * See the compatibility table: https://docs.google.com/spreadsheets/d/e/2PACX-1vQOPU3xUhplll6dyoMmVUXHKl_8CRDs6_ueLmex3SoqwhuolkuN3O05l4rqx5h1dKX8eb46Ul-CCSrq/pubhtml?gid=0&single=true\r\n *\r\n * Accepted format string patterns:\r\n * | Unit                            |Prior| Pattern | Result examples                   | Notes |\r\n * |---------------------------------|-----|---------|-----------------------------------|-------|\r\n * | Era                             | 140 | G..GGG  | AD, BC                            |       |\r\n * |                                 |     | GGGG    | Anno Domini, Before Christ        | 2     |\r\n * |                                 |     | GGGGG   | A, B                              |       |\r\n * | Calendar year                   | 130 | y       | 44, 1, 1900, 2017, 9999           | 4     |\r\n * |                                 |     | yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\r\n * |                                 |     | yy      | 44, 01, 00, 17                    | 4     |\r\n * |                                 |     | yyy     | 044, 001, 123, 999                | 4     |\r\n * |                                 |     | yyyy    | 0044, 0001, 1900, 2017            | 4     |\r\n * |                                 |     | yyyyy   | ...                               | 2,4   |\r\n * | Local week-numbering year       | 130 | Y       | 44, 1, 1900, 2017, 9000           | 4     |\r\n * |                                 |     | Yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\r\n * |                                 |     | YY      | 44, 01, 00, 17                    | 4,6   |\r\n * |                                 |     | YYY     | 044, 001, 123, 999                | 4     |\r\n * |                                 |     | YYYY    | 0044, 0001, 1900, 2017            | 4,6   |\r\n * |                                 |     | YYYYY   | ...                               | 2,4   |\r\n * | ISO week-numbering year         | 130 | R       | -43, 1, 1900, 2017, 9999, -9999   | 4,5   |\r\n * |                                 |     | RR      | -43, 01, 00, 17                   | 4,5   |\r\n * |                                 |     | RRR     | -043, 001, 123, 999, -999         | 4,5   |\r\n * |                                 |     | RRRR    | -0043, 0001, 2017, 9999, -9999    | 4,5   |\r\n * |                                 |     | RRRRR   | ...                               | 2,4,5 |\r\n * | Extended year                   | 130 | u       | -43, 1, 1900, 2017, 9999, -999    | 4     |\r\n * |                                 |     | uu      | -43, 01, 99, -99                  | 4     |\r\n * |                                 |     | uuu     | -043, 001, 123, 999, -999         | 4     |\r\n * |                                 |     | uuuu    | -0043, 0001, 2017, 9999, -9999    | 4     |\r\n * |                                 |     | uuuuu   | ...                               | 2,4   |\r\n * | Quarter (formatting)            | 120 | Q       | 1, 2, 3, 4                        |       |\r\n * |                                 |     | Qo      | 1st, 2nd, 3rd, 4th                | 5     |\r\n * |                                 |     | QQ      | 01, 02, 03, 04                    |       |\r\n * |                                 |     | QQQ     | Q1, Q2, Q3, Q4                    |       |\r\n * |                                 |     | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\r\n * |                                 |     | QQQQQ   | 1, 2, 3, 4                        | 4     |\r\n * | Quarter (stand-alone)           | 120 | q       | 1, 2, 3, 4                        |       |\r\n * |                                 |     | qo      | 1st, 2nd, 3rd, 4th                | 5     |\r\n * |                                 |     | qq      | 01, 02, 03, 04                    |       |\r\n * |                                 |     | qqq     | Q1, Q2, Q3, Q4                    |       |\r\n * |                                 |     | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\r\n * |                                 |     | qqqqq   | 1, 2, 3, 4                        | 3     |\r\n * | Month (formatting)              | 110 | M       | 1, 2, ..., 12                     |       |\r\n * |                                 |     | Mo      | 1st, 2nd, ..., 12th               | 5     |\r\n * |                                 |     | MM      | 01, 02, ..., 12                   |       |\r\n * |                                 |     | MMM     | Jan, Feb, ..., Dec                |       |\r\n * |                                 |     | MMMM    | January, February, ..., December  | 2     |\r\n * |                                 |     | MMMMM   | J, F, ..., D                      |       |\r\n * | Month (stand-alone)             | 110 | L       | 1, 2, ..., 12                     |       |\r\n * |                                 |     | Lo      | 1st, 2nd, ..., 12th               | 5     |\r\n * |                                 |     | LL      | 01, 02, ..., 12                   |       |\r\n * |                                 |     | LLL     | Jan, Feb, ..., Dec                |       |\r\n * |                                 |     | LLLL    | January, February, ..., December  | 2     |\r\n * |                                 |     | LLLLL   | J, F, ..., D                      |       |\r\n * | Local week of year              | 100 | w       | 1, 2, ..., 53                     |       |\r\n * |                                 |     | wo      | 1st, 2nd, ..., 53th               | 5     |\r\n * |                                 |     | ww      | 01, 02, ..., 53                   |       |\r\n * | ISO week of year                | 100 | I       | 1, 2, ..., 53                     | 5     |\r\n * |                                 |     | Io      | 1st, 2nd, ..., 53th               | 5     |\r\n * |                                 |     | II      | 01, 02, ..., 53                   | 5     |\r\n * | Day of month                    |  90 | d       | 1, 2, ..., 31                     |       |\r\n * |                                 |     | do      | 1st, 2nd, ..., 31st               | 5     |\r\n * |                                 |     | dd      | 01, 02, ..., 31                   |       |\r\n * | Day of year                     |  90 | D       | 1, 2, ..., 365, 366               | 7     |\r\n * |                                 |     | Do      | 1st, 2nd, ..., 365th, 366th       | 5     |\r\n * |                                 |     | DD      | 01, 02, ..., 365, 366             | 7     |\r\n * |                                 |     | DDD     | 001, 002, ..., 365, 366           |       |\r\n * |                                 |     | DDDD    | ...                               | 2     |\r\n * | Day of week (formatting)        |  90 | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\r\n * |                                 |     | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\r\n * |                                 |     | EEEEE   | M, T, W, T, F, S, S               |       |\r\n * |                                 |     | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\r\n * | ISO day of week (formatting)    |  90 | i       | 1, 2, 3, ..., 7                   | 5     |\r\n * |                                 |     | io      | 1st, 2nd, ..., 7th                | 5     |\r\n * |                                 |     | ii      | 01, 02, ..., 07                   | 5     |\r\n * |                                 |     | iii     | Mon, Tue, Wed, ..., Sun           | 5     |\r\n * |                                 |     | iiii    | Monday, Tuesday, ..., Sunday      | 2,5   |\r\n * |                                 |     | iiiii   | M, T, W, T, F, S, S               | 5     |\r\n * |                                 |     | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 5     |\r\n * | Local day of week (formatting)  |  90 | e       | 2, 3, 4, ..., 1                   |       |\r\n * |                                 |     | eo      | 2nd, 3rd, ..., 1st                | 5     |\r\n * |                                 |     | ee      | 02, 03, ..., 01                   |       |\r\n * |                                 |     | eee     | Mon, Tue, Wed, ..., Sun           |       |\r\n * |                                 |     | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\r\n * |                                 |     | eeeee   | M, T, W, T, F, S, S               |       |\r\n * |                                 |     | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\r\n * | Local day of week (stand-alone) |  90 | c       | 2, 3, 4, ..., 1                   |       |\r\n * |                                 |     | co      | 2nd, 3rd, ..., 1st                | 5     |\r\n * |                                 |     | cc      | 02, 03, ..., 01                   |       |\r\n * |                                 |     | ccc     | Mon, Tue, Wed, ..., Sun           |       |\r\n * |                                 |     | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\r\n * |                                 |     | ccccc   | M, T, W, T, F, S, S               |       |\r\n * |                                 |     | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\r\n * | AM, PM                          |  80 | a..aaa  | AM, PM                            |       |\r\n * |                                 |     | aaaa    | a.m., p.m.                        | 2     |\r\n * |                                 |     | aaaaa   | a, p                              |       |\r\n * | AM, PM, noon, midnight          |  80 | b..bbb  | AM, PM, noon, midnight            |       |\r\n * |                                 |     | bbbb    | a.m., p.m., noon, midnight        | 2     |\r\n * |                                 |     | bbbbb   | a, p, n, mi                       |       |\r\n * | Flexible day period             |  80 | B..BBB  | at night, in the morning, ...     |       |\r\n * |                                 |     | BBBB    | at night, in the morning, ...     | 2     |\r\n * |                                 |     | BBBBB   | at night, in the morning, ...     |       |\r\n * | Hour [1-12]                     |  70 | h       | 1, 2, ..., 11, 12                 |       |\r\n * |                                 |     | ho      | 1st, 2nd, ..., 11th, 12th         | 5     |\r\n * |                                 |     | hh      | 01, 02, ..., 11, 12               |       |\r\n * | Hour [0-23]                     |  70 | H       | 0, 1, 2, ..., 23                  |       |\r\n * |                                 |     | Ho      | 0th, 1st, 2nd, ..., 23rd          | 5     |\r\n * |                                 |     | HH      | 00, 01, 02, ..., 23               |       |\r\n * | Hour [0-11]                     |  70 | K       | 1, 2, ..., 11, 0                  |       |\r\n * |                                 |     | Ko      | 1st, 2nd, ..., 11th, 0th          | 5     |\r\n * |                                 |     | KK      | 01, 02, ..., 11, 00               |       |\r\n * | Hour [1-24]                     |  70 | k       | 24, 1, 2, ..., 23                 |       |\r\n * |                                 |     | ko      | 24th, 1st, 2nd, ..., 23rd         | 5     |\r\n * |                                 |     | kk      | 24, 01, 02, ..., 23               |       |\r\n * | Minute                          |  60 | m       | 0, 1, ..., 59                     |       |\r\n * |                                 |     | mo      | 0th, 1st, ..., 59th               | 5     |\r\n * |                                 |     | mm      | 00, 01, ..., 59                   |       |\r\n * | Second                          |  50 | s       | 0, 1, ..., 59                     |       |\r\n * |                                 |     | so      | 0th, 1st, ..., 59th               | 5     |\r\n * |                                 |     | ss      | 00, 01, ..., 59                   |       |\r\n * | Seconds timestamp               |  40 | t       | 512969520                         |       |\r\n * |                                 |     | tt      | ...                               | 2     |\r\n * | Fraction of second              |  30 | S       | 0, 1, ..., 9                      |       |\r\n * |                                 |     | SS      | 00, 01, ..., 99                   |       |\r\n * |                                 |     | SSS     | 000, 001, ..., 999                |       |\r\n * |                                 |     | SSSS    | ...                               | 2     |\r\n * | Milliseconds timestamp          |  20 | T       | 512969520900                      |       |\r\n * |                                 |     | TT      | ...                               | 2     |\r\n * | Timezone (ISO-8601 w/ Z)        |  10 | X       | -08, +0530, Z                     |       |\r\n * |                                 |     | XX      | -0800, +0530, Z                   |       |\r\n * |                                 |     | XXX     | -08:00, +05:30, Z                 |       |\r\n * |                                 |     | XXXX    | -0800, +0530, Z, +123456          | 2     |\r\n * |                                 |     | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\r\n * | Timezone (ISO-8601 w/o Z)       |  10 | x       | -08, +0530, +00                   |       |\r\n * |                                 |     | xx      | -0800, +0530, +0000               |       |\r\n * |                                 |     | xxx     | -08:00, +05:30, +00:00            | 2     |\r\n * |                                 |     | xxxx    | -0800, +0530, +0000, +123456      |       |\r\n * |                                 |     | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\r\n * | Long localized date             |  NA | P       | 05/29/1453                        | 5,8   |\r\n * |                                 |     | PP      | May 29, 1453                      |       |\r\n * |                                 |     | PPP     | May 29th, 1453                    |       |\r\n * |                                 |     | PPPP    | Sunday, May 29th, 1453            | 2,5,8 |\r\n * | Long localized time             |  NA | p       | 12:00 AM                          | 5,8   |\r\n * |                                 |     | pp      | 12:00:00 AM                       |       |\r\n * | Combination of date and time    |  NA | Pp      | 05/29/1453, 12:00 AM              |       |\r\n * |                                 |     | PPpp    | May 29, 1453, 12:00:00 AM         |       |\r\n * |                                 |     | PPPpp   | May 29th, 1453 at ...             |       |\r\n * |                                 |     | PPPPpp  | Sunday, May 29th, 1453 at ...     | 2,5,8 |\r\n * Notes:\r\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\r\n *    are the same as \"stand-alone\" units, but are different in some languages.\r\n *    \"Formatting\" units are declined according to the rules of the language\r\n *    in the context of a date. \"Stand-alone\" units are always nominative singular.\r\n *    In `format` function, they will produce different result:\r\n *\r\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\r\n *\r\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\r\n *\r\n *    `parse` will try to match both formatting and stand-alone units interchangably.\r\n *\r\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\r\n *    the single quote characters (see below).\r\n *    If the sequence is longer than listed in table:\r\n *    - for numerical units (`yyyyyyyy`) `parse` will try to match a number\r\n *      as wide as the sequence\r\n *    - for text units (`MMMMMMMM`) `parse` will try to match the widest variation of the unit.\r\n *      These variations are marked with \"2\" in the last column of the table.\r\n *\r\n * 3. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\r\n *    These tokens represent the shortest form of the quarter.\r\n *\r\n * 4. The main difference between `y` and `u` patterns are B.C. years:\r\n *\r\n *    | Year | `y` | `u` |\r\n *    |------|-----|-----|\r\n *    | AC 1 |   1 |   1 |\r\n *    | BC 1 |   1 |   0 |\r\n *    | BC 2 |   2 |  -1 |\r\n *\r\n *    Also `yy` will try to guess the century of two digit year by proximity with `referenceDate`:\r\n *\r\n *    `parse('50', 'yy', new Date(2018, 0, 1)) //=> Sat Jan 01 2050 00:00:00`\r\n *\r\n *    `parse('75', 'yy', new Date(2018, 0, 1)) //=> Wed Jan 01 1975 00:00:00`\r\n *\r\n *    while `uu` will just assign the year as is:\r\n *\r\n *    `parse('50', 'uu', new Date(2018, 0, 1)) //=> Sat Jan 01 0050 00:00:00`\r\n *\r\n *    `parse('75', 'uu', new Date(2018, 0, 1)) //=> Tue Jan 01 0075 00:00:00`\r\n *\r\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\r\n *    except local week-numbering years are dependent on `options.weekStartsOn`\r\n *    and `options.firstWeekContainsDate` (compare [setISOWeekYear]{@link https://date-fns.org/docs/setISOWeekYear}\r\n *    and [setWeekYear]{@link https://date-fns.org/docs/setWeekYear}).\r\n *\r\n * 5. These patterns are not in the Unicode Technical Standard #35:\r\n *    - `i`: ISO day of week\r\n *    - `I`: ISO week of year\r\n *    - `R`: ISO week-numbering year\r\n *    - `o`: ordinal number modifier\r\n *    - `P`: long localized date\r\n *    - `p`: long localized time\r\n *\r\n * 6. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\r\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n *\r\n * 7. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\r\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n *\r\n * 8. `P+` tokens do not have a defined priority since they are merely aliases to other tokens based\r\n *    on the given locale.\r\n *\r\n *    using `en-US` locale: `P` => `MM/dd/yyyy`\r\n *    using `en-US` locale: `p` => `hh:mm a`\r\n *    using `pt-BR` locale: `P` => `dd/MM/yyyy`\r\n *    using `pt-BR` locale: `p` => `HH:mm`\r\n *\r\n * Values will be assigned to the date in the descending order of its unit's priority.\r\n * Units of an equal priority overwrite each other in the order of appearance.\r\n *\r\n * If no values of higher priority are parsed (e.g. when parsing string 'January 1st' without a year),\r\n * the values will be taken from 3rd argument `referenceDate` which works as a context of parsing.\r\n *\r\n * `referenceDate` must be passed for correct work of the function.\r\n * If you're not sure which `referenceDate` to supply, create a new instance of Date:\r\n * `parse('02/11/2014', 'MM/dd/yyyy', new Date())`\r\n * In this case parsing will be done in the context of the current date.\r\n * If `referenceDate` is `Invalid Date` or a value not convertible to valid `Date`,\r\n * then `Invalid Date` will be returned.\r\n *\r\n * The result may vary by locale.\r\n *\r\n * If `formatString` matches with `dateString` but does not provides tokens, `referenceDate` will be returned.\r\n *\r\n * If parsing failed, `Invalid Date` will be returned.\r\n * Invalid Date is a Date, whose time value is NaN.\r\n * Time value of Date: http://es5.github.io/#x15.9.1.1\r\n *\r\n * @param {String} dateString - the string to parse\r\n * @param {String} formatString - the string of tokens\r\n * @param {Date|Number} referenceDate - defines values missing from the parsed dateString\r\n * @param {Object} [options] - an object with options.\r\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\r\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\r\n * @param {1|2|3|4|5|6|7} [options.firstWeekContainsDate=1] - the day of January, which is always in the first week of the year\r\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\r\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\r\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n * @returns {Date} the parsed date\r\n * @throws {TypeError} 3 arguments required\r\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\r\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\r\n * @throws {RangeError} `options.locale` must contain `match` property\r\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n * @throws {RangeError} format string contains an unescaped latin alphabet character\r\n *\r\n * @example\r\n * // Parse 11 February 2014 from middle-endian format:\r\n * var result = parse('02/11/2014', 'MM/dd/yyyy', new Date())\r\n * //=> Tue Feb 11 2014 00:00:00\r\n *\r\n * @example\r\n * // Parse 28th of February in Esperanto locale in the context of 2010 year:\r\n * import eo from 'date-fns/locale/eo'\r\n * var result = parse('28-a de februaro', \"do 'de' MMMM\", new Date(2010, 0, 1), {\r\n *   locale: eo\r\n * })\r\n * //=> Sun Feb 28 2010 00:00:00\r\n */\r\nexport default function parse(dirtyDateString, dirtyFormatString, dirtyReferenceDate, options) {\r\n  var _ref, _options$locale, _ref2, _ref3, _ref4, _options$firstWeekCon, _options$locale2, _options$locale2$opti, _defaultOptions$local, _defaultOptions$local2, _ref5, _ref6, _ref7, _options$weekStartsOn, _options$locale3, _options$locale3$opti, _defaultOptions$local3, _defaultOptions$local4;\r\n  requiredArgs(3, arguments);\r\n  var dateString = String(dirtyDateString);\r\n  var formatString = String(dirtyFormatString);\r\n  var defaultOptions = getDefaultOptions();\r\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\r\n  if (!locale.match) {\r\n    throw new RangeError('locale must contain match property');\r\n  }\r\n  var firstWeekContainsDate = toInteger((_ref2 = (_ref3 = (_ref4 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale2 = options.locale) === null || _options$locale2 === void 0 ? void 0 : (_options$locale2$opti = _options$locale2.options) === null || _options$locale2$opti === void 0 ? void 0 : _options$locale2$opti.firstWeekContainsDate) !== null && _ref4 !== void 0 ? _ref4 : defaultOptions.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : 1);\r\n\r\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\r\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\r\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\r\n  }\r\n  var weekStartsOn = toInteger((_ref5 = (_ref6 = (_ref7 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale3 = options.locale) === null || _options$locale3 === void 0 ? void 0 : (_options$locale3$opti = _options$locale3.options) === null || _options$locale3$opti === void 0 ? void 0 : _options$locale3$opti.weekStartsOn) !== null && _ref7 !== void 0 ? _ref7 : defaultOptions.weekStartsOn) !== null && _ref6 !== void 0 ? _ref6 : (_defaultOptions$local3 = defaultOptions.locale) === null || _defaultOptions$local3 === void 0 ? void 0 : (_defaultOptions$local4 = _defaultOptions$local3.options) === null || _defaultOptions$local4 === void 0 ? void 0 : _defaultOptions$local4.weekStartsOn) !== null && _ref5 !== void 0 ? _ref5 : 0);\r\n\r\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\r\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\r\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\r\n  }\r\n  if (formatString === '') {\r\n    if (dateString === '') {\r\n      return toDate(dirtyReferenceDate);\r\n    } else {\r\n      return new Date(NaN);\r\n    }\r\n  }\r\n  var subFnOptions = {\r\n    firstWeekContainsDate: firstWeekContainsDate,\r\n    weekStartsOn: weekStartsOn,\r\n    locale: locale\r\n  };\r\n\r\n  // If timezone isn't specified, it will be set to the system timezone\r\n  var setters = [new DateToSystemTimezoneSetter()];\r\n  var tokens = formatString.match(longFormattingTokensRegExp).map(function (substring) {\r\n    var firstCharacter = substring[0];\r\n    if (firstCharacter in longFormatters) {\r\n      var longFormatter = longFormatters[firstCharacter];\r\n      return longFormatter(substring, locale.formatLong);\r\n    }\r\n    return substring;\r\n  }).join('').match(formattingTokensRegExp);\r\n  var usedTokens = [];\r\n  var _iterator = _createForOfIteratorHelper(tokens),\r\n    _step;\r\n  try {\r\n    var _loop = function _loop() {\r\n      var token = _step.value;\r\n      if (!(options !== null && options !== void 0 && options.useAdditionalWeekYearTokens) && isProtectedWeekYearToken(token)) {\r\n        throwProtectedError(token, formatString, dirtyDateString);\r\n      }\r\n      if (!(options !== null && options !== void 0 && options.useAdditionalDayOfYearTokens) && isProtectedDayOfYearToken(token)) {\r\n        throwProtectedError(token, formatString, dirtyDateString);\r\n      }\r\n      var firstCharacter = token[0];\r\n      var parser = parsers[firstCharacter];\r\n      if (parser) {\r\n        var incompatibleTokens = parser.incompatibleTokens;\r\n        if (Array.isArray(incompatibleTokens)) {\r\n          var incompatibleToken = usedTokens.find(function (usedToken) {\r\n            return incompatibleTokens.includes(usedToken.token) || usedToken.token === firstCharacter;\r\n          });\r\n          if (incompatibleToken) {\r\n            throw new RangeError(\"The format string mustn't contain `\".concat(incompatibleToken.fullToken, \"` and `\").concat(token, \"` at the same time\"));\r\n          }\r\n        } else if (parser.incompatibleTokens === '*' && usedTokens.length > 0) {\r\n          throw new RangeError(\"The format string mustn't contain `\".concat(token, \"` and any other token at the same time\"));\r\n        }\r\n        usedTokens.push({\r\n          token: firstCharacter,\r\n          fullToken: token\r\n        });\r\n        var parseResult = parser.run(dateString, token, locale.match, subFnOptions);\r\n        if (!parseResult) {\r\n          return {\r\n            v: new Date(NaN)\r\n          };\r\n        }\r\n        setters.push(parseResult.setter);\r\n        dateString = parseResult.rest;\r\n      } else {\r\n        if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\r\n          throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\r\n        }\r\n\r\n        // Replace two single quote characters with one single quote character\r\n        if (token === \"''\") {\r\n          token = \"'\";\r\n        } else if (firstCharacter === \"'\") {\r\n          token = cleanEscapedString(token);\r\n        }\r\n\r\n        // Cut token from string, or, if string doesn't match the token, return Invalid Date\r\n        if (dateString.indexOf(token) === 0) {\r\n          dateString = dateString.slice(token.length);\r\n        } else {\r\n          return {\r\n            v: new Date(NaN)\r\n          };\r\n        }\r\n      }\r\n    };\r\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\r\n      var _ret = _loop();\r\n      if (_typeof(_ret) === \"object\") return _ret.v;\r\n    }\r\n\r\n    // Check if the remaining input contains something other than whitespace\r\n  } catch (err) {\r\n    _iterator.e(err);\r\n  } finally {\r\n    _iterator.f();\r\n  }\r\n  if (dateString.length > 0 && notWhitespaceRegExp.test(dateString)) {\r\n    return new Date(NaN);\r\n  }\r\n  var uniquePrioritySetters = setters.map(function (setter) {\r\n    return setter.priority;\r\n  }).sort(function (a, b) {\r\n    return b - a;\r\n  }).filter(function (priority, index, array) {\r\n    return array.indexOf(priority) === index;\r\n  }).map(function (priority) {\r\n    return setters.filter(function (setter) {\r\n      return setter.priority === priority;\r\n    }).sort(function (a, b) {\r\n      return b.subPriority - a.subPriority;\r\n    });\r\n  }).map(function (setterArray) {\r\n    return setterArray[0];\r\n  });\r\n  var date = toDate(dirtyReferenceDate);\r\n  if (isNaN(date.getTime())) {\r\n    return new Date(NaN);\r\n  }\r\n\r\n  // Convert the date in system timezone to the same date in UTC+00:00 timezone.\r\n  var utcDate = subMilliseconds(date, getTimezoneOffsetInMilliseconds(date));\r\n  var flags = {};\r\n  var _iterator2 = _createForOfIteratorHelper(uniquePrioritySetters),\r\n    _step2;\r\n  try {\r\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\r\n      var setter = _step2.value;\r\n      if (!setter.validate(utcDate, subFnOptions)) {\r\n        return new Date(NaN);\r\n      }\r\n      var result = setter.set(utcDate, flags, subFnOptions);\r\n      // Result is tuple (date, flags)\r\n      if (Array.isArray(result)) {\r\n        utcDate = result[0];\r\n        assign(flags, result[1]);\r\n        // Result is date\r\n      } else {\r\n        utcDate = result;\r\n      }\r\n    }\r\n  } catch (err) {\r\n    _iterator2.e(err);\r\n  } finally {\r\n    _iterator2.f();\r\n  }\r\n  return utcDate;\r\n}\r\nfunction cleanEscapedString(input) {\r\n  return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\r\n}", "import parse from \"../parse/index.js\";\r\nimport isValid from \"../isValid/index.js\";\r\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\r\n/**\r\n * @name isMatch\r\n * @category Common Helpers\r\n * @summary validates the date string against given formats\r\n *\r\n * @description\r\n * Return the true if given date is string correct against the given format else\r\n * will return false.\r\n *\r\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\r\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n *\r\n * The characters in the format string wrapped between two single quotes characters (') are escaped.\r\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\r\n *\r\n * Format of the format string is based on Unicode Technical Standard #35:\r\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\r\n * with a few additions (see note 5 below the table).\r\n *\r\n * Not all tokens are compatible. Combinations that don't make sense or could lead to bugs are prohibited\r\n * and will throw `RangeError`. For example usage of 24-hour format token with AM/PM token will throw an exception:\r\n *\r\n * ```javascript\r\n * isMatch('23 AM', 'HH a')\r\n * //=> RangeError: The format string mustn't contain `HH` and `a` at the same time\r\n * ```\r\n *\r\n * See the compatibility table: https://docs.google.com/spreadsheets/d/e/2PACX-1vQOPU3xUhplll6dyoMmVUXHKl_8CRDs6_ueLmex3SoqwhuolkuN3O05l4rqx5h1dKX8eb46Ul-CCSrq/pubhtml?gid=0&single=true\r\n *\r\n * Accepted format string patterns:\r\n * | Unit                            |Prior| Pattern | Result examples                   | Notes |\r\n * |---------------------------------|-----|---------|-----------------------------------|-------|\r\n * | Era                             | 140 | G..GGG  | AD, BC                            |       |\r\n * |                                 |     | GGGG    | Anno Domini, Before Christ        | 2     |\r\n * |                                 |     | GGGGG   | A, B                              |       |\r\n * | Calendar year                   | 130 | y       | 44, 1, 1900, 2017, 9999           | 4     |\r\n * |                                 |     | yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\r\n * |                                 |     | yy      | 44, 01, 00, 17                    | 4     |\r\n * |                                 |     | yyy     | 044, 001, 123, 999                | 4     |\r\n * |                                 |     | yyyy    | 0044, 0001, 1900, 2017            | 4     |\r\n * |                                 |     | yyyyy   | ...                               | 2,4   |\r\n * | Local week-numbering year       | 130 | Y       | 44, 1, 1900, 2017, 9000           | 4     |\r\n * |                                 |     | Yo      | 44th, 1st, 1900th, 9999999th      | 4,5   |\r\n * |                                 |     | YY      | 44, 01, 00, 17                    | 4,6   |\r\n * |                                 |     | YYY     | 044, 001, 123, 999                | 4     |\r\n * |                                 |     | YYYY    | 0044, 0001, 1900, 2017            | 4,6   |\r\n * |                                 |     | YYYYY   | ...                               | 2,4   |\r\n * | ISO week-numbering year         | 130 | R       | -43, 1, 1900, 2017, 9999, -9999   | 4,5   |\r\n * |                                 |     | RR      | -43, 01, 00, 17                   | 4,5   |\r\n * |                                 |     | RRR     | -043, 001, 123, 999, -999         | 4,5   |\r\n * |                                 |     | RRRR    | -0043, 0001, 2017, 9999, -9999    | 4,5   |\r\n * |                                 |     | RRRRR   | ...                               | 2,4,5 |\r\n * | Extended year                   | 130 | u       | -43, 1, 1900, 2017, 9999, -999    | 4     |\r\n * |                                 |     | uu      | -43, 01, 99, -99                  | 4     |\r\n * |                                 |     | uuu     | -043, 001, 123, 999, -999         | 4     |\r\n * |                                 |     | uuuu    | -0043, 0001, 2017, 9999, -9999    | 4     |\r\n * |                                 |     | uuuuu   | ...                               | 2,4   |\r\n * | Quarter (formatting)            | 120 | Q       | 1, 2, 3, 4                        |       |\r\n * |                                 |     | Qo      | 1st, 2nd, 3rd, 4th                | 5     |\r\n * |                                 |     | QQ      | 01, 02, 03, 04                    |       |\r\n * |                                 |     | QQQ     | Q1, Q2, Q3, Q4                    |       |\r\n * |                                 |     | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\r\n * |                                 |     | QQQQQ   | 1, 2, 3, 4                        | 4     |\r\n * | Quarter (stand-alone)           | 120 | q       | 1, 2, 3, 4                        |       |\r\n * |                                 |     | qo      | 1st, 2nd, 3rd, 4th                | 5     |\r\n * |                                 |     | qq      | 01, 02, 03, 04                    |       |\r\n * |                                 |     | qqq     | Q1, Q2, Q3, Q4                    |       |\r\n * |                                 |     | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\r\n * |                                 |     | qqqqq   | 1, 2, 3, 4                        | 3     |\r\n * | Month (formatting)              | 110 | M       | 1, 2, ..., 12                     |       |\r\n * |                                 |     | Mo      | 1st, 2nd, ..., 12th               | 5     |\r\n * |                                 |     | MM      | 01, 02, ..., 12                   |       |\r\n * |                                 |     | MMM     | Jan, Feb, ..., Dec                |       |\r\n * |                                 |     | MMMM    | January, February, ..., December  | 2     |\r\n * |                                 |     | MMMMM   | J, F, ..., D                      |       |\r\n * | Month (stand-alone)             | 110 | L       | 1, 2, ..., 12                     |       |\r\n * |                                 |     | Lo      | 1st, 2nd, ..., 12th               | 5     |\r\n * |                                 |     | LL      | 01, 02, ..., 12                   |       |\r\n * |                                 |     | LLL     | Jan, Feb, ..., Dec                |       |\r\n * |                                 |     | LLLL    | January, February, ..., December  | 2     |\r\n * |                                 |     | LLLLL   | J, F, ..., D                      |       |\r\n * | Local week of year              | 100 | w       | 1, 2, ..., 53                     |       |\r\n * |                                 |     | wo      | 1st, 2nd, ..., 53th               | 5     |\r\n * |                                 |     | ww      | 01, 02, ..., 53                   |       |\r\n * | ISO week of year                | 100 | I       | 1, 2, ..., 53                     | 5     |\r\n * |                                 |     | Io      | 1st, 2nd, ..., 53th               | 5     |\r\n * |                                 |     | II      | 01, 02, ..., 53                   | 5     |\r\n * | Day of month                    |  90 | d       | 1, 2, ..., 31                     |       |\r\n * |                                 |     | do      | 1st, 2nd, ..., 31st               | 5     |\r\n * |                                 |     | dd      | 01, 02, ..., 31                   |       |\r\n * | Day of year                     |  90 | D       | 1, 2, ..., 365, 366               | 7     |\r\n * |                                 |     | Do      | 1st, 2nd, ..., 365th, 366th       | 5     |\r\n * |                                 |     | DD      | 01, 02, ..., 365, 366             | 7     |\r\n * |                                 |     | DDD     | 001, 002, ..., 365, 366           |       |\r\n * |                                 |     | DDDD    | ...                               | 2     |\r\n * | Day of week (formatting)        |  90 | E..EEE  | Mon, Tue, Wed, ..., Su            |       |\r\n * |                                 |     | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\r\n * |                                 |     | EEEEE   | M, T, W, T, F, S, S               |       |\r\n * |                                 |     | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\r\n * | ISO day of week (formatting)    |  90 | i       | 1, 2, 3, ..., 7                   | 5     |\r\n * |                                 |     | io      | 1st, 2nd, ..., 7th                | 5     |\r\n * |                                 |     | ii      | 01, 02, ..., 07                   | 5     |\r\n * |                                 |     | iii     | Mon, Tue, Wed, ..., Su            | 5     |\r\n * |                                 |     | iiii    | Monday, Tuesday, ..., Sunday      | 2,5   |\r\n * |                                 |     | iiiii   | M, T, W, T, F, S, S               | 5     |\r\n * |                                 |     | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 5     |\r\n * | Local day of week (formatting)  |  90 | e       | 2, 3, 4, ..., 1                   |       |\r\n * |                                 |     | eo      | 2nd, 3rd, ..., 1st                | 5     |\r\n * |                                 |     | ee      | 02, 03, ..., 01                   |       |\r\n * |                                 |     | eee     | Mon, Tue, Wed, ..., Su            |       |\r\n * |                                 |     | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\r\n * |                                 |     | eeeee   | M, T, W, T, F, S, S               |       |\r\n * |                                 |     | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\r\n * | Local day of week (stand-alone) |  90 | c       | 2, 3, 4, ..., 1                   |       |\r\n * |                                 |     | co      | 2nd, 3rd, ..., 1st                | 5     |\r\n * |                                 |     | cc      | 02, 03, ..., 01                   |       |\r\n * |                                 |     | ccc     | Mon, Tue, Wed, ..., Su            |       |\r\n * |                                 |     | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\r\n * |                                 |     | ccccc   | M, T, W, T, F, S, S               |       |\r\n * |                                 |     | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\r\n * | AM, PM                          |  80 | a..aaa  | AM, PM                            |       |\r\n * |                                 |     | aaaa    | a.m., p.m.                        | 2     |\r\n * |                                 |     | aaaaa   | a, p                              |       |\r\n * | AM, PM, noon, midnight          |  80 | b..bbb  | AM, PM, noon, midnight            |       |\r\n * |                                 |     | bbbb    | a.m., p.m., noon, midnight        | 2     |\r\n * |                                 |     | bbbbb   | a, p, n, mi                       |       |\r\n * | Flexible day period             |  80 | B..BBB  | at night, in the morning, ...     |       |\r\n * |                                 |     | BBBB    | at night, in the morning, ...     | 2     |\r\n * |                                 |     | BBBBB   | at night, in the morning, ...     |       |\r\n * | Hour [1-12]                     |  70 | h       | 1, 2, ..., 11, 12                 |       |\r\n * |                                 |     | ho      | 1st, 2nd, ..., 11th, 12th         | 5     |\r\n * |                                 |     | hh      | 01, 02, ..., 11, 12               |       |\r\n * | Hour [0-23]                     |  70 | H       | 0, 1, 2, ..., 23                  |       |\r\n * |                                 |     | Ho      | 0th, 1st, 2nd, ..., 23rd          | 5     |\r\n * |                                 |     | HH      | 00, 01, 02, ..., 23               |       |\r\n * | Hour [0-11]                     |  70 | K       | 1, 2, ..., 11, 0                  |       |\r\n * |                                 |     | Ko      | 1st, 2nd, ..., 11th, 0th          | 5     |\r\n * |                                 |     | KK      | 01, 02, ..., 11, 00               |       |\r\n * | Hour [1-24]                     |  70 | k       | 24, 1, 2, ..., 23                 |       |\r\n * |                                 |     | ko      | 24th, 1st, 2nd, ..., 23rd         | 5     |\r\n * |                                 |     | kk      | 24, 01, 02, ..., 23               |       |\r\n * | Minute                          |  60 | m       | 0, 1, ..., 59                     |       |\r\n * |                                 |     | mo      | 0th, 1st, ..., 59th               | 5     |\r\n * |                                 |     | mm      | 00, 01, ..., 59                   |       |\r\n * | Second                          |  50 | s       | 0, 1, ..., 59                     |       |\r\n * |                                 |     | so      | 0th, 1st, ..., 59th               | 5     |\r\n * |                                 |     | ss      | 00, 01, ..., 59                   |       |\r\n * | Seconds timestamp               |  40 | t       | 512969520                         |       |\r\n * |                                 |     | tt      | ...                               | 2     |\r\n * | Fraction of second              |  30 | S       | 0, 1, ..., 9                      |       |\r\n * |                                 |     | SS      | 00, 01, ..., 99                   |       |\r\n * |                                 |     | SSS     | 000, 001, ..., 999                |       |\r\n * |                                 |     | SSSS    | ...                               | 2     |\r\n * | Milliseconds timestamp          |  20 | T       | 512969520900                      |       |\r\n * |                                 |     | TT      | ...                               | 2     |\r\n * | Timezone (ISO-8601 w/ Z)        |  10 | X       | -08, +0530, Z                     |       |\r\n * |                                 |     | XX      | -0800, +0530, Z                   |       |\r\n * |                                 |     | XXX     | -08:00, +05:30, Z                 |       |\r\n * |                                 |     | XXXX    | -0800, +0530, Z, +123456          | 2     |\r\n * |                                 |     | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\r\n * | Timezone (ISO-8601 w/o Z)       |  10 | x       | -08, +0530, +00                   |       |\r\n * |                                 |     | xx      | -0800, +0530, +0000               |       |\r\n * |                                 |     | xxx     | -08:00, +05:30, +00:00            | 2     |\r\n * |                                 |     | xxxx    | -0800, +0530, +0000, +123456      |       |\r\n * |                                 |     | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\r\n * | Long localized date             |  NA | P       | 05/29/1453                        | 5,8   |\r\n * |                                 |     | PP      | May 29, 1453                      |       |\r\n * |                                 |     | PPP     | May 29th, 1453                    |       |\r\n * |                                 |     | PPPP    | Sunday, May 29th, 1453            | 2,5,8 |\r\n * | Long localized time             |  NA | p       | 12:00 AM                          | 5,8   |\r\n * |                                 |     | pp      | 12:00:00 AM                       |       |\r\n * | Combination of date and time    |  NA | Pp      | 05/29/1453, 12:00 AM              |       |\r\n * |                                 |     | PPpp    | May 29, 1453, 12:00:00 AM         |       |\r\n * |                                 |     | PPPpp   | May 29th, 1453 at ...             |       |\r\n * |                                 |     | PPPPpp  | Sunday, May 29th, 1453 at ...     | 2,5,8 |\r\n * Notes:\r\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\r\n *    are the same as \"stand-alone\" units, but are different in some languages.\r\n *    \"Formatting\" units are declined according to the rules of the language\r\n *    in the context of a date. \"Stand-alone\" units are always nominative singular.\r\n *    In `format` function, they will produce different result:\r\n *\r\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\r\n *\r\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\r\n *\r\n *    `isMatch` will try to match both formatting and stand-alone units interchangably.\r\n *\r\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\r\n *    the single quote characters (see below).\r\n *    If the sequence is longer than listed in table:\r\n *    - for numerical units (`yyyyyyyy`) `isMatch` will try to match a number\r\n *      as wide as the sequence\r\n *    - for text units (`MMMMMMMM`) `isMatch` will try to match the widest variation of the unit.\r\n *      These variations are marked with \"2\" in the last column of the table.\r\n *\r\n * 3. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\r\n *    These tokens represent the shortest form of the quarter.\r\n *\r\n * 4. The main difference between `y` and `u` patterns are B.C. years:\r\n *\r\n *    | Year | `y` | `u` |\r\n *    |------|-----|-----|\r\n *    | AC 1 |   1 |   1 |\r\n *    | BC 1 |   1 |   0 |\r\n *    | BC 2 |   2 |  -1 |\r\n *\r\n *    Also `yy` will try to guess the century of two digit year by proximity with `referenceDate`:\r\n *\r\n *    `isMatch('50', 'yy') //=> true`\r\n *\r\n *    `isMatch('75', 'yy') //=> true`\r\n *\r\n *    while `uu` will use the year as is:\r\n *\r\n *    `isMatch('50', 'uu') //=> true`\r\n *\r\n *    `isMatch('75', 'uu') //=> true`\r\n *\r\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\r\n *    except local week-numbering years are dependent on `options.weekStartsOn`\r\n *    and `options.firstWeekContainsDate` (compare [setISOWeekYear]{@link https://date-fns.org/docs/setISOWeekYear}\r\n *    and [setWeekYear]{@link https://date-fns.org/docs/setWeekYear}).\r\n *\r\n * 5. These patterns are not in the Unicode Technical Standard #35:\r\n *    - `i`: ISO day of week\r\n *    - `I`: ISO week of year\r\n *    - `R`: ISO week-numbering year\r\n *    - `o`: ordinal number modifier\r\n *    - `P`: long localized date\r\n *    - `p`: long localized time\r\n *\r\n * 6. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\r\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n *\r\n * 7. `D` and `DD` tokens represent days of the year but they are ofthen confused with days of the month.\r\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n *\r\n * 8. `P+` tokens do not have a defined priority since they are merely aliases to other tokens based\r\n *    on the given locale.\r\n *\r\n *    using `en-US` locale: `P` => `MM/dd/yyyy`\r\n *    using `en-US` locale: `p` => `hh:mm a`\r\n *    using `pt-BR` locale: `P` => `dd/MM/yyyy`\r\n *    using `pt-BR` locale: `p` => `HH:mm`\r\n *\r\n * Values will be checked in the descending order of its unit's priority.\r\n * Units of an equal priority overwrite each other in the order of appearance.\r\n *\r\n * If no values of higher priority are matched (e.g. when matching string 'January 1st' without a year),\r\n * the values will be taken from today's using `new Date()` date which works as a context of parsing.\r\n *\r\n * The result may vary by locale.\r\n *\r\n * If `formatString` matches with `dateString` but does not provides tokens, `referenceDate` will be returned.\r\n *\r\n *\r\n *\r\n * @param {String} dateString - the date string to verify\r\n * @param {String} formatString - the string of tokens\r\n * @param {Object} [options] - an object with options.\r\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\r\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\r\n * @param {1|2|3|4|5|6|7} [options.firstWeekContainsDate=1] - the day of January, which is always in the first week of the year\r\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\r\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\r\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n * @returns {Boolean}\r\n * @throws {TypeError} 2 arguments required\r\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\r\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\r\n * @throws {RangeError} `options.locale` must contain `match` property\r\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n * @throws {RangeError} use `yy` instead of `YY` for formatting years; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\r\n * @throws {RangeError} format string contains an unescaped latin alphabet character\r\n *\r\n * @example\r\n * // Match 11 February 2014 from middle-endian format:\r\n * const result = isMatch('02/11/2014', 'MM/dd/yyyy')\r\n * //=> true\r\n *\r\n * @example\r\n * // Match 28th of February in Esperanto locale in the context of 2010 year:\r\n * import eo from 'date-fns/locale/eo'\r\n * const result = isMatch('28-a de februaro', \"do 'de' MMMM\", {\r\n *   locale: eo\r\n * })\r\n * //=> true\r\n */\r\nexport default function isMatch(dateString, formatString, options) {\r\n  requiredArgs(2, arguments);\r\n  return isValid(parse(dateString, formatString, new Date(), options));\r\n}", "import { millisecondsInHour, millisecondsInMinute } from \"../constants/index.js\";\r\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\r\nimport toInteger from \"../_lib/toInteger/index.js\";\r\n/**\r\n * @name parseISO\r\n * @category Common Helpers\r\n * @summary Parse ISO string\r\n *\r\n * @description\r\n * Parse the given string in ISO 8601 format and return an instance of Date.\r\n *\r\n * Function accepts complete ISO 8601 formats as well as partial implementations.\r\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\r\n *\r\n * If the argument isn't a string, the function cannot parse the string or\r\n * the values are invalid, it returns Invalid Date.\r\n *\r\n * @param {String} argument - the value to convert\r\n * @param {Object} [options] - an object with options.\r\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\r\n * @returns {Date} the parsed date in the local time zone\r\n * @throws {TypeError} 1 argument required\r\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\r\n *\r\n * @example\r\n * // Convert string '2014-02-11T11:30:30' to date:\r\n * const result = parseISO('2014-02-11T11:30:30')\r\n * //=> Tue Feb 11 2014 11:30:30\r\n *\r\n * @example\r\n * // Convert string '+02014101' to date,\r\n * // if the additional number of digits in the extended year format is 1:\r\n * const result = parseISO('+02014101', { additionalDigits: 1 })\r\n * //=> Fri Apr 11 2014 00:00:00\r\n */\r\nexport default function parseISO(argument, options) {\r\n  var _options$additionalDi;\r\n  requiredArgs(1, arguments);\r\n  var additionalDigits = toInteger((_options$additionalDi = options === null || options === void 0 ? void 0 : options.additionalDigits) !== null && _options$additionalDi !== void 0 ? _options$additionalDi : 2);\r\n  if (additionalDigits !== 2 && additionalDigits !== 1 && additionalDigits !== 0) {\r\n    throw new RangeError('additionalDigits must be 0, 1 or 2');\r\n  }\r\n  if (!(typeof argument === 'string' || Object.prototype.toString.call(argument) === '[object String]')) {\r\n    return new Date(NaN);\r\n  }\r\n  var dateStrings = splitDateString(argument);\r\n  var date;\r\n  if (dateStrings.date) {\r\n    var parseYearResult = parseYear(dateStrings.date, additionalDigits);\r\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\r\n  }\r\n  if (!date || isNaN(date.getTime())) {\r\n    return new Date(NaN);\r\n  }\r\n  var timestamp = date.getTime();\r\n  var time = 0;\r\n  var offset;\r\n  if (dateStrings.time) {\r\n    time = parseTime(dateStrings.time);\r\n    if (isNaN(time)) {\r\n      return new Date(NaN);\r\n    }\r\n  }\r\n  if (dateStrings.timezone) {\r\n    offset = parseTimezone(dateStrings.timezone);\r\n    if (isNaN(offset)) {\r\n      return new Date(NaN);\r\n    }\r\n  } else {\r\n    var dirtyDate = new Date(timestamp + time);\r\n    // js parsed string assuming it's in UTC timezone\r\n    // but we need it to be parsed in our timezone\r\n    // so we use utc values to build date in our timezone.\r\n    // Year values from 0 to 99 map to the years 1900 to 1999\r\n    // so set year explicitly with setFullYear.\r\n    var result = new Date(0);\r\n    result.setFullYear(dirtyDate.getUTCFullYear(), dirtyDate.getUTCMonth(), dirtyDate.getUTCDate());\r\n    result.setHours(dirtyDate.getUTCHours(), dirtyDate.getUTCMinutes(), dirtyDate.getUTCSeconds(), dirtyDate.getUTCMilliseconds());\r\n    return result;\r\n  }\r\n  return new Date(timestamp + time + offset);\r\n}\r\nvar patterns = {\r\n  dateTimeDelimiter: /[T ]/,\r\n  timeZoneDelimiter: /[Z ]/i,\r\n  timezone: /([Z+-].*)$/\r\n};\r\nvar dateRegex = /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\r\nvar timeRegex = /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\r\nvar timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\r\nfunction splitDateString(dateString) {\r\n  var dateStrings = {};\r\n  var array = dateString.split(patterns.dateTimeDelimiter);\r\n  var timeString;\r\n\r\n  // The regex match should only return at maximum two array elements.\r\n  // [date], [time], or [date, time].\r\n  if (array.length > 2) {\r\n    return dateStrings;\r\n  }\r\n  if (/:/.test(array[0])) {\r\n    timeString = array[0];\r\n  } else {\r\n    dateStrings.date = array[0];\r\n    timeString = array[1];\r\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\r\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\r\n      timeString = dateString.substr(dateStrings.date.length, dateString.length);\r\n    }\r\n  }\r\n  if (timeString) {\r\n    var token = patterns.timezone.exec(timeString);\r\n    if (token) {\r\n      dateStrings.time = timeString.replace(token[1], '');\r\n      dateStrings.timezone = token[1];\r\n    } else {\r\n      dateStrings.time = timeString;\r\n    }\r\n  }\r\n  return dateStrings;\r\n}\r\nfunction parseYear(dateString, additionalDigits) {\r\n  var regex = new RegExp('^(?:(\\\\d{4}|[+-]\\\\d{' + (4 + additionalDigits) + '})|(\\\\d{2}|[+-]\\\\d{' + (2 + additionalDigits) + '})$)');\r\n  var captures = dateString.match(regex);\r\n  // Invalid ISO-formatted year\r\n  if (!captures) return {\r\n    year: NaN,\r\n    restDateString: ''\r\n  };\r\n  var year = captures[1] ? parseInt(captures[1]) : null;\r\n  var century = captures[2] ? parseInt(captures[2]) : null;\r\n\r\n  // either year or century is null, not both\r\n  return {\r\n    year: century === null ? year : century * 100,\r\n    restDateString: dateString.slice((captures[1] || captures[2]).length)\r\n  };\r\n}\r\nfunction parseDate(dateString, year) {\r\n  // Invalid ISO-formatted year\r\n  if (year === null) return new Date(NaN);\r\n  var captures = dateString.match(dateRegex);\r\n  // Invalid ISO-formatted string\r\n  if (!captures) return new Date(NaN);\r\n  var isWeekDate = !!captures[4];\r\n  var dayOfYear = parseDateUnit(captures[1]);\r\n  var month = parseDateUnit(captures[2]) - 1;\r\n  var day = parseDateUnit(captures[3]);\r\n  var week = parseDateUnit(captures[4]);\r\n  var dayOfWeek = parseDateUnit(captures[5]) - 1;\r\n  if (isWeekDate) {\r\n    if (!validateWeekDate(year, week, dayOfWeek)) {\r\n      return new Date(NaN);\r\n    }\r\n    return dayOfISOWeekYear(year, week, dayOfWeek);\r\n  } else {\r\n    var date = new Date(0);\r\n    if (!validateDate(year, month, day) || !validateDayOfYearDate(year, dayOfYear)) {\r\n      return new Date(NaN);\r\n    }\r\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\r\n    return date;\r\n  }\r\n}\r\nfunction parseDateUnit(value) {\r\n  return value ? parseInt(value) : 1;\r\n}\r\nfunction parseTime(timeString) {\r\n  var captures = timeString.match(timeRegex);\r\n  if (!captures) return NaN; // Invalid ISO-formatted time\r\n\r\n  var hours = parseTimeUnit(captures[1]);\r\n  var minutes = parseTimeUnit(captures[2]);\r\n  var seconds = parseTimeUnit(captures[3]);\r\n  if (!validateTime(hours, minutes, seconds)) {\r\n    return NaN;\r\n  }\r\n  return hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000;\r\n}\r\nfunction parseTimeUnit(value) {\r\n  return value && parseFloat(value.replace(',', '.')) || 0;\r\n}\r\nfunction parseTimezone(timezoneString) {\r\n  if (timezoneString === 'Z') return 0;\r\n  var captures = timezoneString.match(timezoneRegex);\r\n  if (!captures) return 0;\r\n  var sign = captures[1] === '+' ? -1 : 1;\r\n  var hours = parseInt(captures[2]);\r\n  var minutes = captures[3] && parseInt(captures[3]) || 0;\r\n  if (!validateTimezone(hours, minutes)) {\r\n    return NaN;\r\n  }\r\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\r\n}\r\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\r\n  var date = new Date(0);\r\n  date.setUTCFullYear(isoWeekYear, 0, 4);\r\n  var fourthOfJanuaryDay = date.getUTCDay() || 7;\r\n  var diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\r\n  date.setUTCDate(date.getUTCDate() + diff);\r\n  return date;\r\n}\r\n\r\n// Validation functions\r\n\r\n// February is null to handle the leap year (using ||)\r\nvar daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\nfunction isLeapYearIndex(year) {\r\n  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;\r\n}\r\nfunction validateDate(year, month, date) {\r\n  return month >= 0 && month <= 11 && date >= 1 && date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28));\r\n}\r\nfunction validateDayOfYearDate(year, dayOfYear) {\r\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\r\n}\r\nfunction validateWeekDate(_year, week, day) {\r\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\r\n}\r\nfunction validateTime(hours, minutes, seconds) {\r\n  if (hours === 24) {\r\n    return minutes === 0 && seconds === 0;\r\n  }\r\n  return seconds >= 0 && seconds < 60 && minutes >= 0 && minutes < 60 && hours >= 0 && hours < 25;\r\n}\r\nfunction validateTimezone(_hours, minutes) {\r\n  return minutes >= 0 && minutes <= 59;\r\n}", "import { isMatch, isValid, parseISO } from 'date-fns';\r\n\r\nexport const isNumeric = (value: any) =>\r\n    !isNaN(parseFloat(value)) && isFinite(value);\r\nexport const valuesAreNumeric = (values: any[]) => values.every(isNumeric);\r\n\r\nexport const isInteger = (value: any) =>\r\n    Number.isInteger(value) || !isNaN(parseInt(value));\r\nexport const valuesAreInteger = (values: any[]) => values.every(isInteger);\r\n\r\nexport const isBoolean = (value: any) => typeof value === 'boolean';\r\nexport const valuesAreBoolean = (values: any[]) => values.every(isBoolean);\r\n\r\nexport const isBooleanString = (value: any) =>\r\n    ['true', 'false'].includes(value.toString().toLowerCase());\r\nexport const valuesAreBooleanString = (values: any[]) =>\r\n    values.every(isBooleanString);\r\n\r\nexport const isString = (value: any) => typeof value === 'string';\r\nexport const valuesAreString = (values: any[]) => values.every(isString);\r\n\r\nconst HtmlRegexp = /<([A-Z][A-Z0-9]*)\\b[^>]*>(.*?)<\\/\\1>/i;\r\nexport const isHtml = (value: any) => !value || HtmlRegexp.test(value);\r\nexport const valuesAreHtml = (values: any[]) => values.every(isHtml);\r\n\r\nconst UrlRegexp = /http(s*):\\/\\/.*/i;\r\nexport const isUrl = (value: any) => !value || UrlRegexp.test(value);\r\nexport const valuesAreUrl = (values: any[]) => values.every(isUrl);\r\n\r\nconst ImageUrlRegexp = /http(s*):\\/\\/.*\\.(jpeg|jpg|jfif|pjpeg|pjp|png|svg|gif|webp|apng|bmp|ico|cur|tif|tiff)/i;\r\nexport const isImageUrl = (value: any) => !value || ImageUrlRegexp.test(value);\r\nexport const valuesAreImageUrl = (values: any[]) => values.every(isImageUrl);\r\n\r\n// This is a very simple regex to find emails\r\n// It is NOT meant to validate emails as the spec is way more complicated but is\r\n// enough for our inference needs\r\nconst EmailRegexp = /@{1}/;\r\nexport const isEmail = (value: any) => !value || EmailRegexp.test(value);\r\nexport const valuesAreEmail = (values: any[]) => values.every(isEmail);\r\n\r\nexport const isArray = (value: any) => Array.isArray(value);\r\nexport const valuesAreArray = (values: any[]) => values.every(isArray);\r\n\r\nexport const isDate = (value: any) => !value || value instanceof Date;\r\nexport const valuesAreDate = (values: any[]) => values.every(isDate);\r\n\r\nexport const isDateString = (value: any) =>\r\n    !value ||\r\n    (typeof value === 'string' &&\r\n        (isMatch(value, 'MM/dd/yyyy') ||\r\n            isMatch(value, 'MM/dd/yy') ||\r\n            isValid(parseISO(value))));\r\n\r\nexport const valuesAreDateString = (values: any[]) =>\r\n    values.every(isDateString);\r\n\r\nexport const isObject = (value: any) =>\r\n    Object.prototype.toString.call(value) === '[object Object]';\r\nexport const valuesAreObject = (values: any[]) => values.every(isObject);\r\n", "import inferElementFromValues from './inferElementFromValues';\r\nimport getValuesFromRecords from './getValuesFromRecords';\r\nimport { InferredTypeMap } from './types';\r\nimport InferredElement from './InferredElement';\r\n\r\n/**\r\n * Get a list of React-admin field components from a list of records\r\n *\r\n * @example\r\n * const records = [\r\n *     {\r\n *         \"id\": 1,\r\n *         \"title\": \"Lorem Ipsum\",\r\n *         \"views\": 254,\r\n *         \"user_id\": 123,\r\n *     },\r\n *     {\r\n *         \"id\": 2,\r\n *         \"title\": \"Sic Dolor amet\",\r\n *         \"user_id\": 456,\r\n *     },\r\n * ];\r\n * const types = {\r\n *     id: NumberField,\r\n *     string: TextField,\r\n *     number: NumberField,\r\n *     reference: ReferenceField\r\n * };\r\n * const components = getElementsFromRecords(records, types);\r\n * // [\r\n * //    <NumberField source=\"id\" />,\r\n * //    <TextField source=\"title\" />,\r\n * //    <NumberField source=\"views\" />,\r\n * //    <ReferenceField source=\"user_id\" reference=\"users\"><NumberField source=\"id\" /></ReferenceField>,\r\n * // ];\r\n */\r\nexport default (records: any[], types: InferredTypeMap) => {\r\n    const fieldValues = getValuesFromRecords(records);\r\n    return Object.keys(fieldValues)\r\n        .reduce(\r\n            (fields, fieldName) =>\r\n                fields.concat(\r\n                    inferElementFromValues(\r\n                        fieldName,\r\n                        fieldValues[fieldName],\r\n                        types\r\n                    )\r\n                ),\r\n            [] as InferredElement[]\r\n        )\r\n        .filter(inferredElement => inferredElement.isDefined());\r\n};\r\n", "import inflection from 'inflection';\r\n\r\nimport getValuesFromRecords from './getValuesFromRecords';\r\n\r\nimport {\r\n    isObject,\r\n    valuesAreArray,\r\n    valuesAreBoolean,\r\n    valuesAreDate,\r\n    valuesAreDateString,\r\n    valuesAreHtml,\r\n    valuesAreInteger,\r\n    valuesAreNumeric,\r\n    valuesAreObject,\r\n    valuesAreString,\r\n    valuesAreUrl,\r\n    valuesAreImageUrl,\r\n    valuesAreEmail,\r\n} from './assertions';\r\n\r\nexport const InferenceTypes = [\r\n    'array',\r\n    'boolean',\r\n    'date',\r\n    'email',\r\n    'id',\r\n    'image',\r\n    'number',\r\n    'reference',\r\n    'referenceChild',\r\n    'referenceArray',\r\n    'referenceArrayChild',\r\n    'richText',\r\n    'string',\r\n    'url',\r\n    'object',\r\n] as const;\r\n\r\nexport type PossibleInferredElementTypes = typeof InferenceTypes[number];\r\n\r\nexport interface InferredElementDescription {\r\n    type: PossibleInferredElementTypes;\r\n    props?: any;\r\n    children?: InferredElementDescription | InferredElementDescription[];\r\n}\r\n\r\n/**\r\n * Guesses an element type based on an array of values\r\n *\r\n * @example\r\n *     inferElementFromValues(\r\n *         'address',\r\n *         ['2 Baker Street', '1 Downing street'],\r\n *     );\r\n *     // { type: 'string', props: { source: 'address' } }\r\n *\r\n * @param {string} name Property name, e.g. 'date_of_birth'\r\n * @param {any[]} values an array of values from which to determine the type, e.g. [12, 34.4, 43]\r\n */\r\nexport const inferTypeFromValues = (\r\n    name,\r\n    values = []\r\n): InferredElementDescription => {\r\n    if (name === 'id') {\r\n        return { type: 'id', props: { source: name } };\r\n    }\r\n    if (name.substr(name.length - 3) === '_id') {\r\n        return {\r\n            type: 'reference',\r\n            props: {\r\n                source: name,\r\n                reference: inflection.pluralize(\r\n                    name.substr(0, name.length - 3)\r\n                ),\r\n            },\r\n            children: { type: 'referenceChild' },\r\n        };\r\n    }\r\n    if (name.substr(name.length - 2) === 'Id') {\r\n        return {\r\n            type: 'reference',\r\n            props: {\r\n                source: name,\r\n                reference: inflection.pluralize(\r\n                    name.substr(0, name.length - 2)\r\n                ),\r\n            },\r\n            children: { type: 'referenceChild' },\r\n        };\r\n    }\r\n    if (name.substr(name.length - 4) === '_ids') {\r\n        return {\r\n            type: 'referenceArray',\r\n            props: {\r\n                source: name,\r\n                reference: inflection.pluralize(\r\n                    name.substr(0, name.length - 4)\r\n                ),\r\n            },\r\n            children: { type: 'referenceArrayChild' },\r\n        };\r\n    }\r\n    if (name.substr(name.length - 3) === 'Ids') {\r\n        return {\r\n            type: 'referenceArray',\r\n            props: {\r\n                source: name,\r\n                reference: inflection.pluralize(\r\n                    name.substr(0, name.length - 3)\r\n                ),\r\n            },\r\n            children: { type: 'referenceArrayChild' },\r\n        };\r\n    }\r\n    if (values.length === 0) {\r\n        if (name === 'email') {\r\n            return { type: 'email', props: { source: name } };\r\n        }\r\n        if (name === 'url') {\r\n            return { type: 'url', props: { source: name } };\r\n        }\r\n        // FIXME introspect further using name\r\n        return { type: 'string', props: { source: name } };\r\n    }\r\n    if (valuesAreArray(values)) {\r\n        if (isObject(values[0][0])) {\r\n            const leafValues = getValuesFromRecords(\r\n                values.reduce((acc, vals) => acc.concat(vals), [])\r\n            );\r\n            // FIXME bad visual representation\r\n            return {\r\n                type: 'array',\r\n                props: { source: name },\r\n                children: Object.keys(leafValues).map(leafName =>\r\n                    inferTypeFromValues(leafName, leafValues[leafName])\r\n                ),\r\n            };\r\n        }\r\n        // FIXME introspect further\r\n        return { type: 'string', props: { source: name } };\r\n    }\r\n    if (valuesAreBoolean(values)) {\r\n        return { type: 'boolean', props: { source: name } };\r\n    }\r\n    if (valuesAreDate(values)) {\r\n        return { type: 'date', props: { source: name } };\r\n    }\r\n    if (valuesAreString(values)) {\r\n        if (name === 'email' || valuesAreEmail(values)) {\r\n            return { type: 'email', props: { source: name } };\r\n        }\r\n        if (name === 'url' || valuesAreUrl(values)) {\r\n            if (valuesAreImageUrl(values)) {\r\n                return { type: 'image', props: { source: name } };\r\n            }\r\n            return { type: 'url', props: { source: name } };\r\n        }\r\n        if (valuesAreDateString(values)) {\r\n            return { type: 'date', props: { source: name } };\r\n        }\r\n        if (valuesAreHtml(values)) {\r\n            return { type: 'richText', props: { source: name } };\r\n        }\r\n        if (valuesAreInteger(values) || valuesAreNumeric(values)) {\r\n            return { type: 'number', props: { source: name } };\r\n        }\r\n        return { type: 'string', props: { source: name } };\r\n    }\r\n    if (valuesAreInteger(values) || valuesAreNumeric(values)) {\r\n        return { type: 'number', props: { source: name } };\r\n    }\r\n    if (valuesAreObject(values)) {\r\n        /// Arbitrarily, choose the first prop of the first object\r\n        const propName = Object.keys(values[0]).shift();\r\n        if (!propName) {\r\n            return { type: 'object', props: { source: name } };\r\n        }\r\n        const leafValues = values.map(v => v[propName]);\r\n        return inferTypeFromValues(`${name}.${propName}`, leafValues);\r\n    }\r\n    return { type: 'string', props: { source: name } };\r\n};\r\n", "import { ComponentType, ReactElement, ReactNode } from 'react';\r\nimport { WithPermissionsChildrenParams } from './auth/WithPermissions';\r\nimport { AuthActionType } from './auth/types';\r\n\r\n/**\r\n * data types\r\n */\r\n\r\nexport type Identifier = string | number;\r\n\r\nexport interface RaRecord<IdentifierType extends Identifier = Identifier>\r\n    extends Record<string, any> {\r\n    id: IdentifierType;\r\n}\r\n\r\nexport interface SortPayload {\r\n    field: string;\r\n    order: string;\r\n}\r\nexport interface FilterPayload {\r\n    [k: string]: any;\r\n}\r\nexport interface PaginationPayload {\r\n    page: number;\r\n    perPage: number;\r\n}\r\nexport type ValidUntil = Date;\r\n/**\r\n * i18nProvider types\r\n */\r\n\r\nexport const I18N_TRANSLATE = 'I18N_TRANSLATE';\r\nexport const I18N_CHANGE_LOCALE = 'I18N_CHANGE_LOCALE';\r\n\r\nexport type Translate = (key: string, options?: any) => string;\r\n\r\nexport type Locale = {\r\n    locale: string;\r\n    name: string;\r\n};\r\n\r\nexport type I18nProvider = {\r\n    translate: Translate;\r\n    changeLocale: (locale: string, options?: any) => Promise<void>;\r\n    getLocale: () => string;\r\n    getLocales?: () => Locale[];\r\n    [key: string]: any;\r\n};\r\n\r\nexport interface UserIdentity {\r\n    id: Identifier;\r\n    fullName?: string;\r\n    avatar?: string;\r\n    [key: string]: any;\r\n}\r\n\r\n/**\r\n * authProvider types\r\n */\r\nexport type AuthProvider = {\r\n    login: (\r\n        params: any\r\n    ) => Promise<{ redirectTo?: string | boolean } | void | any>;\r\n    logout: (params: any) => Promise<void | false | string>;\r\n    checkAuth: (params: any) => Promise<void>;\r\n    checkError: (error: any) => Promise<void>;\r\n    getIdentity?: () => Promise<UserIdentity>;\r\n    getPermissions: (params: any) => Promise<any>;\r\n    handleCallback?: () => Promise<AuthRedirectResult | void | any>;\r\n    [key: string]: any;\r\n};\r\n\r\nexport type AuthRedirectResult = {\r\n    redirectTo?: string | false;\r\n    logoutOnFailure?: boolean;\r\n};\r\n\r\nexport type LegacyAuthProvider = (\r\n    type: AuthActionType,\r\n    params?: any\r\n) => Promise<any>;\r\n\r\n/**\r\n * dataProvider types\r\n */\r\n\r\nexport type DataProvider<ResourceType extends string = string> = {\r\n    getList: <RecordType extends RaRecord = any>(\r\n        resource: ResourceType,\r\n        params: GetListParams\r\n    ) => Promise<GetListResult<RecordType>>;\r\n\r\n    getOne: <RecordType extends RaRecord = any>(\r\n        resource: ResourceType,\r\n        params: GetOneParams<RecordType>\r\n    ) => Promise<GetOneResult<RecordType>>;\r\n\r\n    getMany: <RecordType extends RaRecord = any>(\r\n        resource: ResourceType,\r\n        params: GetManyParams\r\n    ) => Promise<GetManyResult<RecordType>>;\r\n\r\n    getManyReference: <RecordType extends RaRecord = any>(\r\n        resource: ResourceType,\r\n        params: GetManyReferenceParams\r\n    ) => Promise<GetManyReferenceResult<RecordType>>;\r\n\r\n    update: <RecordType extends RaRecord = any>(\r\n        resource: ResourceType,\r\n        params: UpdateParams\r\n    ) => Promise<UpdateResult<RecordType>>;\r\n\r\n    updateMany: <RecordType extends RaRecord = any>(\r\n        resource: ResourceType,\r\n        params: UpdateManyParams\r\n    ) => Promise<UpdateManyResult<RecordType>>;\r\n\r\n    create: <\r\n        RecordType extends Omit<RaRecord, 'id'> = any,\r\n        ResultRecordType extends RaRecord = RecordType & { id: Identifier }\r\n    >(\r\n        resource: ResourceType,\r\n        params: CreateParams\r\n    ) => Promise<CreateResult<ResultRecordType>>;\r\n\r\n    delete: <RecordType extends RaRecord = any>(\r\n        resource: ResourceType,\r\n        params: DeleteParams<RecordType>\r\n    ) => Promise<DeleteResult<RecordType>>;\r\n\r\n    deleteMany: <RecordType extends RaRecord = any>(\r\n        resource: ResourceType,\r\n        params: DeleteManyParams<RecordType>\r\n    ) => Promise<DeleteManyResult<RecordType>>;\r\n\r\n    [key: string]: any;\r\n};\r\n\r\nexport interface GetListParams {\r\n    pagination: PaginationPayload;\r\n    sort: SortPayload;\r\n    filter: any;\r\n    meta?: any;\r\n}\r\nexport interface GetListResult<RecordType extends RaRecord = any> {\r\n    data: RecordType[];\r\n    total?: number;\r\n    pageInfo?: {\r\n        hasNextPage?: boolean;\r\n        hasPreviousPage?: boolean;\r\n    };\r\n}\r\n\r\nexport interface GetInfiniteListResult<RecordType extends RaRecord = any>\r\n    extends GetListResult<RecordType> {\r\n    pageParam?: number;\r\n}\r\nexport interface GetOneParams<RecordType extends RaRecord = any> {\r\n    id: RecordType['id'];\r\n    meta?: any;\r\n}\r\nexport interface GetOneResult<RecordType extends RaRecord = any> {\r\n    data: RecordType;\r\n}\r\n\r\nexport interface GetManyParams {\r\n    ids: Identifier[];\r\n    meta?: any;\r\n}\r\nexport interface GetManyResult<RecordType extends RaRecord = any> {\r\n    data: RecordType[];\r\n}\r\n\r\nexport interface GetManyReferenceParams {\r\n    target: string;\r\n    id: Identifier;\r\n    pagination: PaginationPayload;\r\n    sort: SortPayload;\r\n    filter: any;\r\n    meta?: any;\r\n}\r\nexport interface GetManyReferenceResult<RecordType extends RaRecord = any> {\r\n    data: RecordType[];\r\n    total?: number;\r\n    pageInfo?: {\r\n        hasNextPage?: boolean;\r\n        hasPreviousPage?: boolean;\r\n    };\r\n}\r\n\r\nexport interface UpdateParams<RecordType extends RaRecord = any> {\r\n    id: RecordType['id'];\r\n    data: Partial<RecordType>;\r\n    previousData: RecordType;\r\n    meta?: any;\r\n}\r\nexport interface UpdateResult<RecordType extends RaRecord = any> {\r\n    data: RecordType;\r\n}\r\n\r\nexport interface UpdateManyParams<T = any> {\r\n    ids: Identifier[];\r\n    data: T;\r\n    meta?: any;\r\n}\r\nexport interface UpdateManyResult<RecordType extends RaRecord = any> {\r\n    data?: RecordType['id'][];\r\n}\r\n\r\nexport interface CreateParams<T = any> {\r\n    data: T;\r\n    meta?: any;\r\n}\r\nexport interface CreateResult<RecordType extends RaRecord = any> {\r\n    data: RecordType;\r\n}\r\n\r\nexport interface DeleteParams<RecordType extends RaRecord = any> {\r\n    id: RecordType['id'];\r\n    previousData?: RecordType;\r\n    meta?: any;\r\n}\r\nexport interface DeleteResult<RecordType extends RaRecord = any> {\r\n    data: RecordType;\r\n}\r\n\r\nexport interface DeleteManyParams<RecordType extends RaRecord = any> {\r\n    ids: RecordType['id'][];\r\n    meta?: any;\r\n}\r\nexport interface DeleteManyResult<RecordType extends RaRecord = any> {\r\n    data?: RecordType['id'][];\r\n}\r\n\r\nexport type DataProviderResult<RecordType extends RaRecord = any> =\r\n    | CreateResult<RecordType>\r\n    | DeleteResult<RecordType>\r\n    | DeleteManyResult\r\n    | GetListResult<RecordType>\r\n    | GetManyResult<RecordType>\r\n    | GetManyReferenceResult<RecordType>\r\n    | GetOneResult<RecordType>\r\n    | UpdateResult<RecordType>\r\n    | UpdateManyResult;\r\n\r\nexport type MutationMode = 'pessimistic' | 'optimistic' | 'undoable';\r\nexport type OnSuccess = (\r\n    response?: any,\r\n    variables?: any,\r\n    context?: any\r\n) => void;\r\n\r\nexport type OnError = (error?: any, variables?: any, context?: any) => void;\r\n// @deprecated - use OnError instead\r\nexport type onError = OnError;\r\n\r\nexport type TransformData = (\r\n    data: any,\r\n    options?: { previousData: any }\r\n) => any | Promise<any>;\r\n\r\nexport interface UseDataProviderOptions {\r\n    action?: string;\r\n    fetch?: string;\r\n    meta?: object;\r\n    mutationMode?: MutationMode;\r\n    onSuccess?: OnSuccess;\r\n    onError?: onError;\r\n    enabled?: boolean;\r\n}\r\n\r\nexport type LegacyDataProvider = (\r\n    type: string,\r\n    resource: string,\r\n    params: any\r\n) => Promise<any>;\r\n\r\nexport type RecordToStringFunction = (record: any) => string;\r\n\r\nexport interface ResourceDefinition<OptionsType extends ResourceOptions = any> {\r\n    readonly name: string;\r\n    readonly options?: OptionsType;\r\n    readonly hasList?: boolean;\r\n    readonly hasEdit?: boolean;\r\n    readonly hasShow?: boolean;\r\n    readonly hasCreate?: boolean;\r\n    readonly icon?: any;\r\n    readonly recordRepresentation?:\r\n        | ReactElement\r\n        | RecordToStringFunction\r\n        | string;\r\n}\r\n\r\n/**\r\n * Misc types\r\n */\r\n\r\nexport type Dispatch<T> = T extends (...args: infer A) => any\r\n    ? (...args: A) => void\r\n    : never;\r\n\r\nexport type ResourceElement = ReactElement<ResourceProps>;\r\nexport type RenderResourcesFunction = (\r\n    permissions: any\r\n) =>\r\n    | ReactNode // (permissions) => <><Resource /><Resource /><Resource /></>\r\n    | Promise<ReactNode> // (permissions) => fetch().then(() => <><Resource /><Resource /><Resource /></>)\r\n    | ResourceElement[] // // (permissions) => [<Resource />, <Resource />, <Resource />]\r\n    | Promise<ResourceElement[]>; // (permissions) => fetch().then(() => [<Resource />, <Resource />, <Resource />])\r\nexport type AdminChildren = RenderResourcesFunction | ReactNode;\r\n\r\nexport type TitleComponent = string | ReactElement<any>;\r\nexport type CatchAllComponent = ComponentType<{ title?: TitleComponent }>;\r\n\r\nexport type LoginComponent = ComponentType<{}> | ReactElement<any>;\r\nexport type DashboardComponent = ComponentType<WithPermissionsChildrenParams>;\r\n\r\nexport interface CoreLayoutProps {\r\n    children?: ReactNode;\r\n    dashboard?: DashboardComponent;\r\n    menu?: ComponentType<{\r\n        hasDashboard?: boolean;\r\n    }>;\r\n    title?: TitleComponent;\r\n}\r\n\r\nexport type LayoutComponent = ComponentType<CoreLayoutProps>;\r\nexport type LoadingComponent = ComponentType<{\r\n    loadingPrimary?: string;\r\n    loadingSecondary?: string;\r\n}>;\r\n\r\nexport interface ResourceComponentInjectedProps {\r\n    permissions?: any;\r\n    resource?: string;\r\n    options?: any;\r\n    hasList?: boolean;\r\n    hasEdit?: boolean;\r\n    hasShow?: boolean;\r\n    hasCreate?: boolean;\r\n}\r\n\r\nexport interface ResourceOptions {\r\n    label?: string;\r\n    [key: string]: any;\r\n}\r\n\r\nexport interface ResourceProps {\r\n    intent?: 'route' | 'registration';\r\n    name: string;\r\n    list?: ComponentType<any> | ReactElement;\r\n    create?: ComponentType<any> | ReactElement;\r\n    edit?: ComponentType<any> | ReactElement;\r\n    show?: ComponentType<any> | ReactElement;\r\n    hasCreate?: boolean;\r\n    hasEdit?: boolean;\r\n    hasShow?: boolean;\r\n    icon?: ComponentType<any>;\r\n    recordRepresentation?: ReactElement | RecordToStringFunction | string;\r\n    options?: ResourceOptions;\r\n    children?: ReactNode;\r\n}\r\n\r\nexport type Exporter = (\r\n    data: any,\r\n    fetchRelatedRecords: (\r\n        data: any,\r\n        field: string,\r\n        resource: string\r\n    ) => Promise<any>,\r\n    dataProvider: DataProvider,\r\n    resource?: string\r\n) => void | Promise<void>;\r\n\r\nexport type SetOnSave = (\r\n    onSave?: (values: object, redirect: any) => void\r\n) => void;\r\n\r\nexport type FormFunctions = {\r\n    setOnSave?: SetOnSave;\r\n};\r\n", "import * as React from 'react';\r\nimport { useHandleAuthCallback, useTimeout } from 'ra-core';\r\nimport { Loading } from '..';\r\nimport { AuthError } from './AuthError';\r\n\r\n/**\r\n * A standalone page to be used in a route called by external authentication services (e.g. OAuth)\r\n * after the user has been authenticated.\r\n *\r\n * Copy and adapt this component to implement your own login logic\r\n * (e.g. to show a different waiting screen, start onboarding procedures, etc.).\r\n *\r\n * @example\r\n *     import MyAuthCallbackPage from './MyAuthCallbackPage';\r\n *     const App = () => (\r\n *         <Admin authCallbackPage={MyAuthCallbackPage} authProvider={authProvider}>\r\n *             ...\r\n *        </Admin>\r\n *     );\r\n */\r\nexport const AuthCallback = () => {\r\n    const { error } = useHandleAuthCallback();\r\n    const hasOneSecondPassed = useTimeout(1000);\r\n\r\n    if (error) {\r\n        return (\r\n            <AuthError\r\n                message={\r\n                    (error as Error) ? (error as Error).message : undefined\r\n                }\r\n            />\r\n        );\r\n    }\r\n\r\n    return hasOneSecondPassed ? <Loading /> : null;\r\n};\r\n", "import * as React from 'react';\r\nimport { styled, SxProps } from '@mui/material';\r\nimport LockIcon from '@mui/icons-material/Lock';\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslate } from 'ra-core';\r\nimport { Button } from '../button';\r\n\r\nexport const AuthError = (props: AuthErrorProps) => {\r\n    const {\r\n        className,\r\n        title = 'ra.page.error',\r\n        message = 'ra.message.auth_error',\r\n        ...rest\r\n    } = props;\r\n\r\n    const translate = useTranslate();\r\n    return (\r\n        <Root className={className} {...rest}>\r\n            <div className={AuthErrorClasses.message}>\r\n                <h1>{translate(title, { _: title })}</h1>\r\n                <div>{translate(message, { _: message })}</div>\r\n                <Button to=\"/login\" label=\"ra.auth.sign_in\">\r\n                    <LockIcon />\r\n                </Button>\r\n            </div>\r\n        </Root>\r\n    );\r\n};\r\n\r\nAuthError.propTypes = {\r\n    className: PropTypes.string,\r\n    title: PropTypes.string,\r\n    message: PropTypes.string,\r\n};\r\n\r\nexport interface AuthErrorProps {\r\n    className?: string;\r\n    title?: string;\r\n    message?: string;\r\n    sx?: SxProps;\r\n}\r\n\r\nconst PREFIX = 'RaAuthError';\r\n\r\nexport const AuthErrorClasses = {\r\n    root: `${PREFIX}-root`,\r\n    message: `${PREFIX}-message`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    [theme.breakpoints.up('md')]: {\r\n        height: '100%',\r\n    },\r\n    [theme.breakpoints.down('xl')]: {\r\n        height: '100vh',\r\n        marginTop: '-3em',\r\n    },\r\n\r\n    [`& .${AuthErrorClasses.message}`]: {\r\n        textAlign: 'center',\r\n        fontFamily: 'Roboto, sans-serif',\r\n        opacity: 0.5,\r\n        margin: '0 1em',\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { memo, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Queue from '@mui/icons-material/Queue';\r\nimport { Link } from 'react-router-dom';\r\nimport { stringify } from 'query-string';\r\nimport { useResourceContext, useRecordContext, useCreatePath } from 'ra-core';\r\n\r\nimport { Button, ButtonProps } from './Button';\r\n\r\nexport const CloneButton = (props: CloneButtonProps) => {\r\n    const {\r\n        label = 'ra.action.clone',\r\n        scrollToTop = true,\r\n        icon = defaultIcon,\r\n        ...rest\r\n    } = props;\r\n    const resource = useResourceContext(props);\r\n    const record = useRecordContext(props);\r\n    const createPath = useCreatePath();\r\n    const pathname = createPath({ resource, type: 'create' });\r\n    return (\r\n        <Button\r\n            component={Link}\r\n            to={\r\n                record\r\n                    ? {\r\n                          pathname,\r\n                          search: stringify({\r\n                              source: JSON.stringify(omitId(record)),\r\n                          }),\r\n                          state: { _scrollToTop: scrollToTop },\r\n                      }\r\n                    : pathname\r\n            }\r\n            label={label}\r\n            onClick={stopPropagation}\r\n            {...sanitizeRestProps(rest)}\r\n        >\r\n            {icon}\r\n        </Button>\r\n    );\r\n};\r\n\r\nconst defaultIcon = <Queue />;\r\n\r\n// useful to prevent click bubbling in a datagrid with rowClick\r\nconst stopPropagation = e => e.stopPropagation();\r\n\r\nconst omitId = ({ id, ...rest }: any) => rest;\r\n\r\nconst sanitizeRestProps = ({\r\n    resource,\r\n    record,\r\n    ...rest\r\n}: Omit<CloneButtonProps, 'label' | 'scrollToTop' | 'icon'>) => rest;\r\n\r\ninterface Props {\r\n    record?: any;\r\n    icon?: ReactElement;\r\n    scrollToTop?: boolean;\r\n}\r\n\r\nexport type CloneButtonProps = Props & ButtonProps;\r\n\r\nCloneButton.propTypes = {\r\n    icon: PropTypes.element,\r\n    label: PropTypes.string,\r\n    record: PropTypes.any,\r\n};\r\n\r\nexport default memo(CloneButton);\r\n", "import * as React from 'react';\r\nimport { ReactElement, ElementType } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Button as MuiButton,\r\n    ButtonProps as MuiButtonProps,\r\n    Tooltip,\r\n    IconButton,\r\n    useMediaQuery,\r\n    Theme,\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { useTranslate } from 'ra-core';\r\nimport { Path } from 'react-router';\r\n\r\n/**\r\n * A generic Button with side icon. Only the icon is displayed on small screens.\r\n *\r\n * The component translates the label. Pass the icon as child.\r\n * The icon displays on the left side of the button by default. Set alignIcon prop to 'right' to inverse.\r\n *\r\n * @example\r\n *\r\n * <Button label=\"Edit\" color=\"secondary\" onClick={doEdit}>\r\n *   <ContentCreate />\r\n * </Button>\r\n *\r\n */\r\nexport const Button = (props: ButtonProps) => {\r\n    const {\r\n        alignIcon = 'left',\r\n        children,\r\n        className,\r\n        disabled,\r\n        label,\r\n        color = 'primary',\r\n        size = 'small',\r\n        to: locationDescriptor,\r\n        ...rest\r\n    } = props;\r\n    const translate = useTranslate();\r\n    const translatedLabel = label ? translate(label, { _: label }) : undefined;\r\n    const linkParams = getLinkParams(locationDescriptor);\r\n\r\n    const isXSmall = useMediaQuery((theme: Theme) =>\r\n        theme.breakpoints.down('sm')\r\n    );\r\n\r\n    return isXSmall ? (\r\n        label && !disabled ? (\r\n            <Tooltip title={translatedLabel}>\r\n                <IconButton\r\n                    aria-label={translatedLabel}\r\n                    className={className}\r\n                    color={color}\r\n                    size=\"large\"\r\n                    {...rest}\r\n                    {...linkParams}\r\n                >\r\n                    {children}\r\n                </IconButton>\r\n            </Tooltip>\r\n        ) : (\r\n            <IconButton\r\n                className={className}\r\n                color={color}\r\n                disabled={disabled}\r\n                size=\"large\"\r\n                {...rest}\r\n                {...linkParams}\r\n            >\r\n                {children}\r\n            </IconButton>\r\n        )\r\n    ) : (\r\n        <StyledButton\r\n            className={className}\r\n            color={color}\r\n            size={size}\r\n            aria-label={translatedLabel}\r\n            disabled={disabled}\r\n            startIcon={alignIcon === 'left' && children ? children : undefined}\r\n            endIcon={alignIcon === 'right' && children ? children : undefined}\r\n            {...rest}\r\n            {...linkParams}\r\n        >\r\n            {translatedLabel}\r\n        </StyledButton>\r\n    );\r\n};\r\n\r\ninterface Props {\r\n    alignIcon?: 'left' | 'right';\r\n    children?: ReactElement;\r\n    className?: string;\r\n    component?: ElementType;\r\n    to?: string | LocationDescriptor;\r\n    disabled?: boolean;\r\n    label?: string;\r\n    size?: 'small' | 'medium' | 'large';\r\n    variant?: string;\r\n}\r\n\r\nexport type ButtonProps = Props & MuiButtonProps;\r\n\r\nButton.propTypes = {\r\n    alignIcon: PropTypes.oneOf(['left', 'right']),\r\n    children: PropTypes.element,\r\n    className: PropTypes.string,\r\n    color: PropTypes.oneOfType([\r\n        PropTypes.oneOf([\r\n            'inherit',\r\n            'default',\r\n            'primary',\r\n            'secondary',\r\n            'error',\r\n            'info',\r\n            'success',\r\n            'warning',\r\n        ]),\r\n        PropTypes.string,\r\n    ]),\r\n    disabled: PropTypes.bool,\r\n    label: PropTypes.string,\r\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\r\n};\r\n\r\nconst PREFIX = 'RaButton';\r\n\r\nconst StyledButton = styled(MuiButton, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    '&.MuiButton-sizeSmall': {\r\n        // fix for icon misalignment on small buttons, see https://github.com/mui/material-ui/pull/30240\r\n        lineHeight: 1.5,\r\n    },\r\n});\r\n\r\nconst getLinkParams = (locationDescriptor?: LocationDescriptor | string) => {\r\n    // eslint-disable-next-line eqeqeq\r\n    if (locationDescriptor == undefined) {\r\n        return undefined;\r\n    }\r\n\r\n    if (typeof locationDescriptor === 'string') {\r\n        return { to: locationDescriptor };\r\n    }\r\n\r\n    const { redirect, replace, state, ...to } = locationDescriptor;\r\n    return {\r\n        to,\r\n        redirect,\r\n        replace,\r\n        state,\r\n    };\r\n};\r\n\r\nexport type LocationDescriptor = Partial<Path> & {\r\n    redirect?: boolean;\r\n    state?: any;\r\n    replace?: boolean;\r\n};\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { ReactElement, memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Fab, useMediaQuery, Theme } from '@mui/material';\r\nimport ContentAdd from '@mui/icons-material/Add';\r\nimport clsx from 'clsx';\r\nimport { Link } from 'react-router-dom';\r\nimport { useTranslate, useResourceContext, useCreatePath } from 'ra-core';\r\nimport isEqual from 'lodash/isEqual';\r\n\r\nimport { Button, ButtonProps } from './Button';\r\n\r\n/**\r\n * Opens the Create view of a given resource\r\n *\r\n * Renders as a regular button on desktop, and a Floating Action Button\r\n * on mobile.\r\n *\r\n * @example // basic usage\r\n * import { CreateButton } from 'react-admin';\r\n *\r\n * const CommentCreateButton = () => (\r\n *     <CreateButton label=\"Create comment\" />\r\n * );\r\n */\r\nconst CreateButton = (props: CreateButtonProps) => {\r\n    const {\r\n        className,\r\n        icon = defaultIcon,\r\n        label = 'ra.action.create',\r\n        resource: resourceProp,\r\n        scrollToTop = true,\r\n        variant,\r\n        ...rest\r\n    } = props;\r\n\r\n    const resource = useResourceContext(props);\r\n    const createPath = useCreatePath();\r\n    const translate = useTranslate();\r\n    const isSmall = useMediaQuery((theme: Theme) =>\r\n        theme.breakpoints.down('md')\r\n    );\r\n\r\n    return isSmall ? (\r\n        <StyledFab\r\n            component={Link}\r\n            to={createPath({ resource, type: 'create' })}\r\n            state={scrollStates[String(scrollToTop)]}\r\n            // @ts-ignore FabProps ships its own runtime palette `FabPropsColorOverrides` provoking an overlap error with `ButtonProps`\r\n            color=\"primary\"\r\n            className={clsx(CreateButtonClasses.floating, className)}\r\n            aria-label={label && translate(label)}\r\n            {...rest}\r\n        >\r\n            {icon}\r\n        </StyledFab>\r\n    ) : (\r\n        <StyledButton\r\n            component={Link}\r\n            to={createPath({ resource, type: 'create' })}\r\n            state={scrollStates[String(scrollToTop)]}\r\n            className={clsx(CreateButtonClasses.root, className)}\r\n            label={label}\r\n            variant={variant}\r\n            {...(rest as any)}\r\n        >\r\n            {icon}\r\n        </StyledButton>\r\n    );\r\n};\r\n\r\n// avoids using useMemo to get a constant value for the link state\r\nconst scrollStates = {\r\n    true: { _scrollToTop: true },\r\n    false: {},\r\n};\r\n\r\nconst defaultIcon = <ContentAdd />;\r\n\r\ninterface Props {\r\n    resource?: string;\r\n    icon?: ReactElement;\r\n    scrollToTop?: boolean;\r\n}\r\n\r\nexport type CreateButtonProps = Props & ButtonProps;\r\n\r\nCreateButton.propTypes = {\r\n    resource: PropTypes.string,\r\n    className: PropTypes.string,\r\n    icon: PropTypes.element,\r\n    label: PropTypes.string,\r\n};\r\n\r\nconst PREFIX = 'RaCreateButton';\r\n\r\nexport const CreateButtonClasses = {\r\n    root: `${PREFIX}-root`,\r\n    floating: `${PREFIX}-floating`,\r\n};\r\n\r\nconst StyledFab = (styled(Fab, {\r\n    name: PREFIX,\r\n    overridesResolver: (_props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`&.${CreateButtonClasses.floating}`]: {\r\n        color: theme.palette.getContrastText(theme.palette.primary.main),\r\n        margin: 0,\r\n        top: 'auto',\r\n        right: 20,\r\n        bottom: 60,\r\n        left: 'auto',\r\n        position: 'fixed',\r\n        zIndex: 1000,\r\n    },\r\n})) as unknown) as typeof Fab;\r\n\r\nconst StyledButton = styled(Button, {\r\n    name: PREFIX,\r\n    overridesResolver: (_props, styles) => styles.root,\r\n})({});\r\n\r\nexport default memo(CreateButton, (prevProps, nextProps) => {\r\n    return (\r\n        prevProps.resource === nextProps.resource &&\r\n        prevProps.label === nextProps.label &&\r\n        prevProps.translate === nextProps.translate &&\r\n        prevProps.disabled === nextProps.disabled &&\r\n        isEqual(prevProps.to, nextProps.to)\r\n    );\r\n});\r\n", "import * as React from 'react';\r\nimport { memo, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageEye from '@mui/icons-material/RemoveRedEye';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n    RaRecord,\r\n    useResourceContext,\r\n    useRecordContext,\r\n    useCreatePath,\r\n} from 'ra-core';\r\nimport isEqual from 'lodash/isEqual';\r\n\r\nimport { Button, ButtonProps } from './Button';\r\n\r\n/**\r\n * Opens the Show view of a given record\r\n *\r\n * @example // basic usage\r\n * import { ShowButton, useRecordContext } from 'react-admin';\r\n *\r\n * const CommentShowButton = () => {\r\n *     const record = useRecordContext();\r\n *     return (\r\n *         <ShowButton label=\"Show comment\" record={record} />\r\n *     );\r\n * };\r\n */\r\nconst ShowButton = <RecordType extends RaRecord = any>(\r\n    props: ShowButtonProps<RecordType>\r\n) => {\r\n    const {\r\n        icon = defaultIcon,\r\n        label = 'ra.action.show',\r\n        record: recordProp,\r\n        resource: resourceProp,\r\n        scrollToTop = true,\r\n        ...rest\r\n    } = props;\r\n    const resource = useResourceContext(props);\r\n    const record = useRecordContext(props);\r\n    const createPath = useCreatePath();\r\n    if (!record) return null;\r\n    return (\r\n        <Button\r\n            component={Link}\r\n            to={createPath({ type: 'show', resource, id: record.id })}\r\n            state={scrollStates[String(scrollToTop)]}\r\n            label={label}\r\n            onClick={stopPropagation}\r\n            {...(rest as any)}\r\n        >\r\n            {icon}\r\n        </Button>\r\n    );\r\n};\r\n\r\n// avoids using useMemo to get a constant value for the link state\r\nconst scrollStates = {\r\n    true: { _scrollToTop: true },\r\n    false: {},\r\n};\r\n\r\nconst defaultIcon = <ImageEye />;\r\n\r\n// useful to prevent click bubbling in a datagrid with rowClick\r\nconst stopPropagation = e => e.stopPropagation();\r\n\r\ninterface Props<RecordType extends RaRecord = any> {\r\n    icon?: ReactElement;\r\n    label?: string;\r\n    record?: RecordType;\r\n    resource?: string;\r\n    scrollToTop?: boolean;\r\n}\r\n\r\nexport type ShowButtonProps<RecordType extends RaRecord = any> = Props<\r\n    RecordType\r\n> &\r\n    ButtonProps;\r\n\r\nShowButton.propTypes = {\r\n    icon: PropTypes.element,\r\n    label: PropTypes.string,\r\n    record: PropTypes.any,\r\n    scrollToTop: PropTypes.bool,\r\n};\r\n\r\nconst PureShowButton = memo(\r\n    ShowButton,\r\n    (prevProps, nextProps) =>\r\n        prevProps.resource === nextProps.resource &&\r\n        (prevProps.record && nextProps.record\r\n            ? prevProps.record.id === nextProps.record.id\r\n            : prevProps.record == nextProps.record) && // eslint-disable-line eqeqeq\r\n        prevProps.label === nextProps.label &&\r\n        prevProps.disabled === nextProps.disabled &&\r\n        isEqual(prevProps.to, nextProps.to)\r\n);\r\n\r\nexport default PureShowButton;\r\n", "import * as React from 'react';\r\nimport { ReactElement, memo } from 'react';\r\nimport {\r\n    Button,\r\n    Menu,\r\n    MenuItem,\r\n    Tooltip,\r\n    IconButton,\r\n    useMediaQuery,\r\n    Theme,\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport SortIcon from '@mui/icons-material/Sort';\r\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\r\nimport {\r\n    useListSortContext,\r\n    useTranslate,\r\n    useTranslateLabel,\r\n    shallowEqual,\r\n} from 'ra-core';\r\n\r\n/**\r\n * A button allowing to change the sort field and order.\r\n *\r\n * To be used inside a ListContext (e.g. inside a <List> or <ReferenceManyField>)\r\n *\r\n * Expects one 'fields' prop, containing an array of field strings that shall\r\n * be used and displayed for sorting.\r\n *\r\n * When users clicks on the <SortButton>, they see a dropdown list with the\r\n * proposed sorting fields. Once they click on one of these fields, the related\r\n * list refreshes, re-sorted.\r\n *\r\n * @example\r\n *\r\n * import * as React from 'react';\r\n * import { TopToolbar, SortButton, CreateButton, ExportButton } from 'react-admin';\r\n *\r\n * const ListActions = () => (\r\n *     <TopToolbar>\r\n *         <SortButton fields={['reference', 'sales', 'stock']} />\r\n *         <CreateButton />\r\n *         <ExportButton />\r\n *     </TopToolbar>\r\n * );\r\n */\r\nconst SortButton = (props: SortButtonProps) => {\r\n    const { fields, label = 'ra.sort.sort_by', icon = defaultIcon } = props;\r\n    const { resource, sort, setSort } = useListSortContext();\r\n    const translate = useTranslate();\r\n    const translateLabel = useTranslateLabel();\r\n    const isXSmall = useMediaQuery((theme: Theme) =>\r\n        theme.breakpoints.down('sm')\r\n    );\r\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleChangeSort = (\r\n        event: React.MouseEvent<HTMLLIElement, MouseEvent>\r\n    ) => {\r\n        const field = event.currentTarget.dataset.sort;\r\n        setSort({\r\n            field,\r\n            order: field === sort.field ? inverseOrder(sort.order) : 'ASC',\r\n        });\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const buttonLabel = translate(label, {\r\n        field: translateLabel({\r\n            resource,\r\n            source: sort.field,\r\n        }),\r\n        order: translate(`ra.sort.${sort.order}`),\r\n        _: label,\r\n    });\r\n\r\n    return (\r\n        <>\r\n            {isXSmall ? (\r\n                <Tooltip title={buttonLabel}>\r\n                    <IconButton\r\n                        aria-label={buttonLabel}\r\n                        color=\"primary\"\r\n                        onClick={handleClick}\r\n                        size=\"large\"\r\n                    >\r\n                        {icon}\r\n                    </IconButton>\r\n                </Tooltip>\r\n            ) : (\r\n                <StyledButton\r\n                    aria-controls=\"simple-menu\"\r\n                    aria-haspopup=\"true\"\r\n                    color=\"primary\"\r\n                    onClick={handleClick}\r\n                    startIcon={icon}\r\n                    endIcon={<ArrowDropDownIcon />}\r\n                    size=\"small\"\r\n                >\r\n                    {buttonLabel}\r\n                </StyledButton>\r\n            )}\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {fields.map(field => (\r\n                    <MenuItem\r\n                        onClick={handleChangeSort}\r\n                        data-sort={field}\r\n                        key={field}\r\n                    >\r\n                        {translateLabel({\r\n                            resource,\r\n                            source: field,\r\n                        })}{' '}\r\n                        {translate(\r\n                            `ra.sort.${\r\n                                sort.field === field\r\n                                    ? inverseOrder(sort.order)\r\n                                    : 'ASC'\r\n                            }`\r\n                        )}\r\n                    </MenuItem>\r\n                ))}\r\n            </Menu>\r\n        </>\r\n    );\r\n};\r\n\r\nconst defaultIcon = <SortIcon />;\r\n\r\nconst inverseOrder = (sort: string) => (sort === 'ASC' ? 'DESC' : 'ASC');\r\n\r\nconst arePropsEqual = (prevProps, nextProps) =>\r\n    shallowEqual(prevProps.fields, nextProps.fields);\r\n\r\nexport interface SortButtonProps {\r\n    fields: string[];\r\n    icon?: ReactElement;\r\n    label?: string;\r\n    resource?: string;\r\n}\r\n\r\nconst StyledButton = styled(Button, {\r\n    name: 'RaSortButton',\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    '&.MuiButton-sizeSmall': {\r\n        // fix for icon misalignment on small buttons, see https://github.com/mui/material-ui/pull/30240\r\n        lineHeight: 1.5,\r\n    },\r\n    '& .MuiButton-endIcon': { ml: 0 },\r\n});\r\n\r\nexport default memo(SortButton, arePropsEqual);\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    BulkDeleteWithConfirmButton,\r\n    BulkDeleteWithConfirmButtonProps,\r\n} from './BulkDeleteWithConfirmButton';\r\nimport {\r\n    BulkDeleteWithUndoButton,\r\n    BulkDeleteWithUndoButtonProps,\r\n} from './BulkDeleteWithUndoButton';\r\nimport { MutationMode } from 'ra-core';\r\n\r\n/**\r\n * Deletes the selected rows.\r\n *\r\n * To be used inside the <List bulkActionButtons> prop (where it's enabled by default).\r\n *\r\n * @example // basic usage\r\n * import * as React from 'react';\r\n * import { Fragment } from 'react';\r\n * import { BulkDeleteButton, BulkExportButton } from 'react-admin';\r\n *\r\n * const PostBulkActionButtons = () => (\r\n *     <Fragment>\r\n *         <BulkExportButton />\r\n *         <BulkDeleteButton />\r\n *     </Fragment>\r\n * );\r\n *\r\n * export const PostList = () => (\r\n *     <List bulkActionButtons={<PostBulkActionButtons />}>\r\n *         ...\r\n *     </List>\r\n * );\r\n */\r\nexport const BulkDeleteButton = ({\r\n    mutationMode = 'undoable',\r\n    ...props\r\n}: BulkDeleteButtonProps) =>\r\n    mutationMode === 'undoable' ? (\r\n        <BulkDeleteWithUndoButton {...props} />\r\n    ) : (\r\n        <BulkDeleteWithConfirmButton mutationMode={mutationMode} {...props} />\r\n    );\r\n\r\ninterface Props {\r\n    mutationMode?: MutationMode;\r\n}\r\n\r\nexport type BulkDeleteButtonProps = Props &\r\n    (BulkDeleteWithUndoButtonProps | BulkDeleteWithConfirmButtonProps);\r\n\r\nBulkDeleteButton.propTypes = {\r\n    label: PropTypes.string,\r\n    resource: PropTypes.string,\r\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\r\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\r\n    icon: PropTypes.element,\r\n};\r\n", "import * as React from 'react';\r\nimport { Fragment, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ActionDelete from '@mui/icons-material/Delete';\r\nimport inflection from 'inflection';\r\nimport { alpha, styled } from '@mui/material/styles';\r\nimport {\r\n    MutationMode,\r\n    useDeleteMany,\r\n    useListContext,\r\n    useNotify,\r\n    useRefresh,\r\n    useResourceContext,\r\n    useTranslate,\r\n    useSafeSetState,\r\n    RaRecord,\r\n    DeleteManyParams,\r\n} from 'ra-core';\r\n\r\nimport { Confirm } from '../layout';\r\nimport { Button, ButtonProps } from './Button';\r\nimport { BulkActionProps } from '../types';\r\nimport { UseMutationOptions } from 'react-query';\r\n\r\nexport const BulkDeleteWithConfirmButton = (\r\n    props: BulkDeleteWithConfirmButtonProps\r\n) => {\r\n    const {\r\n        confirmTitle = 'ra.message.bulk_delete_title',\r\n        confirmContent = 'ra.message.bulk_delete_content',\r\n        icon = defaultIcon,\r\n        label = 'ra.action.delete',\r\n        mutationMode = 'pessimistic',\r\n        mutationOptions = {},\r\n        onClick,\r\n        ...rest\r\n    } = props;\r\n    const { meta: mutationMeta, ...otherMutationOptions } = mutationOptions;\r\n    const { selectedIds, onUnselectItems } = useListContext(props);\r\n    const [isOpen, setOpen] = useSafeSetState(false);\r\n    const notify = useNotify();\r\n    const resource = useResourceContext(props);\r\n    const refresh = useRefresh();\r\n    const translate = useTranslate();\r\n    const [deleteMany, { isLoading }] = useDeleteMany(\r\n        resource,\r\n        { ids: selectedIds, meta: mutationMeta },\r\n        {\r\n            onSuccess: () => {\r\n                refresh();\r\n                notify('ra.notification.deleted', {\r\n                    type: 'info',\r\n                    messageArgs: { smart_count: selectedIds.length },\r\n                    undoable: mutationMode === 'undoable',\r\n                });\r\n                onUnselectItems();\r\n                setOpen(false);\r\n            },\r\n            onError: (error: Error) => {\r\n                notify(\r\n                    typeof error === 'string'\r\n                        ? error\r\n                        : error.message || 'ra.notification.http_error',\r\n                    {\r\n                        type: 'error',\r\n                        messageArgs: {\r\n                            _:\r\n                                typeof error === 'string'\r\n                                    ? error\r\n                                    : error && error.message\r\n                                    ? error.message\r\n                                    : undefined,\r\n                        },\r\n                    }\r\n                );\r\n                setOpen(false);\r\n            },\r\n            mutationMode,\r\n            ...otherMutationOptions,\r\n        }\r\n    );\r\n\r\n    const handleClick = e => {\r\n        setOpen(true);\r\n        e.stopPropagation();\r\n    };\r\n\r\n    const handleDialogClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleDelete = e => {\r\n        deleteMany();\r\n\r\n        if (typeof onClick === 'function') {\r\n            onClick(e);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <StyledButton\r\n                onClick={handleClick}\r\n                label={label}\r\n                {...sanitizeRestProps(rest)}\r\n            >\r\n                {icon}\r\n            </StyledButton>\r\n            <Confirm\r\n                isOpen={isOpen}\r\n                loading={isLoading}\r\n                title={confirmTitle}\r\n                content={confirmContent}\r\n                translateOptions={{\r\n                    smart_count: selectedIds.length,\r\n                    name: translate(`resources.${resource}.forcedCaseName`, {\r\n                        smart_count: selectedIds.length,\r\n                        _: inflection.humanize(\r\n                            translate(`resources.${resource}.name`, {\r\n                                smart_count: selectedIds.length,\r\n                                _: inflection.inflect(\r\n                                    resource,\r\n                                    selectedIds.length\r\n                                ),\r\n                            }),\r\n                            true\r\n                        ),\r\n                    }),\r\n                }}\r\n                onConfirm={handleDelete}\r\n                onClose={handleDialogClose}\r\n            />\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nconst sanitizeRestProps = ({\r\n    classes,\r\n    filterValues,\r\n    label,\r\n    selectedIds,\r\n    ...rest\r\n}: Omit<\r\n    BulkDeleteWithConfirmButtonProps,\r\n    'resource' | 'icon' | 'mutationMode'\r\n>) => rest;\r\n\r\nexport interface BulkDeleteWithConfirmButtonProps<\r\n    RecordType extends RaRecord = any,\r\n    MutationOptionsError = unknown\r\n> extends BulkActionProps,\r\n        ButtonProps {\r\n    confirmContent?: React.ReactNode;\r\n    confirmTitle?: string;\r\n    icon?: ReactElement;\r\n    mutationMode: MutationMode;\r\n    mutationOptions?: UseMutationOptions<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        DeleteManyParams<RecordType>\r\n    > & { meta?: any };\r\n}\r\n\r\nconst PREFIX = 'RaBulkDeleteWithConfirmButton';\r\n\r\nconst StyledButton = styled(Button, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    color: theme.palette.error.main,\r\n    '&:hover': {\r\n        backgroundColor: alpha(theme.palette.error.main, 0.12),\r\n        // Reset on mouse devices\r\n        '@media (hover: none)': {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n}));\r\n\r\nconst defaultIcon = <ActionDelete />;\r\n\r\nBulkDeleteWithConfirmButton.propTypes = {\r\n    confirmTitle: PropTypes.string,\r\n    confirmContent: PropTypes.string,\r\n    icon: PropTypes.element,\r\n    label: PropTypes.string,\r\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\r\n    resource: PropTypes.string,\r\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\r\n};\r\n", "import * as React from 'react';\r\nimport { FC } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Children, memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    AppBar as MuiAppBar,\r\n    AppBarProps as MuiAppBarProps,\r\n    Toolbar,\r\n    useMediaQuery,\r\n    Theme,\r\n} from '@mui/material';\r\nimport { ComponentPropType, useLocales } from 'ra-core';\r\n\r\nimport { SidebarToggleButton } from './SidebarToggleButton';\r\nimport { LoadingIndicator } from './LoadingIndicator';\r\nimport { UserMenu } from './UserMenu';\r\nimport { HideOnScroll } from './HideOnScroll';\r\nimport { TitlePortal } from './TitlePortal';\r\nimport { LocalesMenuButton } from '../button';\r\nimport { useThemesContext } from './Theme/useThemesContext';\r\nimport { ToggleThemeButton } from '../button/ToggleThemeButton';\r\n\r\n/**\r\n * The AppBar component renders a custom MuiAppBar.\r\n *\r\n * @param {Object} props\r\n * @param {ReactNode} props.children React node/s to be rendered as children of the AppBar\r\n * @param {string} props.className CSS class applied to the MuiAppBar component\r\n * @param {string} props.color The color of the AppBar\r\n * @param {Element | boolean} props.userMenu A custom user menu component for the AppBar. <UserMenu/> component by default. Pass false to disable.\r\n *\r\n * @example // add a custom button to the AppBar\r\n *\r\n * const MyAppBar = () => (\r\n *   <AppBar>\r\n *     <TitlePortal />\r\n *     <MyCustomButton />\r\n *   </AppBar>\r\n * );\r\n *\r\n * @example // without a user menu\r\n *\r\n * const MyAppBar = () => <AppBar userMenu={false} />;\r\n */\r\nexport const AppBar: FC<AppBarProps> = memo(props => {\r\n    const {\r\n        alwaysOn,\r\n        children,\r\n        className,\r\n        color = 'secondary',\r\n        open,\r\n        title,\r\n        toolbar = defaultToolbarElement,\r\n        userMenu = DefaultUserMenu,\r\n        container: Container = alwaysOn ? 'div' : HideOnScroll,\r\n        ...rest\r\n    } = props;\r\n\r\n    const isXSmall = useMediaQuery<Theme>(theme =>\r\n        theme.breakpoints.down('sm')\r\n    );\r\n\r\n    return (\r\n        <Container className={className}>\r\n            <StyledAppBar\r\n                className={AppBarClasses.appBar}\r\n                color={color}\r\n                {...rest}\r\n            >\r\n                <Toolbar\r\n                    disableGutters\r\n                    variant={isXSmall ? 'regular' : 'dense'}\r\n                    className={AppBarClasses.toolbar}\r\n                >\r\n                    <SidebarToggleButton className={AppBarClasses.menuButton} />\r\n                    {Children.count(children) === 0 ? (\r\n                        <TitlePortal className={AppBarClasses.title} />\r\n                    ) : (\r\n                        children\r\n                    )}\r\n                    {toolbar}\r\n                    {typeof userMenu === 'boolean' ? (\r\n                        userMenu === true ? (\r\n                            <UserMenu />\r\n                        ) : null\r\n                    ) : (\r\n                        userMenu\r\n                    )}\r\n                </Toolbar>\r\n            </StyledAppBar>\r\n        </Container>\r\n    );\r\n});\r\n\r\nconst DefaultToolbar = () => {\r\n    const locales = useLocales();\r\n    const { darkTheme } = useThemesContext();\r\n    return (\r\n        <>\r\n            {locales && locales.length > 1 ? <LocalesMenuButton /> : null}\r\n            {darkTheme && <ToggleThemeButton />}\r\n            <LoadingIndicator />\r\n        </>\r\n    );\r\n};\r\n\r\nconst defaultToolbarElement = <DefaultToolbar />;\r\n\r\nAppBar.propTypes = {\r\n    alwaysOn: PropTypes.bool,\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    color: PropTypes.oneOf([\r\n        'default',\r\n        'inherit',\r\n        'primary',\r\n        'secondary',\r\n        'transparent',\r\n    ]),\r\n    container: ComponentPropType,\r\n    /**\r\n     * @deprecated\r\n     */\r\n    open: PropTypes.bool,\r\n    toolbar: PropTypes.element,\r\n    userMenu: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\r\n};\r\n\r\nconst DefaultUserMenu = <UserMenu />;\r\n\r\nexport interface AppBarProps extends Omit<MuiAppBarProps, 'title'> {\r\n    /**\r\n     * This prop is injected by Layout. You should not use it directly unless\r\n     * you are using a custom layout.\r\n     * If you are using the default layout, use `<Layout appBarAlwaysOn>` instead.\r\n     */\r\n    alwaysOn?: boolean;\r\n    container?: React.ElementType<any>;\r\n    /**\r\n     * @deprecated injected by Layout but not used by this AppBar\r\n     */\r\n    open?: boolean;\r\n    /**\r\n     * @deprecated injected by Layout but not used by this AppBar\r\n     */\r\n    title?: string | JSX.Element;\r\n    toolbar?: JSX.Element;\r\n    userMenu?: JSX.Element | boolean;\r\n}\r\n\r\nconst PREFIX = 'RaAppBar';\r\n\r\nexport const AppBarClasses = {\r\n    appBar: `${PREFIX}-appBar`,\r\n    toolbar: `${PREFIX}-toolbar`,\r\n    menuButton: `${PREFIX}-menuButton`,\r\n    menuButtonIconClosed: `${PREFIX}-menuButtonIconClosed`,\r\n    menuButtonIconOpen: `${PREFIX}-menuButtonIconOpen`,\r\n    title: `${PREFIX}-title`,\r\n};\r\n\r\nconst StyledAppBar = styled(MuiAppBar, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${AppBarClasses.toolbar}`]: {\r\n        padding: `0 ${theme.spacing(1)}`,\r\n        [theme.breakpoints.down('md')]: {\r\n            minHeight: theme.spacing(6),\r\n        },\r\n    },\r\n    [`& .${AppBarClasses.menuButton}`]: {\r\n        marginRight: '0.2em',\r\n    },\r\n    [`& .${AppBarClasses.title}`]: {},\r\n}));\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { IconButton, Tooltip } from '@mui/material';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport { useTranslate } from 'ra-core';\r\n\r\nimport { useSidebarState } from './useSidebarState';\r\n\r\n/**\r\n * A button that toggles the sidebar. Used by default in the <AppBar>.\r\n * @param props The component props\r\n * @param {String} props.className An optional class name to apply to the button\r\n */\r\nexport const SidebarToggleButton = (props: SidebarToggleButtonProps) => {\r\n    const translate = useTranslate();\r\n\r\n    const { className } = props;\r\n    const [open, setOpen] = useSidebarState();\r\n\r\n    return (\r\n        <Tooltip\r\n            className={className}\r\n            title={translate(\r\n                open ? 'ra.action.close_menu' : 'ra.action.open_menu',\r\n                { _: 'Open/Close menu' }\r\n            )}\r\n            enterDelay={500}\r\n        >\r\n            <StyledIconButton color=\"inherit\" onClick={() => setOpen(!open)}>\r\n                <MenuIcon\r\n                    classes={{\r\n                        root: open\r\n                            ? SidebarToggleButtonClasses.menuButtonIconOpen\r\n                            : SidebarToggleButtonClasses.menuButtonIconClosed,\r\n                    }}\r\n                />\r\n            </StyledIconButton>\r\n        </Tooltip>\r\n    );\r\n};\r\n\r\nexport type SidebarToggleButtonProps = {\r\n    className?: string;\r\n};\r\n\r\nconst PREFIX = 'RaSidebarToggleButton';\r\n\r\nexport const SidebarToggleButtonClasses = {\r\n    menuButtonIconClosed: `${PREFIX}-menuButtonIconClosed`,\r\n    menuButtonIconOpen: `${PREFIX}-menuButtonIconOpen`,\r\n};\r\n\r\nconst StyledIconButton = styled(IconButton, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${SidebarToggleButtonClasses.menuButtonIconClosed}`]: {\r\n        transition: theme.transitions.create(['transform'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        transform: 'rotate(0deg)',\r\n    },\r\n\r\n    [`& .${SidebarToggleButtonClasses.menuButtonIconOpen}`]: {\r\n        transition: theme.transitions.create(['transform'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        transform: 'rotate(180deg)',\r\n    },\r\n}));\r\n", "import { useStore } from 'ra-core';\r\nimport { useMediaQuery, Theme } from '@mui/material';\r\n\r\n/**\r\n * A hook that returns the sidebar open state and a function to toggle it.\r\n *\r\n * The sidebar is open by default on desktop, and closed by default on mobile.\r\n *\r\n * @example\r\n * const ToggleSidebar = () => {\r\n *     const [open, setOpen] = useSidebarState();\r\n *     return (\r\n *         <Button onClick={() => setOpen(!open)}>\r\n *             {open ? 'Open' : 'Close'}\r\n *         </Button>\r\n *     );\r\n * };\r\n */\r\nexport const useSidebarState = (): useSidebarStateResult => {\r\n    const isXSmall = useMediaQuery<Theme>(\r\n        theme => theme?.breakpoints.down('sm'),\r\n        { noSsr: true }\r\n    );\r\n    return useStore<boolean>('sidebar.open', isXSmall ? false : true);\r\n};\r\n\r\nexport type useSidebarStateResult = [boolean, (open: boolean) => void];\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport { useLoading } from 'ra-core';\r\n\r\nimport { RefreshIconButton } from '../button';\r\nimport { SxProps } from '@mui/system';\r\n\r\nexport const LoadingIndicator = (props: LoadingIndicatorProps) => {\r\n    const { className, sx, ...rest } = props;\r\n    const loading = useLoading();\r\n\r\n    const theme = useTheme();\r\n    return (\r\n        <Root className={className} sx={sx}>\r\n            {loading ? (\r\n                <CircularProgress\r\n                    className={clsx(\r\n                        'app-loader',\r\n                        LoadingIndicatorClasses.loader\r\n                    )}\r\n                    color=\"inherit\"\r\n                    size={theme.spacing(2)}\r\n                    thickness={6}\r\n                    {...rest}\r\n                />\r\n            ) : (\r\n                <RefreshIconButton\r\n                    className={LoadingIndicatorClasses.loadedIcon}\r\n                />\r\n            )}\r\n        </Root>\r\n    );\r\n};\r\n\r\nLoadingIndicator.propTypes = {\r\n    classes: PropTypes.object,\r\n    className: PropTypes.string,\r\n    width: PropTypes.string,\r\n};\r\n\r\ninterface LoadingIndicatorProps {\r\n    className?: string;\r\n    sx?: SxProps;\r\n}\r\n\r\nconst PREFIX = 'RaLoadingIndicator';\r\n\r\nexport const LoadingIndicatorClasses = {\r\n    loader: `${PREFIX}-loader`,\r\n    loadedIcon: `${PREFIX}-loadedIcon`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${LoadingIndicatorClasses.loader}`]: {\r\n        marginLeft: theme.spacing(1.5),\r\n        marginRight: theme.spacing(1.5),\r\n    },\r\n\r\n    [`& .${LoadingIndicatorClasses.loadedIcon}`]: {},\r\n}));\r\n", "import * as React from 'react';\r\nimport { ReactNode, useCallback, useMemo, useState } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { useAuthProvider, useGetIdentity, useTranslate } from 'ra-core';\r\nimport {\r\n    Tooltip,\r\n    IconButton,\r\n    Menu,\r\n    Button,\r\n    Avatar,\r\n    PopoverOrigin,\r\n    useMediaQuery,\r\n    Theme,\r\n} from '@mui/material';\r\nimport AccountCircle from '@mui/icons-material/AccountCircle';\r\nimport { UserMenuContextProvider } from './UserMenuContextProvider';\r\nimport { Logout } from '../auth/Logout';\r\n\r\n/**\r\n * The UserMenu component renders a Mui Button that shows a Menu.\r\n * It accepts children that must be Mui MenuItem components.\r\n *\r\n * @example\r\n * import { Logout, UserMenu, useUserMenu } from 'react-admin';\r\n * import MenuItem from '@mui/material/MenuItem';\r\n * import ListItemIcon from '@mui/material/ListItemIcon';\r\n * import ListItemText from '@mui/material/ListItemText';\r\n * import SettingsIcon from '@mui/icons-material/Settings';\r\n\r\n * const ConfigurationMenu = React.forwardRef((props, ref) => {\r\n *     const { onClose } = useUserMenu();\r\n *     return (\r\n *         <MenuItem\r\n *             ref={ref}\r\n *             {...props}\r\n *             to=\"/configuration\"\r\n *             onClick={onClose}\r\n *         >\r\n *             <ListItemIcon>\r\n *                 <SettingsIcon />\r\n *             </ListItemIcon>\r\n *             <ListItemText>Configuration</ListItemText>\r\n *         </MenuItem>\r\n *     );\r\n * });\r\n *\r\n * export const MyUserMenu = () => (\r\n *     <UserMenu>\r\n *         <ConfigurationMenu />\r\n *         <Logout />\r\n *     </UserMenu>\r\n * );\r\n * @param props\r\n * @param {ReactNode} props.children React node/s to be rendered as children of the UserMenu. Must be Mui MenuItem components\r\n * @param {string} props.className CSS class applied to the MuiAppBar component\r\n * @param {string} props.label The label of the UserMenu button. Accepts translation keys\r\n * @param {Element} props.icon The icon of the UserMenu button.\r\n *\r\n */\r\nexport const UserMenu = (props: UserMenuProps) => {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const translate = useTranslate();\r\n    const { isLoading, identity } = useGetIdentity();\r\n    const authProvider = useAuthProvider();\r\n    const isLargeEnough = useMediaQuery<Theme>(theme =>\r\n        theme.breakpoints.up('sm')\r\n    );\r\n\r\n    const {\r\n        children = !!authProvider ? <Logout /> : null,\r\n        className,\r\n        label = 'ra.auth.user_menu',\r\n        icon = defaultIcon,\r\n    } = props;\r\n\r\n    const handleMenu = event => setAnchorEl(event.currentTarget);\r\n    const handleClose = useCallback(() => setAnchorEl(null), []);\r\n    const context = useMemo(() => ({ onClose: handleClose }), [handleClose]);\r\n    if (!children) return null;\r\n    const open = Boolean(anchorEl);\r\n\r\n    return (\r\n        <Root className={className}>\r\n            {isLargeEnough && !isLoading && identity?.fullName ? (\r\n                <Button\r\n                    aria-label={label && translate(label, { _: label })}\r\n                    className={UserMenuClasses.userButton}\r\n                    color=\"inherit\"\r\n                    startIcon={\r\n                        identity.avatar ? (\r\n                            <Avatar\r\n                                className={UserMenuClasses.avatar}\r\n                                src={identity.avatar}\r\n                                alt={identity.fullName}\r\n                            />\r\n                        ) : (\r\n                            icon\r\n                        )\r\n                    }\r\n                    onClick={handleMenu}\r\n                >\r\n                    {identity.fullName}\r\n                </Button>\r\n            ) : (\r\n                <Tooltip title={label && translate(label, { _: 'Profile' })}>\r\n                    <IconButton\r\n                        aria-label={label && translate(label, { _: 'Profile' })}\r\n                        aria-owns={open ? 'menu-appbar' : null}\r\n                        aria-haspopup={true}\r\n                        color=\"inherit\"\r\n                        onClick={handleMenu}\r\n                    >\r\n                        {!isLoading && identity?.avatar ? (\r\n                            <Avatar\r\n                                className={UserMenuClasses.avatar}\r\n                                src={identity.avatar}\r\n                                alt={identity.fullName}\r\n                            />\r\n                        ) : (\r\n                            icon\r\n                        )}\r\n                    </IconButton>\r\n                </Tooltip>\r\n            )}\r\n            <UserMenuContextProvider value={context}>\r\n                <Menu\r\n                    id=\"menu-appbar\"\r\n                    disableScrollLock\r\n                    anchorEl={anchorEl}\r\n                    anchorOrigin={AnchorOrigin}\r\n                    transformOrigin={TransformOrigin}\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                >\r\n                    {children}\r\n                </Menu>\r\n            </UserMenuContextProvider>\r\n        </Root>\r\n    );\r\n};\r\n\r\nUserMenu.propTypes = {\r\n    children: PropTypes.node,\r\n    classes: PropTypes.object,\r\n    label: PropTypes.string,\r\n    icon: PropTypes.node,\r\n};\r\n\r\nexport interface UserMenuProps {\r\n    children?: ReactNode;\r\n    className?: string;\r\n    label?: string;\r\n    icon?: ReactNode;\r\n}\r\n\r\nconst PREFIX = 'RaUserMenu';\r\n\r\nexport const UserMenuClasses = {\r\n    userButton: `${PREFIX}-userButton`,\r\n    avatar: `${PREFIX}-avatar`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${UserMenuClasses.userButton}`]: {\r\n        textTransform: 'none',\r\n        marginInlineStart: theme.spacing(0.5),\r\n    },\r\n\r\n    [`& .${UserMenuClasses.avatar}`]: {\r\n        width: theme.spacing(4),\r\n        height: theme.spacing(4),\r\n    },\r\n}));\r\n\r\nconst defaultIcon = <AccountCircle />;\r\n\r\nconst AnchorOrigin: PopoverOrigin = {\r\n    vertical: 'bottom',\r\n    horizontal: 'right',\r\n};\r\n\r\nconst TransformOrigin: PopoverOrigin = {\r\n    vertical: 'top',\r\n    horizontal: 'right',\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { UserMenuContext, UserMenuContextValue } from './UserMenuContext';\r\n\r\n/**\r\n * A React context provider that provides access to the user menu context.\r\n * @param props\r\n * @param {ReactNode} props.children\r\n * @param {UserMenuContextValue} props.value The user menu context\r\n */\r\nexport const UserMenuContextProvider = ({ children, value }) => (\r\n    <UserMenuContext.Provider value={value}>\r\n        {children}\r\n    </UserMenuContext.Provider>\r\n);\r\n\r\nexport type UserMenuContextProviderProps = {\r\n    children: ReactNode;\r\n    value: UserMenuContextValue;\r\n};\r\n", "import { createContext } from 'react';\r\n\r\n/**\r\n * This context provides access to a function for closing the user menu.\r\n *\r\n * @example\r\n * import { Logout, MenuItemLink, UserMenu, useUserMenu } from 'react-admin';\r\n *\r\n * const ConfigurationMenu = () => {\r\n *     const { onClose } = useUserMenu();\r\n *     return (\r\n *         <MenuItemLink\r\n *             to=\"/configuration\"\r\n *             primaryText=\"pos.configuration\"\r\n *             leftIcon={<SettingsIcon />}\r\n *             sidebarIsOpen\r\n *             onClick={onClose}\r\n *         />\r\n *     );\r\n * };\r\n *\r\n * export const MyUserMenu = () => (\r\n *     <UserMenu>\r\n *         <ConfigurationMenu />\r\n *         <Logout />\r\n *     </UserMenu>\r\n * );\r\n */\r\nexport const UserMenuContext = createContext<UserMenuContextValue>(undefined);\r\n\r\nexport type UserMenuContextValue = {\r\n    /**\r\n     * Closes the user menu\r\n     * @see UserMenu\r\n     */\r\n    onClose: () => void;\r\n};\r\n", "import * as React from 'react';\r\nimport { styled, Theme } from '@mui/material/styles';\r\nimport { useCallback, FunctionComponent, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    ListItemIcon,\r\n    ListItemText,\r\n    MenuItem,\r\n    useMediaQuery,\r\n} from '@mui/material';\r\nimport { MenuItemProps } from '@mui/material/MenuItem';\r\n\r\nimport ExitIcon from '@mui/icons-material/PowerSettingsNew';\r\nimport clsx from 'clsx';\r\nimport { useTranslate, useLogout, useAuthState } from 'ra-core';\r\n\r\n/**\r\n * Logout button component, to be passed to the Admin component\r\n *\r\n * Used for the Logout Menu item in the sidebar\r\n */\r\nexport const Logout: FunctionComponent<\r\n    LogoutProps & MenuItemProps<'li'>\r\n> = React.forwardRef(function Logout(props, ref) {\r\n    const { className, redirectTo, icon, ...rest } = props;\r\n\r\n    const { authenticated } = useAuthState();\r\n    const isXSmall = useMediaQuery((theme: Theme) =>\r\n        theme.breakpoints.down('sm')\r\n    );\r\n    const translate = useTranslate();\r\n    const logout = useLogout();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    const handleClick = useCallback(() => logout(null, redirectTo, false), [\r\n        redirectTo,\r\n        logout,\r\n    ]);\r\n\r\n    if (!authenticated) return null;\r\n\r\n    return (\r\n        <StyledMenuItem\r\n            className={clsx('logout', className)}\r\n            onClick={handleClick}\r\n            ref={ref}\r\n            // @ts-ignore\r\n            component={isXSmall ? 'span' : 'li'}\r\n            {...rest}\r\n        >\r\n            <ListItemIcon className={LogoutClasses.icon}>\r\n                {icon ? icon : <ExitIcon fontSize=\"small\" />}\r\n            </ListItemIcon>\r\n            <ListItemText>\r\n                {translate('ra.auth.logout', { _: 'Logout' })}\r\n            </ListItemText>\r\n        </StyledMenuItem>\r\n    );\r\n});\r\n\r\nLogout.propTypes = {\r\n    className: PropTypes.string,\r\n    redirectTo: PropTypes.string,\r\n    icon: PropTypes.element,\r\n};\r\n\r\nconst PREFIX = 'RaLogout';\r\n\r\nexport const LogoutClasses = {\r\n    icon: `${PREFIX}-icon`,\r\n};\r\n\r\nconst StyledMenuItem = styled(MenuItem, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    [`& .${LogoutClasses.icon}`]: {},\r\n});\r\n\r\nexport interface LogoutProps {\r\n    className?: string;\r\n    redirectTo?: string;\r\n    icon?: ReactElement;\r\n}\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport useScrollTrigger from '@mui/material/useScrollTrigger';\r\nimport Slide from '@mui/material/Slide';\r\n\r\nexport const HideOnScroll = (props: HideOnScrollProps) => {\r\n    const { children, className } = props;\r\n    const trigger = useScrollTrigger();\r\n    return (\r\n        <Slide\r\n            appear={false}\r\n            direction=\"down\"\r\n            in={!trigger}\r\n            className={className}\r\n        >\r\n            {children}\r\n        </Slide>\r\n    );\r\n};\r\n\r\nHideOnScroll.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    className: PropTypes.string,\r\n};\r\n\r\nexport interface HideOnScrollProps {\r\n    children: React.ReactElement;\r\n    className?: string;\r\n}\r\n", "import * as React from 'react';\r\nimport { Typography } from '@mui/material';\r\n\r\nexport const TitlePortal = ({ className }: { className?: string }) => (\r\n    <Typography\r\n        flex=\"1\"\r\n        textOverflow=\"ellipsis\"\r\n        whiteSpace=\"nowrap\"\r\n        overflow=\"hidden\"\r\n        variant=\"h6\"\r\n        color=\"inherit\"\r\n        id=\"react-admin-title\"\r\n        className={className}\r\n    />\r\n);\r\n", "import { useContext } from 'react';\r\n\r\nimport { ThemesContext } from './ThemesContext';\r\nimport { RaThemeOptions } from './types';\r\n\r\nexport const useThemesContext = (params?: UseThemesContextParams) => {\r\n    const { lightTheme, darkTheme, defaultTheme } = params || {};\r\n    const context = useContext(ThemesContext);\r\n    return {\r\n        lightTheme: lightTheme || context.lightTheme,\r\n        darkTheme: darkTheme || context.darkTheme,\r\n        defaultTheme: defaultTheme ?? context.defaultTheme,\r\n    };\r\n};\r\n\r\nexport interface UseThemesContextParams {\r\n    lightTheme?: RaThemeOptions;\r\n    darkTheme?: RaThemeOptions;\r\n    defaultTheme?: 'dark' | 'light';\r\n    [key: string]: any;\r\n}\r\n", "import { createContext } from 'react';\r\nimport { RaThemeOptions } from './types';\r\n\r\nexport const ThemesContext = createContext<ThemesContextValue>({});\r\n\r\nexport interface ThemesContextValue {\r\n    darkTheme?: RaThemeOptions;\r\n    lightTheme?: RaThemeOptions;\r\n    defaultTheme?: 'dark' | 'light';\r\n}\r\n", "import React from 'react';\r\nimport { Tooltip, IconButton, useMediaQuery } from '@mui/material';\r\nimport Brightness4Icon from '@mui/icons-material/Brightness4';\r\nimport Brightness7Icon from '@mui/icons-material/Brightness7';\r\nimport { useTranslate } from 'ra-core';\r\n\r\nimport { ToggleThemeLegacyButton } from './ToggleThemeLegacyButton';\r\nimport { RaThemeOptions, useThemesContext, useTheme } from '../layout';\r\n\r\n/**\r\n * Button toggling the theme (light or dark).\r\n *\r\n * Enabled by default in the <AppBar> when the <Admin> component has a darkMode.\r\n *\r\n * @example\r\n * import { AppBar, ToggleThemeButton } from 'react-admin';\r\n *\r\n * const MyAppBar = () => (\r\n *     <AppBar toolbar={<ToggleThemeButton />} />\r\n * );\r\n *\r\n * const MyLayout = props => <Layout {...props} appBar={MyAppBar} />;\r\n */\r\nexport const ToggleThemeButton = (props: ToggleThemeButtonProps) => {\r\n    const translate = useTranslate();\r\n    const { darkTheme, defaultTheme } = useThemesContext(props);\r\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)', {\r\n        noSsr: true,\r\n    });\r\n    const [theme, setTheme] = useTheme(\r\n        defaultTheme || (prefersDarkMode && darkTheme ? 'dark' : 'light')\r\n    );\r\n\r\n    // FIXME: remove in v5\r\n    if (props.darkTheme) {\r\n        return (\r\n            <ToggleThemeLegacyButton\r\n                darkTheme={props.darkTheme}\r\n                lightTheme={props.lightTheme}\r\n            />\r\n        );\r\n    }\r\n\r\n    const handleTogglePaletteType = (): void => {\r\n        setTheme(theme === 'dark' ? 'light' : 'dark');\r\n    };\r\n    const toggleThemeTitle = translate('ra.action.toggle_theme', {\r\n        _: 'Toggle Theme',\r\n    });\r\n\r\n    return (\r\n        <Tooltip title={toggleThemeTitle} enterDelay={300}>\r\n            <IconButton\r\n                color=\"inherit\"\r\n                onClick={handleTogglePaletteType}\r\n                aria-label={toggleThemeTitle}\r\n            >\r\n                {theme === 'dark' ? <Brightness7Icon /> : <Brightness4Icon />}\r\n            </IconButton>\r\n        </Tooltip>\r\n    );\r\n};\r\n\r\nexport interface ToggleThemeButtonProps {\r\n    /**\r\n     * @deprecated Set the lightTheme in the `<Admin>` component instead.\r\n     */\r\n    lightTheme?: RaThemeOptions;\r\n    /**\r\n     * @deprecated Set the darkTheme in the `<Admin>` component instead.\r\n     */\r\n    darkTheme?: RaThemeOptions;\r\n}\r\n", "import React from 'react';\r\nimport { Tooltip, IconButton } from '@mui/material';\r\nimport Brightness4Icon from '@mui/icons-material/Brightness4';\r\nimport Brightness7Icon from '@mui/icons-material/Brightness7';\r\nimport { useTranslate } from 'ra-core';\r\nimport { useTheme } from '../layout';\r\nimport { RaThemeOptions } from '..';\r\n\r\n/**\r\n * Button toggling the theme (light or dark).\r\n *\r\n * @deprecated Set the lightTheme and darkTheme props in the <Admin> component.\r\n *\r\n * @example\r\n * import { AppBar, TitlePortal, ToggleThemeLegacyButton } from 'react-admin';\r\n *\r\n * const MyAppBar = () => (\r\n *     <AppBar>\r\n *         <TitlePortal />\r\n *         <ToggleThemeButton lightTheme={lightTheme} darkTheme={darkTheme} />\r\n *     </AppBar>\r\n * );\r\n *\r\n * const MyLayout = props => <Layout {...props} appBar={MyAppBar} />;\r\n */\r\nexport const ToggleThemeLegacyButton = (\r\n    props: ToggleThemeLegacyButtonProps\r\n) => {\r\n    const translate = useTranslate();\r\n    const { darkTheme, lightTheme } = props;\r\n    const [theme, setTheme] = useTheme();\r\n    // @ts-ignore\r\n    const isDark = theme === 'dark' || theme?.palette.mode === 'dark';\r\n\r\n    const handleTogglePaletteType = (): void => {\r\n        setTheme(isDark ? lightTheme : darkTheme);\r\n    };\r\n    const toggleThemeTitle = translate('ra.action.toggle_theme', {\r\n        _: 'Toggle Theme',\r\n    });\r\n\r\n    return (\r\n        <Tooltip title={toggleThemeTitle} enterDelay={300}>\r\n            <IconButton\r\n                color=\"inherit\"\r\n                onClick={handleTogglePaletteType}\r\n                aria-label={toggleThemeTitle}\r\n            >\r\n                {isDark ? <Brightness7Icon /> : <Brightness4Icon />}\r\n            </IconButton>\r\n        </Tooltip>\r\n    );\r\n};\r\n\r\nexport interface ToggleThemeLegacyButtonProps {\r\n    darkTheme: RaThemeOptions;\r\n    lightTheme?: RaThemeOptions;\r\n}\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport CardContent from '@mui/material/CardContent';\r\n\r\n/**\r\n * Overrides Material UI CardContent to allow inner content\r\n *\r\n * When using several CardContent inside the same Card, the top and bottom\r\n * padding double the spacing between each CardContent, leading to too much\r\n * wasted space. Use this component as a CardContent alternative.\r\n */\r\nexport const CardContentInner = (props: CardContentInnerProps): JSX.Element => {\r\n    const { className, children } = props;\r\n\r\n    return <Root className={className}>{children}</Root>;\r\n};\r\n\r\nCardContentInner.propTypes = {\r\n    className: PropTypes.string,\r\n    classes: PropTypes.object,\r\n    children: PropTypes.node,\r\n};\r\n\r\nexport interface CardContentInnerProps {\r\n    className?: string;\r\n    children: ReactNode;\r\n}\r\n\r\nconst PREFIX = 'RaCardContentInner';\r\n\r\nexport const CardContentInnerClasses = {\r\n    root: `${PREFIX}-root`,\r\n};\r\n\r\nconst Root = styled(CardContent, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    paddingTop: 0,\r\n    paddingBottom: 0,\r\n    '&:first-of-type': {\r\n        paddingTop: 16,\r\n    },\r\n    '&:last-child': {\r\n        paddingBottom: 16,\r\n        [theme.breakpoints.only('xs')]: {\r\n            paddingBottom: 70,\r\n        },\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { useCallback, MouseEventHandler } from 'react';\r\nimport PropTypes, { ReactComponentLike } from 'prop-types';\r\nimport Dialog, { DialogProps } from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Button from '@mui/material/Button';\r\nimport { alpha } from '@mui/material/styles';\r\nimport ActionCheck from '@mui/icons-material/CheckCircle';\r\nimport AlertError from '@mui/icons-material/ErrorOutline';\r\nimport clsx from 'clsx';\r\nimport { useTranslate } from 'ra-core';\r\n\r\n/**\r\n * Confirmation dialog\r\n *\r\n * @example\r\n * <Confirm\r\n *     isOpen={true}\r\n *     title=\"Delete Item\"\r\n *     content=\"Are you sure you want to delete this item?\"\r\n *     confirm=\"Yes\"\r\n *     confirmColor=\"primary\"\r\n *     ConfirmIcon=ActionCheck\r\n *     CancelIcon=AlertError\r\n *     cancel=\"Cancel\"\r\n *     onConfirm={() => { // do something }}\r\n *     onClose={() => { // do something }}\r\n * />\r\n */\r\nexport const Confirm = (props: ConfirmProps) => {\r\n    const {\r\n        className,\r\n        isOpen = false,\r\n        loading,\r\n        title,\r\n        content,\r\n        cancel = 'ra.action.cancel',\r\n        confirm = 'ra.action.confirm',\r\n        confirmColor = 'primary',\r\n        ConfirmIcon = ActionCheck,\r\n        CancelIcon = AlertError,\r\n        onClose,\r\n        onConfirm,\r\n        translateOptions = {},\r\n        ...rest\r\n    } = props;\r\n\r\n    const translate = useTranslate();\r\n\r\n    const handleConfirm = useCallback(\r\n        e => {\r\n            e.stopPropagation();\r\n            onConfirm(e);\r\n        },\r\n        [onConfirm]\r\n    );\r\n\r\n    const handleClick = useCallback(e => {\r\n        e.stopPropagation();\r\n    }, []);\r\n\r\n    return (\r\n        <StyledDialog\r\n            className={className}\r\n            open={isOpen}\r\n            onClose={onClose}\r\n            onClick={handleClick}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            {...rest}\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">\r\n                {translate(title, { _: title, ...translateOptions })}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                {typeof content === 'string' ? (\r\n                    <DialogContentText>\r\n                        {translate(content, {\r\n                            _: content,\r\n                            ...translateOptions,\r\n                        })}\r\n                    </DialogContentText>\r\n                ) : (\r\n                    content\r\n                )}\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button\r\n                    disabled={loading}\r\n                    onClick={onClose}\r\n                    startIcon={<CancelIcon />}\r\n                >\r\n                    {translate(cancel, { _: cancel })}\r\n                </Button>\r\n                <Button\r\n                    disabled={loading}\r\n                    onClick={handleConfirm}\r\n                    className={clsx('ra-confirm', {\r\n                        [ConfirmClasses.confirmWarning]:\r\n                            confirmColor === 'warning',\r\n                        [ConfirmClasses.confirmPrimary]:\r\n                            confirmColor === 'primary',\r\n                    })}\r\n                    autoFocus\r\n                    startIcon={<ConfirmIcon />}\r\n                >\r\n                    {translate(confirm, { _: confirm })}\r\n                </Button>\r\n            </DialogActions>\r\n        </StyledDialog>\r\n    );\r\n};\r\n\r\nexport interface ConfirmProps extends Omit<DialogProps, 'open' | 'onClose'> {\r\n    cancel?: string;\r\n    className?: string;\r\n    confirm?: string;\r\n    confirmColor?: string;\r\n    ConfirmIcon?: ReactComponentLike;\r\n    CancelIcon?: ReactComponentLike;\r\n    content: React.ReactNode;\r\n    isOpen?: boolean;\r\n    loading?: boolean;\r\n    onClose: MouseEventHandler;\r\n    onConfirm: MouseEventHandler;\r\n    title: string;\r\n    translateOptions?: object;\r\n}\r\n\r\nConfirm.propTypes = {\r\n    cancel: PropTypes.string,\r\n    className: PropTypes.string,\r\n    confirm: PropTypes.string,\r\n    confirmColor: PropTypes.string,\r\n    ConfirmIcon: PropTypes.elementType,\r\n    CancelIcon: PropTypes.elementType,\r\n    content: PropTypes.node.isRequired,\r\n    isOpen: PropTypes.bool,\r\n    loading: PropTypes.bool,\r\n    onClose: PropTypes.func.isRequired,\r\n    onConfirm: PropTypes.func.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    sx: PropTypes.any,\r\n};\r\n\r\nconst PREFIX = 'RaConfirm';\r\n\r\nexport const ConfirmClasses = {\r\n    confirmPrimary: `${PREFIX}-confirmPrimary`,\r\n    confirmWarning: `${PREFIX}-confirmWarning`,\r\n};\r\n\r\nconst StyledDialog = styled(Dialog, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${ConfirmClasses.confirmPrimary}`]: {\r\n        color: theme.palette.primary.main,\r\n    },\r\n\r\n    [`& .${ConfirmClasses.confirmWarning}`]: {\r\n        color: theme.palette.error.main,\r\n        '&:hover': {\r\n            backgroundColor: alpha(theme.palette.error.main, 0.12),\r\n            // Reset on mouse devices\r\n            '@media (hover: none)': {\r\n                backgroundColor: 'transparent',\r\n            },\r\n        },\r\n    },\r\n}));\r\n", "import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport DashboardIcon from '@mui/icons-material/Dashboard';\r\nimport { useBasename } from 'ra-core';\r\n\r\nimport { MenuItemLink, MenuItemLinkProps } from './MenuItemLink';\r\nimport { To } from 'history';\r\n\r\nexport const DashboardMenuItem = (props: DashboardMenuItemProps) => {\r\n    const basename = useBasename();\r\n    const {\r\n        leftIcon = <DashboardIcon />,\r\n        to = `${basename}/`,\r\n        primaryText = 'ra.page.dashboard',\r\n        ...rest\r\n    } = props;\r\n\r\n    return (\r\n        <MenuItemLink\r\n            leftIcon={leftIcon}\r\n            to={to}\r\n            primaryText={primaryText}\r\n            {...rest}\r\n        />\r\n    );\r\n};\r\n\r\nexport interface DashboardMenuItemProps extends Omit<MenuItemLinkProps, 'to'> {\r\n    to?: To;\r\n    /**\r\n     * @deprecated\r\n     */\r\n    sidebarIsOpen?: boolean;\r\n}\r\n\r\nDashboardMenuItem.propTypes = {\r\n    leftIcon: PropTypes.element,\r\n    locale: PropTypes.string,\r\n    onClick: PropTypes.func,\r\n    dense: PropTypes.bool,\r\n    sidebarIsOpen: PropTypes.bool,\r\n};\r\n", "import React, { forwardRef, useCallback, ReactElement, ReactNode } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { Link, LinkProps, useMatch } from 'react-router-dom';\r\nimport {\r\n    MenuItem,\r\n    MenuItemProps,\r\n    ListItemIcon,\r\n    Tooltip,\r\n    TooltipProps,\r\n    useMediaQuery,\r\n    Theme,\r\n} from '@mui/material';\r\n\r\nimport { useSidebarState } from './useSidebarState';\r\nimport { useTranslate, useBasename } from 'ra-core';\r\n\r\n/**\r\n * Displays a menu item with a label and an icon - or only the icon with a tooltip when the sidebar is minimized.\r\n * It also handles the automatic closing of the menu on tap on mobile.\r\n *\r\n * @typedef {Object} Props the props you can use\r\n * @prop {string|Location} to The menu item's target. It is passed to a React Router NavLink component.\r\n * @prop {string|ReactNode} primaryText The menu content, displayed when the menu isn't minimized. |\r\n * @prop {ReactNode} leftIcon The menu icon\r\n *\r\n * Additional props are passed down to the underling Material UI <MenuItem> component\r\n * @see https://material-ui.com/api/menu-item/#menuitem-api\r\n *\r\n * @example // You can create a custom menu component using the <DashboardMenuItem> and <MenuItemLink> components:\r\n *\r\n * // in src/Menu.js\r\n * import * as React from 'react';\r\n * import { DashboardMenuItem, MenuItemLink } from 'react-admin';\r\n * import BookIcon from '@mui/icons-material/Book';\r\n * import ChatBubbleIcon from '@mui/icons-material/ChatBubble';\r\n * import PeopleIcon from '@mui/icons-material/People';\r\n * import LabelIcon from '@mui/icons-material/Label';\r\n *\r\n * export const Menu = () => (\r\n *     <div>\r\n *         <DashboardMenuItem />\r\n *         <MenuItemLink to=\"/posts\" primaryText=\"Posts\" leftIcon={<BookIcon />}/>\r\n *         <MenuItemLink to=\"/comments\" primaryText=\"Comments\" leftIcon={<ChatBubbleIcon />}/>\r\n *         <MenuItemLink to=\"/users\" primaryText=\"Users\" leftIcon={<PeopleIcon />}/>\r\n *         <MenuItemLink to=\"/custom-route\" primaryText=\"Miscellaneous\" leftIcon={<LabelIcon />}/>\r\n *     </div>\r\n * );\r\n *\r\n * // to use this custom menu component, pass it to a custom Layout:\r\n * // in src/Layout.js\r\n * import { Layout } from 'react-admin';\r\n * import { Menu } from './Menu';\r\n *\r\n * export const Layout = (props) => <Layout {...props} menu={Menu} />;\r\n *\r\n * // then, use this layout in the <Admin layout> prop:\r\n * // in src/App.js\r\n * import { Layout }  from './Layout';\r\n *\r\n * const App = () => (\r\n *     <Admin layout={Layout} dataProvider={simpleRestProvider('http://path.to.my.api')}>\r\n *         // ...\r\n *     </Admin>\r\n * );\r\n */\r\nexport const MenuItemLink = forwardRef<any, MenuItemLinkProps>((props, ref) => {\r\n    const {\r\n        className,\r\n        primaryText,\r\n        leftIcon,\r\n        onClick,\r\n        sidebarIsOpen,\r\n        tooltipProps,\r\n        ...rest\r\n    } = props;\r\n\r\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('md'));\r\n    const translate = useTranslate();\r\n    const basename = useBasename();\r\n\r\n    const [open, setOpen] = useSidebarState();\r\n    const handleMenuTap = useCallback(\r\n        e => {\r\n            if (isSmall) {\r\n                setOpen(false);\r\n            }\r\n            onClick && onClick(e);\r\n        },\r\n        [setOpen, isSmall, onClick]\r\n    );\r\n\r\n    const to =\r\n        (typeof props.to === 'string' ? props.to : props.to.pathname) || '';\r\n    const match = useMatch({ path: to, end: to === `${basename}/` });\r\n\r\n    const renderMenuItem = () => {\r\n        return (\r\n            <StyledMenuItem\r\n                className={clsx(className, {\r\n                    [MenuItemLinkClasses.active]: !!match,\r\n                })}\r\n                // @ts-ignore\r\n                component={LinkRef}\r\n                ref={ref}\r\n                tabIndex={0}\r\n                {...rest}\r\n                onClick={handleMenuTap}\r\n            >\r\n                {leftIcon && (\r\n                    <ListItemIcon className={MenuItemLinkClasses.icon}>\r\n                        {leftIcon}\r\n                    </ListItemIcon>\r\n                )}\r\n                {typeof primaryText === 'string'\r\n                    ? translate(primaryText, { _: primaryText })\r\n                    : primaryText}\r\n            </StyledMenuItem>\r\n        );\r\n    };\r\n\r\n    return open ? (\r\n        renderMenuItem()\r\n    ) : (\r\n        <Tooltip\r\n            title={\r\n                typeof primaryText === 'string'\r\n                    ? translate(primaryText, { _: primaryText })\r\n                    : primaryText\r\n            }\r\n            placement=\"right\"\r\n            {...tooltipProps}\r\n        >\r\n            {renderMenuItem()}\r\n        </Tooltip>\r\n    );\r\n});\r\n\r\nexport type MenuItemLinkProps = LinkProps &\r\n    MenuItemProps<'li'> & {\r\n        leftIcon?: ReactElement;\r\n        primaryText?: ReactNode;\r\n        /**\r\n         * @deprecated\r\n         */\r\n        sidebarIsOpen?: boolean;\r\n        tooltipProps?: TooltipProps;\r\n    };\r\n\r\nMenuItemLink.propTypes = {\r\n    className: PropTypes.string,\r\n    leftIcon: PropTypes.element,\r\n    onClick: PropTypes.func,\r\n    primaryText: PropTypes.node,\r\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\r\n    sidebarIsOpen: PropTypes.bool,\r\n};\r\n\r\nconst PREFIX = 'RaMenuItemLink';\r\n\r\nexport const MenuItemLinkClasses = {\r\n    active: `${PREFIX}-active`,\r\n    icon: `${PREFIX}-icon`,\r\n};\r\n\r\nconst StyledMenuItem = styled(MenuItem, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    color: theme.palette.text.secondary,\r\n\r\n    [`&.${MenuItemLinkClasses.active}`]: {\r\n        color: theme.palette.text.primary,\r\n    },\r\n\r\n    [`& .${MenuItemLinkClasses.icon}`]: { minWidth: theme.spacing(5) },\r\n}));\r\n\r\nconst LinkRef = forwardRef<HTMLAnchorElement, LinkProps>((props, ref) => (\r\n    <Link ref={ref} {...props} />\r\n));\r\n", "import * as React from 'react';\r\nimport mediaQuery from 'css-mediaquery';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\n/**\r\n * Test utility to simulate a device form factor for server-side mediaQueries\r\n *\r\n * Do not use inside a browser.\r\n *\r\n * @example\r\n *\r\n * <DeviceTestWrapper width=\"sm\">\r\n *     <MyResponsiveComponent />\r\n * <DeviceTestWrapper>\r\n */\r\nexport const DeviceTestWrapper = ({\r\n    width = 'md',\r\n    children,\r\n}: DeviceTestWrapperProps): JSX.Element => {\r\n    const theme = createTheme();\r\n    // Use https://github.com/ericf/css-mediaquery as polyfill.\r\n    const ssrMatchMedia = query => ({\r\n        matches: mediaQuery.match(query, {\r\n            // The estimated CSS width of the browser.\r\n            // For the sake of this demo, we are using a fixed value.\r\n            // In production, you can look into client-hint https://caniuse.com/#search=client%20hint\r\n            // or user-agent resolution.\r\n            width: theme.breakpoints.values[width],\r\n        }),\r\n    });\r\n\r\n    return (\r\n        <ThemeProvider\r\n            theme={{\r\n                ...theme,\r\n                components: {\r\n                    MuiUseMediaQuery: {\r\n                        defaultProps: {\r\n                            ssrMatchMedia,\r\n                            matchMedia: ssrMatchMedia,\r\n                        },\r\n                    },\r\n                },\r\n            }}\r\n        >\r\n            {children}\r\n        </ThemeProvider>\r\n    );\r\n};\r\n\r\nexport interface DeviceTestWrapperProps {\r\n    width: 'md' | 'xs' | 'sm' | 'lg' | 'xl';\r\n    children: JSX.Element;\r\n}\r\n", "import * as React from 'react';\r\nimport { ComponentType, ErrorInfo, Fragment, HtmlHTMLAttributes } from 'react';\r\nimport { FallbackProps } from 'react-error-boundary';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Button,\r\n    Accordion,\r\n    AccordionDetails,\r\n    AccordionSummary,\r\n    Typography,\r\n} from '@mui/material';\r\nimport ErrorIcon from '@mui/icons-material/Report';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport History from '@mui/icons-material/History';\r\nimport { TitleComponent, useTranslate } from 'ra-core';\r\nimport { Title, TitlePropType } from './Title';\r\nimport { useResetErrorBoundaryOnLocationChange } from './useResetErrorBoundaryOnLocationChange';\r\n\r\nexport const Error = (\r\n    props: InternalErrorProps & {\r\n        errorComponent?: ComponentType<ErrorProps>;\r\n    }\r\n) => {\r\n    const {\r\n        error,\r\n        errorComponent: ErrorComponent,\r\n        errorInfo,\r\n        resetErrorBoundary,\r\n        className,\r\n        title,\r\n        ...rest\r\n    } = props;\r\n\r\n    const translate = useTranslate();\r\n    useResetErrorBoundaryOnLocationChange(resetErrorBoundary);\r\n\r\n    if (ErrorComponent) {\r\n        return (\r\n            <ErrorComponent error={error} errorInfo={errorInfo} title={title} />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {title && <Title title={title} />}\r\n            <Root className={className} {...rest}>\r\n                <h1 className={ErrorClasses.title} role=\"alert\">\r\n                    <ErrorIcon className={ErrorClasses.icon} />\r\n                    {translate('ra.page.error')}\r\n                </h1>\r\n                <div>{translate('ra.message.error')}</div>\r\n                {process.env.NODE_ENV !== 'production' && (\r\n                    <>\r\n                        <Accordion className={ErrorClasses.panel}>\r\n                            <AccordionSummary\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                className={ErrorClasses.panelSumary}\r\n                            >\r\n                                {translate(error.message, {\r\n                                    _: error.message,\r\n                                })}\r\n                            </AccordionSummary>\r\n                            <AccordionDetails\r\n                                className={ErrorClasses.panelDetails}\r\n                            >\r\n                                {/*\r\n                                    error message is repeated here to allow users to copy it. AccordionSummary doesn't support text selection.\r\n                                */}\r\n                                <p>\r\n                                    {translate(error.message, {\r\n                                        _: error.message,\r\n                                    })}\r\n                                </p>\r\n                                <p>{errorInfo?.componentStack}</p>\r\n                            </AccordionDetails>\r\n                        </Accordion>\r\n\r\n                        <div className={ErrorClasses.advice}>\r\n                            <Typography align=\"center\">\r\n                                Need help with this error? Try the following:\r\n                            </Typography>\r\n                            <Typography component=\"div\">\r\n                                <ul>\r\n                                    <li>\r\n                                        Check the{' '}\r\n                                        <a href=\"https://marmelab.com/react-admin/Readme.html\">\r\n                                            react-admin documentation\r\n                                        </a>\r\n                                    </li>\r\n                                    <li>\r\n                                        Search on{' '}\r\n                                        <a href=\"https://stackoverflow.com/questions/tagged/react-admin\">\r\n                                            StackOverflow\r\n                                        </a>{' '}\r\n                                        for community answers\r\n                                    </li>\r\n                                    <li>\r\n                                        Get help from the core team via{' '}\r\n                                        <a href=\"https://marmelab.com/ra-enterprise/#fromsww\">\r\n                                            react-admin Enterprise Edition\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n                            </Typography>\r\n                        </div>\r\n                    </>\r\n                )}\r\n                <div className={ErrorClasses.toolbar}>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        startIcon={<History />}\r\n                        onClick={goBack}\r\n                    >\r\n                        {translate('ra.action.back')}\r\n                    </Button>\r\n                </div>\r\n            </Root>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nError.propTypes = {\r\n    className: PropTypes.string,\r\n    error: PropTypes.object.isRequired,\r\n    errorInfo: PropTypes.object,\r\n    title: TitlePropType,\r\n};\r\n\r\ninterface InternalErrorProps\r\n    extends Omit<HtmlHTMLAttributes<HTMLDivElement>, 'title'>,\r\n        FallbackProps,\r\n        ErrorProps {\r\n    className?: string;\r\n}\r\n\r\nexport interface ErrorProps extends Pick<FallbackProps, 'error'> {\r\n    errorInfo?: ErrorInfo;\r\n    title?: TitleComponent;\r\n}\r\n\r\nconst PREFIX = 'RaError';\r\n\r\nexport const ErrorClasses = {\r\n    container: `${PREFIX}-container`,\r\n    title: `${PREFIX}-title`,\r\n    icon: `${PREFIX}-icon`,\r\n    panel: `${PREFIX}-panel`,\r\n    panelSumary: `${PREFIX}-panelSumary`,\r\n    panelDetails: `${PREFIX}-panelDetails`,\r\n    toolbar: `${PREFIX}-toolbar`,\r\n    advice: `${PREFIX}-advice`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    [theme.breakpoints.down('md')]: {\r\n        padding: '1em',\r\n    },\r\n    fontFamily: 'Roboto, sans-serif',\r\n    opacity: 0.5,\r\n\r\n    [`& .${ErrorClasses.title}`]: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n\r\n    [`& .${ErrorClasses.icon}`]: {\r\n        width: '2em',\r\n        height: '2em',\r\n        marginRight: '0.5em',\r\n    },\r\n\r\n    [`& .${ErrorClasses.panel}`]: {\r\n        marginTop: '1em',\r\n        maxWidth: '60em',\r\n    },\r\n\r\n    [`& .${ErrorClasses.panelSumary}`]: {\r\n        userSelect: 'all',\r\n    },\r\n\r\n    [`& .${ErrorClasses.panelDetails}`]: {\r\n        whiteSpace: 'pre-wrap',\r\n    },\r\n\r\n    [`& .${ErrorClasses.toolbar}`]: {\r\n        marginTop: '2em',\r\n    },\r\n\r\n    [`& .${ErrorClasses.advice}`]: {\r\n        marginTop: '2em',\r\n    },\r\n}));\r\n\r\nfunction goBack() {\r\n    window.history.go(-1);\r\n}\r\n", "import * as React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport { ReactElement } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { RaRecord, warning } from 'ra-core';\r\n\r\nimport { PageTitleConfigurable } from './PageTitleConfigurable';\r\n\r\nexport const Title = (props: TitleProps) => {\r\n    const { defaultTitle, title, preferenceKey, ...rest } = props;\r\n    const [container, setContainer] = useState(() =>\r\n        typeof document !== 'undefined'\r\n            ? document.getElementById('react-admin-title')\r\n            : null\r\n    );\r\n\r\n    // on first mount, we don't have the container yet, so we wait for it\r\n    useEffect(() => {\r\n        setContainer(container => {\r\n            const isInTheDom =\r\n                typeof document !== 'undefined' &&\r\n                document.body.contains(container);\r\n            if (container && isInTheDom) return container;\r\n            return typeof document !== 'undefined'\r\n                ? document.getElementById('react-admin-title')\r\n                : null;\r\n        });\r\n    }, []);\r\n\r\n    if (!container) return null;\r\n\r\n    warning(!defaultTitle && !title, 'Missing title prop in <Title> element');\r\n\r\n    return createPortal(\r\n        <PageTitleConfigurable\r\n            title={title}\r\n            defaultTitle={defaultTitle}\r\n            preferenceKey={preferenceKey}\r\n            {...rest}\r\n        />,\r\n        container\r\n    );\r\n};\r\n\r\nexport const TitlePropType = PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.element,\r\n]);\r\n\r\nTitle.propTypes = {\r\n    defaultTitle: PropTypes.string,\r\n    className: PropTypes.string,\r\n    record: PropTypes.any,\r\n    title: TitlePropType,\r\n};\r\n\r\nexport interface TitleProps {\r\n    className?: string;\r\n    defaultTitle?: string;\r\n    record?: Partial<RaRecord>;\r\n    title?: string | ReactElement;\r\n    preferenceKey?: string;\r\n}\r\n", "import * as React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { usePreferenceInput } from 'ra-core';\r\nimport { TextField } from '@mui/material';\r\n\r\nimport { Configurable } from '../preferences';\r\nimport { PageTitle } from './PageTitle';\r\n\r\nexport const PageTitleEditor = () => {\r\n    const field = usePreferenceInput();\r\n    return (\r\n        <form>\r\n            <TextField\r\n                label=\"title\"\r\n                variant=\"filled\"\r\n                size=\"small\"\r\n                fullWidth\r\n                sx={{ mb: 1 }}\r\n                {...field}\r\n            />\r\n        </form>\r\n    );\r\n};\r\n\r\nexport const PageTitleConfigurable = ({ preferenceKey, ...props }) => {\r\n    const { pathname } = useLocation();\r\n    return (\r\n        <Configurable\r\n            editor={<PageTitleEditor />}\r\n            preferenceKey={preferenceKey || `${pathname}.title`}\r\n            sx={{\r\n                '&.RaConfigurable-editMode': {\r\n                    margin: '2px',\r\n                },\r\n            }}\r\n        >\r\n            <PageTitle {...props} />\r\n        </Configurable>\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport { useRef, useEffect, useState, cloneElement, ReactElement } from 'react';\r\nimport {\r\n    usePreferencesEditor,\r\n    PreferenceKeyContextProvider,\r\n    useTranslate,\r\n} from 'ra-core';\r\nimport { alpha, Popover } from '@mui/material';\r\nimport { styled, SxProps } from '@mui/material/styles';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * Wrap any component with this component to make it configurable\r\n *\r\n * When the edit mode is enabled, users will see a button to edit the component;\r\n * when clicked, the inspector will show the editor element.\r\n *\r\n * Creates a context for the preference key, so that both the child component\r\n * and the editor can access it using usePreferenceKey();\r\n *\r\n * @example\r\n * const ConfigurableTextBlock = ({ preferenceKey = \"TextBlock\", ...props }) => (\r\n *     <Configurable editor={<TextBlockInspector />} preferenceKey={preferenceKey}>\r\n *         <TextBlock {...props} />\r\n *     </Configurable>\r\n * );\r\n */\r\nexport const Configurable = (props: ConfigurableProps) => {\r\n    const {\r\n        children,\r\n        editor,\r\n        preferenceKey,\r\n        openButtonLabel = 'ra.configurable.customize',\r\n        sx,\r\n    } = props;\r\n\r\n    const prefixedPreferenceKey = `preferences.${preferenceKey}`;\r\n    const preferencesEditorContext = usePreferencesEditor();\r\n    const hasPreferencesEditorContext = !!preferencesEditorContext;\r\n\r\n    const translate = useTranslate();\r\n\r\n    const {\r\n        isEnabled,\r\n        setEditor,\r\n        preferenceKey: currentPreferenceKey,\r\n        setPreferenceKey,\r\n    } = preferencesEditorContext || {};\r\n\r\n    const isEditorOpen = prefixedPreferenceKey === currentPreferenceKey;\r\n    const editorOpenRef = useRef(isEditorOpen);\r\n    const wrapperRef = useRef(null);\r\n    const [isCustomizeButtonVisible, setIsCustomizeButtonVisible] = useState(\r\n        false\r\n    );\r\n\r\n    useEffect(() => {\r\n        editorOpenRef.current = isEditorOpen;\r\n    }, [isEditorOpen]);\r\n\r\n    // on unmount, if selected, remove the editor\r\n    useEffect(() => {\r\n        return () => {\r\n            if (!editorOpenRef.current) return;\r\n            setPreferenceKey && setPreferenceKey(null);\r\n            setEditor && setEditor(null);\r\n        };\r\n    }, [setEditor, setPreferenceKey]);\r\n\r\n    if (!hasPreferencesEditorContext) {\r\n        return children;\r\n    }\r\n\r\n    const handleOpenEditor = () => {\r\n        // include the editorKey as key to force destroy and mount\r\n        // when switching between two identical editors with different editor keys\r\n        // otherwise the editor will see an update and its useStore will return one tick later\r\n        // which would forbid the usage of uncontrolled inputs in the editor\r\n        setEditor(\r\n            cloneElement(editor, {\r\n                preferenceKey: prefixedPreferenceKey,\r\n                key: prefixedPreferenceKey,\r\n            })\r\n        );\r\n        // as we modify the editor, isEditorOpen cannot compare the editor element\r\n        // we'll compare the editor key instead\r\n        setPreferenceKey(prefixedPreferenceKey);\r\n    };\r\n\r\n    const handleShowButton = () => {\r\n        setIsCustomizeButtonVisible(true);\r\n    };\r\n\r\n    const handleHideButton = () => {\r\n        setIsCustomizeButtonVisible(false);\r\n    };\r\n\r\n    return (\r\n        <PreferenceKeyContextProvider value={prefixedPreferenceKey}>\r\n            <Root\r\n                className={clsx(\r\n                    ConfigurableClasses.root,\r\n                    isEnabled && ConfigurableClasses.editMode,\r\n                    isEditorOpen && ConfigurableClasses.editorActive\r\n                )}\r\n                sx={sx}\r\n                ref={wrapperRef}\r\n                onMouseEnter={isEnabled ? handleShowButton : undefined}\r\n                onMouseLeave={isEnabled ? handleHideButton : undefined}\r\n            >\r\n                {children}\r\n            </Root>\r\n            <Popover\r\n                open={isEnabled && (isCustomizeButtonVisible || isEditorOpen)}\r\n                sx={{\r\n                    pointerEvents: 'none',\r\n                    '& .MuiPaper-root': {\r\n                        pointerEvents: 'auto',\r\n                        borderRadius: 10,\r\n                        padding: '2px',\r\n                        lineHeight: 0,\r\n                        backgroundColor: 'warning.light',\r\n                        color: 'warning.contrastText',\r\n                        '&:hover': {\r\n                            cursor: 'pointer',\r\n                        },\r\n                    },\r\n                }}\r\n                anchorEl={wrapperRef.current}\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'center',\r\n                    horizontal: 'center',\r\n                }}\r\n                onClose={handleHideButton}\r\n                PaperProps={{\r\n                    elevation: 1,\r\n                    onMouseEnter: handleShowButton,\r\n                    onMouseLeave: handleHideButton,\r\n                    title: translate(openButtonLabel),\r\n                    onClick: handleOpenEditor,\r\n                }}\r\n                disableAutoFocus\r\n                disableRestoreFocus\r\n                disableEnforceFocus\r\n                disableScrollLock\r\n                marginThreshold={8}\r\n            >\r\n                <SettingsIcon\r\n                    // @ts-ignore\r\n                    fontSize=\"12px\"\r\n                />\r\n            </Popover>\r\n        </PreferenceKeyContextProvider>\r\n    );\r\n};\r\n\r\nexport interface ConfigurableProps {\r\n    children: ReactElement;\r\n    editor: ReactElement;\r\n    preferenceKey: string;\r\n    openButtonLabel?: string;\r\n    sx?: SxProps;\r\n}\r\n\r\nconst PREFIX = 'RaConfigurable';\r\n\r\nexport const ConfigurableClasses = {\r\n    root: `${PREFIX}-root`,\r\n    editMode: `${PREFIX}-editMode`,\r\n    editorActive: `${PREFIX}-editorActive`,\r\n};\r\n\r\nconst Root = styled('span', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    position: 'relative',\r\n    display: 'inline-block',\r\n    [`&.${ConfigurableClasses.editMode}`]: {\r\n        transition: theme.transitions.create('outline'),\r\n        outline: `${alpha(theme.palette.warning.main, 0.3)} solid 2px`,\r\n    },\r\n    [`&.${ConfigurableClasses.editMode}:hover `]: {\r\n        outline: `${alpha(theme.palette.warning.main, 0.5)} solid 2px`,\r\n    },\r\n    [`&.${ConfigurableClasses.editMode}.${ConfigurableClasses.editorActive} , &.${ConfigurableClasses.editMode}.${ConfigurableClasses.editorActive}:hover `]: {\r\n        outline: `${theme.palette.warning.main} solid 2px`,\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { usePreference, useTranslate } from 'ra-core';\r\nimport { Box, Button } from '@mui/material';\r\n\r\nimport { FieldToggle } from './FieldToggle';\r\n\r\n/**\r\n * UI to select / deselect fields, and store the selection in preferences\r\n */\r\nexport const FieldsSelector = ({\r\n    name = 'columns',\r\n    availableName = 'availableColumns',\r\n}) => {\r\n    const translate = useTranslate();\r\n\r\n    const [availableFields, setAvailableFields] = usePreference<\r\n        SelectableField[]\r\n    >(availableName, []);\r\n    const [omit] = usePreference('omit', []);\r\n\r\n    const [fields, setFields] = usePreference(\r\n        name,\r\n        availableFields\r\n            .filter(field => !omit?.includes(field.source))\r\n            .map(field => field.index)\r\n    );\r\n\r\n    const handleToggle = event => {\r\n        if (event.target.checked) {\r\n            // add the column at the right position\r\n            setFields(\r\n                availableFields\r\n                    .filter(\r\n                        field =>\r\n                            field.index === event.target.name ||\r\n                            fields.includes(field.index)\r\n                    )\r\n                    .map(field => field.index)\r\n            );\r\n        } else {\r\n            setFields(fields.filter(index => index !== event.target.name));\r\n        }\r\n    };\r\n\r\n    const handleMove = (index1, index2) => {\r\n        const index1Pos = availableFields.findIndex(\r\n            // eslint-disable-next-line eqeqeq\r\n            field => field.index == index1\r\n        );\r\n        const index2Pos = availableFields.findIndex(\r\n            // eslint-disable-next-line eqeqeq\r\n            field => field.index == index2\r\n        );\r\n        if (index1Pos === -1 || index2Pos === -1) {\r\n            return;\r\n        }\r\n        let newAvailableFields;\r\n        if (index1Pos > index2Pos) {\r\n            newAvailableFields = [\r\n                ...availableFields.slice(0, index2Pos),\r\n                availableFields[index1Pos],\r\n                ...availableFields.slice(index2Pos, index1Pos),\r\n                ...availableFields.slice(index1Pos + 1),\r\n            ];\r\n        } else {\r\n            newAvailableFields = [\r\n                ...availableFields.slice(0, index1Pos),\r\n                ...availableFields.slice(index1Pos + 1, index2Pos + 1),\r\n                availableFields[index1Pos],\r\n                ...availableFields.slice(index2Pos + 1),\r\n            ];\r\n        }\r\n        setAvailableFields(newAvailableFields);\r\n        setFields(fields =>\r\n            newAvailableFields\r\n                .filter(field => fields.includes(field.index))\r\n                .map(field => field.index)\r\n        );\r\n    };\r\n\r\n    const handleHideAll = () => {\r\n        setFields([]);\r\n    };\r\n    const handleShowAll = () => {\r\n        setFields(availableFields.map(field => field.index));\r\n    };\r\n\r\n    return (\r\n        <Box pt={0.5}>\r\n            {availableFields.map(field => (\r\n                <FieldToggle\r\n                    key={field.index}\r\n                    source={field.source}\r\n                    label={field.label}\r\n                    index={field.index}\r\n                    selected={fields.includes(field.index)}\r\n                    onToggle={handleToggle}\r\n                    onMove={handleMove}\r\n                />\r\n            ))}\r\n            <Box display=\"flex\" justifyContent=\"space-between\" mx={-0.5} mt={1}>\r\n                <Button size=\"small\" onClick={handleHideAll}>\r\n                    {translate('ra.inspector.hideAll', {\r\n                        _: 'Hide All',\r\n                    })}\r\n                </Button>\r\n                <Button size=\"small\" onClick={handleShowAll}>\r\n                    {translate('ra.inspector.showAll', {\r\n                        _: 'Show All',\r\n                    })}\r\n                </Button>\r\n            </Box>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport interface SelectableField {\r\n    index: string;\r\n    source: string;\r\n    label?: string;\r\n}\r\n", "import * as React from 'react';\r\nimport { FieldTitle, useResourceContext } from 'ra-core';\r\nimport { Switch, Typography } from '@mui/material';\r\nimport DragIcon from '@mui/icons-material/DragIndicator';\r\nimport { styled } from '@mui/material/styles';\r\n\r\n/**\r\n * UI to enable/disable a field\r\n */\r\nexport const FieldToggle = props => {\r\n    const { selected, label, onToggle, onMove, source, index } = props;\r\n    const resource = useResourceContext();\r\n    const dropIndex = React.useRef<number>(null);\r\n    const x = React.useRef<number>(null);\r\n    const y = React.useRef<number>(null);\r\n\r\n    const handleDocumentDragOver = React.useCallback(event => {\r\n        x.current = event.clientX;\r\n        y.current = event.clientY;\r\n    }, []);\r\n\r\n    const handleDragStart = () => {\r\n        document.addEventListener('dragover', handleDocumentDragOver);\r\n    };\r\n\r\n    const handleDrag = event => {\r\n        // imperative DOM manipulations using the native Drag API\r\n        const selectedItem = event.target;\r\n        selectedItem.classList.add('drag-active');\r\n        const list = selectedItem.parentNode;\r\n        let dropItem =\r\n            document.elementFromPoint(x.current, y.current) === null\r\n                ? selectedItem\r\n                : document.elementFromPoint(x.current, y.current);\r\n        if (dropItem.classList.contains('dragIcon')) {\r\n            dropItem = dropItem.parentNode;\r\n        }\r\n        if (dropItem === selectedItem) {\r\n            return;\r\n        }\r\n        if (list === dropItem.parentNode) {\r\n            dropIndex.current = dropItem.dataset.index;\r\n            if (dropItem === selectedItem.nextSibling) {\r\n                dropItem = dropItem.nextSibling;\r\n            }\r\n            list.insertBefore(selectedItem, dropItem);\r\n        }\r\n    };\r\n\r\n    const handleDragEnd = event => {\r\n        const selectedItem = event.target;\r\n        onMove(selectedItem.dataset.index, dropIndex.current);\r\n        selectedItem.classList.remove('drag-active');\r\n        document.removeEventListener('dragover', handleDocumentDragOver);\r\n    };\r\n\r\n    const handleDragOver = event => {\r\n        event.preventDefault();\r\n        event.dataTransfer.dropEffect = 'move';\r\n    };\r\n\r\n    return (\r\n        <Root\r\n            key={source}\r\n            draggable={onMove ? 'true' : undefined}\r\n            onDrag={onMove ? handleDrag : undefined}\r\n            onDragStart={onMove ? handleDragStart : undefined}\r\n            onDragEnd={onMove ? handleDragEnd : undefined}\r\n            onDragOver={onMove ? handleDragOver : undefined}\r\n            data-index={index}\r\n        >\r\n            <label htmlFor={`switch_${index}`}>\r\n                <Switch\r\n                    checked={selected}\r\n                    onChange={onToggle}\r\n                    name={index}\r\n                    id={`switch_${index}`}\r\n                    size=\"small\"\r\n                    sx={{ mr: 0.5, ml: -0.5 }}\r\n                />\r\n                <Typography variant=\"body2\" component=\"span\">\r\n                    <FieldTitle\r\n                        label={label}\r\n                        source={source}\r\n                        resource={resource}\r\n                    />\r\n                </Typography>\r\n            </label>\r\n            {onMove && (\r\n                <DragIcon\r\n                    className=\"dragIcon\"\r\n                    color=\"disabled\"\r\n                    fontSize=\"small\"\r\n                />\r\n            )}\r\n        </Root>\r\n    );\r\n};\r\n\r\nconst Root = styled('div')(({ theme }) => ({\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    '& svg': {\r\n        cursor: 'move',\r\n    },\r\n    '&.drag-active': {\r\n        background: 'transparent',\r\n        color: 'transparent',\r\n        outline: `1px solid ${theme.palette.action.selected}`,\r\n        '& .MuiSwitch-root, & svg': {\r\n            visibility: 'hidden',\r\n        },\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport {\r\n    useStore,\r\n    usePreferencesEditor,\r\n    useTranslate,\r\n    useRemoveItemsFromStore,\r\n    PreferenceKeyContextProvider,\r\n} from 'ra-core';\r\nimport { Paper, Typography, IconButton } from '@mui/material';\r\nimport CloseIcon from '@mui/icons-material/CancelOutlined';\r\nimport DeleteIcon from '@mui/icons-material/DeleteOutline';\r\nimport { useTheme, styled } from '@mui/material/styles';\r\n\r\nimport { InspectorRoot } from './InspectorRoot';\r\n\r\nexport const Inspector = () => {\r\n    const {\r\n        isEnabled,\r\n        disable,\r\n        title,\r\n        titleOptions,\r\n        editor,\r\n        preferenceKey,\r\n    } = usePreferencesEditor();\r\n\r\n    const isDragging = useRef(false);\r\n    const removeItems = useRemoveItemsFromStore(preferenceKey);\r\n    const theme = useTheme();\r\n    const translate = useTranslate();\r\n    const [version, setVersion] = useState(0);\r\n\r\n    const [dialogPosition, setDialogPosition] = useStore(\r\n        'ra.inspector.position',\r\n        {\r\n            x:\r\n                // We want it positioned to the far right of the screen\r\n                document?.body.clientWidth -\r\n                // So we remove its size (see the root css class)\r\n                theme.breakpoints.values.sm / 2 -\r\n                // And add a margin\r\n                8,\r\n            y: 8,\r\n        }\r\n    );\r\n\r\n    // poor man's drag and drop\r\n    // store click position relative to the dialog position\r\n    const [clickPosition, setClickPosition] = useState<\r\n        { x: number; y: number } | undefined\r\n    >();\r\n    const handleDragStart = e => {\r\n        // exit if the user drags on anything but the title\r\n        const draggedElement = document?.elementFromPoint(e.clientX, e.clientY);\r\n        if (draggedElement.id !== 'inspector-dialog-title') {\r\n            return;\r\n        }\r\n        isDragging.current = true;\r\n        e.dataTransfer.effectAllowed = 'move';\r\n        e.dataTransfer.setData('inspector', '');\r\n        setTimeout(() => {\r\n            e.target.classList.add('hide');\r\n        }, 0);\r\n        setClickPosition({\r\n            x: e.clientX - dialogPosition.x,\r\n            y: e.clientY - dialogPosition.y,\r\n        });\r\n    };\r\n    const handleDragEnd = e => {\r\n        if (isDragging.current) {\r\n            setDialogPosition({\r\n                x: e.clientX - clickPosition.x,\r\n                y: e.clientY - clickPosition.y,\r\n            });\r\n            e.target.classList.remove('hide');\r\n            isDragging.current = false;\r\n        }\r\n    };\r\n\r\n    // prevent \"back to base\" animation when the inspector is dropped\r\n    useEffect(() => {\r\n        if (!isEnabled) return;\r\n        const handleDragover = e => {\r\n            if (e.dataTransfer.types.includes('inspector')) {\r\n                e.preventDefault();\r\n            }\r\n        };\r\n        document?.addEventListener('dragover', handleDragover);\r\n        return () => {\r\n            document?.removeEventListener('dragover', handleDragover);\r\n        };\r\n    }, [isEnabled]);\r\n\r\n    // make sure that the dialog is always visible, as the stored position may be outside the screen\r\n    useEffect(() => {\r\n        if (!isEnabled) return;\r\n        const moveInspectorIfOutsideScreen = () => {\r\n            window?.requestAnimationFrame(() => {\r\n                setDialogPosition(position => ({\r\n                    x: Math.min(\r\n                        position.x,\r\n                        document?.body.clientWidth -\r\n                            theme.breakpoints.values.sm / 2 -\r\n                            8\r\n                    ),\r\n                    y: Math.min(position.y, window?.innerHeight - 50),\r\n                }));\r\n            });\r\n        };\r\n        moveInspectorIfOutsideScreen();\r\n        window?.addEventListener('resize', moveInspectorIfOutsideScreen);\r\n        return () => {\r\n            window?.removeEventListener('resize', moveInspectorIfOutsideScreen);\r\n        };\r\n    }, [isEnabled, setDialogPosition, theme.breakpoints.values.sm]);\r\n\r\n    const handleReset = () => {\r\n        removeItems();\r\n        // force redraw of the form to use the default values\r\n        setVersion(version => version + 1);\r\n    };\r\n\r\n    if (!isEnabled) return null;\r\n    return (\r\n        <StyledPaper\r\n            className={InspectorClasses.modal}\r\n            elevation={3}\r\n            draggable\r\n            onDragStart={handleDragStart}\r\n            onDragEnd={handleDragEnd}\r\n            sx={{ left: dialogPosition.x, top: dialogPosition.y }}\r\n        >\r\n            <div className={InspectorClasses.title}>\r\n                <Typography\r\n                    id=\"inspector-dialog-title\"\r\n                    variant=\"overline\"\r\n                    component=\"div\"\r\n                    py={1}\r\n                    px={2}\r\n                    flex=\"1\"\r\n                >\r\n                    {title && translate(title, titleOptions)}\r\n                </Typography>\r\n                <span id=\"inspector-toolbar\" />\r\n                {preferenceKey && (\r\n                    <IconButton\r\n                        aria-label={translate('ra.action.remove')}\r\n                        onClick={handleReset}\r\n                        size=\"small\"\r\n                    >\r\n                        <DeleteIcon fontSize=\"inherit\" />\r\n                    </IconButton>\r\n                )}\r\n                <IconButton\r\n                    aria-label={translate('ra.action.close')}\r\n                    onClick={disable}\r\n                    size=\"small\"\r\n                    sx={{ mr: 1 }}\r\n                >\r\n                    <CloseIcon fontSize=\"inherit\" />\r\n                </IconButton>\r\n            </div>\r\n            <div className={InspectorClasses.content} key={version}>\r\n                <PreferenceKeyContextProvider value={preferenceKey}>\r\n                    {editor || <InspectorRoot />}\r\n                </PreferenceKeyContextProvider>\r\n            </div>\r\n        </StyledPaper>\r\n    );\r\n};\r\n\r\nconst PREFIX = 'RaInspector';\r\n\r\nexport const InspectorClasses = {\r\n    modal: `${PREFIX}-modal`,\r\n    title: `${PREFIX}-title`,\r\n    content: `${PREFIX}-content`,\r\n};\r\n\r\nconst StyledPaper = styled(Paper, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    position: 'fixed',\r\n    zIndex: theme.zIndex.modal + 1,\r\n    width: theme.breakpoints.values.sm / 2,\r\n    transition: theme.transitions.create(['height', 'width']),\r\n    '&.hide': {\r\n        display: 'none',\r\n    },\r\n    [`& .${InspectorClasses.title}`]: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        cursor: 'move',\r\n    },\r\n    [`& .${InspectorClasses.content}`]: {\r\n        overflowY: 'auto',\r\n        maxHeight: '75vh',\r\n        padding: theme.spacing(2),\r\n        paddingTop: 0,\r\n    },\r\n}));\r\n\r\nInspector.displayName = 'Inspector';\r\n", "import * as React from 'react';\r\nimport { Typography } from '@mui/material';\r\nimport { useTranslate, useSetInspectorTitle } from 'ra-core';\r\n\r\nexport const InspectorRoot = () => {\r\n    const translate = useTranslate();\r\n    useSetInspectorTitle('ra.configurable.inspector.title', {\r\n        _: 'Inspector',\r\n    });\r\n\r\n    return (\r\n        <Typography>\r\n            {translate('ra.configurable.inspector.content', {\r\n                _: 'Hover the application UI elements to configure them',\r\n            })}\r\n        </Typography>\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport { MouseEventHandler } from 'react';\r\nimport { IconButton, IconButtonProps, Tooltip } from '@mui/material';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport { useTranslate, usePreferencesEditor } from 'ra-core';\r\n\r\nexport const InspectorButton = React.forwardRef<\r\n    HTMLButtonElement,\r\n    IconButtonProps & { label?: string; SvgIconProps?: any }\r\n>(\r\n    (\r\n        {\r\n            label = 'ra.configurable.configureMode',\r\n            SvgIconProps = {},\r\n            ...props\r\n        },\r\n        ref\r\n    ) => {\r\n        const {\r\n            enable,\r\n            disable,\r\n            setPreferenceKey,\r\n            isEnabled,\r\n        } = usePreferencesEditor();\r\n        const translate = useTranslate();\r\n\r\n        const handleClick: MouseEventHandler<HTMLButtonElement> = () => {\r\n            if (isEnabled) {\r\n                disable();\r\n                setPreferenceKey(null);\r\n            } else {\r\n                enable();\r\n            }\r\n        };\r\n\r\n        const translatedLabel = translate(label, { _: 'Configure mode' });\r\n\r\n        return (\r\n            <Tooltip title={translatedLabel}>\r\n                <IconButton\r\n                    aria-label={translatedLabel}\r\n                    onClick={handleClick}\r\n                    color=\"inherit\"\r\n                    ref={ref}\r\n                    {...props}\r\n                >\r\n                    <SettingsIcon fontSize=\"inherit\" {...SvgIconProps} />\r\n                </IconButton>\r\n            </Tooltip>\r\n        );\r\n    }\r\n);\r\n", "import * as React from 'react';\r\nimport { useRecordContext, useTranslate, usePreference } from 'ra-core';\r\n\r\nexport const PageTitle = ({ title, defaultTitle, className, ...rest }: any) => {\r\n    const [titleFromPreferences] = usePreference();\r\n    const translate = useTranslate();\r\n    const record = useRecordContext();\r\n\r\n    return titleFromPreferences ? (\r\n        <span className={className} {...rest}>\r\n            {translate(titleFromPreferences, {\r\n                ...record,\r\n                _: titleFromPreferences,\r\n            })}\r\n        </span>\r\n    ) : (\r\n        <span className={className}>\r\n            {!title ? (\r\n                <span {...rest}>{defaultTitle}</span>\r\n            ) : typeof title === 'string' ? (\r\n                <span {...rest}>{translate(title, { _: title })}</span>\r\n            ) : (\r\n                title\r\n            )}\r\n        </span>\r\n    );\r\n};\r\n", "import { useEffect, useRef } from 'react';\r\nimport { useLocation } from 'react-router';\r\n\r\n/**\r\n * A hook to use inside the component passed to FallbackComponent\r\n * of react-error-boundary. It resets the error boundary state whenever\r\n * the location changes\r\n * @param {Function} resetErrorBoundary\r\n */\r\nexport const useResetErrorBoundaryOnLocationChange = (\r\n    resetErrorBoundary: () => void\r\n) => {\r\n    const { pathname } = useLocation();\r\n    const originalPathname = useRef(pathname);\r\n\r\n    useEffect(() => {\r\n        if (pathname !== originalPathname.current) {\r\n            resetErrorBoundary();\r\n        }\r\n    }, [pathname, resetErrorBoundary]);\r\n};\r\n", "import React, {\r\n    useState,\r\n    ErrorInfo,\r\n    ComponentType,\r\n    HtmlHTMLAttributes,\r\n} from 'react';\r\nimport { ErrorBoundary } from 'react-error-boundary';\r\nimport clsx from 'clsx';\r\nimport { styled, SxProps } from '@mui/material/styles';\r\nimport { CoreLayoutProps } from 'ra-core';\r\n\r\nimport { AppBar as DefaultAppBar, AppBarProps } from './AppBar';\r\nimport { Sidebar as DefaultSidebar, SidebarProps } from './Sidebar';\r\nimport { Menu as DefaultMenu, MenuProps } from './Menu';\r\nimport { Error, ErrorProps } from './Error';\r\nimport { SkipNavigationButton } from '../button';\r\nimport { useSidebarState } from './useSidebarState';\r\nimport { Inspector } from '../preferences';\r\n\r\nexport const Layout = (props: LayoutProps) => {\r\n    const {\r\n        appBar: AppBar = DefaultAppBar,\r\n        appBarAlwaysOn,\r\n        children,\r\n        className,\r\n        dashboard,\r\n        error: errorComponent,\r\n        menu: Menu = DefaultMenu,\r\n        sidebar: Sidebar = DefaultSidebar,\r\n        title,\r\n        ...rest\r\n    } = props;\r\n\r\n    const [open] = useSidebarState();\r\n    const [errorInfo, setErrorInfo] = useState<ErrorInfo>(null);\r\n\r\n    const handleError = (error: Error, info: ErrorInfo) => {\r\n        setErrorInfo(info);\r\n    };\r\n\r\n    return (\r\n        <StyledLayout className={clsx('layout', className)} {...rest}>\r\n            <SkipNavigationButton />\r\n            <div className={LayoutClasses.appFrame}>\r\n                <AppBar open={open} title={title} alwaysOn={appBarAlwaysOn} />\r\n                <main className={LayoutClasses.contentWithSidebar}>\r\n                    <Sidebar appBarAlwaysOn={appBarAlwaysOn}>\r\n                        <Menu hasDashboard={!!dashboard} />\r\n                    </Sidebar>\r\n                    <div id=\"main-content\" className={LayoutClasses.content}>\r\n                        <ErrorBoundary\r\n                            onError={handleError}\r\n                            fallbackRender={({ error, resetErrorBoundary }) => (\r\n                                <Error\r\n                                    error={error}\r\n                                    errorComponent={errorComponent}\r\n                                    errorInfo={errorInfo}\r\n                                    resetErrorBoundary={resetErrorBoundary}\r\n                                    title={title}\r\n                                />\r\n                            )}\r\n                        >\r\n                            {children}\r\n                        </ErrorBoundary>\r\n                    </div>\r\n                </main>\r\n                <Inspector />\r\n            </div>\r\n        </StyledLayout>\r\n    );\r\n};\r\n\r\nexport interface LayoutProps\r\n    extends CoreLayoutProps,\r\n        Omit<HtmlHTMLAttributes<HTMLDivElement>, 'title'> {\r\n    appBar?: ComponentType<AppBarProps>;\r\n    appBarAlwaysOn?: boolean;\r\n    className?: string;\r\n    error?: ComponentType<ErrorProps>;\r\n    menu?: ComponentType<MenuProps>;\r\n    sidebar?: ComponentType<SidebarProps>;\r\n    sx?: SxProps;\r\n}\r\n\r\nexport interface LayoutState {\r\n    hasError: boolean;\r\n    error?: Error;\r\n    errorInfo?: ErrorInfo;\r\n}\r\n\r\nconst PREFIX = 'RaLayout';\r\nexport const LayoutClasses = {\r\n    appFrame: `${PREFIX}-appFrame`,\r\n    contentWithSidebar: `${PREFIX}-contentWithSidebar`,\r\n    content: `${PREFIX}-content`,\r\n};\r\n\r\nconst StyledLayout = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    zIndex: 1,\r\n    minHeight: '100vh',\r\n    backgroundColor: theme.palette.background.default,\r\n    position: 'relative',\r\n    minWidth: 'fit-content',\r\n    width: '100%',\r\n    color: theme.palette.getContrastText(theme.palette.background.default),\r\n\r\n    [`& .${LayoutClasses.appFrame}`]: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        flexGrow: 1,\r\n        marginTop: theme.spacing(6),\r\n        [theme.breakpoints.down('sm')]: {\r\n            marginTop: theme.spacing(7),\r\n        },\r\n    },\r\n    [`& .${LayoutClasses.contentWithSidebar}`]: {\r\n        display: 'flex',\r\n        flexGrow: 1,\r\n        transition: theme.transitions.create('margin', {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    [`& .${LayoutClasses.content}`]: {\r\n        backgroundColor: theme.palette.background.default,\r\n        zIndex: 2,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        flexGrow: 1,\r\n        flexBasis: 0,\r\n        padding: 0,\r\n        [theme.breakpoints.up('xs')]: {\r\n            paddingRight: theme.spacing(1),\r\n            paddingLeft: theme.spacing(1),\r\n        },\r\n    },\r\n}));\r\n", "import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\r\nimport * as React from 'react';\r\n\r\nvar changedArray = function changedArray(a, b) {\r\n  if (a === void 0) {\r\n    a = [];\r\n  }\r\n\r\n  if (b === void 0) {\r\n    b = [];\r\n  }\r\n\r\n  return a.length !== b.length || a.some(function (item, index) {\r\n    return !Object.is(item, b[index]);\r\n  });\r\n};\r\n\r\nvar initialState = {\r\n  error: null\r\n};\r\n\r\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\r\n  _inheritsLoose(ErrorBoundary, _React$Component);\r\n\r\n  function ErrorBoundary() {\r\n    var _this;\r\n\r\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      _args[_key] = arguments[_key];\r\n    }\r\n\r\n    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;\r\n    _this.state = initialState;\r\n\r\n    _this.resetErrorBoundary = function () {\r\n      var _this$props;\r\n\r\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\r\n        args[_key2] = arguments[_key2];\r\n      }\r\n\r\n      _this.props.onReset == null ? void 0 : (_this$props = _this.props).onReset.apply(_this$props, args);\r\n\r\n      _this.reset();\r\n    };\r\n\r\n    return _this;\r\n  }\r\n\r\n  ErrorBoundary.getDerivedStateFromError = function getDerivedStateFromError(error) {\r\n    return {\r\n      error: error\r\n    };\r\n  };\r\n\r\n  var _proto = ErrorBoundary.prototype;\r\n\r\n  _proto.reset = function reset() {\r\n    this.setState(initialState);\r\n  };\r\n\r\n  _proto.componentDidCatch = function componentDidCatch(error, info) {\r\n    var _this$props$onError, _this$props2;\r\n\r\n    (_this$props$onError = (_this$props2 = this.props).onError) == null ? void 0 : _this$props$onError.call(_this$props2, error, info);\r\n  };\r\n\r\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\r\n    var error = this.state.error;\r\n    var resetKeys = this.props.resetKeys; // There's an edge case where if the thing that triggered the error\r\n    // happens to *also* be in the resetKeys array, we'd end up resetting\r\n    // the error boundary immediately. This would likely trigger a second\r\n    // error to be thrown.\r\n    // So we make sure that we don't check the resetKeys on the first call\r\n    // of cDU after the error is set\r\n\r\n    if (error !== null && prevState.error !== null && changedArray(prevProps.resetKeys, resetKeys)) {\r\n      var _this$props$onResetKe, _this$props3;\r\n\r\n      (_this$props$onResetKe = (_this$props3 = this.props).onResetKeysChange) == null ? void 0 : _this$props$onResetKe.call(_this$props3, prevProps.resetKeys, resetKeys);\r\n      this.reset();\r\n    }\r\n  };\r\n\r\n  _proto.render = function render() {\r\n    var error = this.state.error;\r\n    var _this$props4 = this.props,\r\n        fallbackRender = _this$props4.fallbackRender,\r\n        FallbackComponent = _this$props4.FallbackComponent,\r\n        fallback = _this$props4.fallback;\r\n\r\n    if (error !== null) {\r\n      var _props = {\r\n        error: error,\r\n        resetErrorBoundary: this.resetErrorBoundary\r\n      };\r\n\r\n      if ( /*#__PURE__*/React.isValidElement(fallback)) {\r\n        return fallback;\r\n      } else if (typeof fallbackRender === 'function') {\r\n        return fallbackRender(_props);\r\n      } else if (FallbackComponent) {\r\n        return /*#__PURE__*/React.createElement(FallbackComponent, _props);\r\n      } else {\r\n        throw new Error('react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop');\r\n      }\r\n    }\r\n\r\n    return this.props.children;\r\n  };\r\n\r\n  return ErrorBoundary;\r\n}(React.Component);\r\n\r\nfunction withErrorBoundary(Component, errorBoundaryProps) {\r\n  var Wrapped = function Wrapped(props) {\r\n    return /*#__PURE__*/React.createElement(ErrorBoundary, errorBoundaryProps, /*#__PURE__*/React.createElement(Component, props));\r\n  }; // Format for display in DevTools\r\n\r\n\r\n  var name = Component.displayName || Component.name || 'Unknown';\r\n  Wrapped.displayName = \"withErrorBoundary(\" + name + \")\";\r\n  return Wrapped;\r\n}\r\n\r\nfunction useErrorHandler(givenError) {\r\n  var _React$useState = React.useState(null),\r\n      error = _React$useState[0],\r\n      setError = _React$useState[1];\r\n\r\n  if (givenError != null) throw givenError;\r\n  if (error != null) throw error;\r\n  return setError;\r\n}\r\n/*\r\neslint\r\n  @typescript-eslint/sort-type-union-intersection-members: \"off\",\r\n  @typescript-eslint/no-throw-literal: \"off\",\r\n  @typescript-eslint/prefer-nullish-coalescing: \"off\"\r\n*/\r\n\r\nexport { ErrorBoundary, useErrorHandler, withErrorBoundary };\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Drawer,\r\n    DrawerProps,\r\n    useMediaQuery,\r\n    Theme,\r\n    useScrollTrigger,\r\n} from '@mui/material';\r\nimport lodashGet from 'lodash/get';\r\nimport { useLocale } from 'ra-core';\r\n\r\nimport { useSidebarState } from './useSidebarState';\r\n\r\nexport const Sidebar = (props: SidebarProps) => {\r\n    const { appBarAlwaysOn, children, closedSize, size, ...rest } = props;\r\n    const isXSmall = useMediaQuery<Theme>(theme =>\r\n        theme.breakpoints.down('sm')\r\n    );\r\n    const [open, setOpen] = useSidebarState();\r\n    useLocale(); // force redraw on locale change\r\n    const trigger = useScrollTrigger();\r\n\r\n    const toggleSidebar = () => setOpen(!open);\r\n\r\n    return isXSmall ? (\r\n        <StyledDrawer\r\n            variant=\"temporary\"\r\n            open={open}\r\n            onClose={toggleSidebar}\r\n            classes={SidebarClasses}\r\n            {...rest}\r\n        >\r\n            {children}\r\n        </StyledDrawer>\r\n    ) : (\r\n        <StyledDrawer\r\n            variant=\"permanent\"\r\n            open={open}\r\n            onClose={toggleSidebar}\r\n            classes={SidebarClasses}\r\n            className={\r\n                trigger && !appBarAlwaysOn ? SidebarClasses.appBarCollapsed : ''\r\n            }\r\n            {...rest}\r\n        >\r\n            <div className={SidebarClasses.fixed}>{children}</div>\r\n        </StyledDrawer>\r\n    );\r\n};\r\n\r\nSidebar.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport interface SidebarProps extends DrawerProps {\r\n    appBarAlwaysOn?: boolean;\r\n    children: ReactElement;\r\n    closedSize?: number;\r\n    size?: number;\r\n}\r\n\r\nconst PREFIX = 'RaSidebar';\r\n\r\nexport const SidebarClasses = {\r\n    docked: `${PREFIX}-docked`,\r\n    paper: `${PREFIX}-paper`,\r\n    paperAnchorLeft: `${PREFIX}-paperAnchorLeft`,\r\n    paperAnchorRight: `${PREFIX}-paperAnchorRight`,\r\n    paperAnchorTop: `${PREFIX}-paperAnchorTop`,\r\n    paperAnchorBottom: `${PREFIX}-paperAnchorBottom`,\r\n    paperAnchorDockedLeft: `${PREFIX}-paperAnchorDockedLeft`,\r\n    paperAnchorDockedTop: `${PREFIX}-paperAnchorDockedTop`,\r\n    paperAnchorDockedRight: `${PREFIX}-paperAnchorDockedRight`,\r\n    paperAnchorDockedBottom: `${PREFIX}-paperAnchorDockedBottom`,\r\n    modal: `${PREFIX}-modal`,\r\n    fixed: `${PREFIX}-fixed`,\r\n    appBarCollapsed: `${PREFIX}-appBarCollapsed`,\r\n};\r\n\r\nconst StyledDrawer = styled(Drawer, {\r\n    name: PREFIX,\r\n    slot: 'Root',\r\n    overridesResolver: (props, styles) => styles.root,\r\n    shouldForwardProp: () => true,\r\n})(({ open, theme }) => ({\r\n    height: 'calc(100vh - 3em)',\r\n    marginTop: 0,\r\n    transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    [`&.${SidebarClasses.appBarCollapsed}`]: {\r\n        // compensate the margin of the Layout appFrame instead of removing it in the Layout\r\n        // because otherwise, the appFrame content without margin may revert the scrollTrigger,\r\n        // leading to a visual jiggle\r\n        marginTop: theme.spacing(-6),\r\n        [theme.breakpoints.down('sm')]: {\r\n            marginTop: theme.spacing(-7),\r\n        },\r\n        transition: theme.transitions.create('margin', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n    },\r\n    [`& .${SidebarClasses.docked}`]: {},\r\n    [`& .${SidebarClasses.paper}`]: {},\r\n    [`& .${SidebarClasses.paperAnchorLeft}`]: {},\r\n    [`& .${SidebarClasses.paperAnchorRight}`]: {},\r\n    [`& .${SidebarClasses.paperAnchorTop}`]: {},\r\n    [`& .${SidebarClasses.paperAnchorBottom}`]: {},\r\n    [`& .${SidebarClasses.paperAnchorDockedLeft}`]: {},\r\n    [`& .${SidebarClasses.paperAnchorDockedTop}`]: {},\r\n    [`& .${SidebarClasses.paperAnchorDockedRight}`]: {},\r\n    [`& .${SidebarClasses.paperAnchorDockedBottom}`]: {},\r\n    [`& .${SidebarClasses.modal}`]: {},\r\n\r\n    [`& .${SidebarClasses.fixed}`]: {\r\n        position: 'fixed',\r\n        height: 'calc(100vh - 3em)',\r\n        overflowX: 'hidden',\r\n        // hide scrollbar\r\n        scrollbarWidth: 'none',\r\n        msOverflowStyle: 'none',\r\n        '&::-webkit-scrollbar': {\r\n            display: 'none',\r\n        },\r\n    },\r\n\r\n    [`& .MuiPaper-root`]: {\r\n        position: 'relative',\r\n        width: open\r\n            ? lodashGet(theme, 'sidebar.width', DRAWER_WIDTH)\r\n            : lodashGet(theme, 'sidebar.closedWidth', CLOSED_DRAWER_WIDTH),\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        backgroundColor: 'transparent',\r\n        borderRight: 'none',\r\n        [theme.breakpoints.only('xs')]: {\r\n            marginTop: 0,\r\n            height: '100vh',\r\n            position: 'inherit',\r\n            backgroundColor: theme.palette.background.default,\r\n        },\r\n        [theme.breakpoints.up('md')]: {\r\n            border: 'none',\r\n        },\r\n        zIndex: 'inherit',\r\n    },\r\n}));\r\n\r\nexport const DRAWER_WIDTH = 240;\r\nexport const CLOSED_DRAWER_WIDTH = 55;\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { MenuList } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport lodashGet from 'lodash/get';\r\nimport clsx from 'clsx';\r\nimport { useResourceDefinitions } from 'ra-core';\r\n\r\nimport { DRAWER_WIDTH, CLOSED_DRAWER_WIDTH } from './Sidebar';\r\nimport { useSidebarState } from './useSidebarState';\r\nimport { DashboardMenuItem } from './DashboardMenuItem';\r\nimport { MenuItemLink } from './MenuItemLink';\r\nimport { ResourceMenuItem } from './ResourceMenuItem';\r\n\r\n/**\r\n * Renders a menu with one menu item per resource by default. You can also set menu items by hand.\r\n *\r\n * @example\r\n * import * as React from 'react';\r\n * import { Menu } from 'react-admin';\r\n *\r\n * import BookIcon from '@mui/icons-material/Book';\r\n * import ChatBubbleIcon from '@mui/icons-material/ChatBubble';\r\n * import PeopleIcon from '@mui/icons-material/People';\r\n * import LabelIcon from '@mui/icons-material/Label';\r\n *\r\n * export const MyMenu = () => (\r\n *     <Menu>\r\n *         <Menu.DashboardItem />\r\n *         <Menu.Item to=\"/posts\" primaryText=\"Posts\" leftIcon={<BookIcon />}/>\r\n *         <Menu.Item to=\"/comments\" primaryText=\"Comments\" leftIcon={<ChatBubbleIcon />}/>\r\n *         <Menu.Item to=\"/users\" primaryText=\"Users\" leftIcon={<PeopleIcon />}/>\r\n *         <Menu.Item to=\"/custom-route\" primaryText=\"Miscellaneous\" leftIcon={<LabelIcon />}/>\r\n *     </Menu>\r\n * );\r\n */\r\nexport const Menu = (props: MenuProps) => {\r\n    const resources = useResourceDefinitions();\r\n    const {\r\n        hasDashboard,\r\n        children = [\r\n            hasDashboard ? (\r\n                <DashboardMenuItem key=\"default-dashboard-menu-item\" />\r\n            ) : null,\r\n            ...Object.keys(resources)\r\n                .filter(name => resources[name].hasList)\r\n                .map(name => <ResourceMenuItem key={name} name={name} />),\r\n        ],\r\n        className,\r\n        ...rest\r\n    } = props;\r\n\r\n    const [open] = useSidebarState();\r\n\r\n    return (\r\n        <Root\r\n            className={clsx(\r\n                {\r\n                    [MenuClasses.open]: open,\r\n                    [MenuClasses.closed]: !open,\r\n                },\r\n                className\r\n            )}\r\n            {...rest}\r\n        >\r\n            {children}\r\n        </Root>\r\n    );\r\n};\r\n\r\n// NOTE: We don't extends MenuListProps here to avoid breaking changes\r\nexport interface MenuProps {\r\n    children?: ReactNode;\r\n    className?: string;\r\n    dense?: boolean;\r\n    hasDashboard?: boolean;\r\n    [key: string]: any;\r\n}\r\n\r\nMenu.propTypes = {\r\n    className: PropTypes.string,\r\n    dense: PropTypes.bool,\r\n    hasDashboard: PropTypes.bool,\r\n};\r\n\r\n// re-export MenuItem components for convenience\r\nMenu.Item = MenuItemLink;\r\nMenu.DashboardItem = DashboardMenuItem;\r\nMenu.ResourceItem = ResourceMenuItem;\r\n\r\nconst PREFIX = 'RaMenu';\r\n\r\nexport const MenuClasses = {\r\n    open: `${PREFIX}-open`,\r\n    closed: `${PREFIX}-closed`,\r\n};\r\n\r\nconst Root = styled(MenuList, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-start',\r\n    marginTop: '0.5em',\r\n    marginBottom: '1em',\r\n    [theme.breakpoints.only('xs')]: {\r\n        marginTop: 0,\r\n    },\r\n    transition: theme.transitions.create('width', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n\r\n    [`&.${MenuClasses.open}`]: {\r\n        width: lodashGet(theme, 'sidebar.width', DRAWER_WIDTH),\r\n    },\r\n\r\n    [`&.${MenuClasses.closed}`]: {\r\n        width: lodashGet(theme, 'sidebar.closedWidth', CLOSED_DRAWER_WIDTH),\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { createElement } from 'react';\r\nimport DefaultIcon from '@mui/icons-material/ViewList';\r\n\r\nimport {\r\n    useResourceDefinitions,\r\n    useGetResourceLabel,\r\n    useCreatePath,\r\n} from 'ra-core';\r\n\r\nimport { MenuItemLink } from './MenuItemLink';\r\n\r\nexport const ResourceMenuItem = ({ name }: { name: string }) => {\r\n    const resources = useResourceDefinitions();\r\n    const getResourceLabel = useGetResourceLabel();\r\n    const createPath = useCreatePath();\r\n    if (!resources || !resources[name]) return null;\r\n    return (\r\n        <MenuItemLink\r\n            to={createPath({\r\n                resource: name,\r\n                type: 'list',\r\n            })}\r\n            state={{ _scrollToTop: true }}\r\n            primaryText={<>{getResourceLabel(name, 2)}</>}\r\n            leftIcon={\r\n                resources[name].icon ? (\r\n                    createElement(resources[name].icon)\r\n                ) : (\r\n                    <DefaultIcon />\r\n                )\r\n            }\r\n        />\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n    Box,\r\n    LinearProgress as MuiLinearProgress,\r\n    LinearProgressProps as ProgressProps,\r\n} from '@mui/material';\r\nimport PropTypes from 'prop-types';\r\nimport { useTimeout } from 'ra-core';\r\n\r\n/**\r\n * Progress bar formatted to replace an input or a field in a form layout\r\n *\r\n * Avoids visual jumps when replaced by value or form input\r\n *\r\n * @see ReferenceField\r\n * @see ReferenceInput\r\n *\r\n * @typedef {Object} Props the props you can use\r\n * @prop {Object} classes CSS class names\r\n * @prop {string} className CSS class applied to the LinearProgress component\r\n * @prop {integer} timeout Milliseconds to wait before showing the progress bar. One second by default\r\n *\r\n * @param {Props} props\r\n */\r\nexport const LinearProgress = ({\r\n    timeout = 1000,\r\n    ...props\r\n}: LinearProgressProps) => {\r\n    const { className, ...rest } = props;\r\n\r\n    const oneSecondHasPassed = useTimeout(timeout);\r\n\r\n    return oneSecondHasPassed ? (\r\n        <StyledProgress className={className} {...rest} />\r\n    ) : (\r\n        <Box my={1} height={4} />\r\n    );\r\n};\r\n\r\nLinearProgress.propTypes = {\r\n    className: PropTypes.string,\r\n    timeout: PropTypes.number,\r\n};\r\n\r\n// What? TypeScript loses the displayName if we don't set it explicitly\r\nLinearProgress.displayName = 'LinearProgress';\r\n\r\nexport interface LinearProgressProps extends ProgressProps {\r\n    timeout?: number;\r\n}\r\n\r\nconst PREFIX = 'RaLinearProgress';\r\n\r\nconst StyledProgress = styled(MuiLinearProgress, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    margin: `${theme.spacing(1)} 0`,\r\n    width: theme.spacing(20),\r\n}));\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { SxProps } from '@mui/material';\r\nimport PropTypes from 'prop-types';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport { useTranslate } from 'ra-core';\r\n\r\nexport const Loading = (props: LoadingProps) => {\r\n    const {\r\n        className,\r\n        loadingPrimary = 'ra.page.loading',\r\n        loadingSecondary = 'ra.message.loading',\r\n        ...rest\r\n    } = props;\r\n\r\n    const translate = useTranslate();\r\n    return (\r\n        <Root className={className} {...rest}>\r\n            <div className={LoadingClasses.message}>\r\n                <CircularProgress\r\n                    className={LoadingClasses.icon}\r\n                    color=\"primary\"\r\n                />\r\n                <h1>{translate(loadingPrimary, { _: loadingPrimary })}</h1>\r\n                <div>\r\n                    {translate(loadingSecondary, { _: loadingSecondary })}\r\n                </div>\r\n            </div>\r\n        </Root>\r\n    );\r\n};\r\n\r\nLoading.propTypes = {\r\n    className: PropTypes.string,\r\n    loadingPrimary: PropTypes.string,\r\n    loadingSecondary: PropTypes.string,\r\n};\r\n\r\nLoading.defaultProps = {\r\n    loadingPrimary: 'ra.page.loading',\r\n    loadingSecondary: 'ra.message.loading',\r\n};\r\n\r\nexport interface LoadingProps {\r\n    className?: string;\r\n    loadingPrimary?: string;\r\n    loadingSecondary?: string;\r\n    sx?: SxProps;\r\n}\r\n\r\nconst PREFIX = 'RaLoading';\r\n\r\nexport const LoadingClasses = {\r\n    root: `${PREFIX}-root`,\r\n    icon: `${PREFIX}-icon`,\r\n    message: `${PREFIX}-message`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    [theme.breakpoints.up('md')]: {\r\n        height: '100%',\r\n    },\r\n    [theme.breakpoints.down('xl')]: {\r\n        height: '100vh',\r\n        marginTop: '-3em',\r\n    },\r\n\r\n    [`& .${LoadingClasses.icon}`]: {\r\n        width: '9em',\r\n        height: '9em',\r\n    },\r\n\r\n    [`& .${LoadingClasses.message}`]: {\r\n        textAlign: 'center',\r\n        fontFamily: 'Roboto, sans-serif',\r\n        opacity: 0.5,\r\n        margin: '0 1em',\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Loading } from './Loading';\r\n\r\nexport const LoadingPage = ({\r\n    loadingPrimary = 'ra.page.loading',\r\n    loadingSecondary = 'ra.message.loading',\r\n    ...props\r\n}) => (\r\n    <Loading\r\n        loadingPrimary={loadingPrimary}\r\n        loadingSecondary={loadingSecondary}\r\n        {...props}\r\n    />\r\n);\r\n\r\nLoadingPage.propTypes = {\r\n    theme: PropTypes.object,\r\n    className: PropTypes.string,\r\n    loadingPrimary: PropTypes.string,\r\n    loadingSecondary: PropTypes.string,\r\n};\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@mui/material/Button';\r\nimport HotTub from '@mui/icons-material/HotTub';\r\nimport History from '@mui/icons-material/History';\r\n\r\nimport { useAuthenticated, useTranslate } from 'ra-core';\r\nimport { Title } from './Title';\r\n\r\nexport const NotFound = props => {\r\n    const { className, title, ...rest } = props;\r\n\r\n    const translate = useTranslate();\r\n    useAuthenticated();\r\n    return (\r\n        <Root className={className} {...sanitizeRestProps(rest)}>\r\n            <Title defaultTitle={title} />\r\n            <div className={NotFoundClasses.message}>\r\n                <HotTub className={NotFoundClasses.icon} />\r\n                <h1>{translate('ra.page.not_found')}</h1>\r\n                <div>{translate('ra.message.not_found')}.</div>\r\n            </div>\r\n            <div className={NotFoundClasses.toolbar}>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    startIcon={<History />}\r\n                    onClick={goBack}\r\n                >\r\n                    {translate('ra.action.back')}\r\n                </Button>\r\n            </div>\r\n        </Root>\r\n    );\r\n};\r\n\r\nconst sanitizeRestProps = ({\r\n    staticContext,\r\n    history,\r\n    location,\r\n    match,\r\n    ...rest\r\n}) => rest;\r\n\r\nNotFound.propTypes = {\r\n    className: PropTypes.string,\r\n    title: PropTypes.string,\r\n    location: PropTypes.object,\r\n};\r\n\r\nconst PREFIX = 'RaNotFound';\r\n\r\nexport const NotFoundClasses = {\r\n    icon: `${PREFIX}-icon`,\r\n    message: `${PREFIX}-message`,\r\n    toolbar: `${PREFIX}-toolbar`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    [theme.breakpoints.up('md')]: {\r\n        height: '100%',\r\n    },\r\n    [theme.breakpoints.down('md')]: {\r\n        height: '100vh',\r\n        marginTop: '-3em',\r\n    },\r\n\r\n    [`& .${NotFoundClasses.icon}`]: {\r\n        width: '9em',\r\n        height: '9em',\r\n    },\r\n\r\n    [`& .${NotFoundClasses.message}`]: {\r\n        textAlign: 'center',\r\n        fontFamily: 'Roboto, sans-serif',\r\n        opacity: 0.5,\r\n        margin: '0 1em',\r\n    },\r\n\r\n    [`& .${NotFoundClasses.toolbar}`]: {\r\n        textAlign: 'center',\r\n        marginTop: '2em',\r\n    },\r\n}));\r\n\r\nfunction goBack() {\r\n    window.history.go(-1);\r\n}\r\n", "import * as React from 'react';\r\nimport { styled, Theme } from '@mui/material/styles';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Snackbar, SnackbarProps, SnackbarOrigin } from '@mui/material';\r\nimport clsx from 'clsx';\r\n\r\nimport {\r\n    useNotificationContext,\r\n    undoableEventEmitter,\r\n    useTranslate,\r\n} from 'ra-core';\r\n\r\nconst defaultAnchorOrigin: SnackbarOrigin = {\r\n    vertical: 'bottom',\r\n    horizontal: 'center',\r\n};\r\n\r\n/**\r\n * Provides a way to show a notification.\r\n * @see useNotify\r\n *\r\n * @example <caption>Basic usage</caption>\r\n * <Notification />\r\n *\r\n * @param props The component props\r\n * @param {string} props.type The notification type. Defaults to 'info'.\r\n * @param {number} props.autoHideDuration Duration in milliseconds to wait until hiding a given notification. Defaults to 4000.\r\n * @param {boolean} props.multiLine Set it to `true` if the notification message should be shown in more than one line.\r\n */\r\nexport const Notification = (props: NotificationProps) => {\r\n    const {\r\n        className,\r\n        type = 'info',\r\n        autoHideDuration = 4000,\r\n        multiLine = false,\r\n        anchorOrigin = defaultAnchorOrigin,\r\n        ...rest\r\n    } = props;\r\n    const { notifications, takeNotification } = useNotificationContext();\r\n    const [open, setOpen] = useState(false);\r\n    const [messageInfo, setMessageInfo] = React.useState(undefined);\r\n    const translate = useTranslate();\r\n\r\n    useEffect(() => {\r\n        const beforeunload = (e: BeforeUnloadEvent) => {\r\n            e.preventDefault();\r\n            const confirmationMessage = '';\r\n            e.returnValue = confirmationMessage;\r\n            return confirmationMessage;\r\n        };\r\n\r\n        if (messageInfo?.notificationOptions?.undoable) {\r\n            window.addEventListener('beforeunload', beforeunload);\r\n        }\r\n\r\n        if (notifications.length && !messageInfo) {\r\n            // Set a new snack when we don't have an active one\r\n            setMessageInfo(takeNotification());\r\n            setOpen(true);\r\n        } else if (notifications.length && messageInfo && open) {\r\n            // Close an active snack when a new one is added\r\n            setOpen(false);\r\n        }\r\n\r\n        return () => {\r\n            if (messageInfo?.notificationOptions?.undoable) {\r\n                window.removeEventListener('beforeunload', beforeunload);\r\n            }\r\n        };\r\n    }, [notifications, messageInfo, open, takeNotification]);\r\n\r\n    const handleRequestClose = useCallback(() => {\r\n        setOpen(false);\r\n    }, [setOpen]);\r\n\r\n    const handleExited = useCallback(() => {\r\n        if (messageInfo && messageInfo.notificationOptions.undoable) {\r\n            undoableEventEmitter.emit('end', { isUndo: false });\r\n        }\r\n        setMessageInfo(undefined);\r\n    }, [messageInfo]);\r\n\r\n    const handleUndo = useCallback(() => {\r\n        undoableEventEmitter.emit('end', { isUndo: true });\r\n        setOpen(false);\r\n    }, []);\r\n\r\n    if (!messageInfo) return null;\r\n    const {\r\n        message,\r\n        type: typeFromMessage,\r\n        notificationOptions: {\r\n            autoHideDuration: autoHideDurationFromMessage,\r\n            messageArgs,\r\n            multiLine: multilineFromMessage,\r\n            undoable,\r\n            ...options\r\n        },\r\n    } = messageInfo;\r\n\r\n    return (\r\n        <StyledSnackbar\r\n            className={className}\r\n            open={open}\r\n            message={\r\n                message &&\r\n                typeof message === 'string' &&\r\n                translate(message, messageArgs)\r\n            }\r\n            autoHideDuration={autoHideDurationFromMessage || autoHideDuration}\r\n            disableWindowBlurListener={undoable}\r\n            TransitionProps={{ onExited: handleExited }}\r\n            onClose={handleRequestClose}\r\n            ContentProps={{\r\n                className: clsx(NotificationClasses[typeFromMessage || type], {\r\n                    [NotificationClasses.multiLine]:\r\n                        multilineFromMessage || multiLine,\r\n                }),\r\n            }}\r\n            action={\r\n                undoable ? (\r\n                    <Button\r\n                        color=\"primary\"\r\n                        className={NotificationClasses.undo}\r\n                        size=\"small\"\r\n                        onClick={handleUndo}\r\n                    >\r\n                        <>{translate('ra.action.undo')}</>\r\n                    </Button>\r\n                ) : null\r\n            }\r\n            anchorOrigin={anchorOrigin}\r\n            {...rest}\r\n            {...options}\r\n        >\r\n            {message && typeof message !== 'string' ? message : null}\r\n        </StyledSnackbar>\r\n    );\r\n};\r\n\r\nNotification.propTypes = {\r\n    type: PropTypes.string,\r\n    autoHideDuration: PropTypes.number,\r\n    multiLine: PropTypes.bool,\r\n};\r\n\r\nconst PREFIX = 'RaNotification';\r\n\r\nexport const NotificationClasses = {\r\n    success: `${PREFIX}-success`,\r\n    error: `${PREFIX}-error`,\r\n    warning: `${PREFIX}-warning`,\r\n    undo: `${PREFIX}-undo`,\r\n    multiLine: `${PREFIX}-multiLine`,\r\n};\r\n\r\nconst StyledSnackbar = styled(Snackbar, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme, type }: NotificationProps & { theme?: Theme }) => ({\r\n    [`& .${NotificationClasses.success}`]: {\r\n        backgroundColor: theme.palette.success.main,\r\n        color: theme.palette.success.contrastText,\r\n    },\r\n\r\n    [`& .${NotificationClasses.error}`]: {\r\n        backgroundColor: theme.palette.error.main,\r\n        color: theme.palette.error.contrastText,\r\n    },\r\n\r\n    [`& .${NotificationClasses.warning}`]: {\r\n        backgroundColor: theme.palette.warning.main,\r\n        color: theme.palette.warning.contrastText,\r\n    },\r\n\r\n    [`& .${NotificationClasses.undo}`]: {\r\n        color:\r\n            type === 'success'\r\n                ? theme.palette.success.contrastText\r\n                : theme.palette.primary.light,\r\n    },\r\n    [`& .${NotificationClasses.multiLine}`]: {\r\n        whiteSpace: 'pre-wrap',\r\n    },\r\n}));\r\n\r\nexport interface NotificationProps extends Omit<SnackbarProps, 'open'> {\r\n    type?: string;\r\n    autoHideDuration?: number;\r\n    multiLine?: boolean;\r\n}\r\n", "import { useStore } from 'ra-core';\r\nimport { RaThemeOptions, ThemeType } from './types';\r\n\r\nexport type ThemeSetter = (theme: ThemeType | RaThemeOptions) => void;\r\n\r\n/**\r\n * Read and update the theme mode (light or dark)\r\n *\r\n * @example\r\n * const [theme, setTheme] = useTheme('light');\r\n * const toggleTheme = () => {\r\n *    setTheme(theme === 'light' ? 'dark' : 'light');\r\n * };\r\n *\r\n * @example // legacy mode, stores the full theme object\r\n * // to be removed in v5\r\n * const [theme, setTheme] = useTheme({\r\n *    palette: {\r\n *       type: 'light',\r\n *   },\r\n * });\r\n */\r\nexport const useTheme = (\r\n    type?: ThemeType | RaThemeOptions\r\n): [ThemeType | RaThemeOptions, ThemeSetter] => {\r\n    // FIXME: remove legacy mode in v5, and remove the RaThemeOptions type\r\n    const [theme, setter] = useStore<ThemeType | RaThemeOptions>('theme', type);\r\n    return [theme, setter];\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode, useMemo } from 'react';\r\nimport {\r\n    ThemeProvider as MuiThemeProvider,\r\n    createTheme,\r\n} from '@mui/material/styles';\r\nimport { useMediaQuery } from '@mui/material';\r\n\r\nimport { RaThemeOptions } from './types';\r\nimport { useTheme } from './useTheme';\r\nimport { useThemesContext } from './useThemesContext';\r\n\r\n/**\r\n * This sets the Material UI theme based on the preferred theme type.\r\n *\r\n * @param props\r\n * @param props.children The children of the component.\r\n * @param {ThemeOptions} props.theme The initial theme. Optional, use the one from the context if not provided.\r\n *\r\n * @example\r\n *\r\n * import { ThemesContext, ThemeProvider } from 'react-admin';\r\n *\r\n * const App = () => (\r\n *    <ThemesContext.Provider value={{ lightTheme, darkTheme }}>\r\n *      <ThemeProvider>\r\n *        <Button>Test</Button>\r\n *      </ThemeProvider>\r\n *   </ThemesContext.Provider>\r\n * );\r\n */\r\nexport const ThemeProvider = ({\r\n    children,\r\n    theme: themeOverride,\r\n}: ThemeProviderProps) => {\r\n    const { lightTheme, darkTheme, defaultTheme } = useThemesContext();\r\n\r\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)', {\r\n        noSsr: true,\r\n    });\r\n    const [mode] = useTheme(\r\n        defaultTheme || (prefersDarkMode && darkTheme ? 'dark' : 'light')\r\n    );\r\n\r\n    const themeValue = useMemo(() => {\r\n        try {\r\n            return createTheme(\r\n                typeof mode === 'object'\r\n                    ? mode // FIXME: legacy useTheme, to be removed in v5\r\n                    : mode === 'dark'\r\n                    ? darkTheme\r\n                    : lightTheme || themeOverride\r\n            );\r\n        } catch (e) {\r\n            console.warn('Failed to reuse custom theme from store', e);\r\n            return createTheme();\r\n        }\r\n    }, [mode, themeOverride, lightTheme, darkTheme]);\r\n\r\n    return <MuiThemeProvider theme={themeValue}>{children}</MuiThemeProvider>;\r\n};\r\n\r\nexport interface ThemeProviderProps {\r\n    children: ReactNode;\r\n    /**\r\n     * @deprecated Use the `ThemesProvider` component instead.\r\n     */\r\n    theme?: RaThemeOptions;\r\n}\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport Toolbar, { ToolbarProps } from '@mui/material/Toolbar';\r\n\r\nexport const TopToolbar = (props: ToolbarProps) => <StyledToolbar {...props} />;\r\n\r\nTopToolbar.propTypes = {\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n};\r\n\r\nexport default TopToolbar;\r\nconst PREFIX = 'RaTopToolbar';\r\n\r\nconst StyledToolbar = styled(Toolbar, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'flex-end',\r\n    gap: theme.spacing(1),\r\n    whiteSpace: 'nowrap',\r\n    flex: '0 1 auto',\r\n    minHeight: theme.spacing(8),\r\n    [theme.breakpoints.up('md')]: {\r\n        padding: theme.spacing(0.5),\r\n        paddingTop: theme.spacing(1),\r\n    },\r\n    [theme.breakpoints.down('md')]: {\r\n        flex: '0 1 100%',\r\n        padding: theme.spacing(0.5),\r\n        paddingBottom: theme.spacing(1),\r\n    },\r\n    [theme.breakpoints.down('sm')]: {\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n}));\r\n", "import { useContext } from 'react';\r\nimport { UserMenuContext } from './UserMenuContext';\r\n\r\n/**\r\n * A hook to retrieve the user menu context, which provides access to a function for closing the user menu.\r\n * @returns {UserMenuContextValue}\r\n *\r\n * @example\r\n * import { Logout, MenuItemLink, UserMenu, useUserMenu } from 'react-admin';\r\n *\r\n * const ConfigurationMenu = () => {\r\n *     const { onClose } = useUserMenu();\r\n *     return (\r\n *         <MenuItemLink\r\n *             to=\"/configuration\"\r\n *             primaryText=\"pos.configuration\"\r\n *             leftIcon={<SettingsIcon />}\r\n *             sidebarIsOpen\r\n *             onClick={onClose}\r\n *         />\r\n *     );\r\n * };\r\n *\r\n * export const MyUserMenu = () => (\r\n *     <UserMenu>\r\n *         <ConfigurationMenu />\r\n *         <Logout />\r\n *     </UserMenu>\r\n * );\r\n */\r\nexport const useUserMenu = () => useContext(UserMenuContext);\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ActionDelete from '@mui/icons-material/Delete';\r\nimport { alpha } from '@mui/material/styles';\r\nimport {\r\n    useDeleteMany,\r\n    useRefresh,\r\n    useNotify,\r\n    useResourceContext,\r\n    useListContext,\r\n    RaRecord,\r\n    DeleteManyParams,\r\n} from 'ra-core';\r\n\r\nimport { Button, ButtonProps } from './Button';\r\nimport { BulkActionProps } from '../types';\r\nimport { UseMutationOptions } from 'react-query';\r\n\r\nexport const BulkDeleteWithUndoButton = (\r\n    props: BulkDeleteWithUndoButtonProps\r\n) => {\r\n    const {\r\n        label = 'ra.action.delete',\r\n        icon = defaultIcon,\r\n        onClick,\r\n        mutationOptions = {},\r\n        ...rest\r\n    } = props;\r\n    const { meta: mutationMeta, ...otherMutationOptions } = mutationOptions;\r\n    const { selectedIds, onUnselectItems } = useListContext(props);\r\n\r\n    const notify = useNotify();\r\n    const resource = useResourceContext(props);\r\n    const refresh = useRefresh();\r\n    const [deleteMany, { isLoading }] = useDeleteMany();\r\n\r\n    const handleClick = e => {\r\n        deleteMany(\r\n            resource,\r\n            { ids: selectedIds, meta: mutationMeta },\r\n            {\r\n                onSuccess: () => {\r\n                    notify('ra.notification.deleted', {\r\n                        type: 'info',\r\n                        messageArgs: { smart_count: selectedIds.length },\r\n                        undoable: true,\r\n                    });\r\n                    onUnselectItems();\r\n                },\r\n                onError: (error: Error) => {\r\n                    notify(\r\n                        typeof error === 'string'\r\n                            ? error\r\n                            : error.message || 'ra.notification.http_error',\r\n                        {\r\n                            type: 'error',\r\n                            messageArgs: {\r\n                                _:\r\n                                    typeof error === 'string'\r\n                                        ? error\r\n                                        : error && error.message\r\n                                        ? error.message\r\n                                        : undefined,\r\n                            },\r\n                        }\r\n                    );\r\n                    refresh();\r\n                },\r\n                mutationMode: 'undoable',\r\n                ...otherMutationOptions,\r\n            }\r\n        );\r\n        if (typeof onClick === 'function') {\r\n            onClick(e);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <StyledButton\r\n            onClick={handleClick}\r\n            label={label}\r\n            disabled={isLoading}\r\n            {...sanitizeRestProps(rest)}\r\n        >\r\n            {icon}\r\n        </StyledButton>\r\n    );\r\n};\r\n\r\nconst defaultIcon = <ActionDelete />;\r\n\r\nconst sanitizeRestProps = ({\r\n    classes,\r\n    filterValues,\r\n    label,\r\n    selectedIds,\r\n    ...rest\r\n}: Omit<BulkDeleteWithUndoButtonProps, 'resource' | 'icon'>) => rest;\r\n\r\nexport interface BulkDeleteWithUndoButtonProps<\r\n    RecordType extends RaRecord = any,\r\n    MutationOptionsError = unknown\r\n> extends BulkActionProps,\r\n        ButtonProps {\r\n    icon?: ReactElement;\r\n    mutationOptions?: UseMutationOptions<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        DeleteManyParams<RecordType>\r\n    > & { meta?: any };\r\n}\r\n\r\nconst PREFIX = 'RaBulkDeleteWithUndoButton';\r\n\r\nconst StyledButton = styled(Button, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    color: theme.palette.error.main,\r\n    '&:hover': {\r\n        backgroundColor: alpha(theme.palette.error.main, 0.12),\r\n        // Reset on mouse devices\r\n        '@media (hover: none)': {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n}));\r\n\r\nBulkDeleteWithUndoButton.propTypes = {\r\n    label: PropTypes.string,\r\n    resource: PropTypes.string,\r\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\r\n    icon: PropTypes.element,\r\n};\r\n", "import * as React from 'react';\r\nimport { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport DownloadIcon from '@mui/icons-material/GetApp';\r\nimport {\r\n    fetchRelatedRecords,\r\n    useDataProvider,\r\n    useNotify,\r\n    Identifier,\r\n    Exporter,\r\n    useListContext,\r\n} from 'ra-core';\r\n\r\nimport { Button, ButtonProps } from './Button';\r\n\r\n/**\r\n * Export the selected rows\r\n *\r\n * To be used inside the <List bulkActionButtons> prop.\r\n *\r\n * @example // basic usage\r\n * import * as React from 'react';\r\n * import { Fragment } from 'react';\r\n * import { BulkDeleteButton, BulkExportButton } from 'react-admin';\r\n *\r\n * const PostBulkActionButtons = () => (\r\n *     <Fragment>\r\n *         <BulkExportButton />\r\n *         <BulkDeleteButton />\r\n *     </Fragment>\r\n * );\r\n *\r\n * export const PostList = () => (\r\n *     <List bulkActionButtons={<PostBulkActionButtons />}>\r\n *         ...\r\n *     </List>\r\n * );\r\n */\r\nexport const BulkExportButton = (props: BulkExportButtonProps) => {\r\n    const {\r\n        onClick,\r\n        label = 'ra.action.export',\r\n        icon = defaultIcon,\r\n        exporter: customExporter,\r\n        meta,\r\n        ...rest\r\n    } = props;\r\n    const {\r\n        exporter: exporterFromContext,\r\n        resource,\r\n        selectedIds,\r\n    } = useListContext(props);\r\n    const exporter = customExporter || exporterFromContext;\r\n    const dataProvider = useDataProvider();\r\n    const notify = useNotify();\r\n    const handleClick = useCallback(\r\n        event => {\r\n            exporter &&\r\n                dataProvider\r\n                    .getMany(resource, { ids: selectedIds, meta })\r\n                    .then(({ data }) =>\r\n                        exporter(\r\n                            data,\r\n                            fetchRelatedRecords(dataProvider),\r\n                            dataProvider,\r\n                            resource\r\n                        )\r\n                    )\r\n                    .catch(error => {\r\n                        console.error(error);\r\n                        notify('ra.notification.http_error', {\r\n                            type: 'error',\r\n                        });\r\n                    });\r\n            if (typeof onClick === 'function') {\r\n                onClick(event);\r\n            }\r\n        },\r\n        [dataProvider, exporter, notify, onClick, resource, selectedIds, meta]\r\n    );\r\n\r\n    return (\r\n        <Button\r\n            onClick={handleClick}\r\n            label={label}\r\n            {...sanitizeRestProps(rest)}\r\n        >\r\n            {icon}\r\n        </Button>\r\n    );\r\n};\r\n\r\nconst defaultIcon = <DownloadIcon />;\r\n\r\nconst sanitizeRestProps = ({\r\n    filterValues,\r\n    selectedIds,\r\n    resource,\r\n    ...rest\r\n}: Omit<BulkExportButtonProps, 'exporter' | 'label' | 'meta'>) => rest;\r\n\r\ninterface Props {\r\n    exporter?: Exporter;\r\n    filterValues?: any;\r\n    icon?: JSX.Element;\r\n    label?: string;\r\n    onClick?: (e: Event) => void;\r\n    selectedIds?: Identifier[];\r\n    resource?: string;\r\n    meta?: any;\r\n}\r\n\r\nexport type BulkExportButtonProps = Props & ButtonProps;\r\n\r\nBulkExportButton.propTypes = {\r\n    exporter: PropTypes.func,\r\n    label: PropTypes.string,\r\n    resource: PropTypes.string,\r\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\r\n    icon: PropTypes.element,\r\n    meta: PropTypes.any,\r\n};\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    BulkUpdateWithConfirmButton,\r\n    BulkUpdateWithConfirmButtonProps,\r\n} from './BulkUpdateWithConfirmButton';\r\nimport {\r\n    BulkUpdateWithUndoButton,\r\n    BulkUpdateWithUndoButtonProps,\r\n} from './BulkUpdateWithUndoButton';\r\nimport { MutationMode } from 'ra-core';\r\n\r\n/**\r\n * Updates the selected rows.\r\n *\r\n * To be used inside the <List bulkActionButtons> prop (where it's enabled by default).\r\n *\r\n * @example // basic usage\r\n * import * as React from 'react';\r\n * import { Fragment } from 'react';\r\n * import { BulkUpdateButton, BulkExportButton } from 'react-admin';\r\n *\r\n * const PostBulkActionButtons = () => (\r\n *     <Fragment>\r\n *         <BulkExportButton />\r\n *         <BulkUpdateButton label=\"Reset Views\" data={{ views: 0 }} />\r\n *     </Fragment>\r\n * );\r\n *\r\n * export const PostList = () => (\r\n *     <List bulkActionButtons={<PostBulkActionButtons />}>\r\n *         ...\r\n *     </List>\r\n * );\r\n */\r\nexport const BulkUpdateButton = (props: BulkUpdateButtonProps) => {\r\n    const { mutationMode, ...rest } = props;\r\n\r\n    return mutationMode === 'undoable' ? (\r\n        <BulkUpdateWithUndoButton {...rest} />\r\n    ) : (\r\n        <BulkUpdateWithConfirmButton mutationMode={mutationMode} {...rest} />\r\n    );\r\n};\r\n\r\ninterface Props {\r\n    mutationMode?: MutationMode;\r\n}\r\n\r\nexport type BulkUpdateButtonProps = Props &\r\n    (BulkUpdateWithUndoButtonProps | BulkUpdateWithConfirmButtonProps);\r\n\r\nBulkUpdateButton.propTypes = {\r\n    label: PropTypes.string,\r\n    resource: PropTypes.string,\r\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\r\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\r\n    icon: PropTypes.element,\r\n};\r\n\r\nBulkUpdateButton.defaultProps = {\r\n    mutationMode: 'undoable',\r\n    data: [],\r\n};\r\n", "import * as React from 'react';\r\nimport { Fragment, useState, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ActionUpdate from '@mui/icons-material/Update';\r\nimport inflection from 'inflection';\r\nimport { alpha, styled } from '@mui/material/styles';\r\nimport {\r\n    useListContext,\r\n    useTranslate,\r\n    useUpdateMany,\r\n    useRefresh,\r\n    useNotify,\r\n    useUnselectAll,\r\n    useResourceContext,\r\n    MutationMode,\r\n    RaRecord,\r\n    UpdateManyParams,\r\n} from 'ra-core';\r\n\r\nimport { Confirm } from '../layout';\r\nimport { Button, ButtonProps } from './Button';\r\nimport { BulkActionProps } from '../types';\r\nimport { UseMutationOptions } from 'react-query';\r\n\r\nexport const BulkUpdateWithConfirmButton = (\r\n    props: BulkUpdateWithConfirmButtonProps\r\n) => {\r\n    const notify = useNotify();\r\n    const refresh = useRefresh();\r\n    const translate = useTranslate();\r\n    const resource = useResourceContext(props);\r\n    const unselectAll = useUnselectAll(resource);\r\n    const [isOpen, setOpen] = useState(false);\r\n    const { selectedIds } = useListContext(props);\r\n\r\n    const {\r\n        confirmTitle = 'ra.message.bulk_update_title',\r\n        confirmContent = 'ra.message.bulk_update_content',\r\n        data,\r\n        icon = defaultIcon,\r\n        label = 'ra.action.update',\r\n        mutationMode = 'pessimistic',\r\n        onClick,\r\n        onSuccess = () => {\r\n            refresh();\r\n            notify('ra.notification.updated', {\r\n                type: 'info',\r\n                messageArgs: { smart_count: selectedIds.length },\r\n                undoable: mutationMode === 'undoable',\r\n            });\r\n            unselectAll();\r\n            setOpen(false);\r\n        },\r\n        onError = (error: Error | string) => {\r\n            notify(\r\n                typeof error === 'string'\r\n                    ? error\r\n                    : error.message || 'ra.notification.http_error',\r\n                {\r\n                    type: 'error',\r\n                    messageArgs: {\r\n                        _:\r\n                            typeof error === 'string'\r\n                                ? error\r\n                                : error && error.message\r\n                                ? error.message\r\n                                : undefined,\r\n                    },\r\n                }\r\n            );\r\n            setOpen(false);\r\n        },\r\n        mutationOptions = {},\r\n        ...rest\r\n    } = props;\r\n    const { meta: mutationMeta, ...otherMutationOptions } = mutationOptions;\r\n\r\n    const [updateMany, { isLoading }] = useUpdateMany(\r\n        resource,\r\n        { ids: selectedIds, data, meta: mutationMeta },\r\n        {\r\n            onSuccess,\r\n            onError,\r\n            mutationMode,\r\n            ...otherMutationOptions,\r\n        }\r\n    );\r\n\r\n    const handleClick = e => {\r\n        setOpen(true);\r\n        e.stopPropagation();\r\n    };\r\n\r\n    const handleDialogClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleUpdate = e => {\r\n        updateMany();\r\n\r\n        if (typeof onClick === 'function') {\r\n            onClick(e);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <StyledButton\r\n                onClick={handleClick}\r\n                label={label}\r\n                {...sanitizeRestProps(rest)}\r\n            >\r\n                {icon}\r\n            </StyledButton>\r\n            <Confirm\r\n                isOpen={isOpen}\r\n                loading={isLoading}\r\n                title={confirmTitle}\r\n                content={confirmContent}\r\n                translateOptions={{\r\n                    smart_count: selectedIds.length,\r\n                    name: translate(`resources.${resource}.forcedCaseName`, {\r\n                        smart_count: selectedIds.length,\r\n                        _: inflection.humanize(\r\n                            translate(`resources.${resource}.name`, {\r\n                                smart_count: selectedIds.length,\r\n                                _: inflection.inflect(\r\n                                    resource,\r\n                                    selectedIds.length\r\n                                ),\r\n                            }),\r\n                            true\r\n                        ),\r\n                    }),\r\n                }}\r\n                onConfirm={handleUpdate}\r\n                onClose={handleDialogClose}\r\n            />\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nconst sanitizeRestProps = ({\r\n    filterValues,\r\n    label,\r\n    onSuccess,\r\n    onError,\r\n    ...rest\r\n}: Omit<\r\n    BulkUpdateWithConfirmButtonProps,\r\n    'resource' | 'selectedIds' | 'icon' | 'data'\r\n>) => rest;\r\n\r\nexport interface BulkUpdateWithConfirmButtonProps<\r\n    RecordType extends RaRecord = any,\r\n    MutationOptionsError = unknown\r\n> extends BulkActionProps,\r\n        ButtonProps {\r\n    confirmContent?: React.ReactNode;\r\n    confirmTitle?: string;\r\n    icon?: ReactElement;\r\n    data: any;\r\n    onSuccess?: () => void;\r\n    onError?: (error: any) => void;\r\n    mutationMode?: MutationMode;\r\n    mutationOptions?: UseMutationOptions<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        UpdateManyParams<RecordType>\r\n    > & { meta?: any };\r\n}\r\n\r\nBulkUpdateWithConfirmButton.propTypes = {\r\n    confirmTitle: PropTypes.string,\r\n    confirmContent: PropTypes.string,\r\n    label: PropTypes.string,\r\n    resource: PropTypes.string,\r\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\r\n    icon: PropTypes.element,\r\n    data: PropTypes.any.isRequired,\r\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\r\n};\r\n\r\nconst PREFIX = 'RaBulkUpdateWithConfirmButton';\r\n\r\nconst StyledButton = styled(Button, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    color: theme.palette.primary.main,\r\n    '&:hover': {\r\n        backgroundColor: alpha(theme.palette.primary.main, 0.12),\r\n        // Reset on mouse devices\r\n        '@media (hover: none)': {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n}));\r\n\r\nconst defaultIcon = <ActionUpdate />;\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ActionUpdate from '@mui/icons-material/Update';\r\nimport { alpha } from '@mui/material/styles';\r\nimport {\r\n    useUpdateMany,\r\n    useRefresh,\r\n    useNotify,\r\n    useUnselectAll,\r\n    useResourceContext,\r\n    useListContext,\r\n    RaRecord,\r\n    UpdateManyParams,\r\n} from 'ra-core';\r\nimport { UseMutationOptions } from 'react-query';\r\n\r\nimport { Button, ButtonProps } from './Button';\r\nimport { BulkActionProps } from '../types';\r\n\r\nexport const BulkUpdateWithUndoButton = (\r\n    props: BulkUpdateWithUndoButtonProps\r\n) => {\r\n    const { selectedIds } = useListContext(props);\r\n\r\n    const notify = useNotify();\r\n    const resource = useResourceContext(props);\r\n    const unselectAll = useUnselectAll(resource);\r\n    const refresh = useRefresh();\r\n\r\n    const {\r\n        data,\r\n        label = 'ra.action.update',\r\n        icon = defaultIcon,\r\n        onClick,\r\n        onSuccess = () => {\r\n            notify('ra.notification.updated', {\r\n                type: 'info',\r\n                messageArgs: { smart_count: selectedIds.length },\r\n                undoable: true,\r\n            });\r\n            unselectAll();\r\n            refresh();\r\n        },\r\n        onError = (error: Error | string) => {\r\n            notify(\r\n                typeof error === 'string'\r\n                    ? error\r\n                    : error.message || 'ra.notification.http_error',\r\n                {\r\n                    type: 'error',\r\n                    messageArgs: {\r\n                        _:\r\n                            typeof error === 'string'\r\n                                ? error\r\n                                : error && error.message\r\n                                ? error.message\r\n                                : undefined,\r\n                    },\r\n                }\r\n            );\r\n            refresh();\r\n        },\r\n        mutationOptions = {},\r\n        ...rest\r\n    } = props;\r\n    const { meta: mutationMeta, ...otherMutationOptions } = mutationOptions;\r\n\r\n    const [updateMany, { isLoading }] = useUpdateMany(\r\n        resource,\r\n        { ids: selectedIds, data, meta: mutationMeta },\r\n        {\r\n            onSuccess,\r\n            onError,\r\n            mutationMode: 'undoable',\r\n            ...otherMutationOptions,\r\n        }\r\n    );\r\n\r\n    const handleClick = e => {\r\n        updateMany();\r\n        if (typeof onClick === 'function') {\r\n            onClick(e);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <StyledButton\r\n            onClick={handleClick}\r\n            label={label}\r\n            disabled={isLoading}\r\n            {...sanitizeRestProps(rest)}\r\n        >\r\n            {icon}\r\n        </StyledButton>\r\n    );\r\n};\r\n\r\nconst defaultIcon = <ActionUpdate />;\r\n\r\nconst sanitizeRestProps = ({\r\n    filterValues,\r\n    label,\r\n    selectedIds,\r\n    onSuccess,\r\n    onError,\r\n    ...rest\r\n}: Omit<BulkUpdateWithUndoButtonProps, 'resource' | 'icon' | 'data'>) => rest;\r\n\r\nexport interface BulkUpdateWithUndoButtonProps<\r\n    RecordType extends RaRecord = any,\r\n    MutationOptionsError = unknown\r\n> extends BulkActionProps,\r\n        ButtonProps {\r\n    icon?: ReactElement;\r\n    data: any;\r\n    onSuccess?: () => void;\r\n    onError?: (error: any) => void;\r\n    mutationOptions?: UseMutationOptions<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        UpdateManyParams<RecordType>\r\n    > & { meta?: any };\r\n}\r\n\r\nBulkUpdateWithUndoButton.propTypes = {\r\n    label: PropTypes.string,\r\n    resource: PropTypes.string,\r\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\r\n    icon: PropTypes.element,\r\n    data: PropTypes.any.isRequired,\r\n};\r\n\r\nconst PREFIX = 'RaBulkUpdateWithUndoButton';\r\n\r\nconst StyledButton = styled(Button, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    color: theme.palette.primary.main,\r\n    '&:hover': {\r\n        backgroundColor: alpha(theme.palette.primary.main, 0.12),\r\n        // Reset on mouse devices\r\n        '@media (hover: none)': {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { UseMutationOptions } from 'react-query';\r\nimport {\r\n    RaRecord,\r\n    MutationMode,\r\n    DeleteParams,\r\n    useRecordContext,\r\n    useSaveContext,\r\n    SaveContextValue,\r\n    RedirectionSideEffect,\r\n} from 'ra-core';\r\n\r\nimport { ButtonProps } from './Button';\r\nimport { DeleteWithUndoButton } from './DeleteWithUndoButton';\r\nimport { DeleteWithConfirmButton } from './DeleteWithConfirmButton';\r\n\r\n/**\r\n * Button used to delete a single record. Added by default by the <Toolbar> of edit and show views.\r\n *\r\n * @typedef {Object} Props The props you can use (other props are injected if you used it in the <Toolbar>)\r\n * @prop {boolean} mutationMode Either 'pessimistic', 'optimistic' or 'undoable'. Determine whether the deletion uses an undo button in a notification or a confirmation dialog. Defaults to 'undoable'.\r\n * @prop {Object} record The current resource record\r\n * @prop {string} className\r\n * @prop {string} label Button label. Defaults to 'ra.action.delete, translated.\r\n * @prop {boolean} disabled Disable the button.\r\n * @prop {string} variant Material UI variant for the button. Defaults to 'contained'.\r\n * @prop {ReactElement} icon Override the icon. Defaults to the Delete icon from Material UI.\r\n *\r\n * @param {Props} props\r\n *\r\n * @example Usage in the <TopToolbar> of an <Edit> form\r\n *\r\n * import * as React from 'react';\r\n * import { Edit, DeleteButton, TopToolbar } from 'react-admin';\r\n *\r\n * const EditActions = props => {\r\n *     const { data, resource } = props;\r\n *     return (\r\n *         <TopToolbar>\r\n *             <DeleteButton\r\n *                 mutationMode=\"pessimistic\" // Renders the <DeleteWithConfirmButton>\r\n *             />\r\n *         </TopToolbar>\r\n *     );\r\n * };\r\n *\r\n * const Edit = props => {\r\n *     return <Edit actions={<EditActions />} {...props} />;\r\n * };\r\n */\r\nexport const DeleteButton = <RecordType extends RaRecord = any>(\r\n    props: DeleteButtonProps<RecordType>\r\n) => {\r\n    const { mutationMode, ...rest } = props;\r\n    const record = useRecordContext(props);\r\n    const saveContext = useSaveContext(props);\r\n    if (!record || record.id == null) {\r\n        return null;\r\n    }\r\n\r\n    const finalMutationMode = mutationMode\r\n        ? mutationMode\r\n        : saveContext?.mutationMode\r\n        ? saveContext.mutationMode\r\n        : 'undoable';\r\n\r\n    return finalMutationMode === 'undoable' ? (\r\n        // @ts-ignore I looked for the error for one hour without finding it\r\n        <DeleteWithUndoButton<RecordType> record={record} {...rest} />\r\n    ) : (\r\n        <DeleteWithConfirmButton<RecordType>\r\n            // @ts-ignore I looked for the error for one hour without finding it\r\n            mutationMode={finalMutationMode}\r\n            record={record}\r\n            {...rest}\r\n        />\r\n    );\r\n};\r\n\r\nexport interface DeleteButtonProps<\r\n    RecordType extends RaRecord = any,\r\n    MutationOptionsError = unknown\r\n> extends ButtonProps,\r\n        SaveContextValue {\r\n    confirmTitle?: string;\r\n    confirmContent?: string;\r\n    icon?: ReactElement;\r\n    mutationMode?: MutationMode;\r\n    mutationOptions?: UseMutationOptions<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        DeleteParams<RecordType>\r\n    >;\r\n    record?: RecordType;\r\n    redirect?: RedirectionSideEffect;\r\n    resource?: string;\r\n}\r\n\r\nDeleteButton.propTypes = {\r\n    label: PropTypes.string,\r\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\r\n    record: PropTypes.any,\r\n    // @ts-ignore\r\n    redirect: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.func,\r\n    ]),\r\n    resource: PropTypes.string,\r\n    icon: PropTypes.element,\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactElement, ReactEventHandler } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ActionDelete from '@mui/icons-material/Delete';\r\nimport clsx from 'clsx';\r\nimport { UseMutationOptions } from 'react-query';\r\nimport {\r\n    RaRecord,\r\n    useDeleteWithUndoController,\r\n    DeleteParams,\r\n    useRecordContext,\r\n    useResourceContext,\r\n    RedirectionSideEffect,\r\n} from 'ra-core';\r\n\r\nimport { Button, ButtonProps } from './Button';\r\n\r\nexport const DeleteWithUndoButton = <RecordType extends RaRecord = any>(\r\n    props: DeleteWithUndoButtonProps<RecordType>\r\n) => {\r\n    const {\r\n        label = 'ra.action.delete',\r\n        className,\r\n        icon = defaultIcon,\r\n        onClick,\r\n        redirect = 'list',\r\n        mutationOptions,\r\n        color = 'error',\r\n        ...rest\r\n    } = props;\r\n\r\n    const record = useRecordContext(props);\r\n    const resource = useResourceContext(props);\r\n    const { isLoading, handleDelete } = useDeleteWithUndoController({\r\n        record,\r\n        resource,\r\n        redirect,\r\n        onClick,\r\n        mutationOptions,\r\n    });\r\n\r\n    return (\r\n        <Button\r\n            onClick={handleDelete}\r\n            disabled={isLoading}\r\n            label={label}\r\n            className={clsx('ra-delete-button', className)}\r\n            key=\"button\"\r\n            color={color}\r\n            {...rest}\r\n        >\r\n            {icon}\r\n        </Button>\r\n    );\r\n};\r\n\r\nconst defaultIcon = <ActionDelete />;\r\n\r\nexport interface DeleteWithUndoButtonProps<\r\n    RecordType extends RaRecord = any,\r\n    MutationOptionsError = unknown\r\n> extends ButtonProps {\r\n    icon?: ReactElement;\r\n    onClick?: ReactEventHandler<any>;\r\n    mutationOptions?: UseMutationOptions<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        DeleteParams<RecordType>\r\n    >;\r\n    record?: RecordType;\r\n    redirect?: RedirectionSideEffect;\r\n    resource?: string;\r\n}\r\n\r\nDeleteWithUndoButton.propTypes = {\r\n    className: PropTypes.string,\r\n    label: PropTypes.string,\r\n    record: PropTypes.any,\r\n    redirect: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.func,\r\n    ]),\r\n    resource: PropTypes.string,\r\n    icon: PropTypes.element,\r\n};\r\n", "import React, { Fragment, ReactEventHandler, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ActionDelete from '@mui/icons-material/Delete';\r\nimport clsx from 'clsx';\r\nimport inflection from 'inflection';\r\nimport { UseMutationOptions } from 'react-query';\r\nimport {\r\n    MutationMode,\r\n    RaRecord,\r\n    DeleteParams,\r\n    useDeleteWithConfirmController,\r\n    useRecordContext,\r\n    useResourceContext,\r\n    useTranslate,\r\n    RedirectionSideEffect,\r\n} from 'ra-core';\r\n\r\nimport { Confirm } from '../layout';\r\nimport { Button, ButtonProps } from './Button';\r\n\r\nexport const DeleteWithConfirmButton = <RecordType extends RaRecord = any>(\r\n    props: DeleteWithConfirmButtonProps<RecordType>\r\n) => {\r\n    const {\r\n        className,\r\n        confirmTitle = 'ra.message.delete_title',\r\n        confirmContent = 'ra.message.delete_content',\r\n        icon = defaultIcon,\r\n        label = 'ra.action.delete',\r\n        mutationMode = 'pessimistic',\r\n        onClick,\r\n        redirect = 'list',\r\n        translateOptions = {},\r\n        mutationOptions,\r\n        color = 'error',\r\n        ...rest\r\n    } = props;\r\n    const translate = useTranslate();\r\n    const record = useRecordContext(props);\r\n    const resource = useResourceContext(props);\r\n\r\n    const {\r\n        open,\r\n        isLoading,\r\n        handleDialogOpen,\r\n        handleDialogClose,\r\n        handleDelete,\r\n    } = useDeleteWithConfirmController({\r\n        record,\r\n        redirect,\r\n        mutationMode,\r\n        onClick,\r\n        mutationOptions,\r\n        resource,\r\n    });\r\n\r\n    return (\r\n        <Fragment>\r\n            <Button\r\n                onClick={handleDialogOpen}\r\n                label={label}\r\n                className={clsx('ra-delete-button', className)}\r\n                key=\"button\"\r\n                color={color}\r\n                {...rest}\r\n            >\r\n                {icon}\r\n            </Button>\r\n            <Confirm\r\n                isOpen={open}\r\n                loading={isLoading}\r\n                title={confirmTitle}\r\n                content={confirmContent}\r\n                translateOptions={{\r\n                    name: translate(`resources.${resource}.forcedCaseName`, {\r\n                        smart_count: 1,\r\n                        _: inflection.humanize(\r\n                            translate(`resources.${resource}.name`, {\r\n                                smart_count: 1,\r\n                                _: inflection.singularize(resource),\r\n                            }),\r\n                            true\r\n                        ),\r\n                    }),\r\n                    id: record.id,\r\n                    ...translateOptions,\r\n                }}\r\n                onConfirm={handleDelete}\r\n                onClose={handleDialogClose}\r\n            />\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nconst defaultIcon = <ActionDelete />;\r\n\r\nexport interface DeleteWithConfirmButtonProps<\r\n    RecordType extends RaRecord = any,\r\n    MutationOptionsError = unknown\r\n> extends ButtonProps {\r\n    confirmTitle?: string;\r\n    confirmContent?: React.ReactNode;\r\n    icon?: ReactElement;\r\n    mutationMode?: MutationMode;\r\n    onClick?: ReactEventHandler<any>;\r\n    // May be injected by Toolbar - sanitized in Button\r\n    translateOptions?: object;\r\n    mutationOptions?: UseMutationOptions<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        DeleteParams<RecordType>\r\n    >;\r\n    record?: RecordType;\r\n    redirect?: RedirectionSideEffect;\r\n    resource?: string;\r\n}\r\n\r\nDeleteWithConfirmButton.propTypes = {\r\n    className: PropTypes.string,\r\n    confirmTitle: PropTypes.string,\r\n    confirmContent: PropTypes.string,\r\n    label: PropTypes.string,\r\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\r\n    record: PropTypes.any,\r\n    redirect: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.func,\r\n    ]),\r\n    resource: PropTypes.string,\r\n    icon: PropTypes.element,\r\n    translateOptions: PropTypes.object,\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { styled } from '@mui/material/styles';\r\nimport ContentCreate from '@mui/icons-material/Create';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n    RaRecord,\r\n    useResourceContext,\r\n    useRecordContext,\r\n    useCreatePath,\r\n} from 'ra-core';\r\n\r\nimport { Button, ButtonProps } from './Button';\r\n\r\n/**\r\n * Opens the Edit view for the current record.\r\n *\r\n * Reads the record and resource from the context.\r\n *\r\n * @example // basic usage\r\n * import { EditButton } from 'react-admin';\r\n *\r\n * const CommentEditButton = () => (\r\n *     <EditButton label=\"Edit comment\" />\r\n * );\r\n */\r\nexport const EditButton = <RecordType extends RaRecord = any>(\r\n    props: EditButtonProps<RecordType>\r\n) => {\r\n    const {\r\n        icon = defaultIcon,\r\n        label = 'ra.action.edit',\r\n        scrollToTop = true,\r\n        className,\r\n        ...rest\r\n    } = props;\r\n    const resource = useResourceContext(props);\r\n    const record = useRecordContext(props);\r\n    const createPath = useCreatePath();\r\n    if (!record) return null;\r\n    return (\r\n        <StyledButton\r\n            component={Link}\r\n            to={createPath({ type: 'edit', resource, id: record.id })}\r\n            state={scrollStates[String(scrollToTop)]}\r\n            label={label}\r\n            onClick={stopPropagation}\r\n            className={clsx(EditButtonClasses.root, className)}\r\n            {...(rest as any)}\r\n        >\r\n            {icon}\r\n        </StyledButton>\r\n    );\r\n};\r\n\r\n// avoids using useMemo to get a constant value for the link state\r\nconst scrollStates = {\r\n    true: { _scrollToTop: true },\r\n    false: {},\r\n};\r\n\r\nconst defaultIcon = <ContentCreate />;\r\n\r\n// useful to prevent click bubbling in a datagrid with rowClick\r\nconst stopPropagation = e => e.stopPropagation();\r\n\r\ninterface Props<RecordType extends RaRecord = any> {\r\n    icon?: ReactElement;\r\n    label?: string;\r\n    record?: RecordType;\r\n    resource?: string;\r\n    scrollToTop?: boolean;\r\n}\r\n\r\nexport type EditButtonProps<RecordType extends RaRecord = any> = Props<\r\n    RecordType\r\n> &\r\n    ButtonProps;\r\n\r\nEditButton.propTypes = {\r\n    icon: PropTypes.element,\r\n    label: PropTypes.string,\r\n    record: PropTypes.any,\r\n    scrollToTop: PropTypes.bool,\r\n};\r\n\r\nconst PREFIX = 'RaEditButton';\r\n\r\nexport const EditButtonClasses = {\r\n    root: `${PREFIX}-root`,\r\n};\r\n\r\nconst StyledButton = styled(Button, {\r\n    name: PREFIX,\r\n    overridesResolver: (_props, styles) => styles.root,\r\n})({});\r\n", "import * as React from 'react';\r\nimport { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport DownloadIcon from '@mui/icons-material/GetApp';\r\nimport {\r\n    fetchRelatedRecords,\r\n    useDataProvider,\r\n    useNotify,\r\n    useListContext,\r\n    SortPayload,\r\n    Exporter,\r\n    FilterPayload,\r\n    useResourceContext,\r\n} from 'ra-core';\r\nimport { Button, ButtonProps } from './Button';\r\n\r\nexport const ExportButton = (props: ExportButtonProps) => {\r\n    const {\r\n        maxResults = 1000,\r\n        onClick,\r\n        label = 'ra.action.export',\r\n        icon = defaultIcon,\r\n        exporter: customExporter,\r\n        meta,\r\n        ...rest\r\n    } = props;\r\n    const {\r\n        filter,\r\n        filterValues,\r\n        sort,\r\n        exporter: exporterFromContext,\r\n        total,\r\n    } = useListContext(props);\r\n    const resource = useResourceContext(props);\r\n    const exporter = customExporter || exporterFromContext;\r\n    const dataProvider = useDataProvider();\r\n    const notify = useNotify();\r\n    const handleClick = useCallback(\r\n        event => {\r\n            dataProvider\r\n                .getList(resource, {\r\n                    sort,\r\n                    filter: filter\r\n                        ? { ...filterValues, ...filter }\r\n                        : filterValues,\r\n                    pagination: { page: 1, perPage: maxResults },\r\n                    meta,\r\n                })\r\n                .then(\r\n                    ({ data }) =>\r\n                        exporter &&\r\n                        exporter(\r\n                            data,\r\n                            fetchRelatedRecords(dataProvider),\r\n                            dataProvider,\r\n                            resource\r\n                        )\r\n                )\r\n                .catch(error => {\r\n                    console.error(error);\r\n                    notify('ra.notification.http_error', { type: 'error' });\r\n                });\r\n            if (typeof onClick === 'function') {\r\n                onClick(event);\r\n            }\r\n        },\r\n        [\r\n            dataProvider,\r\n            exporter,\r\n            filter,\r\n            filterValues,\r\n            maxResults,\r\n            notify,\r\n            onClick,\r\n            resource,\r\n            sort,\r\n            meta,\r\n        ]\r\n    );\r\n\r\n    return (\r\n        <Button\r\n            onClick={handleClick}\r\n            label={label}\r\n            disabled={total === 0}\r\n            {...sanitizeRestProps(rest)}\r\n        >\r\n            {icon}\r\n        </Button>\r\n    );\r\n};\r\n\r\nconst defaultIcon = <DownloadIcon />;\r\n\r\nconst sanitizeRestProps = ({\r\n    filterValues,\r\n    resource,\r\n    ...rest\r\n}: Omit<\r\n    ExportButtonProps,\r\n    'sort' | 'maxResults' | 'label' | 'exporter' | 'meta'\r\n>) => rest;\r\n\r\ninterface Props {\r\n    exporter?: Exporter;\r\n    filterValues?: FilterPayload;\r\n    icon?: JSX.Element;\r\n    label?: string;\r\n    maxResults?: number;\r\n    onClick?: (e: Event) => void;\r\n    resource?: string;\r\n    sort?: SortPayload;\r\n    meta?: any;\r\n}\r\n\r\nexport type ExportButtonProps = Props & ButtonProps;\r\n\r\nExportButton.propTypes = {\r\n    exporter: PropTypes.func,\r\n    filterValues: PropTypes.object,\r\n    label: PropTypes.string,\r\n    maxResults: PropTypes.number,\r\n    resource: PropTypes.string,\r\n    sort: PropTypes.exact({\r\n        field: PropTypes.string,\r\n        order: PropTypes.string,\r\n    }),\r\n    icon: PropTypes.element,\r\n    meta: PropTypes.any,\r\n};\r\n", "import * as React from 'react';\r\nimport { MouseEvent } from 'react';\r\nimport { IconButton, IconButtonProps, Tooltip } from '@mui/material';\r\nimport { useTranslate } from 'ra-core';\r\n\r\n/**\r\n * An IconButton with a tooltip which ensures the tooltip is closed on click to avoid ghost tooltips\r\n * when the button position changes.\r\n */\r\nexport const IconButtonWithTooltip = ({\r\n    label,\r\n    onClick,\r\n    ...props\r\n}: IconButtonWithTooltipProps) => {\r\n    const translate = useTranslate();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const translatedLabel = translate(label, { _: label });\r\n\r\n    const handleClick = (event: MouseEvent<HTMLButtonElement>) => {\r\n        handleClose();\r\n        onClick(event);\r\n    };\r\n\r\n    return (\r\n        <Tooltip\r\n            title={translatedLabel}\r\n            open={open}\r\n            onOpen={handleOpen}\r\n            onClose={handleClose}\r\n        >\r\n            <IconButton\r\n                aria-label={translatedLabel}\r\n                onClick={handleClick}\r\n                {...props}\r\n            />\r\n        </Tooltip>\r\n    );\r\n};\r\n\r\nexport interface IconButtonWithTooltipProps extends IconButtonProps {\r\n    label: string;\r\n}\r\n", "import * as React from 'react';\r\nimport { MouseEvent, useState } from 'react';\r\nimport { useLocaleState, useLocales } from 'ra-core';\r\nimport { Box, Button, Menu, MenuItem, styled } from '@mui/material';\r\nimport LanguageIcon from '@mui/icons-material/Translate';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\n/**\r\n * Language selector. Changes the locale in the app and persists it in\r\n * preferences so that the app opens with the right locale in the future.\r\n *\r\n * Uses i18nProvider.getLocales() to get the list of available locales.\r\n *\r\n * @example\r\n * import { AppBar, TitlePortal, LocalesMenuButton } from 'react-admin';\r\n *\r\n * const MyAppBar = () => (\r\n *     <AppBar>\r\n *         <TitlePortal />\r\n *         <LocalesMenuButton />\r\n *     </AppBar>\r\n * );\r\n */\r\nexport const LocalesMenuButton = (props: LocalesMenuButtonProps) => {\r\n    const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n    const languages = useLocales({ locales: props.languages });\r\n    const [locale, setLocale] = useLocaleState();\r\n\r\n    const getNameForLocale = (locale: string): string => {\r\n        const language = languages.find(language => language.locale === locale);\r\n        return language ? language.name : '';\r\n    };\r\n\r\n    const changeLocale = (locale: string) => (): void => {\r\n        setLocale(locale);\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleLanguageClick = (event: MouseEvent<HTMLElement>): void => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = (): void => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n        <Root component=\"span\">\r\n            <Button\r\n                color=\"inherit\"\r\n                aria-controls=\"simple-menu\"\r\n                aria-label=\"\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleLanguageClick}\r\n                startIcon={<LanguageIcon />}\r\n                endIcon={<ExpandMoreIcon fontSize=\"small\" />}\r\n            >\r\n                {getNameForLocale(locale)}\r\n            </Button>\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {languages.map(language => (\r\n                    <MenuItem\r\n                        key={language.locale}\r\n                        onClick={changeLocale(language.locale)}\r\n                        selected={language.locale === locale}\r\n                    >\r\n                        {language.name}\r\n                    </MenuItem>\r\n                ))}\r\n            </Menu>\r\n        </Root>\r\n    );\r\n};\r\n\r\nconst PREFIX = 'RaLocalesMenuButton';\r\n\r\nexport const LocalesMenuButtonClasses = {};\r\n\r\nconst Root = styled(Box, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({});\r\n\r\nexport interface LocalesMenuButtonProps {\r\n    languages?: { locale: string; name: string }[];\r\n}\r\n", "import * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ActionList from '@mui/icons-material/List';\r\nimport { Link } from 'react-router-dom';\r\nimport { useResourceContext, useCreatePath } from 'ra-core';\r\n\r\nimport { Button, ButtonProps } from './Button';\r\n\r\n/**\r\n * Opens the List view of a given resource\r\n *\r\n * @example // basic usage\r\n * import { ListButton } from 'react-admin';\r\n *\r\n * const CommentListButton = () => (\r\n *     <ListButton label=\"Comments\" />\r\n * );\r\n *\r\n * @example // linking back to the list from the Edit view\r\n * import { TopToolbar, ListButton, ShowButton, Edit } from 'react-admin';\r\n *\r\n * const PostEditActions = () => (\r\n *     <TopToolbar>\r\n *         <ListButton />\r\n *         <ShowButton />\r\n *     </TopToolbar>\r\n * );\r\n *\r\n * export const PostEdit = (props) => (\r\n *     <Edit actions={<PostEditActions />} {...props}>\r\n *         ...\r\n *     </Edit>\r\n * );\r\n */\r\nexport const ListButton = (props: ListButtonProps) => {\r\n    const {\r\n        icon = defaultIcon,\r\n        label = 'ra.action.list',\r\n        resource: resourceProp,\r\n        scrollToTop = true,\r\n        ...rest\r\n    } = props;\r\n    const resource = useResourceContext(props);\r\n    const createPath = useCreatePath();\r\n    return (\r\n        <Button\r\n            component={Link}\r\n            to={createPath({ type: 'list', resource })}\r\n            state={scrollStates[String(scrollToTop)]}\r\n            label={label}\r\n            {...(rest as any)}\r\n        >\r\n            {icon}\r\n        </Button>\r\n    );\r\n};\r\n\r\n// avoids using useMemo to get a constant value for the link state\r\nconst scrollStates = {\r\n    true: { _scrollToTop: true },\r\n    false: {},\r\n};\r\n\r\nconst defaultIcon = <ActionList />;\r\n\r\ninterface Props {\r\n    icon?: ReactElement;\r\n    label?: string;\r\n    resource?: string;\r\n    scrollToTop?: boolean;\r\n}\r\n\r\nexport type ListButtonProps = Props & ButtonProps;\r\n\r\nListButton.propTypes = {\r\n    icon: PropTypes.element,\r\n    label: PropTypes.string,\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactElement, MouseEvent, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport NavigationRefresh from '@mui/icons-material/Refresh';\r\nimport { useRefresh } from 'ra-core';\r\n\r\nimport { Button, ButtonProps } from './Button';\r\n\r\nexport const RefreshButton = (props: RefreshButtonProps) => {\r\n    const {\r\n        label = 'ra.action.refresh',\r\n        icon = defaultIcon,\r\n        onClick,\r\n        ...rest\r\n    } = props;\r\n    const refresh = useRefresh();\r\n    const handleClick = useCallback(\r\n        event => {\r\n            event.preventDefault();\r\n            refresh();\r\n            if (typeof onClick === 'function') {\r\n                onClick(event);\r\n            }\r\n        },\r\n        [refresh, onClick]\r\n    );\r\n\r\n    return (\r\n        <Button label={label} onClick={handleClick} {...rest}>\r\n            {icon}\r\n        </Button>\r\n    );\r\n};\r\n\r\nconst defaultIcon = <NavigationRefresh />;\r\n\r\ninterface Props {\r\n    label?: string;\r\n    icon?: ReactElement;\r\n    onClick?: (e: MouseEvent) => void;\r\n}\r\n\r\nexport type RefreshButtonProps = Props & ButtonProps;\r\n\r\nRefreshButton.propTypes = {\r\n    label: PropTypes.string,\r\n    icon: PropTypes.element,\r\n    onClick: PropTypes.func,\r\n};\r\n", "import * as React from 'react';\r\nimport { useCallback, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport IconButton, { IconButtonProps } from '@mui/material/IconButton';\r\nimport NavigationRefresh from '@mui/icons-material/Refresh';\r\nimport { useRefresh, useTranslate } from 'ra-core';\r\n\r\nexport const RefreshIconButton = (props: RefreshIconButtonProps) => {\r\n    const {\r\n        label = 'ra.action.refresh',\r\n        icon = defaultIcon,\r\n        onClick,\r\n        className,\r\n        ...rest\r\n    } = props;\r\n    const refresh = useRefresh();\r\n    const translate = useTranslate();\r\n    const handleClick = useCallback(\r\n        event => {\r\n            event.preventDefault();\r\n            refresh();\r\n            if (typeof onClick === 'function') {\r\n                onClick(event);\r\n            }\r\n        },\r\n        [refresh, onClick]\r\n    );\r\n\r\n    return (\r\n        <Tooltip title={label && translate(label, { _: 'Refresh' })}>\r\n            <IconButton\r\n                aria-label={label && translate(label, { _: 'Refresh' })}\r\n                className={className}\r\n                color=\"inherit\"\r\n                onClick={handleClick}\r\n                {...rest}\r\n            >\r\n                {icon}\r\n            </IconButton>\r\n        </Tooltip>\r\n    );\r\n};\r\n\r\nconst defaultIcon = <NavigationRefresh />;\r\n\r\ninterface Props {\r\n    className?: string;\r\n    icon?: ReactElement;\r\n    label?: string;\r\n    onClick?: (e: MouseEvent) => void;\r\n}\r\n\r\nexport type RefreshIconButtonProps = Props & IconButtonProps;\r\n\r\nRefreshIconButton.propTypes = {\r\n    className: PropTypes.string,\r\n    label: PropTypes.string,\r\n    icon: PropTypes.element,\r\n};\r\n", "import * as React from 'react';\r\nimport { MouseEventHandler, ReactElement, useCallback } from 'react';\r\nimport { UseMutationOptions } from 'react-query';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, ButtonProps, CircularProgress } from '@mui/material';\r\nimport ContentSave from '@mui/icons-material/Save';\r\nimport { useFormContext, useFormState } from 'react-hook-form';\r\nimport {\r\n    CreateParams,\r\n    RaRecord,\r\n    TransformData,\r\n    UpdateParams,\r\n    useSaveContext,\r\n    useTranslate,\r\n    warning,\r\n    setSubmissionErrors,\r\n} from 'ra-core';\r\n\r\n/**\r\n * Submit button for resource forms (Edit and Create).\r\n *\r\n * @typedef {Object} Props the props you can use (other props are injected by the <Toolbar>)\r\n * @prop {string} className\r\n * @prop {string} label Button label. Defaults to 'ra.action.save', translated.\r\n * @prop {boolean} disabled Disable the button.\r\n * @prop {string} variant Material UI variant for the button. Defaults to 'contained'.\r\n * @prop {ReactElement} icon\r\n * @prop {function} mutationOptions Object of options passed to react-query.\r\n * @prop {function} transform Callback to execute before calling the dataProvider. Receives the data from the form, must return that transformed data. Can be asynchronous (and return a Promise)\r\n * @prop {boolean} alwaysEnable Force enabling the <SaveButton>. If it's not defined, the `<SaveButton>` will be enabled using `react-hook-form`'s `isValidating` state props and form context's `saving` prop (disabled if isValidating or saving, enabled otherwise).\r\n *\r\n * @param {Props} props\r\n *\r\n * @example // with custom success side effect\r\n *\r\n * const MySaveButton = props => {\r\n *     const notify = useNotify();\r\n *     const redirect = useRedirect();\r\n *     const onSuccess = (response) => {\r\n *         notify(`Post \"${response.data.title}\" saved!`);\r\n *         redirect('/posts');\r\n *     };\r\n *     return <SaveButton {...props} mutationOptions={{ onSuccess }} />;\r\n * }\r\n */\r\nexport const SaveButton = <RecordType extends RaRecord = any>(\r\n    props: SaveButtonProps<RecordType>\r\n) => {\r\n    const {\r\n        color = 'primary',\r\n        icon = defaultIcon,\r\n        invalid,\r\n        label = 'ra.action.save',\r\n        onClick,\r\n        mutationOptions,\r\n        disabled: disabledProp,\r\n        type = 'submit',\r\n        transform,\r\n        variant = 'contained',\r\n        alwaysEnable = false,\r\n        ...rest\r\n    } = props;\r\n    const translate = useTranslate();\r\n    const form = useFormContext();\r\n    const saveContext = useSaveContext();\r\n    const { dirtyFields, isValidating, isSubmitting } = useFormState();\r\n    // useFormState().isDirty might differ from useFormState().dirtyFields (https://github.com/react-hook-form/react-hook-form/issues/4740)\r\n    const isDirty = Object.keys(dirtyFields).length > 0;\r\n    // Use form isDirty, isValidating and form context saving to enable or disable the save button\r\n    // if alwaysEnable is undefined\r\n    const disabled = valueOrDefault(\r\n        alwaysEnable === false || alwaysEnable === undefined\r\n            ? undefined\r\n            : !alwaysEnable,\r\n        disabledProp || !isDirty || isValidating || isSubmitting\r\n    );\r\n\r\n    warning(\r\n        type === 'submit' &&\r\n            ((mutationOptions &&\r\n                (mutationOptions.onSuccess || mutationOptions.onError)) ||\r\n                transform),\r\n        'Cannot use <SaveButton mutationOptions> props on a button of type \"submit\". To override the default mutation options on a particular save button, set the <SaveButton type=\"button\"> prop, or set mutationOptions in the main view component (<Create> or <Edit>).'\r\n    );\r\n\r\n    const handleSubmit = useCallback(\r\n        async values => {\r\n            let errors;\r\n            if (saveContext?.save) {\r\n                errors = await saveContext.save(values, {\r\n                    ...mutationOptions,\r\n                    transform,\r\n                });\r\n            }\r\n            if (errors != null) {\r\n                setSubmissionErrors(errors, form.setError);\r\n            }\r\n        },\r\n        [form.setError, saveContext, mutationOptions, transform]\r\n    );\r\n\r\n    const handleClick: MouseEventHandler<HTMLButtonElement> = useCallback(\r\n        async event => {\r\n            if (onClick) {\r\n                onClick(event);\r\n            }\r\n            if (event.defaultPrevented) {\r\n                return;\r\n            }\r\n            if (type === 'button') {\r\n                // this button doesn't submit the form, so it doesn't trigger useIsFormInvalid in <FormContent>\r\n                // therefore we need to check for errors manually\r\n                event.stopPropagation();\r\n                await form.handleSubmit(handleSubmit)(event);\r\n            }\r\n        },\r\n        [onClick, type, form, handleSubmit]\r\n    );\r\n\r\n    const displayedLabel = label && translate(label, { _: label });\r\n\r\n    return (\r\n        <StyledButton\r\n            variant={variant}\r\n            type={type}\r\n            color={color}\r\n            aria-label={displayedLabel}\r\n            disabled={disabled}\r\n            onClick={handleClick}\r\n            {...rest}\r\n        >\r\n            {isSubmitting ? (\r\n                <CircularProgress\r\n                    sx={circularProgressStyle}\r\n                    size={14}\r\n                    thickness={3}\r\n                    color=\"inherit\"\r\n                />\r\n            ) : (\r\n                icon\r\n            )}\r\n            {displayedLabel}\r\n        </StyledButton>\r\n    );\r\n};\r\n\r\nconst circularProgressStyle = {\r\n    '&.MuiCircularProgress-root': {\r\n        marginRight: '10px',\r\n        marginLeft: '2px',\r\n    },\r\n};\r\n\r\nconst defaultIcon = <ContentSave />;\r\n\r\ninterface Props<\r\n    RecordType extends RaRecord = any,\r\n    MutationOptionsError = unknown\r\n> {\r\n    className?: string;\r\n    disabled?: boolean;\r\n    icon?: ReactElement;\r\n    invalid?: boolean;\r\n    label?: string;\r\n    mutationOptions?: UseMutationOptions<\r\n        RecordType,\r\n        MutationOptionsError,\r\n        CreateParams<RecordType> | UpdateParams<RecordType>\r\n    >;\r\n    transform?: TransformData;\r\n    variant?: string;\r\n}\r\n\r\nexport type SaveButtonProps<RecordType extends RaRecord = any> = Props<\r\n    RecordType\r\n> &\r\n    ButtonProps & {\r\n        alwaysEnable?: boolean;\r\n    };\r\n\r\nSaveButton.propTypes = {\r\n    className: PropTypes.string,\r\n    invalid: PropTypes.bool,\r\n    label: PropTypes.string,\r\n    variant: PropTypes.oneOf(['text', 'outlined', 'contained']),\r\n    icon: PropTypes.element,\r\n    alwaysEnable: PropTypes.bool,\r\n};\r\n\r\nconst PREFIX = 'RaSaveButton';\r\n\r\nconst StyledButton = styled(Button, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    position: 'relative',\r\n    [`& .MuiSvgIcon-root, & .MuiIcon-root, & .MuiCircularProgress-root`]: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    [`& .MuiSvgIcon-root, & .MuiIcon-root`]: {\r\n        fontSize: 18,\r\n    },\r\n}));\r\n\r\nconst valueOrDefault = (value, defaultValue) =>\r\n    typeof value === 'undefined' ? defaultValue : value;\r\n", "import React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Button } from './Button';\r\n\r\nexport const SkipNavigationButton = () => {\r\n    return (\r\n        <StyledButton\r\n            onClick={skipToContent}\r\n            className={'skip-nav-button'}\r\n            label=\"ra.navigation.skip_nav\"\r\n            variant=\"contained\"\r\n        />\r\n    );\r\n};\r\n\r\nconst PREFIX = 'RaSkipNavigationButton';\r\n\r\nconst StyledButton = styled(Button, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    position: 'fixed',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: theme.palette.background.default,\r\n    color: theme.palette.getContrastText(theme.palette.background.default),\r\n    transition: theme.transitions.create(['top', 'opacity'], {\r\n        easing: theme.transitions.easing.easeIn,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    left: theme.spacing(2),\r\n    top: theme.spacing(-10),\r\n    zIndex: 5000,\r\n    '&:hover': {\r\n        opacity: 0.8,\r\n        backgroundColor: theme.palette.background.default,\r\n    },\r\n    '&:focus': {\r\n        top: theme.spacing(2),\r\n        transition: theme.transitions.create(['top', 'opacity'], {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n}));\r\n\r\nconst skipToContent = () => {\r\n    if (typeof document === 'undefined') return;\r\n    const element = document.getElementById('main-content');\r\n\r\n    if (!element) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            console.warn(\r\n                'No element with id \"main-content\" was found. Ensure the element that contains your main content has an id of \"main-content\".'\r\n            );\r\n        }\r\n\r\n        return;\r\n    }\r\n\r\n    element.setAttribute('tabIndex', '-1');\r\n    element.focus();\r\n    element.blur();\r\n    element.removeAttribute('tabIndex');\r\n};\r\n", "import * as React from 'react';\r\nimport { HtmlHTMLAttributes, ReactNode, useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Card, Avatar, SxProps } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport LockIcon from '@mui/icons-material/Lock';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useCheckAuth } from 'ra-core';\r\n\r\nimport { LoginForm as DefaultLoginForm } from './LoginForm';\r\n\r\n/**\r\n * A standalone login page, to serve as authentication gate to the admin\r\n *\r\n * Expects the user to enter a login and a password, which will be checked\r\n * by the `authProvider.login()` method. Redirects to the root page (/)\r\n * upon success, otherwise displays an authentication error message.\r\n *\r\n * Copy and adapt this component to implement your own login logic\r\n * (e.g. to authenticate via email or facebook or anything else).\r\n *\r\n * @example\r\n *     import MyLoginPage from './MyLoginPage';\r\n *     const App = () => (\r\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\r\n *             ...\r\n *        </Admin>\r\n *     );\r\n */\r\nexport const Login = (props: LoginProps) => {\r\n    const { children, backgroundImage, ...rest } = props;\r\n    const containerRef = useRef<HTMLDivElement>();\r\n    let backgroundImageLoaded = false;\r\n    const checkAuth = useCheckAuth();\r\n    const navigate = useNavigate();\r\n    useEffect(() => {\r\n        checkAuth({}, false)\r\n            .then(() => {\r\n                // already authenticated, redirect to the home page\r\n                navigate('/');\r\n            })\r\n            .catch(() => {\r\n                // not authenticated, stay on the login page\r\n            });\r\n    }, [checkAuth, navigate]);\r\n\r\n    const updateBackgroundImage = () => {\r\n        if (!backgroundImageLoaded && containerRef.current) {\r\n            containerRef.current.style.backgroundImage = `url(${backgroundImage})`;\r\n            backgroundImageLoaded = true;\r\n        }\r\n    };\r\n\r\n    // Load background image asynchronously to speed up time to interactive\r\n    const lazyLoadBackgroundImage = () => {\r\n        if (backgroundImage) {\r\n            const img = new Image();\r\n            img.onload = updateBackgroundImage;\r\n            img.src = backgroundImage;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!backgroundImageLoaded) {\r\n            lazyLoadBackgroundImage();\r\n        }\r\n    });\r\n    return (\r\n        <Root {...rest} ref={containerRef}>\r\n            <Card className={LoginClasses.card}>\r\n                <div className={LoginClasses.avatar}>\r\n                    <Avatar className={LoginClasses.icon}>\r\n                        <LockIcon />\r\n                    </Avatar>\r\n                </div>\r\n                {children}\r\n            </Card>\r\n        </Root>\r\n    );\r\n};\r\n\r\nexport interface LoginProps extends HtmlHTMLAttributes<HTMLDivElement> {\r\n    backgroundImage?: string;\r\n    children?: ReactNode;\r\n    className?: string;\r\n    sx?: SxProps;\r\n}\r\n\r\nconst PREFIX = 'RaLogin';\r\nexport const LoginClasses = {\r\n    card: `${PREFIX}-card`,\r\n    avatar: `${PREFIX}-avatar`,\r\n    icon: `${PREFIX}-icon`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    minHeight: '100vh',\r\n    height: '1px',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover',\r\n    backgroundImage:\r\n        'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)',\r\n\r\n    [`& .${LoginClasses.card}`]: {\r\n        minWidth: 300,\r\n        marginTop: '6em',\r\n    },\r\n    [`& .${LoginClasses.avatar}`]: {\r\n        margin: '1em',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n    },\r\n    [`& .${LoginClasses.icon}`]: {\r\n        backgroundColor: theme.palette.secondary[500],\r\n    },\r\n}));\r\n\r\nLogin.propTypes = {\r\n    backgroundImage: PropTypes.string,\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n};\r\n\r\nLogin.defaultProps = {\r\n    children: <DefaultLoginForm />,\r\n};\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, CardContent, CircularProgress } from '@mui/material';\r\nimport {\r\n    Form,\r\n    required,\r\n    useTranslate,\r\n    useLogin,\r\n    useNotify,\r\n    useSafeSetState,\r\n} from 'ra-core';\r\nimport { TextInput } from '../input';\r\n\r\nexport const LoginForm = (props: LoginFormProps) => {\r\n    const { redirectTo, className } = props;\r\n    const [loading, setLoading] = useSafeSetState(false);\r\n    const login = useLogin();\r\n    const translate = useTranslate();\r\n    const notify = useNotify();\r\n\r\n    const submit = (values: FormData) => {\r\n        setLoading(true);\r\n        login(values, redirectTo)\r\n            .then(() => {\r\n                setLoading(false);\r\n            })\r\n            .catch(error => {\r\n                setLoading(false);\r\n                notify(\r\n                    typeof error === 'string'\r\n                        ? error\r\n                        : typeof error === 'undefined' || !error.message\r\n                        ? 'ra.auth.sign_in_error'\r\n                        : error.message,\r\n                    {\r\n                        type: 'error',\r\n                        messageArgs: {\r\n                            _:\r\n                                typeof error === 'string'\r\n                                    ? error\r\n                                    : error && error.message\r\n                                    ? error.message\r\n                                    : undefined,\r\n                        },\r\n                    }\r\n                );\r\n            });\r\n    };\r\n\r\n    return (\r\n        <StyledForm\r\n            onSubmit={submit}\r\n            mode=\"onChange\"\r\n            noValidate\r\n            className={className}\r\n        >\r\n            <CardContent className={LoginFormClasses.content}>\r\n                <TextInput\r\n                    autoFocus\r\n                    source=\"username\"\r\n                    label={translate('ra.auth.username')}\r\n                    autoComplete=\"username\"\r\n                    validate={required()}\r\n                    fullWidth\r\n                />\r\n                <TextInput\r\n                    source=\"password\"\r\n                    label={translate('ra.auth.password')}\r\n                    type=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    validate={required()}\r\n                    fullWidth\r\n                />\r\n\r\n                <Button\r\n                    variant=\"contained\"\r\n                    type=\"submit\"\r\n                    color=\"primary\"\r\n                    disabled={loading}\r\n                    fullWidth\r\n                    className={LoginFormClasses.button}\r\n                >\r\n                    {loading ? (\r\n                        <CircularProgress\r\n                            className={LoginFormClasses.icon}\r\n                            size={19}\r\n                            thickness={3}\r\n                        />\r\n                    ) : (\r\n                        translate('ra.auth.sign_in')\r\n                    )}\r\n                </Button>\r\n            </CardContent>\r\n        </StyledForm>\r\n    );\r\n};\r\n\r\nconst PREFIX = 'RaLoginForm';\r\n\r\nexport const LoginFormClasses = {\r\n    content: `${PREFIX}-content`,\r\n    button: `${PREFIX}-button`,\r\n    icon: `${PREFIX}-icon`,\r\n};\r\n\r\nconst StyledForm = styled(Form, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${LoginFormClasses.content}`]: {\r\n        width: 300,\r\n    },\r\n    [`& .${LoginFormClasses.button}`]: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    [`& .${LoginFormClasses.icon}`]: {\r\n        margin: theme.spacing(0.3),\r\n    },\r\n}));\r\n\r\nexport interface LoginFormProps {\r\n    redirectTo?: string;\r\n    className?: string;\r\n}\r\n\r\ninterface FormData {\r\n    username: string;\r\n    password: string;\r\n}\r\nLoginForm.propTypes = {\r\n    redirectTo: PropTypes.string,\r\n};\r\n", "import * as React from 'react';\r\nimport { cloneElement, Children, ReactElement, useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport {\r\n    isRequired,\r\n    FieldTitle,\r\n    composeSyncValidators,\r\n    RaRecord,\r\n    useApplyInputDefaultValues,\r\n    useGetValidationErrorMessage,\r\n    useFormGroupContext,\r\n    useFormGroups,\r\n} from 'ra-core';\r\nimport { useFieldArray, useFormContext } from 'react-hook-form';\r\nimport {\r\n    InputLabel,\r\n    FormControl,\r\n    FormHelperText,\r\n    FormControlProps,\r\n    styled,\r\n} from '@mui/material';\r\n\r\nimport { LinearProgress } from '../../layout';\r\nimport { CommonInputProps } from '../CommonInputProps';\r\nimport { InputHelperText } from '../InputHelperText';\r\nimport { sanitizeInputRestProps } from '../sanitizeInputRestProps';\r\nimport { Labeled } from '../../Labeled';\r\nimport { ArrayInputContext } from './ArrayInputContext';\r\n\r\n/**\r\n * To edit arrays of data embedded inside a record, <ArrayInput> creates a list of sub-forms.\r\n *\r\n *  @example\r\n *\r\n *      import { ArrayInput, SimpleFormIterator, DateInput, TextInput } from 'react-admin';\r\n *\r\n *      <ArrayInput source=\"backlinks\">\r\n *          <SimpleFormIterator>\r\n *              <DateInput source=\"date\" />\r\n *              <TextInput source=\"url\" />\r\n *          </SimpleFormIterator>\r\n *      </ArrayInput>\r\n *\r\n * <ArrayInput> allows the edition of embedded arrays, like the backlinks field\r\n * in the following post record:\r\n *\r\n * {\r\n *   id: 123\r\n *   backlinks: [\r\n *         {\r\n *             date: '2012-08-10T00:00:00.000Z',\r\n *             url: 'http://example.com/foo/bar.html',\r\n *         },\r\n *         {\r\n *             date: '2012-08-14T00:00:00.000Z',\r\n *             url: 'https://blog.johndoe.com/2012/08/12/foobar.html',\r\n *         }\r\n *    ]\r\n * }\r\n *\r\n * <ArrayInput> expects a single child, which must be a *form iterator* component.\r\n * A form iterator is a component accepting a fields object as passed by\r\n * react-hook-form-arrays's useFieldArray() hook, and defining a layout for\r\n * an array of fields. For instance, the <SimpleFormIterator> component\r\n * displays an array of fields in an unordered list (<ul>), one sub-form by\r\n * list item (<li>). It also provides controls for adding and removing\r\n * a sub-record (a backlink in this example).\r\n *\r\n * @see {@link https://react-hook-form.com/docs/usefieldarray}\r\n */\r\nexport const ArrayInput = (props: ArrayInputProps) => {\r\n    const {\r\n        className,\r\n        defaultValue,\r\n        label,\r\n        isFetching,\r\n        isLoading,\r\n        children,\r\n        helperText,\r\n        record,\r\n        resource: resourceFromProps,\r\n        source,\r\n        validate,\r\n        variant,\r\n        disabled,\r\n        margin = 'dense',\r\n        ...rest\r\n    } = props;\r\n\r\n    const formGroupName = useFormGroupContext();\r\n    const formGroups = useFormGroups();\r\n\r\n    const sanitizedValidate = Array.isArray(validate)\r\n        ? composeSyncValidators(validate)\r\n        : validate;\r\n    const getValidationErrorMessage = useGetValidationErrorMessage();\r\n\r\n    const {\r\n        getFieldState,\r\n        formState,\r\n        getValues,\r\n        register,\r\n        unregister,\r\n    } = useFormContext();\r\n\r\n    const fieldProps = useFieldArray({\r\n        name: source,\r\n        rules: {\r\n            validate: async value => {\r\n                if (!sanitizedValidate) return true;\r\n                const error = await sanitizedValidate(\r\n                    value,\r\n                    getValues(),\r\n                    props\r\n                );\r\n\r\n                if (!error) return true;\r\n                return getValidationErrorMessage(error);\r\n            },\r\n        },\r\n    });\r\n\r\n    const { isSubmitted } = formState;\r\n\r\n    // We need to register the array itself as a field to enable validation at its level\r\n    useEffect(() => {\r\n        register(source);\r\n        formGroups.registerField(source, formGroupName);\r\n\r\n        return () => {\r\n            unregister(source, { keepValue: true });\r\n            formGroups.unregisterField(source, formGroupName);\r\n        };\r\n    }, [register, unregister, source, formGroups, formGroupName]);\r\n\r\n    useApplyInputDefaultValues({\r\n        inputProps: props,\r\n        isArrayInput: true,\r\n        fieldArrayInputControl: fieldProps,\r\n    });\r\n\r\n    const { isDirty, error } = getFieldState(source, formState);\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <Labeled label={label} className={className}>\r\n                <LinearProgress />\r\n            </Labeled>\r\n        );\r\n    }\r\n    const renderHelperText =\r\n        helperText !== false || ((isDirty || isSubmitted) && !!error);\r\n\r\n    return (\r\n        <Root\r\n            fullWidth\r\n            margin={margin}\r\n            className={clsx(\r\n                'ra-input',\r\n                `ra-input-${source}`,\r\n                ArrayInputClasses.root,\r\n                className\r\n            )}\r\n            error={(isDirty || isSubmitted) && !!error}\r\n            {...sanitizeInputRestProps(rest)}\r\n        >\r\n            <InputLabel\r\n                htmlFor={source}\r\n                className={ArrayInputClasses.label}\r\n                shrink\r\n                error={(isDirty || isSubmitted) && !!error}\r\n            >\r\n                <FieldTitle\r\n                    label={label}\r\n                    source={source}\r\n                    resource={resourceFromProps}\r\n                    isRequired={isRequired(validate)}\r\n                />\r\n            </InputLabel>\r\n            <ArrayInputContext.Provider value={fieldProps}>\r\n                {cloneElement(Children.only(children), {\r\n                    ...fieldProps,\r\n                    record,\r\n                    resource: resourceFromProps,\r\n                    source,\r\n                    variant,\r\n                    margin,\r\n                    disabled,\r\n                })}\r\n            </ArrayInputContext.Provider>\r\n            {renderHelperText ? (\r\n                <FormHelperText error={(isDirty || isSubmitted) && !!error}>\r\n                    <InputHelperText\r\n                        touched={isDirty || isSubmitted}\r\n                        // root property is applicable to built-in validation only,\r\n                        // Resolvers are yet to support useFieldArray root level validation.\r\n                        // Reference: https://react-hook-form.com/docs/usefieldarray\r\n                        error={error?.root?.message ?? error?.message}\r\n                        helperText={helperText}\r\n                    />\r\n                </FormHelperText>\r\n            ) : null}\r\n        </Root>\r\n    );\r\n};\r\n\r\nArrayInput.defaultProps = {\r\n    options: {},\r\n};\r\n\r\nexport const getArrayInputError = error => {\r\n    if (Array.isArray(error)) {\r\n        return undefined;\r\n    }\r\n    return error;\r\n};\r\n\r\nexport interface ArrayInputProps\r\n    extends CommonInputProps,\r\n        Omit<FormControlProps, 'defaultValue' | 'onBlur' | 'onChange'> {\r\n    className?: string;\r\n    children: ReactElement;\r\n    disabled?: boolean;\r\n    isFetching?: boolean;\r\n    isLoading?: boolean;\r\n    record?: Partial<RaRecord>;\r\n}\r\n\r\nconst PREFIX = 'RaArrayInput';\r\n\r\nexport const ArrayInputClasses = {\r\n    root: `${PREFIX}-root`,\r\n    label: `${PREFIX}-label`,\r\n};\r\n\r\nconst Root = styled(FormControl, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    marginTop: 0,\r\n    [`& .${ArrayInputClasses.label}`]: {\r\n        position: 'relative',\r\n        top: theme.spacing(0.5),\r\n        left: theme.spacing(-1.5),\r\n    },\r\n    [`& .${ArrayInputClasses.root}`]: {\r\n        // nested ArrayInput\r\n        paddingLeft: theme.spacing(2),\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { isValidElement, ReactElement } from 'react';\r\nimport {\r\n    useTranslate,\r\n    ValidationError,\r\n    ValidationErrorMessage,\r\n    ValidationErrorMessageWithArgs,\r\n} from 'ra-core';\r\n\r\nexport const InputHelperText = (props: InputHelperTextProps) => {\r\n    const { helperText, touched, error } = props;\r\n    const translate = useTranslate();\r\n\r\n    if (touched && error) {\r\n        if ((error as ValidationErrorMessageWithArgs).message) {\r\n            return <ValidationError error={error} />;\r\n        }\r\n        return <>{error}</>;\r\n    }\r\n\r\n    if (helperText === false) {\r\n        return null;\r\n    }\r\n\r\n    if (isValidElement(helperText)) {\r\n        return helperText;\r\n    }\r\n\r\n    if (typeof helperText === 'string') {\r\n        return <>{translate(helperText, { _: helperText })}</>;\r\n    }\r\n\r\n    // Material UI's HelperText cannot reserve space unless we pass a single\r\n    // space as child, which isn't possible when the child is a component.\r\n    // Therefore, we must reserve the space ourselves by passing the same\r\n    // markup as Material UI.\r\n    // @see https://github.com/mui/material-ui/blob/62e439b7022d519ab638d65201e204b59b77f8da/packages/material-ui/src/FormHelperText/FormHelperText.js#L85-L90\r\n    return <span dangerouslySetInnerHTML={defaultInnerHTML} />;\r\n};\r\n\r\nconst defaultInnerHTML = { __html: '&#8203;' };\r\n\r\nexport interface InputHelperTextProps {\r\n    helperText?: string | ReactElement | boolean;\r\n    error?: ValidationErrorMessage;\r\n    touched: boolean;\r\n}\r\n", "export const sanitizeInputRestProps = ({\r\n    afterSubmit,\r\n    allowNull,\r\n    alwaysOn,\r\n    beforeSubmit,\r\n    component,\r\n    data,\r\n    defaultValue,\r\n    error,\r\n    format,\r\n    formatOnBlur,\r\n    formClassName,\r\n    initialValue,\r\n    initializeForm,\r\n    input,\r\n    isEqual,\r\n    isRequired,\r\n    label,\r\n    limitChoicesToValue,\r\n    locale,\r\n    meta,\r\n    multiple,\r\n    name,\r\n    options,\r\n    optionText,\r\n    optionValue,\r\n    parse,\r\n    record,\r\n    ref,\r\n    refetch,\r\n    render,\r\n    resource,\r\n    setFilter,\r\n    setPagination,\r\n    setSort,\r\n    shouldUnregister,\r\n    source,\r\n    submitError,\r\n    subscription,\r\n    textAlign,\r\n    translate,\r\n    translateChoice,\r\n    validate,\r\n    validateFields,\r\n    value,\r\n    ...rest\r\n}: any) => rest;\r\n", "import * as React from 'react';\r\nimport { ElementType, ReactElement } from 'react';\r\nimport { Stack, StackProps, Theme, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Property } from 'csstype';\r\nimport clsx from 'clsx';\r\n\r\nimport { FieldTitle } from 'ra-core';\r\nimport { ResponsiveStyleValue } from '@mui/system';\r\n\r\n/**\r\n * Wrap a field or an input with a label if necessary.\r\n *\r\n * The label is displayed if:\r\n * - the field or input has a label prop that is not false, or\r\n * - the field or input has a source prop\r\n *\r\n * @example\r\n * <Labeled>\r\n *     <FooComponent source=\"title\" />\r\n * </Labeled>\r\n */\r\nexport const Labeled = ({\r\n    children,\r\n    className = '',\r\n    color = 'textSecondary',\r\n    component = 'span',\r\n    fullWidth,\r\n    isRequired,\r\n    label,\r\n    resource,\r\n    source,\r\n    ...rest\r\n}: LabeledProps) => (\r\n    <Root\r\n        // @ts-ignore https://github.com/mui/material-ui/issues/29875\r\n        component={component}\r\n        className={clsx(className, {\r\n            [LabeledClasses.fullWidth]: fullWidth,\r\n        })}\r\n        {...rest}\r\n    >\r\n        {label !== false &&\r\n        children.props.label !== false &&\r\n        typeof children.type !== 'string' &&\r\n        // @ts-ignore\r\n        children.type?.displayName !== 'Labeled' &&\r\n        // @ts-ignore\r\n        children.type?.displayName !== 'Labeled' ? (\r\n            <Typography color={color} className={LabeledClasses.label}>\r\n                <FieldTitle\r\n                    label={label || children.props.label}\r\n                    source={source || children.props.source}\r\n                    resource={resource}\r\n                    isRequired={isRequired}\r\n                />\r\n            </Typography>\r\n        ) : null}\r\n        {children}\r\n    </Root>\r\n);\r\n\r\nLabeled.displayName = 'Labeled';\r\n\r\nexport interface LabeledProps extends StackProps {\r\n    children: ReactElement;\r\n    className?: string;\r\n    color?:\r\n        | ResponsiveStyleValue<Property.Color | Property.Color[]>\r\n        | ((\r\n              theme: Theme\r\n          ) => ResponsiveStyleValue<Property.Color | Property.Color[]>);\r\n    component?: ElementType;\r\n    fullWidth?: boolean;\r\n    htmlFor?: string;\r\n    isRequired?: boolean;\r\n    label?: string | ReactElement | boolean;\r\n    resource?: string;\r\n    source?: string;\r\n}\r\n\r\nconst PREFIX = 'RaLabeled';\r\n\r\nexport const LabeledClasses = {\r\n    label: `${PREFIX}-label`,\r\n    fullWidth: `${PREFIX}-fullWidth`,\r\n};\r\n\r\nconst Root = styled(Stack, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    display: 'inline-flex',\r\n    marginBottom: '0.2em',\r\n\r\n    [`&.${LabeledClasses.fullWidth}`]: {\r\n        width: '100%',\r\n    },\r\n\r\n    [`& .${LabeledClasses.label}`]: {\r\n        fontSize: '0.75em',\r\n        marginBottom: '0.2em',\r\n    },\r\n});\r\n", "import { createContext } from 'react';\r\nimport { UseFieldArrayReturn } from 'react-hook-form';\r\n\r\n/**\r\n * A React context that provides access to an ArrayInput methods as provided by react-hook-form\r\n * Useful to create custom array input iterators.\r\n * @see {ArrayInput}\r\n * @see {@link https://react-hook-form.com/docs/usefieldarray}\r\n */\r\nexport const ArrayInputContext = createContext<ArrayInputContextValue>(\r\n    undefined\r\n);\r\n\r\nexport type ArrayInputContextValue = UseFieldArrayReturn;\r\n", "import * as React from 'react';\r\nimport {\r\n    Children,\r\n    cloneElement,\r\n    MouseEvent,\r\n    MouseEventHandler,\r\n    ReactElement,\r\n    ReactNode,\r\n    useCallback,\r\n    useMemo,\r\n    useRef,\r\n    useState,\r\n} from 'react';\r\nimport { styled, SxProps } from '@mui/material';\r\nimport clsx from 'clsx';\r\nimport get from 'lodash/get';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    FormDataConsumer,\r\n    RaRecord,\r\n    useRecordContext,\r\n    useTranslate,\r\n} from 'ra-core';\r\nimport { UseFieldArrayReturn } from 'react-hook-form';\r\n\r\nimport { useArrayInput } from './useArrayInput';\r\nimport {\r\n    SimpleFormIteratorClasses,\r\n    SimpleFormIteratorPrefix,\r\n} from './useSimpleFormIteratorStyles';\r\nimport { SimpleFormIteratorContext } from './SimpleFormIteratorContext';\r\nimport {\r\n    DisableRemoveFunction,\r\n    SimpleFormIteratorItem,\r\n} from './SimpleFormIteratorItem';\r\nimport { AddItemButton as DefaultAddItemButton } from './AddItemButton';\r\nimport { RemoveItemButton as DefaultRemoveItemButton } from './RemoveItemButton';\r\nimport { ReOrderButtons as DefaultReOrderButtons } from './ReOrderButtons';\r\nimport { ClearArrayButton } from './ClearArrayButton';\r\nimport { Confirm } from '../../layout';\r\n\r\nexport const SimpleFormIterator = (props: SimpleFormIteratorProps) => {\r\n    const {\r\n        addButton = <DefaultAddItemButton />,\r\n        removeButton = <DefaultRemoveItemButton />,\r\n        reOrderButtons = <DefaultReOrderButtons />,\r\n        children,\r\n        className,\r\n        resource,\r\n        source,\r\n        disabled,\r\n        disableAdd,\r\n        disableClear,\r\n        disableRemove,\r\n        disableReordering,\r\n        inline,\r\n        getItemLabel = false,\r\n        fullWidth,\r\n        sx,\r\n    } = props;\r\n    const [confirmIsOpen, setConfirmIsOpen] = useState<boolean>(false);\r\n    const { append, fields, move, remove, replace } = useArrayInput(props);\r\n    const translate = useTranslate();\r\n    const record = useRecordContext(props);\r\n    const initialDefaultValue = useRef({});\r\n\r\n    const removeField = useCallback(\r\n        (index: number) => {\r\n            remove(index);\r\n        },\r\n        [remove]\r\n    );\r\n\r\n    if (fields.length > 0) {\r\n        const { id, ...rest } = fields[0];\r\n        initialDefaultValue.current = rest;\r\n        for (const k in initialDefaultValue.current)\r\n            initialDefaultValue.current[k] = null;\r\n    }\r\n\r\n    const addField = useCallback(\r\n        (item: any = undefined) => {\r\n            let defaultValue = item;\r\n            if (item == null) {\r\n                defaultValue = initialDefaultValue.current;\r\n                if (\r\n                    Children.count(children) === 1 &&\r\n                    React.isValidElement(Children.only(children)) &&\r\n                    // @ts-ignore\r\n                    !Children.only(children).props.source &&\r\n                    // Make sure it's not a FormDataConsumer\r\n                    Children.map(\r\n                        children,\r\n                        input =>\r\n                            React.isValidElement(input) &&\r\n                            input.type !== FormDataConsumer\r\n                    ).some(Boolean)\r\n                ) {\r\n                    // ArrayInput used for an array of scalar values\r\n                    // (e.g. tags: ['foo', 'bar'])\r\n                    defaultValue = '';\r\n                } else {\r\n                    // ArrayInput used for an array of objects\r\n                    // (e.g. authors: [{ firstName: 'John', lastName: 'Doe' }, { firstName: 'Jane', lastName: 'Doe' }])\r\n                    defaultValue =\r\n                        defaultValue || ({} as Record<string, unknown>);\r\n                    Children.forEach(children, input => {\r\n                        if (\r\n                            React.isValidElement(input) &&\r\n                            input.type !== FormDataConsumer &&\r\n                            input.props.source\r\n                        ) {\r\n                            defaultValue[input.props.source] =\r\n                                input.props.defaultValue ?? null;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            append(defaultValue);\r\n        },\r\n        [append, children]\r\n    );\r\n\r\n    // add field and call the onClick event of the button passed as addButton prop\r\n    const handleAddButtonClick = (\r\n        originalOnClickHandler: MouseEventHandler\r\n    ) => (event: MouseEvent) => {\r\n        addField();\r\n        if (originalOnClickHandler) {\r\n            originalOnClickHandler(event);\r\n        }\r\n    };\r\n\r\n    const handleReorder = useCallback(\r\n        (origin: number, destination: number) => {\r\n            move(origin, destination);\r\n        },\r\n        [move]\r\n    );\r\n\r\n    const handleArrayClear = useCallback(() => {\r\n        replace([]);\r\n        setConfirmIsOpen(false);\r\n    }, [replace]);\r\n\r\n    const records = get(record, source);\r\n\r\n    const context = useMemo(\r\n        () => ({\r\n            total: fields.length,\r\n            add: addField,\r\n            remove: removeField,\r\n            reOrder: handleReorder,\r\n            source,\r\n        }),\r\n        [addField, fields.length, handleReorder, removeField, source]\r\n    );\r\n    return fields ? (\r\n        <SimpleFormIteratorContext.Provider value={context}>\r\n            <Root\r\n                className={clsx(\r\n                    className,\r\n                    fullWidth && 'fullwidth',\r\n                    disabled && 'disabled'\r\n                )}\r\n                sx={sx}\r\n            >\r\n                <ul className={SimpleFormIteratorClasses.list}>\r\n                    {fields.map((member, index) => (\r\n                        <SimpleFormIteratorItem\r\n                            key={member.id}\r\n                            disabled={disabled}\r\n                            disableRemove={disableRemove}\r\n                            disableReordering={disableReordering}\r\n                            fields={fields}\r\n                            getItemLabel={getItemLabel}\r\n                            index={index}\r\n                            member={`${source}.${index}`}\r\n                            onRemoveField={removeField}\r\n                            onReorder={handleReorder}\r\n                            record={(records && records[index]) || {}}\r\n                            removeButton={removeButton}\r\n                            reOrderButtons={reOrderButtons}\r\n                            resource={resource}\r\n                            source={source}\r\n                            inline={inline}\r\n                        >\r\n                            {children}\r\n                        </SimpleFormIteratorItem>\r\n                    ))}\r\n                </ul>\r\n                {!disabled && !(disableAdd && (disableClear || disableRemove)) && (\r\n                    <div className={SimpleFormIteratorClasses.buttons}>\r\n                        {!disableAdd && (\r\n                            <div className={SimpleFormIteratorClasses.add}>\r\n                                {cloneElement(addButton, {\r\n                                    className: clsx(\r\n                                        'button-add',\r\n                                        `button-add-${source}`\r\n                                    ),\r\n                                    onClick: handleAddButtonClick(\r\n                                        addButton.props.onClick\r\n                                    ),\r\n                                })}\r\n                            </div>\r\n                        )}\r\n                        {fields.length > 0 && !disableClear && !disableRemove && (\r\n                            <div className={SimpleFormIteratorClasses.clear}>\r\n                                <Confirm\r\n                                    isOpen={confirmIsOpen}\r\n                                    title={translate(\r\n                                        'ra.action.clear_array_input'\r\n                                    )}\r\n                                    content={translate(\r\n                                        'ra.message.clear_array_input'\r\n                                    )}\r\n                                    onConfirm={handleArrayClear}\r\n                                    onClose={() => setConfirmIsOpen(false)}\r\n                                />\r\n                                <ClearArrayButton\r\n                                    onClick={() => setConfirmIsOpen(true)}\r\n                                />\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </Root>\r\n        </SimpleFormIteratorContext.Provider>\r\n    ) : null;\r\n};\r\n\r\nSimpleFormIterator.defaultProps = {\r\n    disableAdd: false,\r\n    disableRemove: false,\r\n};\r\n\r\nSimpleFormIterator.propTypes = {\r\n    addButton: PropTypes.element,\r\n    removeButton: PropTypes.element,\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    field: PropTypes.object,\r\n    fields: PropTypes.array,\r\n    fieldState: PropTypes.object,\r\n    formState: PropTypes.object,\r\n    fullWidth: PropTypes.bool,\r\n    inline: PropTypes.bool,\r\n    record: PropTypes.object,\r\n    source: PropTypes.string,\r\n    resource: PropTypes.string,\r\n    translate: PropTypes.func,\r\n    disableAdd: PropTypes.bool,\r\n    disableRemove: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n    TransitionProps: PropTypes.shape({}),\r\n};\r\n\r\ntype GetItemLabelFunc = (index: number) => string | ReactElement;\r\n\r\nexport interface SimpleFormIteratorProps extends Partial<UseFieldArrayReturn> {\r\n    addButton?: ReactElement;\r\n    children?: ReactNode;\r\n    className?: string;\r\n    disabled?: boolean;\r\n    disableAdd?: boolean;\r\n    disableClear?: boolean;\r\n    disableRemove?: boolean | DisableRemoveFunction;\r\n    disableReordering?: boolean;\r\n    fullWidth?: boolean;\r\n    getItemLabel?: boolean | GetItemLabelFunc;\r\n    inline?: boolean;\r\n    meta?: {\r\n        // the type defined in FieldArrayRenderProps says error is boolean, which is wrong.\r\n        error?: any;\r\n        submitFailed?: boolean;\r\n    };\r\n    record?: RaRecord;\r\n    removeButton?: ReactElement;\r\n    reOrderButtons?: ReactElement;\r\n    resource?: string;\r\n    source?: string;\r\n    sx?: SxProps;\r\n}\r\n\r\nconst Root = styled('div', {\r\n    name: SimpleFormIteratorPrefix,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    '& > ul': {\r\n        padding: 0,\r\n        marginTop: 0,\r\n        marginBottom: 0,\r\n    },\r\n    '& > ul > li:last-child': {\r\n        // hide the last separator\r\n        borderBottom: 'none',\r\n    },\r\n    [`& .${SimpleFormIteratorClasses.line}`]: {\r\n        display: 'flex',\r\n        listStyleType: 'none',\r\n        borderBottom: `solid 1px ${theme.palette.divider}`,\r\n        [theme.breakpoints.down('sm')]: { display: 'block' },\r\n    },\r\n    [`& .${SimpleFormIteratorClasses.index}`]: {\r\n        display: 'flex',\r\n        alignItems: 'top',\r\n        marginRight: theme.spacing(1),\r\n        marginTop: theme.spacing(1),\r\n        [theme.breakpoints.down('md')]: { display: 'none' },\r\n    },\r\n    [`& .${SimpleFormIteratorClasses.form}`]: {\r\n        alignItems: 'flex-start',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    [`&.fullwidth > ul > li > .${SimpleFormIteratorClasses.form}`]: {\r\n        flex: 2,\r\n    },\r\n    [`& .${SimpleFormIteratorClasses.inline}`]: {\r\n        flexDirection: 'row',\r\n        columnGap: '1em',\r\n        flexWrap: 'wrap',\r\n    },\r\n    [`& .${SimpleFormIteratorClasses.action}`]: {\r\n        marginTop: theme.spacing(0.5),\r\n        visibility: 'hidden',\r\n        '@media(hover:none)': {\r\n            visibility: 'visible',\r\n        },\r\n    },\r\n    [`& .${SimpleFormIteratorClasses.buttons}`]: {\r\n        display: 'flex',\r\n    },\r\n    [`& .${SimpleFormIteratorClasses.add}`]: {\r\n        borderBottom: 'none',\r\n    },\r\n    [`& .${SimpleFormIteratorClasses.clear}`]: {\r\n        borderBottom: 'none',\r\n    },\r\n    [`& .${SimpleFormIteratorClasses.line}:hover > .${SimpleFormIteratorClasses.action}`]: {\r\n        visibility: 'visible',\r\n    },\r\n}));\r\n", "import { useContext, useMemo } from 'react';\r\nimport { ArrayInputContext, ArrayInputContextValue } from './ArrayInputContext';\r\n\r\n/**\r\n * A hook to access an array input methods as provided by react-hook-form.\r\n * Useful to create custom array input iterators.\r\n * @see {ArrayInput}\r\n * @see https://react-hook-form.com/docs/usefieldarray\r\n */\r\nexport const useArrayInput = (\r\n    props?: Partial<ArrayInputContextValue>\r\n): ArrayInputContextValue => {\r\n    const context = useContext(ArrayInputContext);\r\n    const memo = useMemo(\r\n        () => ({\r\n            append: props?.append,\r\n            fields: props?.fields,\r\n            insert: props?.insert,\r\n            move: props?.move,\r\n            prepend: props?.prepend,\r\n            remove: props?.remove,\r\n            replace: props?.replace,\r\n            swap: props?.swap,\r\n            update: props?.update,\r\n        }),\r\n        [props]\r\n    );\r\n\r\n    if (props?.fields) {\r\n        return memo;\r\n    }\r\n\r\n    return context;\r\n};\r\n", "export const SimpleFormIteratorPrefix = 'RaSimpleFormIterator';\r\n\r\nexport const SimpleFormIteratorClasses = {\r\n    action: `${SimpleFormIteratorPrefix}-action`,\r\n    add: `${SimpleFormIteratorPrefix}-add`,\r\n    clear: `${SimpleFormIteratorPrefix}-clear`,\r\n    form: `${SimpleFormIteratorPrefix}-form`,\r\n    index: `${SimpleFormIteratorPrefix}-index`,\r\n    inline: `${SimpleFormIteratorPrefix}-inline`,\r\n    line: `${SimpleFormIteratorPrefix}-line`,\r\n    list: `${SimpleFormIteratorPrefix}-list`,\r\n    buttons: `${SimpleFormIteratorPrefix}-buttons`,\r\n};\r\n", "import { createContext } from 'react';\r\n\r\n/**\r\n * A React context that provides access to a SimpleFormIterator data (the total number of items) and mutators (add, reorder and remove).\r\n * Useful to create custom array input iterators.\r\n * @see {SimpleFormIterator}\r\n * @see {ArrayInput}\r\n */\r\nexport const SimpleFormIteratorContext = createContext<\r\n    SimpleFormIteratorContextValue\r\n>(undefined);\r\n\r\nexport type SimpleFormIteratorContextValue = {\r\n    add: () => void;\r\n    remove: (index: number) => void;\r\n    reOrder: (index: number, newIndex: number) => void;\r\n    source: string;\r\n    total: number;\r\n};\r\n", "import * as React from 'react';\r\nimport {\r\n    Children,\r\n    cloneElement,\r\n    MouseEvent,\r\n    MouseEventHandler,\r\n    isValidElement,\r\n    ReactElement,\r\n    ReactNode,\r\n    useMemo,\r\n} from 'react';\r\nimport { Typography } from '@mui/material';\r\nimport clsx from 'clsx';\r\nimport { RaRecord } from 'ra-core';\r\n\r\nimport { SimpleFormIteratorClasses } from './useSimpleFormIteratorStyles';\r\nimport { useSimpleFormIterator } from './useSimpleFormIterator';\r\nimport { ArrayInputContextValue } from './ArrayInputContext';\r\nimport {\r\n    SimpleFormIteratorItemContext,\r\n    SimpleFormIteratorItemContextValue,\r\n} from './SimpleFormIteratorItemContext';\r\n\r\nexport const SimpleFormIteratorItem = React.forwardRef(\r\n    (props: SimpleFormIteratorItemProps, ref: any) => {\r\n        const {\r\n            children,\r\n            disabled,\r\n            disableReordering,\r\n            disableRemove,\r\n            getItemLabel,\r\n            index,\r\n            inline = false,\r\n            member,\r\n            record,\r\n            removeButton,\r\n            reOrderButtons,\r\n            resource,\r\n            source,\r\n        } = props;\r\n\r\n        const { total, reOrder, remove } = useSimpleFormIterator();\r\n        // Returns a boolean to indicate whether to disable the remove button for certain fields.\r\n        // If disableRemove is a function, then call the function with the current record to\r\n        // determining if the button should be disabled. Otherwise, use a boolean property that\r\n        // enables or disables the button for all of the fields.\r\n        const disableRemoveField = (record: RaRecord) => {\r\n            if (typeof disableRemove === 'boolean') {\r\n                return disableRemove;\r\n            }\r\n            return disableRemove && disableRemove(record);\r\n        };\r\n\r\n        // remove field and call the onClick event of the button passed as removeButton prop\r\n        const handleRemoveButtonClick = (\r\n            originalOnClickHandler: MouseEventHandler,\r\n            index: number\r\n        ) => (event: MouseEvent) => {\r\n            remove(index);\r\n            if (originalOnClickHandler) {\r\n                originalOnClickHandler(event);\r\n            }\r\n        };\r\n\r\n        const context = useMemo<SimpleFormIteratorItemContextValue>(\r\n            () => ({\r\n                index,\r\n                total,\r\n                reOrder: newIndex => reOrder(index, newIndex),\r\n                remove: () => remove(index),\r\n            }),\r\n            [index, total, reOrder, remove]\r\n        );\r\n\r\n        const label =\r\n            typeof getItemLabel === 'function'\r\n                ? getItemLabel(index)\r\n                : getItemLabel;\r\n\r\n        return (\r\n            <SimpleFormIteratorItemContext.Provider value={context}>\r\n                <li className={SimpleFormIteratorClasses.line} ref={ref}>\r\n                    {label && (\r\n                        <Typography\r\n                            variant=\"body2\"\r\n                            className={SimpleFormIteratorClasses.index}\r\n                        >\r\n                            {label}\r\n                        </Typography>\r\n                    )}\r\n                    <section\r\n                        className={clsx(\r\n                            SimpleFormIteratorClasses.form,\r\n                            inline && SimpleFormIteratorClasses.inline\r\n                        )}\r\n                    >\r\n                        {Children.map(\r\n                            children,\r\n                            (input: ReactElement, index2) => {\r\n                                if (!isValidElement<any>(input)) {\r\n                                    return null;\r\n                                }\r\n                                const { source, ...inputProps } = input.props;\r\n                                return cloneElement(input, {\r\n                                    source: source\r\n                                        ? `${member}.${source}`\r\n                                        : member,\r\n                                    index: source ? undefined : index2,\r\n                                    resource,\r\n                                    disabled,\r\n                                    ...inputProps,\r\n                                });\r\n                            }\r\n                        )}\r\n                    </section>\r\n                    {!disabled && (\r\n                        <span className={SimpleFormIteratorClasses.action}>\r\n                            {!disableReordering &&\r\n                                cloneElement(reOrderButtons, {\r\n                                    index,\r\n                                    max: total,\r\n                                    reOrder,\r\n                                    className: clsx(\r\n                                        'button-reorder',\r\n                                        `button-reorder-${source}-${index}`\r\n                                    ),\r\n                                })}\r\n\r\n                            {!disableRemoveField(record) &&\r\n                                cloneElement(removeButton, {\r\n                                    onClick: handleRemoveButtonClick(\r\n                                        removeButton.props.onClick,\r\n                                        index\r\n                                    ),\r\n                                    className: clsx(\r\n                                        'button-remove',\r\n                                        `button-remove-${source}-${index}`\r\n                                    ),\r\n                                })}\r\n                        </span>\r\n                    )}\r\n                </li>\r\n            </SimpleFormIteratorItemContext.Provider>\r\n        );\r\n    }\r\n);\r\n\r\nexport type DisableRemoveFunction = (record: RaRecord) => boolean;\r\n\r\ntype GetItemLabelFunc = (index: number) => string | ReactElement;\r\n\r\nexport type SimpleFormIteratorItemProps = Partial<ArrayInputContextValue> & {\r\n    children?: ReactNode;\r\n    disabled?: boolean;\r\n    disableRemove?: boolean | DisableRemoveFunction;\r\n    disableReordering?: boolean;\r\n    getItemLabel?: boolean | GetItemLabelFunc;\r\n    index: number;\r\n    inline?: boolean;\r\n    member: string;\r\n    onRemoveField: (index: number) => void;\r\n    onReorder: (origin: number, destination: number) => void;\r\n    record: RaRecord;\r\n    removeButton?: ReactElement;\r\n    reOrderButtons?: ReactElement;\r\n    resource: string;\r\n    source: string;\r\n};\r\n", "import { useContext } from 'react';\r\nimport { SimpleFormIteratorContext } from './SimpleFormIteratorContext';\r\n\r\n/**\r\n * A hook that provides access to a SimpleFormIterator data (the total number of items) and mutators (add, reorder and remove).\r\n * Useful to create custom array input iterators.\r\n * @see {SimpleFormIterator}\r\n * @see {ArrayInput}\r\n */\r\nexport const useSimpleFormIterator = () =>\r\n    useContext(SimpleFormIteratorContext);\r\n", "import { createContext } from 'react';\r\n\r\n/**\r\n * A React context that provides access to a SimpleFormIterator item meta (its index and the total number of items) and mutators (reorder and remove this remove).\r\n * Useful to create custom array input iterators.\r\n * @see {SimpleFormIterator}\r\n * @see {ArrayInput}\r\n */\r\nexport const SimpleFormIteratorItemContext = createContext<\r\n    SimpleFormIteratorItemContextValue\r\n>(undefined);\r\n\r\nexport type SimpleFormIteratorItemContextValue = {\r\n    index: number;\r\n    total: number;\r\n    remove: () => void;\r\n    reOrder: (newIndex: number) => void;\r\n};\r\n", "import * as React from 'react';\r\nimport AddIcon from '@mui/icons-material/AddCircleOutline';\r\nimport { useSimpleFormIterator } from './useSimpleFormIterator';\r\n\r\nimport { IconButtonWithTooltip, ButtonProps } from '../../button';\r\n\r\nexport const AddItemButton = (props: ButtonProps) => {\r\n    const { add } = useSimpleFormIterator();\r\n    return (\r\n        <IconButtonWithTooltip\r\n            label=\"ra.action.add\"\r\n            size=\"small\"\r\n            onClick={() => add()}\r\n            color=\"primary\"\r\n            {...props}\r\n        >\r\n            <AddIcon fontSize=\"small\" />\r\n        </IconButtonWithTooltip>\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport CloseIcon from '@mui/icons-material/RemoveCircleOutline';\r\n\r\nimport { IconButtonWithTooltip, ButtonProps } from '../../button';\r\nimport { useSimpleFormIteratorItem } from './useSimpleFormIteratorItem';\r\n\r\nexport const RemoveItemButton = (props: Omit<ButtonProps, 'onClick'>) => {\r\n    const { remove } = useSimpleFormIteratorItem();\r\n\r\n    return (\r\n        <IconButtonWithTooltip\r\n            label=\"ra.action.remove\"\r\n            size=\"small\"\r\n            onClick={() => remove()}\r\n            color=\"warning\"\r\n            {...props}\r\n        >\r\n            <CloseIcon fontSize=\"small\" />\r\n        </IconButtonWithTooltip>\r\n    );\r\n};\r\n", "import { useContext } from 'react';\r\nimport { SimpleFormIteratorItemContext } from './SimpleFormIteratorItemContext';\r\n\r\n/**\r\n * A hook that provides access to a SimpleFormIterator item meta (its index and the total number of items) and mutators (reorder and remove this remove).\r\n * Useful to create custom array input iterators.\r\n * @see {SimpleFormIterator}\r\n * @see {ArrayInput}\r\n */\r\nexport const useSimpleFormIteratorItem = () =>\r\n    useContext(SimpleFormIteratorItemContext);\r\n", "import * as React from 'react';\r\n\r\nimport { IconButtonWithTooltip } from '../../button';\r\nimport ArrowUpwardIcon from '@mui/icons-material/ArrowCircleUp';\r\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowCircleDown';\r\nimport { useSimpleFormIteratorItem } from './useSimpleFormIteratorItem';\r\n\r\nexport const ReOrderButtons = ({ className }: { className?: string }) => {\r\n    const { index, total, reOrder } = useSimpleFormIteratorItem();\r\n\r\n    return (\r\n        <span className={className}>\r\n            <IconButtonWithTooltip\r\n                label=\"ra.action.move_up\"\r\n                size=\"small\"\r\n                onClick={() => reOrder(index - 1)}\r\n                disabled={index <= 0}\r\n                color=\"primary\"\r\n            >\r\n                <ArrowUpwardIcon fontSize=\"small\" />\r\n            </IconButtonWithTooltip>\r\n            <IconButtonWithTooltip\r\n                label=\"ra.action.move_down\"\r\n                size=\"small\"\r\n                onClick={() => reOrder(index + 1)}\r\n                disabled={total == null || index >= total - 1}\r\n                color=\"primary\"\r\n            >\r\n                <ArrowDownwardIcon fontSize=\"small\" />\r\n            </IconButtonWithTooltip>\r\n        </span>\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport ClearIcon from '@mui/icons-material/HighlightOff';\r\n\r\nimport { ButtonProps, IconButtonWithTooltip } from '../../button';\r\n\r\nexport const ClearArrayButton = (props: ButtonProps) => (\r\n    <IconButtonWithTooltip\r\n        label=\"ra.action.clear_array_input\"\r\n        size=\"small\"\r\n        color=\"warning\"\r\n        {...props}\r\n    >\r\n        <ClearIcon fontSize=\"small\" />\r\n    </IconButtonWithTooltip>\r\n);\r\n\r\nexport default null;\r\n", "import * as React from 'react';\r\nimport {\r\n    isValidElement,\r\n    useCallback,\r\n    useEffect,\r\n    useMemo,\r\n    useRef,\r\n    useState,\r\n    ReactNode,\r\n} from 'react';\r\nimport debounce from 'lodash/debounce';\r\nimport get from 'lodash/get';\r\nimport isEqual from 'lodash/isEqual';\r\nimport clsx from 'clsx';\r\nimport {\r\n    Autocomplete,\r\n    AutocompleteProps,\r\n    Chip,\r\n    TextField,\r\n    TextFieldProps,\r\n    createFilterOptions,\r\n} from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n    ChoicesProps,\r\n    FieldTitle,\r\n    RaRecord,\r\n    useChoicesContext,\r\n    useInput,\r\n    useSuggestions,\r\n    UseSuggestionsOptions,\r\n    useTimeout,\r\n    useTranslate,\r\n    warning,\r\n    useGetRecordRepresentation,\r\n    useEvent,\r\n} from 'ra-core';\r\nimport {\r\n    SupportCreateSuggestionOptions,\r\n    useSupportCreateSuggestion,\r\n} from './useSupportCreateSuggestion';\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { InputHelperText } from './InputHelperText';\r\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\r\n\r\nconst defaultFilterOptions = createFilterOptions();\r\n\r\n/**\r\n * An Input component for an autocomplete field, using an array of objects for the options\r\n *\r\n * Pass possible options as an array of objects in the 'choices' attribute.\r\n *\r\n * By default, the options are built from:\r\n *  - the 'id' property as the option value,\r\n *  - the 'name' property as the option text\r\n * @example\r\n * const choices = [\r\n *    { id: 'M', name: 'Male' },\r\n *    { id: 'F', name: 'Female' },\r\n * ];\r\n * <AutocompleteInput source=\"gender\" choices={choices} />\r\n *\r\n * You can also customize the properties to use for the option name and value,\r\n * thanks to the 'optionText' and 'optionValue' attributes.\r\n * @example\r\n * const choices = [\r\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\r\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\r\n * ];\r\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\r\n *\r\n * `optionText` also accepts a function, so you can shape the option text at will:\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\r\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\r\n *\r\n * `optionText` also accepts a React Element, that can access\r\n * the related choice through the `useRecordContext` hook. You can use Field components there.\r\n * Note that you must also specify the `matchSuggestion` and `inputText` props\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const matchSuggestion = (filterValue, choice) => choice.first_name.match(filterValue) || choice.last_name.match(filterValue)\r\n * const inputText = (record) => `${record.fullName} (${record.language})`;\r\n *\r\n * const FullNameField = () => {\r\n *     const record = useRecordContext();\r\n *     return <span>{record.first_name} {record.last_name}</span>;\r\n * }\r\n * <AutocompleteInput source=\"author\" choices={choices} optionText={<FullNameField />} matchSuggestion={matchSuggestion} inputText={inputText} />\r\n *\r\n * The choices are translated by default, so you can use translation identifiers as choices:\r\n * @example\r\n * const choices = [\r\n *    { id: 'M', name: 'myroot.gender.male' },\r\n *    { id: 'F', name: 'myroot.gender.female' },\r\n * ];\r\n *\r\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\r\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\r\n * @example\r\n * <AutocompleteInput source=\"gender\" choices={choices} translateChoice={false}/>\r\n *\r\n * The object passed as `options` props is passed to the Material UI <TextField> component\r\n *\r\n * @example\r\n * <AutocompleteInput source=\"author_id\" options={{ color: 'secondary', InputLabelProps: { shrink: true } }} />\r\n */\r\nexport const AutocompleteInput = <\r\n    OptionType extends RaRecord = RaRecord,\r\n    Multiple extends boolean | undefined = false,\r\n    DisableClearable extends boolean | undefined = false,\r\n    SupportCreate extends boolean | undefined = false\r\n>(\r\n    props: AutocompleteInputProps<\r\n        OptionType,\r\n        Multiple,\r\n        DisableClearable,\r\n        SupportCreate\r\n    >\r\n) => {\r\n    const {\r\n        choices: choicesProp,\r\n        className,\r\n        clearOnBlur = true,\r\n        clearText = 'ra.action.clear_input_value',\r\n        closeText = 'ra.action.close',\r\n        create,\r\n        createLabel,\r\n        createItemLabel,\r\n        createValue,\r\n        debounce: debounceDelay = 250,\r\n        defaultValue,\r\n        emptyText,\r\n        emptyValue = '',\r\n        field: fieldOverride,\r\n        format,\r\n        helperText,\r\n        id: idOverride,\r\n        inputText,\r\n        isFetching: isFetchingProp,\r\n        isLoading: isLoadingProp,\r\n        isRequired: isRequiredOverride,\r\n        label,\r\n        limitChoicesToValue,\r\n        matchSuggestion,\r\n        margin,\r\n        fieldState: fieldStateOverride,\r\n        filterToQuery: filterToQueryProp = DefaultFilterToQuery,\r\n        formState: formStateOverride,\r\n        multiple = false,\r\n        noOptionsText,\r\n        onBlur,\r\n        onChange,\r\n        onCreate,\r\n        openText = 'ra.action.open',\r\n        optionText,\r\n        optionValue,\r\n        parse,\r\n        resource: resourceProp,\r\n        shouldRenderSuggestions,\r\n        setFilter,\r\n        size,\r\n        source: sourceProp,\r\n        suggestionLimit = Infinity,\r\n        TextFieldProps,\r\n        translateChoice,\r\n        validate,\r\n        variant,\r\n        ...rest\r\n    } = props;\r\n\r\n    const filterToQuery = useEvent(filterToQueryProp);\r\n\r\n    const {\r\n        allChoices,\r\n        isLoading,\r\n        error: fetchError,\r\n        resource,\r\n        source,\r\n        setFilters,\r\n        isFromReference,\r\n    } = useChoicesContext({\r\n        choices: choicesProp,\r\n        isFetching: isFetchingProp,\r\n        isLoading: isLoadingProp,\r\n        resource: resourceProp,\r\n        source: sourceProp,\r\n    });\r\n\r\n    const translate = useTranslate();\r\n\r\n    const {\r\n        id,\r\n        field,\r\n        isRequired,\r\n        fieldState: { error, invalid, isTouched },\r\n        formState: { isSubmitted },\r\n    } = useInput({\r\n        defaultValue,\r\n        id: idOverride,\r\n        field: fieldOverride,\r\n        fieldState: fieldStateOverride,\r\n        formState: formStateOverride,\r\n        isRequired: isRequiredOverride,\r\n        onBlur,\r\n        onChange,\r\n        parse,\r\n        format,\r\n        resource,\r\n        source,\r\n        validate,\r\n        ...rest,\r\n    });\r\n\r\n    const finalChoices = useMemo(\r\n        () =>\r\n            // eslint-disable-next-line eqeqeq\r\n            emptyText == undefined || isRequired || multiple\r\n                ? allChoices\r\n                : [\r\n                      {\r\n                          [optionValue || 'id']: emptyValue,\r\n                          [typeof optionText === 'string'\r\n                              ? optionText\r\n                              : 'name']: translate(emptyText, {\r\n                              _: emptyText,\r\n                          }),\r\n                      },\r\n                  ].concat(allChoices),\r\n        [\r\n            allChoices,\r\n            emptyValue,\r\n            emptyText,\r\n            isRequired,\r\n            multiple,\r\n            optionText,\r\n            optionValue,\r\n            translate,\r\n        ]\r\n    );\r\n\r\n    const selectedChoice = useSelectedChoice<\r\n        OptionType,\r\n        Multiple,\r\n        DisableClearable,\r\n        SupportCreate\r\n    >(field.value, {\r\n        choices: finalChoices,\r\n        // @ts-ignore\r\n        multiple,\r\n        optionValue,\r\n    });\r\n\r\n    useEffect(() => {\r\n        // eslint-disable-next-line eqeqeq\r\n        if (emptyValue == null) {\r\n            throw new Error(\r\n                `emptyValue being set to null or undefined is not supported. Use parse to turn the empty string into null.`\r\n            );\r\n        }\r\n    }, [emptyValue]);\r\n\r\n    useEffect(() => {\r\n        // eslint-disable-next-line eqeqeq\r\n        if (isValidElement(optionText) && emptyText != undefined) {\r\n            throw new Error(\r\n                `optionText of type React element is not supported when setting emptyText`\r\n            );\r\n        }\r\n        // eslint-disable-next-line eqeqeq\r\n        if (isValidElement(optionText) && inputText == undefined) {\r\n            throw new Error(`\r\nIf you provided a React element for the optionText prop, you must also provide the inputText prop (used for the text input)`);\r\n        }\r\n        if (\r\n            isValidElement(optionText) &&\r\n            !isFromReference &&\r\n            // eslint-disable-next-line eqeqeq\r\n            matchSuggestion == undefined\r\n        ) {\r\n            throw new Error(`\r\nIf you provided a React element for the optionText prop, you must also provide the matchSuggestion prop (used to match the user input with a choice)`);\r\n        }\r\n    }, [optionText, inputText, matchSuggestion, emptyText, isFromReference]);\r\n\r\n    useEffect(() => {\r\n        warning(\r\n            /* eslint-disable eqeqeq */\r\n            shouldRenderSuggestions != undefined && noOptionsText == undefined,\r\n            `When providing a shouldRenderSuggestions function, we recommend you also provide the noOptionsText prop and set it to a text explaining users why no options are displayed. It supports translation keys.`\r\n        );\r\n        /* eslint-enable eqeqeq */\r\n    }, [shouldRenderSuggestions, noOptionsText]);\r\n\r\n    const getRecordRepresentation = useGetRecordRepresentation(resource);\r\n\r\n    const { getChoiceText, getChoiceValue, getSuggestions } = useSuggestions({\r\n        choices: finalChoices,\r\n        limitChoicesToValue,\r\n        matchSuggestion,\r\n        optionText:\r\n            optionText ??\r\n            (isFromReference ? getRecordRepresentation : undefined),\r\n        optionValue,\r\n        selectedItem: selectedChoice,\r\n        suggestionLimit,\r\n        translateChoice,\r\n    });\r\n\r\n    const [filterValue, setFilterValue] = useState('');\r\n\r\n    const handleChange = (newValue: any) => {\r\n        if (multiple) {\r\n            if (Array.isArray(newValue)) {\r\n                field.onChange(newValue.map(getChoiceValue));\r\n            } else {\r\n                field.onChange([\r\n                    ...(field.value ?? []),\r\n                    getChoiceValue(newValue),\r\n                ]);\r\n            }\r\n        } else {\r\n            field.onChange(getChoiceValue(newValue) ?? emptyValue);\r\n        }\r\n    };\r\n\r\n    // eslint-disable-next-line\r\n    const debouncedSetFilter = useCallback(\r\n        debounce(filter => {\r\n            if (setFilter) {\r\n                return setFilter(filter);\r\n            }\r\n\r\n            if (choicesProp) {\r\n                return;\r\n            }\r\n\r\n            setFilters(filterToQuery(filter), undefined, true);\r\n        }, debounceDelay),\r\n        [debounceDelay, setFilters, setFilter]\r\n    );\r\n\r\n    // We must reset the filter every time the value changes to ensure we\r\n    // display at least some choices even if the input has a value.\r\n    // Otherwise, it would only display the currently selected one and the user\r\n    // would have to first clear the input before seeing any other choices\r\n    const currentValue = useRef(field.value);\r\n    useEffect(() => {\r\n        if (!isEqual(currentValue.current, field.value)) {\r\n            currentValue.current = field.value;\r\n            debouncedSetFilter('');\r\n        }\r\n    }, [field.value]); // eslint-disable-line\r\n\r\n    const {\r\n        getCreateItem,\r\n        handleChange: handleChangeWithCreateSupport,\r\n        createElement,\r\n        createId,\r\n    } = useSupportCreateSuggestion({\r\n        create,\r\n        createLabel,\r\n        createItemLabel,\r\n        createValue,\r\n        handleChange,\r\n        filter: filterValue,\r\n        onCreate,\r\n        optionText,\r\n    });\r\n\r\n    const getOptionLabel = useCallback(\r\n        (option: any, isListItem: boolean = false) => {\r\n            // eslint-disable-next-line eqeqeq\r\n            if (option == undefined) {\r\n                return '';\r\n            }\r\n\r\n            // Value selected with enter, right from the input\r\n            if (typeof option === 'string') {\r\n                return option;\r\n            }\r\n\r\n            if (option?.id === createId) {\r\n                return get(\r\n                    option,\r\n                    typeof optionText === 'string' ? optionText : 'name'\r\n                );\r\n            }\r\n\r\n            if (!isListItem && option[optionValue || 'id'] === emptyValue) {\r\n                return get(\r\n                    option,\r\n                    typeof optionText === 'string' ? optionText : 'name'\r\n                );\r\n            }\r\n\r\n            if (!isListItem && inputText !== undefined) {\r\n                return inputText(option);\r\n            }\r\n\r\n            return getChoiceText(option);\r\n        },\r\n        [\r\n            getChoiceText,\r\n            inputText,\r\n            createId,\r\n            optionText,\r\n            optionValue,\r\n            emptyValue,\r\n        ]\r\n    );\r\n\r\n    const finalOnBlur = useCallback((): void => {\r\n        if (clearOnBlur && !multiple) {\r\n            const optionLabel = getOptionLabel(selectedChoice);\r\n            if (!isEqual(optionLabel, filterValue)) {\r\n                setFilterValue(optionLabel);\r\n                debouncedSetFilter('');\r\n            }\r\n        }\r\n        field.onBlur();\r\n    }, [\r\n        clearOnBlur,\r\n        field,\r\n        getOptionLabel,\r\n        selectedChoice,\r\n        filterValue,\r\n        debouncedSetFilter,\r\n        multiple,\r\n    ]);\r\n\r\n    useEffect(() => {\r\n        if (!multiple) {\r\n            const optionLabel = getOptionLabel(selectedChoice);\r\n            if (typeof optionLabel === 'string') {\r\n                setFilterValue(optionLabel);\r\n            } else {\r\n                throw new Error(\r\n                    'When optionText returns a React element, you must also provide the inputText prop'\r\n                );\r\n            }\r\n        }\r\n    }, [getOptionLabel, multiple, selectedChoice]);\r\n\r\n    const handleInputChange = (\r\n        event: any,\r\n        newInputValue: string,\r\n        _reason: string\r\n    ) => {\r\n        if (\r\n            event?.type === 'change' ||\r\n            !doesQueryMatchSelection(newInputValue)\r\n        ) {\r\n            setFilterValue(newInputValue);\r\n            debouncedSetFilter(newInputValue);\r\n        }\r\n    };\r\n\r\n    const doesQueryMatchSelection = useCallback(\r\n        (filter: string) => {\r\n            let selectedItemTexts;\r\n\r\n            if (multiple) {\r\n                selectedItemTexts = selectedChoice.map(item =>\r\n                    getOptionLabel(item)\r\n                );\r\n            } else {\r\n                selectedItemTexts = [getOptionLabel(selectedChoice)];\r\n            }\r\n\r\n            return selectedItemTexts.includes(filter);\r\n        },\r\n        [getOptionLabel, multiple, selectedChoice]\r\n    );\r\n    const doesQueryMatchSuggestion = useCallback(\r\n        filter => {\r\n            const hasOption = !!finalChoices\r\n                ? finalChoices.some(choice => getOptionLabel(choice) === filter)\r\n                : false;\r\n\r\n            return doesQueryMatchSelection(filter) || hasOption;\r\n        },\r\n        [finalChoices, getOptionLabel, doesQueryMatchSelection]\r\n    );\r\n\r\n    const filterOptions = (options, params) => {\r\n        let filteredOptions =\r\n            isFromReference || // When used inside a reference, AutocompleteInput shouldn't do the filtering as it's done by the reference input\r\n            matchSuggestion || // When using element as optionText (and matchSuggestion), options are filtered by getSuggestions, so they shouldn't be filtered here\r\n            limitChoicesToValue // When limiting choices to values (why? it's legacy!), options are also filtered by getSuggestions, so they shouldn't be filtered here\r\n                ? options\r\n                : defaultFilterOptions(options, params); // Otherwise, we let Material UI's Autocomplete do the filtering\r\n\r\n        // add create option if necessary\r\n        const { inputValue } = params;\r\n        if (\r\n            (onCreate || create) &&\r\n            inputValue !== '' &&\r\n            !doesQueryMatchSuggestion(filterValue)\r\n        ) {\r\n            filteredOptions = filteredOptions.concat(getCreateItem(inputValue));\r\n        }\r\n\r\n        return filteredOptions;\r\n    };\r\n\r\n    const handleAutocompleteChange = (\r\n        event: any,\r\n        newValue: any,\r\n        _reason: string\r\n    ) => {\r\n        handleChangeWithCreateSupport(newValue != null ? newValue : emptyValue);\r\n    };\r\n\r\n    const oneSecondHasPassed = useTimeout(1000, filterValue);\r\n\r\n    const suggestions = useMemo(() => {\r\n        if (!isFromReference && (matchSuggestion || limitChoicesToValue)) {\r\n            return getSuggestions(filterValue);\r\n        }\r\n        return finalChoices?.slice(0, suggestionLimit) || [];\r\n    }, [\r\n        finalChoices,\r\n        filterValue,\r\n        getSuggestions,\r\n        limitChoicesToValue,\r\n        matchSuggestion,\r\n        suggestionLimit,\r\n        isFromReference,\r\n    ]);\r\n\r\n    const isOptionEqualToValue = (option, value) => {\r\n        return String(getChoiceValue(option)) === String(getChoiceValue(value));\r\n    };\r\n    const renderHelperText =\r\n        !!fetchError ||\r\n        helperText !== false ||\r\n        ((isTouched || isSubmitted) && invalid);\r\n\r\n    return (\r\n        <>\r\n            <StyledAutocomplete\r\n                blurOnSelect\r\n                className={clsx('ra-input', `ra-input-${source}`, className)}\r\n                clearText={translate(clearText, { _: clearText })}\r\n                closeText={translate(closeText, { _: closeText })}\r\n                openOnFocus\r\n                openText={translate(openText, { _: openText })}\r\n                id={id}\r\n                isOptionEqualToValue={isOptionEqualToValue}\r\n                filterSelectedOptions\r\n                renderInput={params => (\r\n                    <TextField\r\n                        name={field.name}\r\n                        label={\r\n                            <FieldTitle\r\n                                label={label}\r\n                                source={source}\r\n                                resource={resourceProp}\r\n                                isRequired={isRequired}\r\n                            />\r\n                        }\r\n                        error={\r\n                            !!fetchError ||\r\n                            ((isTouched || isSubmitted) && invalid)\r\n                        }\r\n                        helperText={\r\n                            renderHelperText ? (\r\n                                <InputHelperText\r\n                                    touched={\r\n                                        isTouched || isSubmitted || fetchError\r\n                                    }\r\n                                    error={\r\n                                        error?.message || fetchError?.message\r\n                                    }\r\n                                    helperText={helperText}\r\n                                />\r\n                            ) : null\r\n                        }\r\n                        margin={margin}\r\n                        variant={variant}\r\n                        className={AutocompleteInputClasses.textField}\r\n                        {...TextFieldProps}\r\n                        {...params}\r\n                        size={size}\r\n                    />\r\n                )}\r\n                multiple={multiple}\r\n                renderTags={(value, getTagProps) =>\r\n                    value.map((option, index) => (\r\n                        <Chip\r\n                            label={\r\n                                isValidElement(optionText)\r\n                                    ? inputText(option)\r\n                                    : getChoiceText(option)\r\n                            }\r\n                            sx={{\r\n                                '.MuiSvgIcon-root': {\r\n                                    // FIXME: Workaround to allow choices deletion\r\n                                    // Maybe related to storybook and mui using different versions of emotion\r\n                                    zIndex: 100,\r\n                                },\r\n                            }}\r\n                            size=\"small\"\r\n                            {...getTagProps({ index })}\r\n                        />\r\n                    ))\r\n                }\r\n                noOptionsText={\r\n                    typeof noOptionsText === 'string'\r\n                        ? translate(noOptionsText, { _: noOptionsText })\r\n                        : noOptionsText\r\n                }\r\n                selectOnFocus\r\n                clearOnBlur={clearOnBlur}\r\n                {...sanitizeInputRestProps(rest)}\r\n                freeSolo={!!create || !!onCreate}\r\n                handleHomeEndKeys={!!create || !!onCreate}\r\n                filterOptions={filterOptions}\r\n                options={\r\n                    shouldRenderSuggestions == undefined || // eslint-disable-line eqeqeq\r\n                    shouldRenderSuggestions(filterValue)\r\n                        ? suggestions\r\n                        : []\r\n                }\r\n                getOptionLabel={getOptionLabel}\r\n                inputValue={filterValue}\r\n                loading={\r\n                    isLoading &&\r\n                    (!finalChoices || finalChoices.length === 0) &&\r\n                    oneSecondHasPassed\r\n                }\r\n                value={selectedChoice}\r\n                onChange={handleAutocompleteChange}\r\n                onBlur={finalOnBlur}\r\n                onInputChange={handleInputChange}\r\n                renderOption={(props, record: RaRecord) => {\r\n                    (props as {\r\n                        key: string;\r\n                    }).key = getChoiceValue(record);\r\n\r\n                    const optionLabel = getOptionLabel(record, true);\r\n\r\n                    return (\r\n                        <li {...props}>\r\n                            {optionLabel === '' ? ' ' : optionLabel}\r\n                        </li>\r\n                    );\r\n                }}\r\n            />\r\n            {createElement}\r\n        </>\r\n    );\r\n};\r\n\r\nconst PREFIX = 'RaAutocompleteInput';\r\n\r\nexport const AutocompleteInputClasses = {\r\n    textField: `${PREFIX}-textField`,\r\n};\r\n\r\nconst StyledAutocomplete = styled(Autocomplete, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${AutocompleteInputClasses.textField}`]: {\r\n        minWidth: theme.spacing(20),\r\n    },\r\n}));\r\n\r\n// @ts-ignore\r\nexport interface AutocompleteInputProps<\r\n    OptionType extends any = RaRecord,\r\n    Multiple extends boolean | undefined = false,\r\n    DisableClearable extends boolean | undefined = false,\r\n    SupportCreate extends boolean | undefined = false\r\n> extends Omit<CommonInputProps, 'source'>,\r\n        ChoicesProps,\r\n        UseSuggestionsOptions,\r\n        Omit<SupportCreateSuggestionOptions, 'handleChange' | 'optionText'>,\r\n        Omit<\r\n            AutocompleteProps<\r\n                OptionType,\r\n                Multiple,\r\n                DisableClearable,\r\n                SupportCreate\r\n            >,\r\n            'onChange' | 'options' | 'renderInput'\r\n        > {\r\n    children?: ReactNode;\r\n    debounce?: number;\r\n    emptyText?: string;\r\n    emptyValue?: any;\r\n    filterToQuery?: (searchText: string) => any;\r\n    inputText?: (option: any) => string;\r\n    setFilter?: (value: string) => void;\r\n    shouldRenderSuggestions?: any;\r\n    // Source is optional as AutocompleteInput can be used inside a ReferenceInput that already defines the source\r\n    source?: string;\r\n    TextFieldProps?: TextFieldProps;\r\n}\r\n\r\n/**\r\n * Returns the selected choice (or choices if multiple) by matching the input value with the choices.\r\n */\r\nconst useSelectedChoice = <\r\n    OptionType extends any = RaRecord,\r\n    Multiple extends boolean | undefined = false,\r\n    DisableClearable extends boolean | undefined = false,\r\n    SupportCreate extends boolean | undefined = false\r\n>(\r\n    value: any,\r\n    {\r\n        choices,\r\n        multiple,\r\n        optionValue,\r\n    }: AutocompleteInputProps<\r\n        OptionType,\r\n        Multiple,\r\n        DisableClearable,\r\n        SupportCreate\r\n    >\r\n) => {\r\n    const selectedChoiceRef = useRef(\r\n        getSelectedItems(choices, value, optionValue, multiple)\r\n    );\r\n    const [selectedChoice, setSelectedChoice] = useState<RaRecord | RaRecord[]>(\r\n        () => getSelectedItems(choices, value, optionValue, multiple)\r\n    );\r\n\r\n    // As the selected choices are objects, we want to ensure we pass the same\r\n    // reference to the Autocomplete as it would reset its filter value otherwise.\r\n    useEffect(() => {\r\n        const newSelectedItems = getSelectedItems(\r\n            choices,\r\n            value,\r\n            optionValue,\r\n            multiple\r\n        );\r\n\r\n        if (\r\n            !areSelectedItemsEqual(\r\n                selectedChoiceRef.current,\r\n                newSelectedItems,\r\n                optionValue,\r\n                multiple\r\n            )\r\n        ) {\r\n            selectedChoiceRef.current = newSelectedItems;\r\n            setSelectedChoice(newSelectedItems);\r\n        }\r\n    }, [choices, value, multiple, optionValue]);\r\n    return selectedChoice || null;\r\n};\r\n\r\nconst getSelectedItems = (\r\n    choices = [],\r\n    value,\r\n    optionValue = 'id',\r\n    multiple\r\n) => {\r\n    if (multiple) {\r\n        return (Array.isArray(value ?? []) ? value : [value])\r\n            .map(item =>\r\n                choices.find(\r\n                    choice => String(item) === String(get(choice, optionValue))\r\n                )\r\n            )\r\n            .filter(item => !!item);\r\n    }\r\n    return (\r\n        choices.find(\r\n            choice => String(get(choice, optionValue)) === String(value)\r\n        ) || ''\r\n    );\r\n};\r\n\r\nconst areSelectedItemsEqual = (\r\n    selectedChoice: RaRecord | RaRecord[],\r\n    newSelectedChoice: RaRecord | RaRecord[],\r\n    optionValue = 'id',\r\n    multiple: boolean\r\n) => {\r\n    if (multiple) {\r\n        const selectedChoiceArray = (selectedChoice as RaRecord[]) ?? [];\r\n        const newSelectedChoiceArray = (newSelectedChoice as RaRecord[]) ?? [];\r\n        if (selectedChoiceArray.length !== newSelectedChoiceArray.length) {\r\n            return false;\r\n        }\r\n        const equalityArray = selectedChoiceArray.map(choice =>\r\n            newSelectedChoiceArray.some(\r\n                newChoice =>\r\n                    get(newChoice, optionValue) === get(choice, optionValue)\r\n            )\r\n        );\r\n        return !equalityArray.some(item => item === false);\r\n    }\r\n    return (\r\n        get(selectedChoice, optionValue) === get(newSelectedChoice, optionValue)\r\n    );\r\n};\r\n\r\nconst DefaultFilterToQuery = searchText => ({ q: searchText });\r\n", "import * as React from 'react';\r\nimport {\r\n    ChangeEvent,\r\n    createContext,\r\n    isValidElement,\r\n    ReactElement,\r\n    useContext,\r\n    useEffect,\r\n    useMemo,\r\n    useRef,\r\n    useState,\r\n} from 'react';\r\nimport { Identifier, OptionText, useTranslate } from 'ra-core';\r\nimport set from 'lodash/set';\r\n\r\n/**\r\n * This hook provides support for suggestion creation in inputs which have choices.\r\n *\r\n * @param options The hook option\r\n * @param {ReactElement} options.create A react element which will be rendered when users choose to create a new choice. This component must call the `useCreateSuggestionContext` hook which provides `onCancel`, `onCreate` and `filter`. See the examples.\r\n * @param {String} options.createLabel Optional. The label for the choice item allowing users to create a new choice. Can be a translation key. Defaults to `ra.action.create`.\r\n * @param {String} options.createItemLabel Optional. The label for the choice item allowing users to create a new choice when they already entered a filter. Can be a translation key. The translation will receive an `item` parameter. Defaults to `ra.action.create_item`.\r\n * @param {any} options.createValue Optional. The value for the choice item allowing users to create a new choice. Defaults to `@@ra-create`.\r\n * @param {String} options.filter Optional. The filter users may have already entered. Useful for autocomplete inputs for example.\r\n * @param {OnCreateHandler} options.onCreate Optional. A function which will be called when users choose to create a new choice, if the `create` option wasn't provided.\r\n * @param {Function} options.handleChange A function to pass to the input. Receives the same parameter as the original event handler and an additional newItem parameter if a new item was create.\r\n * @returns {UseSupportCreateValue} An object with the following properties:\r\n * - getCreateItem: a function which will return the label of the choice for create a new choice.\r\n * - createElement: a React element to render after the input. It will be rendered when users choose to create a new choice. It renders null otherwise.\r\n */\r\nexport const useSupportCreateSuggestion = (\r\n    options: SupportCreateSuggestionOptions\r\n): UseSupportCreateValue => {\r\n    const {\r\n        create,\r\n        createLabel = 'ra.action.create',\r\n        createItemLabel = 'ra.action.create_item',\r\n        createValue = '@@ra-create',\r\n        optionText = 'name',\r\n        filter,\r\n        handleChange,\r\n        onCreate,\r\n    } = options;\r\n    const translate = useTranslate();\r\n    const [renderOnCreate, setRenderOnCreate] = useState(false);\r\n    const filterRef = useRef(filter);\r\n\r\n    useEffect(() => {\r\n        if (filterRef.current !== filter && filter !== '') {\r\n            filterRef.current = filter;\r\n        }\r\n    }, [filter]);\r\n\r\n    const context = useMemo(\r\n        () => ({\r\n            filter: filterRef.current,\r\n            onCancel: () => setRenderOnCreate(false),\r\n            onCreate: item => {\r\n                setRenderOnCreate(false);\r\n                handleChange(item);\r\n            },\r\n        }),\r\n        [handleChange]\r\n    );\r\n\r\n    return {\r\n        createId: createValue,\r\n        getCreateItem: () => {\r\n            if (typeof optionText !== 'string') {\r\n                return {\r\n                    id: createValue,\r\n                    name:\r\n                        filter && createItemLabel\r\n                            ? translate(createItemLabel, {\r\n                                  item: filter,\r\n                                  _: createItemLabel,\r\n                              })\r\n                            : translate(createLabel, { _: createLabel }),\r\n                };\r\n            }\r\n            return set(\r\n                {\r\n                    id: createValue,\r\n                },\r\n                optionText,\r\n                filter && createItemLabel\r\n                    ? translate(createItemLabel, {\r\n                          item: filter,\r\n                          _: createItemLabel,\r\n                      })\r\n                    : translate(createLabel, { _: createLabel })\r\n            );\r\n        },\r\n        handleChange: async (eventOrValue: MouseEvent | any) => {\r\n            const value = eventOrValue?.target?.value || eventOrValue;\r\n            const finalValue = Array.isArray(value) ? [...value].pop() : value;\r\n\r\n            if (finalValue?.id === createValue || finalValue === createValue) {\r\n                if (!isValidElement(create)) {\r\n                    const newSuggestion = await onCreate(filter);\r\n                    if (newSuggestion) {\r\n                        handleChange(newSuggestion);\r\n                        return;\r\n                    }\r\n                } else {\r\n                    setRenderOnCreate(true);\r\n                    return;\r\n                }\r\n            }\r\n            handleChange(eventOrValue);\r\n        },\r\n        createElement:\r\n            renderOnCreate && isValidElement(create) ? (\r\n                <CreateSuggestionContext.Provider value={context}>\r\n                    {create}\r\n                </CreateSuggestionContext.Provider>\r\n            ) : null,\r\n    };\r\n};\r\n\r\nexport interface SupportCreateSuggestionOptions {\r\n    create?: ReactElement;\r\n    createValue?: string;\r\n    createLabel?: string;\r\n    createItemLabel?: string;\r\n    filter?: string;\r\n    handleChange: (value: any) => void;\r\n    onCreate?: OnCreateHandler;\r\n    optionText?: OptionText;\r\n}\r\n\r\nexport interface UseSupportCreateValue {\r\n    createId: string;\r\n    getCreateItem: (\r\n        filterValue?: string\r\n    ) => { id: Identifier; [key: string]: any };\r\n    handleChange: (eventOrValue: ChangeEvent | any) => Promise<void>;\r\n    createElement: ReactElement | null;\r\n}\r\n\r\nconst CreateSuggestionContext = createContext<CreateSuggestionContextValue>(\r\n    undefined\r\n);\r\n\r\ninterface CreateSuggestionContextValue {\r\n    filter?: string;\r\n    onCreate: (choice: any) => void;\r\n    onCancel: () => void;\r\n}\r\nexport const useCreateSuggestionContext = () =>\r\n    useContext(CreateSuggestionContext);\r\n\r\nexport type OnCreateHandler = (filter?: string) => any | Promise<any>;\r\n", "import * as React from 'react';\r\nimport { RaRecord } from 'ra-core';\r\nimport { AutocompleteInput, AutocompleteInputProps } from './AutocompleteInput';\r\n\r\n/**\r\n * An Input component for an autocomplete field, using an array of objects for the options\r\n *\r\n * Pass possible options as an array of objects in the 'choices' attribute.\r\n *\r\n * By default, the options are built from:\r\n *  - the 'id' property as the option value,\r\n *  - the 'name' property as the option text\r\n * @example\r\n * const choices = [\r\n *    { id: 'M', name: 'Male' },\r\n *    { id: 'F', name: 'Female' },\r\n * ];\r\n * <AutocompleteArrayInput source=\"gender\" choices={choices} />\r\n *\r\n * You can also customize the properties to use for the option name and value,\r\n * thanks to the 'optionText' and 'optionValue' attributes.\r\n * @example\r\n * const choices = [\r\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\r\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\r\n * ];\r\n * <AutocompleteArrayInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\r\n *\r\n * `optionText` also accepts a function, so you can shape the option text at will:\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\r\n * <AutocompleteArrayInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\r\n *\r\n * `optionText` also accepts a React Element, that can access\r\n * the related choice through the `useRecordContext` hook. You can use Field components there.\r\n * Note that you must also specify the `matchSuggestion` and `inputText` props\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const matchSuggestion = (filterValue, choice) => choice.first_name.match(filterValue) || choice.last_name.match(filterValue)\r\n * const inputText = (record) => `${record.fullName} (${record.language})`;\r\n *\r\n * const FullNameField = () => {\r\n *     const record = useRecordContext();\r\n *     return <span>{record.first_name} {record.last_name}</span>;\r\n * }\r\n *\r\n * <AutocompleteArrayInput source=\"gender\" choices={choices} optionText={<FullNameField />} matchSuggestion={matchSuggestion} />\r\n *\r\n * The choices are translated by default, so you can use translation identifiers as choices:\r\n * @example\r\n * const choices = [\r\n *    { id: 'M', name: 'myroot.gender.male' },\r\n *    { id: 'F', name: 'myroot.gender.female' },\r\n * ];\r\n *\r\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\r\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\r\n * @example\r\n * <AutocompleteArrayInput source=\"gender\" choices={choices} translateChoice={false}/>\r\n */\r\n\r\nexport const AutocompleteArrayInput = <\r\n    OptionType extends RaRecord = RaRecord,\r\n    DisableClearable extends boolean | undefined = boolean | undefined,\r\n    SupportCreate extends boolean | undefined = false\r\n>({\r\n    defaultValue,\r\n    ...props\r\n}: AutocompleteArrayInputProps<\r\n    OptionType,\r\n    DisableClearable,\r\n    SupportCreate\r\n>) => (\r\n    <AutocompleteInput<OptionType, true, DisableClearable, SupportCreate>\r\n        {...props}\r\n        multiple\r\n        defaultValue={defaultValue ?? []}\r\n    />\r\n);\r\n\r\nexport type AutocompleteArrayInputProps<\r\n    OptionType extends any = RaRecord,\r\n    DisableClearable extends boolean | undefined = false,\r\n    SupportCreate extends boolean | undefined = false\r\n> = Omit<\r\n    AutocompleteInputProps<OptionType, true, DisableClearable, SupportCreate>,\r\n    'defaultValue'\r\n> & {\r\n    defaultValue?: any[];\r\n};\r\n", "import * as React from 'react';\r\nimport { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormHelperText from '@mui/material/FormHelperText';\r\nimport FormGroup, { FormGroupProps } from '@mui/material/FormGroup';\r\nimport Switch, { SwitchProps } from '@mui/material/Switch';\r\nimport { FieldTitle, useInput } from 'ra-core';\r\n\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\r\nimport { InputHelperText } from './InputHelperText';\r\nimport { InputPropTypes } from './InputPropTypes';\r\n\r\nexport const BooleanInput = (props: BooleanInputProps) => {\r\n    const {\r\n        className,\r\n        row = false,\r\n        defaultValue = false,\r\n        format,\r\n        label,\r\n        fullWidth,\r\n        helperText,\r\n        onBlur,\r\n        onChange,\r\n        onFocus,\r\n        disabled,\r\n        parse,\r\n        resource,\r\n        source,\r\n        validate,\r\n        options,\r\n        sx,\r\n        ...rest\r\n    } = props;\r\n    const {\r\n        id,\r\n        field,\r\n        isRequired,\r\n        fieldState: { error, invalid, isTouched },\r\n        formState: { isSubmitted },\r\n    } = useInput({\r\n        defaultValue,\r\n        format,\r\n        parse,\r\n        resource,\r\n        source,\r\n        onBlur,\r\n        onChange,\r\n        type: 'checkbox',\r\n        validate,\r\n        ...rest,\r\n    });\r\n\r\n    const handleChange = useCallback(\r\n        event => {\r\n            field.onChange(event);\r\n            // Ensure field is considered as touched\r\n            field.onBlur();\r\n        },\r\n        [field]\r\n    );\r\n\r\n    const renderHelperText =\r\n        helperText !== false || ((isTouched || isSubmitted) && invalid);\r\n\r\n    return (\r\n        <FormGroup\r\n            className={clsx('ra-input', `ra-input-${source}`, className)}\r\n            row={row}\r\n            sx={sx}\r\n        >\r\n            <FormControlLabel\r\n                control={\r\n                    <Switch\r\n                        id={id}\r\n                        name={field.name}\r\n                        color=\"primary\"\r\n                        onChange={handleChange}\r\n                        onFocus={onFocus}\r\n                        checked={Boolean(field.value)}\r\n                        {...sanitizeInputRestProps(rest)}\r\n                        {...options}\r\n                        disabled={disabled}\r\n                    />\r\n                }\r\n                label={\r\n                    <FieldTitle\r\n                        label={label}\r\n                        source={source}\r\n                        resource={resource}\r\n                        isRequired={isRequired}\r\n                    />\r\n                }\r\n            />\r\n            {renderHelperText ? (\r\n                <FormHelperText error={(isTouched || isSubmitted) && invalid}>\r\n                    <InputHelperText\r\n                        touched={isTouched || isSubmitted}\r\n                        error={error?.message}\r\n                        helperText={helperText}\r\n                    />\r\n                </FormHelperText>\r\n            ) : null}\r\n        </FormGroup>\r\n    );\r\n};\r\n\r\nBooleanInput.propTypes = {\r\n    ...InputPropTypes,\r\n    // @ts-ignore\r\n    options: PropTypes.shape(Switch.propTypes),\r\n    disabled: PropTypes.bool,\r\n};\r\n\r\nBooleanInput.defaultProps = {\r\n    options: {},\r\n};\r\n\r\nexport type BooleanInputProps = CommonInputProps &\r\n    SwitchProps &\r\n    Omit<FormGroupProps, 'defaultValue' | 'onChange' | 'onBlur' | 'onFocus'> & {\r\n        options: SwitchProps;\r\n    };\r\n", "import PropTypes from 'prop-types';\r\n\r\n/**\r\n * Common PropTypes for all react-admin inputs\r\n */\r\nexport const InputPropTypes = {\r\n    label: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.element,\r\n    ]),\r\n    resource: PropTypes.string,\r\n    source: PropTypes.string,\r\n};\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport clsx from 'clsx';\r\nimport { useCallback, FunctionComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport get from 'lodash/get';\r\nimport FormLabel from '@mui/material/FormLabel';\r\nimport FormControl, { FormControlProps } from '@mui/material/FormControl';\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormHelperText from '@mui/material/FormHelperText';\r\nimport { CheckboxProps } from '@mui/material/Checkbox';\r\nimport { FieldTitle, useInput, ChoicesProps, useChoicesContext } from 'ra-core';\r\n\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\r\nimport { CheckboxGroupInputItem } from './CheckboxGroupInputItem';\r\nimport { InputHelperText } from './InputHelperText';\r\nimport { Labeled } from '../Labeled';\r\nimport { LinearProgress } from '../layout';\r\n\r\n/**\r\n * An Input component for a checkbox group, using an array of objects for the options\r\n *\r\n * Pass possible options as an array of objects in the 'choices' attribute.\r\n *\r\n * The expected input must be an array of identifiers (e.g. [12, 31]) which correspond to\r\n * the 'optionValue' of 'choices' attribute objects.\r\n *\r\n * By default, the options are built from:\r\n *  - the 'id' property as the option value,\r\n *  - the 'name' property as the option text\r\n * @example\r\n * const choices = [\r\n *     { id: 12, name: 'Ray Hakt' },\r\n *     { id: 31, name: 'Ann Gullar' },\r\n *     { id: 42, name: 'Sean Phonee' },\r\n * ];\r\n * <CheckboxGroupInput source=\"recipients\" choices={choices} />\r\n *\r\n * You can also customize the properties to use for the option name and value,\r\n * thanks to the 'optionText' and 'optionValue' attributes.\r\n * @example\r\n * const choices = [\r\n *    { _id: 123, full_name: 'Leo Tolstoi' },\r\n *    { _id: 456, full_name: 'Jane Austen' },\r\n * ];\r\n * <CheckboxGroupInput source=\"recipients\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\r\n *\r\n * `optionText` also accepts a function, so you can shape the option text at will:\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\r\n * <CheckboxGroupInput source=\"recipients\" choices={choices} optionText={optionRenderer} />\r\n *\r\n * `optionText` also accepts a React Element, that can access\r\n * the related choice through the `useRecordContext` hook. You can use Field components there.\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const FullNameField = () => {\r\n *     const record = useRecordContext();\r\n *     return <span>{record.first_name} {record.last_name}</span>;\r\n * };\r\n *\r\n * <CheckboxGroupInput source=\"recipients\" choices={choices} optionText={<FullNameField />}/>\r\n *\r\n * The choices are translated by default, so you can use translation identifiers as choices:\r\n * @example\r\n * const choices = [\r\n *    { id: 'programming', name: 'myroot.category.programming' },\r\n *    { id: 'lifestyle', name: 'myroot.category.lifestyle' },\r\n *    { id: 'photography', name: 'myroot.category.photography' },\r\n * ];\r\n *\r\n * However, in some cases (e.g. inside a `<ReferenceArrayInput>`), you may not want\r\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\r\n * @example\r\n * <CheckboxGroupInput source=\"tags\" choices={choices} translateChoice={false}/>\r\n *\r\n * The object passed as `options` props is passed to the Material UI <Checkbox> components\r\n */\r\nexport const CheckboxGroupInput: FunctionComponent<CheckboxGroupInputProps> = props => {\r\n    const {\r\n        choices: choicesProp,\r\n        className,\r\n        classes: classesOverride,\r\n        format,\r\n        helperText,\r\n        label,\r\n        labelPlacement,\r\n        isLoading: isLoadingProp,\r\n        isFetching: isFetchingProp,\r\n        margin = 'dense',\r\n        onBlur,\r\n        onChange,\r\n        options,\r\n        optionText = 'name',\r\n        optionValue = 'id',\r\n        parse,\r\n        resource: resourceProp,\r\n        row = true,\r\n        source: sourceProp,\r\n        translateChoice = true,\r\n        validate,\r\n        ...rest\r\n    } = props;\r\n\r\n    const {\r\n        allChoices,\r\n        isLoading,\r\n        error: fetchError,\r\n        resource,\r\n        source,\r\n    } = useChoicesContext({\r\n        choices: choicesProp,\r\n        isFetching: isFetchingProp,\r\n        isLoading: isLoadingProp,\r\n        resource: resourceProp,\r\n        source: sourceProp,\r\n    });\r\n\r\n    if (source === undefined) {\r\n        throw new Error(\r\n            `If you're not wrapping the CheckboxGroupInput inside a ReferenceArrayInput, you must provide the source prop`\r\n        );\r\n    }\r\n\r\n    if (!isLoading && !fetchError && allChoices === undefined) {\r\n        throw new Error(\r\n            `If you're not wrapping the CheckboxGroupInput inside a ReferenceArrayInput, you must provide the choices prop`\r\n        );\r\n    }\r\n\r\n    const {\r\n        field: { onChange: formOnChange, onBlur: formOnBlur, value },\r\n        fieldState: { error, invalid, isTouched },\r\n        formState: { isSubmitted },\r\n        id,\r\n        isRequired,\r\n    } = useInput({\r\n        format,\r\n        parse,\r\n        resource,\r\n        source,\r\n        validate,\r\n        onChange,\r\n        onBlur,\r\n        ...rest,\r\n    });\r\n\r\n    const handleCheck = useCallback(\r\n        (event, isChecked) => {\r\n            let newValue;\r\n\r\n            if (\r\n                allChoices.every(\r\n                    item => typeof get(item, optionValue) === 'number'\r\n                )\r\n            ) {\r\n                try {\r\n                    // try to convert string value to number, e.g. '123'\r\n                    newValue = JSON.parse(event.target.value);\r\n                } catch (e) {\r\n                    // impossible to convert value, e.g. 'abc'\r\n                    newValue = event.target.value;\r\n                }\r\n            } else {\r\n                newValue = event.target.value;\r\n            }\r\n\r\n            if (isChecked) {\r\n                formOnChange([...(value || []), ...[newValue]]);\r\n            } else {\r\n                formOnChange(value.filter(v => v != newValue)); // eslint-disable-line eqeqeq\r\n            }\r\n            formOnBlur(); // Ensure field is flagged as touched\r\n        },\r\n        [allChoices, formOnChange, formOnBlur, optionValue, value]\r\n    );\r\n\r\n    if (isLoading && (!allChoices || allChoices.length === 0)) {\r\n        return (\r\n            <Labeled\r\n                id={id}\r\n                label={label}\r\n                source={source}\r\n                resource={resource}\r\n                className={clsx('ra-input', `ra-input-${source}`, className)}\r\n                isRequired={isRequired}\r\n                {...rest}\r\n            >\r\n                <LinearProgress />\r\n            </Labeled>\r\n        );\r\n    }\r\n\r\n    const renderHelperText =\r\n        !!fetchError ||\r\n        helperText !== false ||\r\n        ((isTouched || isSubmitted) && invalid);\r\n\r\n    return (\r\n        <StyledFormControl\r\n            component=\"fieldset\"\r\n            margin={margin}\r\n            error={fetchError || ((isTouched || isSubmitted) && invalid)}\r\n            className={clsx('ra-input', `ra-input-${source}`, className)}\r\n            {...sanitizeRestProps(rest)}\r\n        >\r\n            <FormLabel\r\n                component=\"legend\"\r\n                className={CheckboxGroupInputClasses.label}\r\n            >\r\n                <FieldTitle\r\n                    label={label}\r\n                    source={source}\r\n                    resource={resource}\r\n                    isRequired={isRequired}\r\n                />\r\n            </FormLabel>\r\n            <FormGroup row={row}>\r\n                {allChoices?.map(choice => (\r\n                    <CheckboxGroupInputItem\r\n                        key={get(choice, optionValue)}\r\n                        choice={choice}\r\n                        id={id}\r\n                        onChange={handleCheck}\r\n                        options={options}\r\n                        optionText={optionText}\r\n                        optionValue={optionValue}\r\n                        translateChoice={translateChoice}\r\n                        value={value}\r\n                        labelPlacement={labelPlacement}\r\n                        {...sanitizeRestProps(rest)}\r\n                    />\r\n                ))}\r\n            </FormGroup>\r\n            {renderHelperText ? (\r\n                <FormHelperText\r\n                    error={\r\n                        fetchError || ((isTouched || isSubmitted) && !!error)\r\n                    }\r\n                    className={CheckboxGroupInputClasses.helperText}\r\n                >\r\n                    <InputHelperText\r\n                        touched={isTouched || isSubmitted || fetchError}\r\n                        error={error?.message || fetchError?.message}\r\n                        helperText={helperText}\r\n                    />\r\n                </FormHelperText>\r\n            ) : null}\r\n        </StyledFormControl>\r\n    );\r\n};\r\n\r\nconst sanitizeRestProps = ({\r\n    refetch,\r\n    setFilter,\r\n    setPagination,\r\n    setSort,\r\n    loaded,\r\n    touched,\r\n    ...rest\r\n}: any) => sanitizeInputRestProps(rest);\r\n\r\nCheckboxGroupInput.propTypes = {\r\n    choices: PropTypes.arrayOf(PropTypes.any),\r\n    className: PropTypes.string,\r\n    source: PropTypes.string,\r\n    optionText: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.func,\r\n        PropTypes.element,\r\n    ]),\r\n    optionValue: PropTypes.string,\r\n    row: PropTypes.bool,\r\n    resource: PropTypes.string,\r\n    translateChoice: PropTypes.bool,\r\n};\r\n\r\nexport type CheckboxGroupInputProps = Omit<CommonInputProps, 'source'> &\r\n    ChoicesProps &\r\n    CheckboxProps &\r\n    FormControlProps & {\r\n        options?: CheckboxProps;\r\n        row?: boolean;\r\n        // Optional as this input can be used inside a ReferenceInput\r\n        source?: string;\r\n        labelPlacement?: 'bottom' | 'end' | 'start' | 'top';\r\n    };\r\n\r\nconst PREFIX = 'RaCheckboxGroupInput';\r\n\r\nexport const CheckboxGroupInputClasses = {\r\n    label: `${PREFIX}-label`,\r\n    helperText: `${PREFIX}-helperText`,\r\n};\r\n\r\nconst StyledFormControl = styled(FormControl, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${CheckboxGroupInputClasses.label}`]: {\r\n        transform: 'translate(0, 4px) scale(0.75)',\r\n        transformOrigin: `top ${theme.direction === 'ltr' ? 'left' : 'right'}`,\r\n    },\r\n    [`& .${CheckboxGroupInputClasses.helperText}`]: {\r\n        marginLeft: 0,\r\n        marginRight: 0,\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport { useChoices } from 'ra-core';\r\n\r\nexport const CheckboxGroupInputItem = props => {\r\n    const {\r\n        id,\r\n        choice,\r\n        className,\r\n        fullWidth,\r\n        onChange,\r\n        optionText,\r\n        optionValue,\r\n        options,\r\n        translateChoice,\r\n        value,\r\n        labelPlacement,\r\n        ...rest\r\n    } = props;\r\n\r\n    const { getChoiceText, getChoiceValue } = useChoices({\r\n        optionText,\r\n        optionValue,\r\n        translateChoice,\r\n    });\r\n\r\n    const choiceName = getChoiceText(choice);\r\n\r\n    return (\r\n        <StyledFormControlLabel\r\n            htmlFor={`${id}_${getChoiceValue(choice)}`}\r\n            key={getChoiceValue(choice)}\r\n            onChange={onChange}\r\n            className={className}\r\n            control={\r\n                <Checkbox\r\n                    id={`${id}_${getChoiceValue(choice)}`}\r\n                    color=\"primary\"\r\n                    className={CheckboxGroupInputItemClasses.checkbox}\r\n                    checked={\r\n                        value\r\n                            ? value.find(v => v == getChoiceValue(choice)) !== // eslint-disable-line eqeqeq\r\n                              undefined\r\n                            : false\r\n                    }\r\n                    value={String(getChoiceValue(choice))}\r\n                    {...options}\r\n                    {...rest}\r\n                />\r\n            }\r\n            label={choiceName}\r\n            labelPlacement={labelPlacement}\r\n        />\r\n    );\r\n};\r\n\r\nconst PREFIX = 'RaCheckboxGroupInputItem';\r\n\r\nexport const CheckboxGroupInputItemClasses = {\r\n    checkbox: `${PREFIX}-checkbox`,\r\n};\r\n\r\nconst StyledFormControlLabel = styled(FormControlLabel, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    [`& .${CheckboxGroupInputItemClasses.checkbox}`]: {\r\n        height: 32,\r\n    },\r\n});\r\n", "import * as React from 'react';\r\nimport { cloneElement, ReactElement, ReactNode, useCallback } from 'react';\r\nimport clsx from 'clsx';\r\nimport {\r\n    ChoicesProps,\r\n    Identifier,\r\n    ListContextProvider,\r\n    useChoicesContext,\r\n    useInput,\r\n} from 'ra-core';\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { InputHelperText } from './InputHelperText';\r\nimport { SupportCreateSuggestionOptions } from './useSupportCreateSuggestion';\r\nimport { Datagrid, DatagridProps } from '../list/datagrid';\r\nimport { FilterButton, FilterForm } from '../list/filter';\r\nimport { FilterContext } from '../list/FilterContext';\r\nimport { Pagination as DefaultPagination } from '../list/pagination';\r\n\r\nconst defaultPagination = <DefaultPagination />;\r\n\r\n/**\r\n * WIP: This component is not yet ready to be used.\r\n *\r\n * An input for selecting items displayed in a datagrid\r\n *\r\n * @example\r\n * const membersFilters = [\r\n *     <TextInput label=\"Search\" source=\"q\" alwaysOn />,\r\n * ];\r\n * const TeamEdit = () => (\r\n *    <Edit>\r\n *        <SimpleForm>\r\n *            <TextInput source=\"name\" />\r\n *            <ReferenceArrayInput\r\n *                source=\"members\"\r\n *                reference=\"users\"\r\n *                filter={{ is_retired: false }}\r\n *                perPage={50}\r\n *                sort={{ field: 'lastName', order: 'ASC' }}\r\n *            >\r\n *                <DatagridInput\r\n *                    filters={membersFilters}\r\n *                >\r\n *                    <TextField source=\"firstName\" />\r\n *                    <TextField source=\"lastName\" />\r\n *                </DatagridInput>\r\n *            </ReferenceArrayInput>\r\n *        </SimpleForm>\r\n *    </Edit>\r\n * );\r\n */\r\nexport const DatagridInput = (props: DatagridInputProps) => {\r\n    const {\r\n        choices,\r\n        className,\r\n        pagination = defaultPagination,\r\n        filters,\r\n        source: sourceProp,\r\n        resource: resourceProp,\r\n        ...rest\r\n    } = props;\r\n\r\n    const {\r\n        allChoices,\r\n        availableChoices,\r\n        selectedChoices,\r\n        error: fetchError,\r\n        source,\r\n        ...choicesContext\r\n    } = useChoicesContext({\r\n        choices,\r\n        resource: resourceProp,\r\n        source: sourceProp,\r\n    });\r\n    const { field, fieldState, formState } = useInput({\r\n        ...props,\r\n        ...choicesContext,\r\n        source,\r\n    });\r\n\r\n    const onSelect = useCallback(\r\n        (idsToAdd: Identifier[]) => {\r\n            field.onChange(idsToAdd);\r\n        },\r\n        [field]\r\n    );\r\n\r\n    const onToggleItem = useCallback(\r\n        (id: Identifier) => {\r\n            if (field.value.includes(id)) {\r\n                field.onChange(field.value.filter(item => item !== id));\r\n            } else {\r\n                field.onChange([...field.value, id]);\r\n            }\r\n        },\r\n        [field]\r\n    );\r\n\r\n    const onUnselectItems = useCallback(() => {\r\n        field.onChange([]);\r\n    }, [field]);\r\n\r\n    const listContext = React.useMemo(\r\n        () => ({\r\n            ...choicesContext,\r\n            data: availableChoices,\r\n            onSelect,\r\n            onToggleItem,\r\n            onUnselectItems,\r\n            selectedIds: field.value,\r\n        }),\r\n        [\r\n            availableChoices,\r\n            choicesContext,\r\n            field,\r\n            onSelect,\r\n            onToggleItem,\r\n            onUnselectItems,\r\n        ]\r\n    );\r\n    return (\r\n        <div className={clsx('ra-input', `ra-input-${source}`, className)}>\r\n            <ListContextProvider value={listContext}>\r\n                {filters ? (\r\n                    Array.isArray(filters) ? (\r\n                        <FilterContext.Provider value={filters}>\r\n                            <>\r\n                                <FilterForm />\r\n                                <FilterButton />\r\n                            </>\r\n                        </FilterContext.Provider>\r\n                    ) : (\r\n                        <>\r\n                            {cloneElement(filters, {\r\n                                context: 'form',\r\n                            })}\r\n                            {cloneElement(filters, {\r\n                                context: 'button',\r\n                            })}\r\n                        </>\r\n                    )\r\n                ) : null}\r\n                {!fieldState.error && !fetchError && (\r\n                    <>\r\n                        <Datagrid {...rest} />\r\n                        {pagination !== false && pagination}\r\n                    </>\r\n                )}\r\n                <InputHelperText\r\n                    touched={\r\n                        fieldState.isTouched ||\r\n                        formState.isSubmitted ||\r\n                        fetchError\r\n                    }\r\n                    error={fieldState.error?.message || fetchError?.message}\r\n                />\r\n            </ListContextProvider>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport type DatagridInputProps = Omit<CommonInputProps, 'source'> &\r\n    ChoicesProps &\r\n    Omit<SupportCreateSuggestionOptions, 'handleChange'> &\r\n    DatagridProps & {\r\n        children?: ReactNode;\r\n        source?: string;\r\n        filters?: ReactElement | ReactElement[];\r\n        pagination?: ReactElement | false;\r\n    };\r\n", "import * as React from 'react';\r\nimport { cloneElement, memo, FC, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TableBody, TableBodyProps } from '@mui/material';\r\nimport clsx from 'clsx';\r\nimport { Identifier, RaRecord } from 'ra-core';\r\n\r\nimport { DatagridClasses } from './useDatagridStyles';\r\nimport DatagridRow, { PureDatagridRow, RowClickFunction } from './DatagridRow';\r\n\r\nconst DatagridBody: FC<DatagridBodyProps> = React.forwardRef(\r\n    (\r\n        {\r\n            children,\r\n            className,\r\n            data,\r\n            expand,\r\n            hasBulkActions,\r\n            hover,\r\n            onToggleItem,\r\n            resource,\r\n            row,\r\n            rowClick,\r\n            rowStyle,\r\n            selectedIds,\r\n            isRowSelectable,\r\n            ...rest\r\n        },\r\n        ref\r\n    ) => (\r\n        <TableBody\r\n            ref={ref}\r\n            className={clsx('datagrid-body', className, DatagridClasses.tbody)}\r\n            {...rest}\r\n        >\r\n            {data.map((record, rowIndex) =>\r\n                cloneElement(\r\n                    row,\r\n                    {\r\n                        className: clsx(DatagridClasses.row, {\r\n                            [DatagridClasses.rowEven]: rowIndex % 2 === 0,\r\n                            [DatagridClasses.rowOdd]: rowIndex % 2 !== 0,\r\n                        }),\r\n                        expand,\r\n                        hasBulkActions: hasBulkActions && !!selectedIds,\r\n                        hover,\r\n                        id: record.id ?? `row${rowIndex}`,\r\n                        key: record.id ?? `row${rowIndex}`,\r\n                        onToggleItem,\r\n                        record,\r\n                        resource,\r\n                        rowClick,\r\n                        selectable: !isRowSelectable || isRowSelectable(record),\r\n                        selected: selectedIds?.includes(record.id),\r\n                        style: rowStyle ? rowStyle(record, rowIndex) : null,\r\n                    },\r\n                    children\r\n                )\r\n            )}\r\n        </TableBody>\r\n    )\r\n);\r\n\r\nDatagridBody.propTypes = {\r\n    className: PropTypes.string,\r\n    children: PropTypes.node,\r\n    // @ts-ignore\r\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    // @ts-ignore\r\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\r\n    hasBulkActions: PropTypes.bool.isRequired,\r\n    hover: PropTypes.bool,\r\n    onToggleItem: PropTypes.func,\r\n    resource: PropTypes.string,\r\n    row: PropTypes.element,\r\n    // @ts-ignore\r\n    rowClick: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.func,\r\n        PropTypes.bool,\r\n    ]),\r\n    rowStyle: PropTypes.func,\r\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\r\n    styles: PropTypes.object,\r\n    isRowSelectable: PropTypes.func,\r\n};\r\n\r\nDatagridBody.defaultProps = {\r\n    data: [],\r\n    hasBulkActions: false,\r\n    row: <DatagridRow />,\r\n};\r\n\r\nexport interface DatagridBodyProps extends Omit<TableBodyProps, 'classes'> {\r\n    className?: string;\r\n    data?: any[];\r\n    expand?:\r\n        | ReactElement\r\n        | FC<{\r\n              id: Identifier;\r\n              record: RaRecord;\r\n              resource: string;\r\n          }>;\r\n    hasBulkActions?: boolean;\r\n    hover?: boolean;\r\n    onToggleItem?: (\r\n        id: Identifier,\r\n        event: React.TouchEvent | React.MouseEvent\r\n    ) => void;\r\n    record?: RaRecord;\r\n    resource?: string;\r\n    row?: ReactElement;\r\n    rowClick?: string | RowClickFunction | false;\r\n    rowStyle?: (record: RaRecord, index: number) => any;\r\n    selectedIds?: Identifier[];\r\n    isRowSelectable?: (record: RaRecord) => boolean;\r\n}\r\n\r\n// trick Material UI Table into thinking this is one of the child type it supports\r\n// @ts-ignore\r\nDatagridBody.muiName = 'TableBody';\r\n\r\nexport const PureDatagridBody = memo(DatagridBody);\r\n\r\n// trick Material UI Table into thinking this is one of the child type it supports\r\n// @ts-ignore\r\nPureDatagridBody.muiName = 'TableBody';\r\n// @ts-ignore\r\nPureDatagridBody.defaultProps = {\r\n    row: <PureDatagridRow />,\r\n};\r\n\r\nexport default DatagridBody;\r\n", "import { styled } from '@mui/material';\r\n\r\nconst PREFIX = 'RaDatagrid';\r\n\r\nexport const DatagridClasses = {\r\n    root: `${PREFIX}-root`,\r\n    table: `${PREFIX}-table`,\r\n    tableWrapper: `${PREFIX}-tableWrapper`,\r\n    thead: `${PREFIX}-thead`,\r\n    tbody: `${PREFIX}-tbody`,\r\n    headerRow: `${PREFIX}-headerRow`,\r\n    headerCell: `${PREFIX}-headerCell`,\r\n    checkbox: `${PREFIX}-checkbox`,\r\n    row: `${PREFIX}-row`,\r\n    clickableRow: `${PREFIX}-clickableRow`,\r\n    rowEven: `${PREFIX}-rowEven`,\r\n    rowOdd: `${PREFIX}-rowOdd`,\r\n    rowCell: `${PREFIX}-rowCell`,\r\n    selectable: `${PREFIX}-selectable`,\r\n    expandHeader: `${PREFIX}-expandHeader`,\r\n    expandIconCell: `${PREFIX}-expandIconCell`,\r\n    expandIcon: `${PREFIX}-expandIcon`,\r\n    expandable: `${PREFIX}-expandable`,\r\n    expanded: `${PREFIX}-expanded`,\r\n    expandedPanel: `${PREFIX}-expandedPanel`,\r\n};\r\n\r\nexport const DatagridRoot = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${DatagridClasses.table}`]: {\r\n        tableLayout: 'auto',\r\n    },\r\n    [`& .${DatagridClasses.tableWrapper}`]: {},\r\n    [`& .${DatagridClasses.thead}`]: {},\r\n    [`& .${DatagridClasses.tbody}`]: {},\r\n    [`& .${DatagridClasses.headerRow}`]: {},\r\n    [`& .${DatagridClasses.headerCell}`]: {\r\n        position: 'sticky',\r\n        top: 0,\r\n        zIndex: 2,\r\n        backgroundColor: theme.palette.background.paper,\r\n        '&:first-of-type': {\r\n            borderTopLeftRadius: theme.shape.borderRadius,\r\n        },\r\n        '&:last-child': {\r\n            borderTopRightRadius: theme.shape.borderRadius,\r\n        },\r\n    },\r\n    [`& .${DatagridClasses.checkbox}`]: {},\r\n    [`& .${DatagridClasses.row}`]: {},\r\n    [`& .${DatagridClasses.clickableRow}`]: {\r\n        cursor: 'pointer',\r\n    },\r\n    [`& .${DatagridClasses.rowEven}`]: {},\r\n    [`& .${DatagridClasses.rowOdd}`]: {},\r\n    [`& .${DatagridClasses.rowCell}`]: {},\r\n    [`& .${DatagridClasses.expandHeader}`]: {\r\n        padding: 0,\r\n        width: theme.spacing(6),\r\n    },\r\n    [`& .${DatagridClasses.expandIconCell}`]: {\r\n        width: theme.spacing(6),\r\n    },\r\n    [`& .${DatagridClasses.expandIcon}`]: {\r\n        padding: theme.spacing(1),\r\n        transform: 'rotate(-90deg)',\r\n        transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n        }),\r\n    },\r\n    [`& .${DatagridClasses.expandIcon}.${DatagridClasses.expanded}`]: {\r\n        transform: 'rotate(0deg)',\r\n    },\r\n    [`& .${DatagridClasses.expandedPanel}`]: {},\r\n}));\r\n", "import React, {\r\n    isValidElement,\r\n    cloneElement,\r\n    createElement,\r\n    useState,\r\n    useEffect,\r\n    useCallback,\r\n    memo,\r\n    FC,\r\n    ReactElement,\r\n} from 'react';\r\nimport { isElement } from 'react-is';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { TableCell, TableRow, TableRowProps, Checkbox } from '@mui/material';\r\nimport {\r\n    Identifier,\r\n    RaRecord,\r\n    RecordContextProvider,\r\n    shallowEqual,\r\n    useExpanded,\r\n    useResourceContext,\r\n    useTranslate,\r\n    useCreatePath,\r\n    useRecordContext,\r\n} from 'ra-core';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport DatagridCell from './DatagridCell';\r\nimport ExpandRowButton from './ExpandRowButton';\r\nimport { DatagridClasses } from './useDatagridStyles';\r\nimport { useDatagridContext } from './useDatagridContext';\r\n\r\nconst computeNbColumns = (expand, children, hasBulkActions) =>\r\n    expand\r\n        ? 1 + // show expand button\r\n          (hasBulkActions ? 1 : 0) + // checkbox column\r\n          React.Children.toArray(children).filter(child => !!child).length // non-null children\r\n        : 0; // we don't need to compute columns if there is no expand panel;\r\n\r\nconst DatagridRow: FC<DatagridRowProps> = React.forwardRef((props, ref) => {\r\n    const {\r\n        children,\r\n        className,\r\n        expand,\r\n        hasBulkActions,\r\n        hover,\r\n        id,\r\n        onToggleItem,\r\n        record: recordOverride,\r\n        rowClick,\r\n        selected,\r\n        style,\r\n        selectable,\r\n        ...rest\r\n    } = props;\r\n\r\n    const context = useDatagridContext();\r\n    const translate = useTranslate();\r\n    const record = useRecordContext(props);\r\n    const expandable =\r\n        (!context ||\r\n            !context.isRowExpandable ||\r\n            context.isRowExpandable(record)) &&\r\n        expand;\r\n    const resource = useResourceContext(props);\r\n    const createPath = useCreatePath();\r\n    const [expanded, toggleExpanded] = useExpanded(\r\n        resource,\r\n        id,\r\n        context && context.expandSingle\r\n    );\r\n    const [nbColumns, setNbColumns] = useState(() =>\r\n        computeNbColumns(expandable, children, hasBulkActions)\r\n    );\r\n    useEffect(() => {\r\n        // Fields can be hidden dynamically based on permissions;\r\n        // The expand panel must span over the remaining columns\r\n        // So we must recompute the number of columns to span on\r\n        const newNbColumns = computeNbColumns(\r\n            expandable,\r\n            children,\r\n            hasBulkActions\r\n        );\r\n        if (newNbColumns !== nbColumns) {\r\n            setNbColumns(newNbColumns);\r\n        }\r\n    }, [expandable, nbColumns, children, hasBulkActions]);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleToggleExpand = useCallback(\r\n        event => {\r\n            toggleExpanded();\r\n            event.stopPropagation();\r\n        },\r\n        [toggleExpanded]\r\n    );\r\n    const handleToggleSelection = useCallback(\r\n        event => {\r\n            if (!selectable) return;\r\n            onToggleItem(id, event);\r\n            event.stopPropagation();\r\n        },\r\n        [id, onToggleItem, selectable]\r\n    );\r\n    const handleClick = useCallback(\r\n        async event => {\r\n            event.persist();\r\n            const type =\r\n                typeof rowClick === 'function'\r\n                    ? await rowClick(id, resource, record)\r\n                    : rowClick;\r\n            if (type === false || type == null) {\r\n                return;\r\n            }\r\n            if (['edit', 'show'].includes(type)) {\r\n                navigate(createPath({ resource, id, type }));\r\n                return;\r\n            }\r\n            if (type === 'expand') {\r\n                handleToggleExpand(event);\r\n                return;\r\n            }\r\n            if (type === 'toggleSelection') {\r\n                handleToggleSelection(event);\r\n                return;\r\n            }\r\n            navigate(type);\r\n        },\r\n        [\r\n            rowClick,\r\n            id,\r\n            resource,\r\n            record,\r\n            navigate,\r\n            createPath,\r\n            handleToggleExpand,\r\n            handleToggleSelection,\r\n        ]\r\n    );\r\n\r\n    return (\r\n        <RecordContextProvider value={record}>\r\n            <TableRow\r\n                ref={ref}\r\n                className={clsx(className, {\r\n                    [DatagridClasses.expandable]: expandable,\r\n                    [DatagridClasses.selectable]: selectable,\r\n                    [DatagridClasses.clickableRow]:\r\n                        typeof rowClick === 'function' ? true : rowClick,\r\n                })}\r\n                key={id}\r\n                style={style}\r\n                hover={hover}\r\n                onClick={handleClick}\r\n                {...rest}\r\n            >\r\n                {expand && (\r\n                    <TableCell\r\n                        padding=\"none\"\r\n                        className={DatagridClasses.expandIconCell}\r\n                    >\r\n                        {expandable && (\r\n                            <ExpandRowButton\r\n                                className={clsx(DatagridClasses.expandIcon, {\r\n                                    [DatagridClasses.expanded]: expanded,\r\n                                })}\r\n                                expanded={expanded}\r\n                                onClick={handleToggleExpand}\r\n                                expandContentId={`${id}-expand`}\r\n                            />\r\n                        )}\r\n                    </TableCell>\r\n                )}\r\n                {hasBulkActions && (\r\n                    <TableCell padding=\"checkbox\">\r\n                        <Checkbox\r\n                            aria-label={translate('ra.action.select_row', {\r\n                                _: 'Select this row',\r\n                            })}\r\n                            color=\"primary\"\r\n                            className={`select-item ${DatagridClasses.checkbox}`}\r\n                            checked={selectable && selected}\r\n                            onClick={handleToggleSelection}\r\n                            disabled={!selectable}\r\n                        />\r\n                    </TableCell>\r\n                )}\r\n                {React.Children.map(children, (field, index) =>\r\n                    isValidElement(field) ? (\r\n                        <DatagridCell\r\n                            key={`${id}-${\r\n                                (field.props as any).source || index\r\n                            }`}\r\n                            className={clsx(\r\n                                `column-${(field.props as any).source}`,\r\n                                DatagridClasses.rowCell\r\n                            )}\r\n                            record={record}\r\n                            {...{ field, resource }}\r\n                        />\r\n                    ) : null\r\n                )}\r\n            </TableRow>\r\n            {expandable && expanded && (\r\n                <TableRow\r\n                    key={`${id}-expand`}\r\n                    id={`${id}-expand`}\r\n                    className={DatagridClasses.expandedPanel}\r\n                >\r\n                    <TableCell colSpan={nbColumns}>\r\n                        {isElement(expand)\r\n                            ? cloneElement(expand, {\r\n                                  // @ts-ignore\r\n                                  record,\r\n                                  resource,\r\n                                  id: String(id),\r\n                              })\r\n                            : createElement(expand, {\r\n                                  record,\r\n                                  resource,\r\n                                  id: String(id),\r\n                              })}\r\n                    </TableCell>\r\n                </TableRow>\r\n            )}\r\n        </RecordContextProvider>\r\n    );\r\n});\r\n\r\nDatagridRow.propTypes = {\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    // @ts-ignore\r\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\r\n    hasBulkActions: PropTypes.bool.isRequired,\r\n    hover: PropTypes.bool,\r\n    id: PropTypes.any,\r\n    onToggleItem: PropTypes.func,\r\n    // @ts-ignore\r\n    record: PropTypes.object,\r\n    resource: PropTypes.string,\r\n    // @ts-ignore\r\n    rowClick: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.func,\r\n        PropTypes.bool,\r\n    ]),\r\n    selected: PropTypes.bool,\r\n    style: PropTypes.object,\r\n    selectable: PropTypes.bool,\r\n};\r\n\r\nDatagridRow.defaultProps = {\r\n    hasBulkActions: false,\r\n    hover: true,\r\n    selected: false,\r\n    selectable: true,\r\n};\r\n\r\nexport interface DatagridRowProps\r\n    extends Omit<TableRowProps, 'id' | 'classes'> {\r\n    className?: string;\r\n    expand?:\r\n        | ReactElement\r\n        | FC<{\r\n              id: Identifier;\r\n              record: RaRecord;\r\n              resource: string;\r\n          }>;\r\n    hasBulkActions?: boolean;\r\n    hover?: boolean;\r\n    id?: Identifier;\r\n    onToggleItem?: (\r\n        id: Identifier,\r\n        event: React.TouchEvent | React.MouseEvent\r\n    ) => void;\r\n    record?: RaRecord;\r\n    resource?: string;\r\n    rowClick?: RowClickFunction | string | false;\r\n    selected?: boolean;\r\n    style?: any;\r\n    selectable?: boolean;\r\n}\r\n\r\nexport type RowClickFunction = (\r\n    id: Identifier,\r\n    resource: string,\r\n    record: RaRecord\r\n) => string | false | Promise<string | false>;\r\n\r\nconst areEqual = (prevProps, nextProps) => {\r\n    const { children: _1, expand: _2, ...prevPropsWithoutChildren } = prevProps;\r\n    const { children: _3, expand: _4, ...nextPropsWithoutChildren } = nextProps;\r\n    return shallowEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\r\n};\r\n\r\nexport const PureDatagridRow = memo(DatagridRow, areEqual);\r\n\r\nPureDatagridRow.displayName = 'PureDatagridRow';\r\n\r\nexport default DatagridRow;\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TableCell, { TableCellProps } from '@mui/material/TableCell';\r\nimport clsx from 'clsx';\r\nimport { RaRecord } from 'ra-core';\r\n\r\nconst DatagridCell = React.forwardRef<HTMLTableCellElement, DatagridCellProps>(\r\n    ({ className, field, record, resource, ...rest }, ref) => (\r\n        <TableCell\r\n            className={clsx(className, field.props.cellClassName)}\r\n            align={field.props.textAlign}\r\n            ref={ref}\r\n            {...rest}\r\n        >\r\n            {field}\r\n        </TableCell>\r\n    )\r\n);\r\n\r\nDatagridCell.propTypes = {\r\n    className: PropTypes.string,\r\n    field: PropTypes.element,\r\n    // @ts-ignore\r\n    record: PropTypes.object, // eslint-disable-line react/forbid-prop-types\r\n    resource: PropTypes.string,\r\n};\r\n\r\nexport interface DatagridCellProps extends TableCellProps {\r\n    className?: string;\r\n    field?: JSX.Element;\r\n    record?: RaRecord;\r\n    resource?: string;\r\n}\r\n\r\n// What? TypeScript loses the displayName if we don't set it explicitly\r\nDatagridCell.displayName = 'DatagridCell';\r\n\r\nexport default DatagridCell;\r\n", "import * as React from 'react';\r\nimport { ElementType, memo } from 'react';\r\nimport IconButton, { IconButtonProps } from '@mui/material/IconButton';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport { useTranslate } from 'ra-core';\r\n\r\nconst ExpandRowButton = ({\r\n    expanded,\r\n    expandContentId,\r\n    ...props\r\n}: ExpandRowButtonProps) => {\r\n    const translate = useTranslate();\r\n    return (\r\n        <IconButton\r\n            aria-label={translate(\r\n                expanded ? 'ra.action.close' : 'ra.action.expand'\r\n            )}\r\n            aria-expanded={expanded}\r\n            aria-controls={expandContentId}\r\n            tabIndex={-1}\r\n            aria-hidden=\"true\"\r\n            component=\"div\"\r\n            {...props}\r\n            size=\"small\"\r\n        >\r\n            <ExpandMoreIcon fontSize=\"inherit\" />\r\n        </IconButton>\r\n    );\r\n};\r\n\r\nexport interface ExpandRowButtonProps extends IconButtonProps {\r\n    component?: ElementType;\r\n    expanded: boolean;\r\n    expandContentId?: string;\r\n}\r\n\r\nexport default memo(ExpandRowButton);\r\n", "import { useContext, useMemo } from 'react';\r\nimport { DatagridProps } from './Datagrid';\r\nimport DatagridContext, { DatagridContextValue } from './DatagridContext';\r\nimport defaults from 'lodash/defaults';\r\n\r\nexport const useDatagridContext = (\r\n    props?: DatagridProps\r\n): DatagridContextValue => {\r\n    const context = useContext(DatagridContext);\r\n\r\n    return useMemo(\r\n        () =>\r\n            defaults(\r\n                {},\r\n                props != null ? { isRowExpandable: props.isRowExpandable } : {},\r\n                context\r\n            ),\r\n        [context, props]\r\n    );\r\n};\r\n", "import { createContext } from 'react';\r\nimport { RaRecord } from 'ra-core';\r\n\r\nconst DatagridContext = createContext<DatagridContextValue>({});\r\n\r\nDatagridContext.displayName = 'DatagridContext';\r\n\r\nexport type DatagridContextValue = {\r\n    isRowExpandable?: (record: RaRecord) => boolean;\r\n    expandSingle?: boolean;\r\n};\r\n\r\nexport default DatagridContext;\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { TableCell, TableSortLabel, Tooltip } from '@mui/material';\r\nimport { TableCellProps } from '@mui/material/TableCell';\r\nimport {\r\n    FieldTitle,\r\n    useTranslate,\r\n    SortPayload,\r\n    useResourceContext,\r\n} from 'ra-core';\r\n\r\nexport const DatagridHeaderCell = (\r\n    props: DatagridHeaderCellProps\r\n): JSX.Element => {\r\n    const { className, field, sort, updateSort, isSorting, ...rest } = props;\r\n    const resource = useResourceContext(props);\r\n\r\n    const translate = useTranslate();\r\n\r\n    return (\r\n        <StyledTableCell\r\n            className={clsx(className, field.props.headerClassName)}\r\n            align={field.props.textAlign}\r\n            variant=\"head\"\r\n            {...rest}\r\n        >\r\n            {updateSort &&\r\n            field.props.sortable !== false &&\r\n            (field.props.sortBy || field.props.source) ? (\r\n                <Tooltip\r\n                    title={translate('ra.action.sort')}\r\n                    placement={\r\n                        field.props.textAlign === 'right'\r\n                            ? 'bottom-end'\r\n                            : 'bottom-start'\r\n                    }\r\n                    enterDelay={300}\r\n                >\r\n                    <TableSortLabel\r\n                        active={\r\n                            sort.field ===\r\n                            (field.props.sortBy || field.props.source)\r\n                        }\r\n                        direction={sort.order === 'ASC' ? 'asc' : 'desc'}\r\n                        data-field={field.props.sortBy || field.props.source}\r\n                        data-order={field.props.sortByOrder || 'ASC'}\r\n                        onClick={updateSort}\r\n                        classes={DatagridHeaderCellClasses}\r\n                    >\r\n                        <FieldTitle\r\n                            label={field.props.label}\r\n                            source={field.props.source}\r\n                            resource={resource}\r\n                        />\r\n                    </TableSortLabel>\r\n                </Tooltip>\r\n            ) : (\r\n                <FieldTitle\r\n                    label={field.props.label}\r\n                    source={field.props.source}\r\n                    resource={resource}\r\n                />\r\n            )}\r\n        </StyledTableCell>\r\n    );\r\n};\r\n\r\nDatagridHeaderCell.propTypes = {\r\n    className: PropTypes.string,\r\n    field: PropTypes.element,\r\n    sort: PropTypes.shape({\r\n        field: PropTypes.string,\r\n        order: PropTypes.string,\r\n    }).isRequired,\r\n    isSorting: PropTypes.bool,\r\n    resource: PropTypes.string,\r\n    updateSort: PropTypes.func,\r\n};\r\n\r\nexport interface DatagridHeaderCellProps\r\n    extends Omit<TableCellProps, 'classes'> {\r\n    className?: string;\r\n    field?: JSX.Element;\r\n    isSorting?: boolean;\r\n    resource: string;\r\n    sort: SortPayload;\r\n    updateSort?: (event: any) => void;\r\n}\r\n\r\nexport default memo(\r\n    DatagridHeaderCell,\r\n    (props, nextProps) =>\r\n        props.updateSort === nextProps.updateSort &&\r\n        props.sort.field === nextProps.sort.field &&\r\n        props.sort.order === nextProps.sort.order &&\r\n        props.isSorting === nextProps.isSorting &&\r\n        props.resource === nextProps.resource\r\n);\r\n\r\nconst PREFIX = 'RaDatagridHeaderCell';\r\n\r\nexport const DatagridHeaderCellClasses = {\r\n    icon: `${PREFIX}-icon`,\r\n};\r\n\r\n// Remove the sort icons when not active\r\nconst StyledTableCell = styled(TableCell, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    [`& .MuiTableSortLabel-icon`]: {\r\n        display: 'none',\r\n    },\r\n    [`& .Mui-active .MuiTableSortLabel-icon`]: {\r\n        display: 'inline',\r\n    },\r\n});\r\n", "import * as React from 'react';\r\nimport { ReactElement, FC, memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Table,\r\n    TableCell,\r\n    TableHead,\r\n    TableRow,\r\n    TableBody,\r\n    IconButton,\r\n    Checkbox,\r\n} from '@mui/material';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport clsx from 'clsx';\r\nimport { useTimeout, Identifier, RaRecord } from 'ra-core';\r\n\r\nimport { DatagridClasses } from './useDatagridStyles';\r\nimport { Placeholder } from '../Placeholder';\r\n\r\nconst times = (nbChildren, fn) =>\r\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\r\n\r\nconst DatagridLoading = ({\r\n    className,\r\n    expand,\r\n    hasBulkActions,\r\n    nbChildren,\r\n    nbFakeLines = 5,\r\n    size,\r\n}: DatagridLoadingProps): JSX.Element => {\r\n    const oneSecondHasPassed = useTimeout(1000);\r\n\r\n    return oneSecondHasPassed ? (\r\n        <div className={DatagridClasses.root}>\r\n            <Table\r\n                className={clsx(DatagridClasses.table, className)}\r\n                size={size}\r\n            >\r\n                <TableHead>\r\n                    <TableRow className={DatagridClasses.row}>\r\n                        {expand && (\r\n                            <TableCell\r\n                                padding=\"none\"\r\n                                className={DatagridClasses.expandHeader}\r\n                            />\r\n                        )}\r\n                        {hasBulkActions && (\r\n                            <TableCell\r\n                                padding=\"checkbox\"\r\n                                className={DatagridClasses.expandIconCell}\r\n                            >\r\n                                <Checkbox\r\n                                    className=\"select-all\"\r\n                                    color=\"primary\"\r\n                                    checked={false}\r\n                                />\r\n                            </TableCell>\r\n                        )}\r\n                        {times(nbChildren, key => (\r\n                            <TableCell\r\n                                variant=\"head\"\r\n                                className={DatagridClasses.headerCell}\r\n                                key={key}\r\n                            >\r\n                                <Placeholder />\r\n                            </TableCell>\r\n                        ))}\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {times(nbFakeLines, key1 => (\r\n                        <TableRow\r\n                            key={key1}\r\n                            style={{ opacity: 1 / (key1 + 1) }}\r\n                        >\r\n                            {expand && (\r\n                                <TableCell\r\n                                    padding=\"none\"\r\n                                    className={DatagridClasses.expandIconCell}\r\n                                >\r\n                                    <IconButton\r\n                                        className={DatagridClasses.expandIcon}\r\n                                        component=\"div\"\r\n                                        aria-hidden=\"true\"\r\n                                        size=\"large\"\r\n                                    >\r\n                                        <ExpandMoreIcon />\r\n                                    </IconButton>\r\n                                </TableCell>\r\n                            )}\r\n                            {hasBulkActions && (\r\n                                <TableCell\r\n                                    padding=\"checkbox\"\r\n                                    className={DatagridClasses.expandIconCell}\r\n                                >\r\n                                    <Checkbox\r\n                                        className=\"select-all\"\r\n                                        color=\"primary\"\r\n                                        checked={false}\r\n                                    />\r\n                                </TableCell>\r\n                            )}\r\n                            {times(nbChildren, key2 => (\r\n                                <TableCell\r\n                                    className={DatagridClasses.rowCell}\r\n                                    key={key2}\r\n                                >\r\n                                    <Placeholder />\r\n                                </TableCell>\r\n                            ))}\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </div>\r\n    ) : null;\r\n};\r\n\r\nDatagridLoading.propTypes = {\r\n    className: PropTypes.string,\r\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\r\n    hasBulkActions: PropTypes.bool,\r\n    nbChildren: PropTypes.number,\r\n    nbFakeLines: PropTypes.number,\r\n    size: PropTypes.oneOf(['small', 'medium']),\r\n};\r\n\r\nexport interface DatagridLoadingProps {\r\n    className?: string;\r\n    expand?:\r\n        | ReactElement\r\n        | FC<{\r\n              id: Identifier;\r\n              record: RaRecord;\r\n              resource: string;\r\n          }>;\r\n    hasBulkActions?: boolean;\r\n    nbChildren: number;\r\n    nbFakeLines?: number;\r\n    size?: 'small' | 'medium';\r\n}\r\n\r\nexport default memo(DatagridLoading);\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\n\r\ninterface PlaceholderProps {\r\n    className?: string;\r\n}\r\n\r\nexport const Placeholder = (props: PlaceholderProps) => (\r\n    <Root className={props.className}>&nbsp;</Root>\r\n);\r\n\r\nconst PREFIX = 'RaPlaceholder';\r\n\r\nconst Root = styled('span', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    backgroundColor: theme.palette.grey[300],\r\n    display: 'flex',\r\n}));\r\n", "import * as React from 'react';\r\nimport {\r\n    cloneElement,\r\n    createElement,\r\n    isValidElement,\r\n    useCallback,\r\n    useRef,\r\n    useEffect,\r\n    FC,\r\n    ComponentType,\r\n    ReactElement,\r\n    useMemo,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    sanitizeListRestProps,\r\n    useListContext,\r\n    Identifier,\r\n    RaRecord,\r\n    SortPayload,\r\n} from 'ra-core';\r\nimport { Table, TableProps } from '@mui/material';\r\nimport clsx from 'clsx';\r\nimport union from 'lodash/union';\r\nimport difference from 'lodash/difference';\r\n\r\nimport { DatagridHeader } from './DatagridHeader';\r\nimport DatagridLoading from './DatagridLoading';\r\nimport DatagridBody, { PureDatagridBody } from './DatagridBody';\r\nimport { RowClickFunction } from './DatagridRow';\r\nimport DatagridContextProvider from './DatagridContextProvider';\r\nimport { DatagridClasses, DatagridRoot } from './useDatagridStyles';\r\nimport { BulkActionsToolbar } from '../BulkActionsToolbar';\r\nimport { BulkDeleteButton } from '../../button';\r\nimport { ListNoResults } from '../ListNoResults';\r\n\r\nconst defaultBulkActionButtons = <BulkDeleteButton />;\r\n\r\n/**\r\n * The Datagrid component renders a list of records as a table.\r\n * It is usually used as a child of the <List> and <ReferenceManyField> components.\r\n *\r\n * Props:\r\n *  - body\r\n *  - bulkActionButtons\r\n *  - children\r\n *  - empty\r\n *  - expand\r\n *  - header\r\n *  - hover\r\n *  - isRowExpandable\r\n *  - isRowSelectable\r\n *  - optimized\r\n *  - rowStyle\r\n *  - rowClick\r\n *  - size\r\n *  - sx\r\n *\r\n * @example // Display all posts as a datagrid\r\n * const postRowStyle = (record, index) => ({\r\n *     backgroundColor: record.nb_views >= 500 ? '#efe' : 'white',\r\n * });\r\n * export const PostList = () => (\r\n *     <List>\r\n *         <Datagrid rowStyle={postRowStyle}>\r\n *             <TextField source=\"id\" />\r\n *             <TextField source=\"title\" />\r\n *             <TextField source=\"body\" />\r\n *             <EditButton />\r\n *         </Datagrid>\r\n *     </List>\r\n * );\r\n *\r\n * @example // Display all the comments of the current post as a datagrid\r\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\r\n *     <Datagrid>\r\n *         <TextField source=\"id\" />\r\n *         <TextField source=\"body\" />\r\n *         <DateField source=\"created_at\" />\r\n *         <EditButton />\r\n *     </Datagrid>\r\n * </ReferenceManyField>\r\n *\r\n * @example // Usage outside of a <List> or a <ReferenceManyField>.\r\n *\r\n * const sort = { field: 'published_at', order: 'DESC' };\r\n *\r\n * export const MyCustomList = (props) => {\r\n *     const { data, total, isLoading } = useGetList(\r\n *         'posts',\r\n *         { pagination: { page: 1, perPage: 10 }, sort: sort }\r\n *     );\r\n *\r\n *     return (\r\n *         <Datagrid\r\n *             data={data}\r\n *             total={total}\r\n *             isLoading={isLoading}\r\n *             sort={sort}\r\n *             selectedIds={[]}\r\n *             setSort={() => {\r\n *                 console.log('set sort');\r\n *             }}\r\n *             onSelect={() => {\r\n *                 console.log('on select');\r\n *             }}\r\n *             onToggleItem={() => {\r\n *                 console.log('on toggle item');\r\n *             }}\r\n *         >\r\n *             <TextField source=\"id\" />\r\n *             <TextField source=\"title\" />\r\n *         </Datagrid>\r\n *     );\r\n * }\r\n */\r\nexport const Datagrid: FC<DatagridProps> = React.forwardRef((props, ref) => {\r\n    const {\r\n        optimized = false,\r\n        body = optimized ? PureDatagridBody : DatagridBody,\r\n        header = DatagridHeader,\r\n        children,\r\n        className,\r\n        empty = DefaultEmpty,\r\n        expand,\r\n        bulkActionButtons = defaultBulkActionButtons,\r\n        hover,\r\n        isRowSelectable,\r\n        isRowExpandable,\r\n        resource,\r\n        rowClick,\r\n        rowStyle,\r\n        size = 'small',\r\n        sx,\r\n        expandSingle = false,\r\n        ...rest\r\n    } = props;\r\n\r\n    const {\r\n        sort,\r\n        data,\r\n        isLoading,\r\n        onSelect,\r\n        onToggleItem,\r\n        selectedIds,\r\n        setSort,\r\n        total,\r\n    } = useListContext(props);\r\n\r\n    const hasBulkActions = !!bulkActionButtons !== false;\r\n\r\n    const contextValue = useMemo(() => ({ isRowExpandable, expandSingle }), [\r\n        isRowExpandable,\r\n        expandSingle,\r\n    ]);\r\n\r\n    const lastSelected = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (!selectedIds || selectedIds.length === 0) {\r\n            lastSelected.current = null;\r\n        }\r\n    }, [JSON.stringify(selectedIds)]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // we manage row selection at the datagrid level to allow shift+click to select an array of rows\r\n    const handleToggleItem = useCallback(\r\n        (id, event) => {\r\n            const ids = data.map(record => record.id);\r\n            const lastSelectedIndex = ids.indexOf(lastSelected.current);\r\n            lastSelected.current = event.target.checked ? id : null;\r\n\r\n            if (event.shiftKey && lastSelectedIndex !== -1) {\r\n                const index = ids.indexOf(id);\r\n                const idsBetweenSelections = ids.slice(\r\n                    Math.min(lastSelectedIndex, index),\r\n                    Math.max(lastSelectedIndex, index) + 1\r\n                );\r\n\r\n                const newSelectedIds = event.target.checked\r\n                    ? union(selectedIds, idsBetweenSelections)\r\n                    : difference(selectedIds, idsBetweenSelections);\r\n\r\n                onSelect(\r\n                    isRowSelectable\r\n                        ? newSelectedIds.filter((id: Identifier) =>\r\n                              isRowSelectable(\r\n                                  data.find(record => record.id === id)\r\n                              )\r\n                          )\r\n                        : newSelectedIds\r\n                );\r\n            } else {\r\n                onToggleItem(id);\r\n            }\r\n        },\r\n        [data, isRowSelectable, onSelect, onToggleItem, selectedIds]\r\n    );\r\n\r\n    if (isLoading === true) {\r\n        return (\r\n            <DatagridLoading\r\n                className={className}\r\n                expand={expand}\r\n                hasBulkActions={hasBulkActions}\r\n                nbChildren={React.Children.count(children)}\r\n                size={size}\r\n            />\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Once loaded, the data for the list may be empty. Instead of\r\n     * displaying the table header with zero data rows,\r\n     * the Datagrid displays the empty component.\r\n     */\r\n    if (data == null || data.length === 0 || total === 0) {\r\n        if (empty) {\r\n            return empty;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * After the initial load, if the data for the list isn't empty,\r\n     * and even if the data is refreshing (e.g. after a filter change),\r\n     * the datagrid displays the current data.\r\n     */\r\n    return (\r\n        <DatagridContextProvider value={contextValue}>\r\n            <DatagridRoot\r\n                sx={sx}\r\n                className={clsx(DatagridClasses.root, className)}\r\n            >\r\n                {bulkActionButtons !== false ? (\r\n                    <BulkActionsToolbar selectedIds={selectedIds}>\r\n                        {isValidElement(bulkActionButtons)\r\n                            ? bulkActionButtons\r\n                            : defaultBulkActionButtons}\r\n                    </BulkActionsToolbar>\r\n                ) : null}\r\n                <div className={DatagridClasses.tableWrapper}>\r\n                    <Table\r\n                        ref={ref}\r\n                        className={DatagridClasses.table}\r\n                        size={size}\r\n                        {...sanitizeRestProps(rest)}\r\n                    >\r\n                        {createOrCloneElement(\r\n                            header,\r\n                            {\r\n                                children,\r\n                                sort,\r\n                                data,\r\n                                hasExpand: !!expand,\r\n                                hasBulkActions,\r\n                                isRowSelectable,\r\n                                onSelect,\r\n                                resource,\r\n                                selectedIds,\r\n                                setSort,\r\n                            },\r\n                            children\r\n                        )}\r\n                        {createOrCloneElement(\r\n                            body,\r\n                            {\r\n                                expand,\r\n                                rowClick,\r\n                                data,\r\n                                hasBulkActions,\r\n                                hover,\r\n                                onToggleItem: handleToggleItem,\r\n                                resource,\r\n                                rowStyle,\r\n                                selectedIds,\r\n                                isRowSelectable,\r\n                            },\r\n                            children\r\n                        )}\r\n                    </Table>\r\n                </div>\r\n            </DatagridRoot>\r\n        </DatagridContextProvider>\r\n    );\r\n});\r\n\r\nconst createOrCloneElement = (element, props, children) =>\r\n    isValidElement(element)\r\n        ? cloneElement(element, props, children)\r\n        : createElement(element, props, children);\r\n\r\nDatagrid.propTypes = {\r\n    // @ts-ignore\r\n    body: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\r\n    // @ts-ignore-line\r\n    bulkActionButtons: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\r\n    children: PropTypes.node.isRequired,\r\n    className: PropTypes.string,\r\n    sort: PropTypes.exact({\r\n        field: PropTypes.string,\r\n        order: PropTypes.string,\r\n    }),\r\n    data: PropTypes.arrayOf(PropTypes.any),\r\n    empty: PropTypes.element,\r\n    // @ts-ignore\r\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\r\n    // @ts-ignore\r\n    header: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\r\n    hover: PropTypes.bool,\r\n    isLoading: PropTypes.bool,\r\n    onSelect: PropTypes.func,\r\n    onToggleItem: PropTypes.func,\r\n    resource: PropTypes.string,\r\n    // @ts-ignore\r\n    rowClick: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.func,\r\n        PropTypes.bool,\r\n    ]),\r\n    rowStyle: PropTypes.func,\r\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\r\n    setSort: PropTypes.func,\r\n    total: PropTypes.number,\r\n    isRowSelectable: PropTypes.func,\r\n    isRowExpandable: PropTypes.func,\r\n    expandSingle: PropTypes.bool,\r\n};\r\n\r\nexport interface DatagridProps<RecordType extends RaRecord = any>\r\n    extends Omit<TableProps, 'size' | 'classes' | 'onSelect'> {\r\n    body?: ReactElement | ComponentType;\r\n    className?: string;\r\n    bulkActionButtons?: ReactElement | false;\r\n    expand?:\r\n        | ReactElement\r\n        | FC<{\r\n              id: Identifier;\r\n              record: RecordType;\r\n              resource: string;\r\n          }>;\r\n    header?: ReactElement | ComponentType;\r\n    hover?: boolean;\r\n    empty?: ReactElement;\r\n    isRowSelectable?: (record: RecordType) => boolean;\r\n    isRowExpandable?: (record: RecordType) => boolean;\r\n    optimized?: boolean;\r\n    rowClick?: string | RowClickFunction | false;\r\n    rowStyle?: (record: RecordType, index: number) => any;\r\n    size?: 'medium' | 'small';\r\n    // can be injected when using the component without context\r\n    sort?: SortPayload;\r\n    data?: RecordType[];\r\n    isLoading?: boolean;\r\n    onSelect?: (ids: Identifier[]) => void;\r\n    onToggleItem?: (id: Identifier) => void;\r\n    setSort?: (sort: SortPayload) => void;\r\n    selectedIds?: Identifier[];\r\n    expandSingle?: boolean;\r\n    total?: number;\r\n}\r\n\r\nconst injectedProps = [\r\n    'isRequired',\r\n    'setFilter',\r\n    'setPagination',\r\n    'limitChoicesToValue',\r\n    'translateChoice',\r\n    // Datagrid may be used as an alternative to SelectInput\r\n    'field',\r\n    'fieldState',\r\n    'formState',\r\n];\r\n\r\nconst sanitizeRestProps = props =>\r\n    Object.keys(sanitizeListRestProps(props))\r\n        .filter(propName => !injectedProps.includes(propName))\r\n        .reduce((acc, key) => ({ ...acc, [key]: props[key] }), {});\r\n\r\nDatagrid.displayName = 'Datagrid';\r\n\r\nconst DefaultEmpty = <ListNoResults />;\r\n", "import * as React from 'react';\r\nimport { Children, isValidElement, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    useListContext,\r\n    useResourceContext,\r\n    Identifier,\r\n    RaRecord,\r\n    SortPayload,\r\n    useTranslate,\r\n} from 'ra-core';\r\nimport { Checkbox, TableCell, TableHead, TableRow } from '@mui/material';\r\nimport clsx from 'clsx';\r\n\r\nimport DatagridHeaderCell from './DatagridHeaderCell';\r\nimport { DatagridClasses } from './useDatagridStyles';\r\nimport ExpandAllButton from './ExpandAllButton';\r\nimport { useDatagridContext } from './useDatagridContext';\r\n\r\n/**\r\n * The default Datagrid Header component.\r\n *\r\n * Renders select all checkbox as well as column header buttons used for sorting.\r\n */\r\nexport const DatagridHeader = (props: DatagridHeaderProps) => {\r\n    const {\r\n        children,\r\n        className,\r\n        hasExpand = false,\r\n        hasBulkActions = false,\r\n        isRowSelectable,\r\n    } = props;\r\n    const resource = useResourceContext(props);\r\n    const translate = useTranslate();\r\n    const { sort, data, onSelect, selectedIds, setSort } = useListContext(\r\n        props\r\n    );\r\n    const { expandSingle } = useDatagridContext();\r\n\r\n    const updateSortCallback = useCallback(\r\n        event => {\r\n            event.stopPropagation();\r\n            const newField = event.currentTarget.dataset.field;\r\n            const newOrder =\r\n                sort.field === newField\r\n                    ? sort.order === 'ASC'\r\n                        ? 'DESC'\r\n                        : 'ASC'\r\n                    : event.currentTarget.dataset.order;\r\n\r\n            setSort({ field: newField, order: newOrder });\r\n        },\r\n        [sort.field, sort.order, setSort]\r\n    );\r\n\r\n    const updateSort = setSort ? updateSortCallback : null;\r\n\r\n    const handleSelectAll = useCallback(\r\n        event =>\r\n            onSelect(\r\n                event.target.checked\r\n                    ? selectedIds.concat(\r\n                          data\r\n                              .filter(\r\n                                  record => !selectedIds.includes(record.id)\r\n                              )\r\n                              .filter(record =>\r\n                                  isRowSelectable\r\n                                      ? isRowSelectable(record)\r\n                                      : true\r\n                              )\r\n                              .map(record => record.id)\r\n                      )\r\n                    : []\r\n            ),\r\n        [data, onSelect, isRowSelectable, selectedIds]\r\n    );\r\n\r\n    const selectableIds = Array.isArray(data)\r\n        ? isRowSelectable\r\n            ? data\r\n                  .filter(record => isRowSelectable(record))\r\n                  .map(record => record.id)\r\n            : data.map(record => record.id)\r\n        : [];\r\n\r\n    return (\r\n        <TableHead className={clsx(className, DatagridClasses.thead)}>\r\n            <TableRow\r\n                className={clsx(DatagridClasses.row, DatagridClasses.headerRow)}\r\n            >\r\n                {hasExpand && (\r\n                    <TableCell\r\n                        padding=\"none\"\r\n                        className={clsx(\r\n                            DatagridClasses.headerCell,\r\n                            DatagridClasses.expandHeader\r\n                        )}\r\n                    >\r\n                        {!expandSingle ? (\r\n                            <ExpandAllButton\r\n                                resource={resource}\r\n                                ids={data.map(record => record.id)}\r\n                            />\r\n                        ) : null}\r\n                    </TableCell>\r\n                )}\r\n                {hasBulkActions && selectedIds && (\r\n                    <TableCell\r\n                        padding=\"checkbox\"\r\n                        className={DatagridClasses.headerCell}\r\n                    >\r\n                        <Checkbox\r\n                            aria-label={translate('ra.action.select_all', {\r\n                                _: 'Select all',\r\n                            })}\r\n                            className=\"select-all\"\r\n                            color=\"primary\"\r\n                            checked={\r\n                                selectedIds.length > 0 &&\r\n                                selectableIds.length > 0 &&\r\n                                selectableIds.every(id =>\r\n                                    selectedIds.includes(id)\r\n                                )\r\n                            }\r\n                            onChange={handleSelectAll}\r\n                        />\r\n                    </TableCell>\r\n                )}\r\n                {Children.map(children, (field, index) =>\r\n                    isValidElement(field) ? (\r\n                        <DatagridHeaderCell\r\n                            className={clsx(\r\n                                DatagridClasses.headerCell,\r\n                                `column-${(field.props as any).source}`\r\n                            )}\r\n                            sort={sort}\r\n                            field={field}\r\n                            isSorting={\r\n                                sort.field ===\r\n                                ((field.props as any).sortBy ||\r\n                                    (field.props as any).source)\r\n                            }\r\n                            key={(field.props as any).source || index}\r\n                            resource={resource}\r\n                            updateSort={updateSort}\r\n                        />\r\n                    ) : null\r\n                )}\r\n            </TableRow>\r\n        </TableHead>\r\n    );\r\n};\r\n\r\nDatagridHeader.propTypes = {\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    sort: PropTypes.exact({\r\n        field: PropTypes.string,\r\n        order: PropTypes.string,\r\n    }),\r\n    data: PropTypes.arrayOf(PropTypes.any),\r\n    hasExpand: PropTypes.bool,\r\n    hasBulkActions: PropTypes.bool,\r\n    isRowSelectable: PropTypes.func,\r\n    isRowExpandable: PropTypes.func,\r\n    onSelect: PropTypes.func,\r\n    onToggleItem: PropTypes.func,\r\n    resource: PropTypes.string,\r\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\r\n    setSort: PropTypes.func,\r\n};\r\n\r\nexport interface DatagridHeaderProps<RecordType extends RaRecord = any> {\r\n    children?: React.ReactNode;\r\n    className?: string;\r\n    hasExpand?: boolean;\r\n    hasBulkActions?: boolean;\r\n    isRowSelectable?: (record: RecordType) => boolean;\r\n    isRowExpandable?: (record: RecordType) => boolean;\r\n    size?: 'medium' | 'small';\r\n    // can be injected when using the component without context\r\n    sort?: SortPayload;\r\n    data?: RecordType[];\r\n    onSelect?: (ids: Identifier[]) => void;\r\n    onToggleItem?: (id: Identifier) => void;\r\n    resource?: string;\r\n    selectedIds?: Identifier[];\r\n    setSort?: (sort: SortPayload) => void;\r\n}\r\n\r\nDatagridHeader.displayName = 'DatagridHeader';\r\n", "import * as React from 'react';\r\nimport { memo } from 'react';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport { useTranslate, useExpandAll } from 'ra-core';\r\nimport { DatagridClasses } from './useDatagridStyles';\r\nimport clsx from 'clsx';\r\n\r\ninterface ExpandAllButtonProps {\r\n    resource: string;\r\n    ids: string[] | number[];\r\n}\r\n\r\nconst ExpandAllButton = ({ resource, ids }: ExpandAllButtonProps) => {\r\n    const translate = useTranslate();\r\n    const [expanded, toggleExpanded] = useExpandAll(resource, ids);\r\n\r\n    return (\r\n        <IconButton\r\n            className={clsx(DatagridClasses.expandIcon, {\r\n                [DatagridClasses.expanded]: expanded,\r\n            })}\r\n            aria-label={translate(\r\n                expanded ? 'ra.action.close' : 'ra.action.expand'\r\n            )}\r\n            aria-expanded={expanded}\r\n            tabIndex={-1}\r\n            aria-hidden=\"true\"\r\n            onClick={toggleExpanded}\r\n            size=\"small\"\r\n        >\r\n            <ExpandMoreIcon fontSize=\"inherit\" />\r\n        </IconButton>\r\n    );\r\n};\r\n\r\nexport default memo(ExpandAllButton);\r\n", "import React, { ReactElement, ReactNode } from 'react';\r\nimport DatagridContext, { DatagridContextValue } from './DatagridContext';\r\n\r\nconst DatagridContextProvider = ({\r\n    children,\r\n    value,\r\n}: {\r\n    children: ReactNode;\r\n    value: DatagridContextValue;\r\n}): ReactElement => (\r\n    <DatagridContext.Provider value={value}>\r\n        {children}\r\n    </DatagridContext.Provider>\r\n);\r\n\r\nexport default DatagridContextProvider;\r\n", "import * as React from 'react';\r\nimport {\r\n    Children,\r\n    ReactNode,\r\n    cloneElement,\r\n    isValidElement,\r\n    useCallback,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled } from '@mui/material/styles';\r\nimport clsx from 'clsx';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport { lighten } from '@mui/material/styles';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport {\r\n    useTranslate,\r\n    sanitizeListRestProps,\r\n    useListContext,\r\n    Identifier,\r\n} from 'ra-core';\r\n\r\nimport TopToolbar from '../layout/TopToolbar';\r\n\r\nexport const BulkActionsToolbar = (props: BulkActionsToolbarProps) => {\r\n    const {\r\n        label = 'ra.action.bulk_actions',\r\n        children,\r\n        className,\r\n        ...rest\r\n    } = props;\r\n    const {\r\n        filterValues,\r\n        resource,\r\n        selectedIds = [],\r\n        onUnselectItems,\r\n    } = useListContext(props);\r\n\r\n    const translate = useTranslate();\r\n\r\n    const handleUnselectAllClick = useCallback(() => {\r\n        onUnselectItems();\r\n    }, [onUnselectItems]);\r\n\r\n    return (\r\n        <Root className={className}>\r\n            <Toolbar\r\n                data-test=\"bulk-actions-toolbar\"\r\n                className={clsx(BulkActionsToolbarClasses.toolbar, {\r\n                    [BulkActionsToolbarClasses.collapsed]:\r\n                        selectedIds.length === 0,\r\n                })}\r\n                {...sanitizeListRestProps(rest)}\r\n            >\r\n                <div className={BulkActionsToolbarClasses.title}>\r\n                    <IconButton\r\n                        className={BulkActionsToolbarClasses.icon}\r\n                        aria-label={translate('ra.action.unselect')}\r\n                        title={translate('ra.action.unselect')}\r\n                        onClick={handleUnselectAllClick}\r\n                        size=\"small\"\r\n                    >\r\n                        <CloseIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                    <Typography color=\"inherit\" variant=\"subtitle1\">\r\n                        {translate(label, {\r\n                            _: label,\r\n                            smart_count: selectedIds.length,\r\n                        })}\r\n                    </Typography>\r\n                </div>\r\n                <TopToolbar className={BulkActionsToolbarClasses.topToolbar}>\r\n                    {Children.map(children, child =>\r\n                        isValidElement<any>(child)\r\n                            ? cloneElement(child, {\r\n                                  filterValues,\r\n                                  resource,\r\n                                  selectedIds,\r\n                              })\r\n                            : null\r\n                    )}\r\n                </TopToolbar>\r\n            </Toolbar>\r\n        </Root>\r\n    );\r\n};\r\n\r\nBulkActionsToolbar.propTypes = {\r\n    children: PropTypes.node,\r\n    label: PropTypes.string,\r\n};\r\n\r\nexport interface BulkActionsToolbarProps {\r\n    children?: ReactNode;\r\n    label?: string;\r\n    selectedIds?: Identifier[];\r\n    className?: string;\r\n}\r\n\r\nconst PREFIX = 'RaBulkActionsToolbar';\r\n\r\nexport const BulkActionsToolbarClasses = {\r\n    toolbar: `${PREFIX}-toolbar`,\r\n    topToolbar: `${PREFIX}-topToolbar`,\r\n    buttons: `${PREFIX}-buttons`,\r\n    collapsed: `${PREFIX}-collapsed`,\r\n    title: `${PREFIX}-title`,\r\n    icon: `${PREFIX}-icon`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    position: 'relative',\r\n    [`& .${BulkActionsToolbarClasses.toolbar}`]: {\r\n        position: 'absolute',\r\n        left: 0,\r\n        right: 0,\r\n        zIndex: 3,\r\n        color:\r\n            theme.palette.mode === 'light'\r\n                ? theme.palette.primary.main\r\n                : theme.palette.text.primary,\r\n        justifyContent: 'space-between',\r\n        backgroundColor:\r\n            theme.palette.mode === 'light'\r\n                ? lighten(theme.palette.primary.light, 0.8)\r\n                : theme.palette.primary.dark,\r\n        minHeight: theme.spacing(6),\r\n        height: theme.spacing(6),\r\n        transform: `translateY(-${theme.spacing(6)})`,\r\n        transition: `${theme.transitions.create(\r\n            'height'\r\n        )}, ${theme.transitions.create(\r\n            'min-height'\r\n        )}, ${theme.transitions.create('transform')}`,\r\n        borderTopLeftRadius: theme.shape.borderRadius,\r\n        borderTopRightRadius: theme.shape.borderRadius,\r\n    },\r\n\r\n    [`& .${BulkActionsToolbarClasses.topToolbar}`]: {\r\n        paddingBottom: theme.spacing(1),\r\n        minHeight: 'auto',\r\n    },\r\n\r\n    [`& .${BulkActionsToolbarClasses.buttons}`]: {},\r\n\r\n    [`& .${BulkActionsToolbarClasses.collapsed}`]: {\r\n        minHeight: 0,\r\n        height: 0,\r\n        transform: `translateY(0)`,\r\n        overflowY: 'hidden',\r\n    },\r\n\r\n    [`& .${BulkActionsToolbarClasses.title}`]: {\r\n        display: 'flex',\r\n        flex: '0 0 auto',\r\n    },\r\n\r\n    [`& .${BulkActionsToolbarClasses.icon}`]: {\r\n        marginLeft: '-0.5em',\r\n        marginRight: '0.5em',\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { memo } from 'react';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typography from '@mui/material/Typography';\r\nimport { useResourceContext, useTranslate } from 'ra-core';\r\n\r\nexport const ListNoResults = memo(() => {\r\n    const translate = useTranslate();\r\n    const resource = useResourceContext();\r\n    return (\r\n        <CardContent>\r\n            <Typography variant=\"body2\">\r\n                {translate('ra.navigation.no_results', { resource })}\r\n            </Typography>\r\n        </CardContent>\r\n    );\r\n});\r\n", "import * as React from 'react';\r\nimport {\r\n    useResourceContext,\r\n    usePreference,\r\n    useStore,\r\n    useTranslate,\r\n} from 'ra-core';\r\n\r\nimport { Configurable } from '../../preferences';\r\nimport { Datagrid, DatagridProps } from './Datagrid';\r\nimport { DatagridEditor } from './DatagridEditor';\r\n\r\n/**\r\n * A Datagrid that users can customize in configuration mode\r\n *\r\n * @example\r\n * import {\r\n *     List,\r\n *     DatagridConfigurable,\r\n *     TextField,\r\n * } from 'react-admin';\r\n *\r\n * export const PostList = () => (\r\n *     <List>\r\n *         <DatagridConfigurable>\r\n *             <TextField source=\"id\" />\r\n *             <TextField source=\"title\" />\r\n *             <TextField source=\"author\" />\r\n *             <TextField source=\"year\" />\r\n *         </DatagridConfigurable>\r\n *     </List>\r\n * );\r\n */\r\nexport const DatagridConfigurable = ({\r\n    preferenceKey,\r\n    omit,\r\n    ...props\r\n}: DatagridConfigurableProps) => {\r\n    if (props.optimized) {\r\n        throw new Error(\r\n            'DatagridConfigurable does not support the optimized prop'\r\n        );\r\n    }\r\n\r\n    const translate = useTranslate();\r\n    const resource = useResourceContext(props);\r\n    const finalPreferenceKey = preferenceKey || `${resource}.datagrid`;\r\n\r\n    const [availableColumns, setAvailableColumns] = useStore<\r\n        ConfigurableDatagridColumn[]\r\n    >(`preferences.${finalPreferenceKey}.availableColumns`, []);\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const [_, setOmit] = useStore<string[]>(\r\n        `preferences.${finalPreferenceKey}.omit`,\r\n        omit\r\n    );\r\n\r\n    React.useEffect(() => {\r\n        // first render, or the preference have been cleared\r\n        const columns = React.Children.toArray(props.children)\r\n            .filter(child => React.isValidElement(child))\r\n            .map((child: React.ReactElement, index) => ({\r\n                index: String(index),\r\n                source: child.props.source,\r\n                label:\r\n                    child.props.label && typeof child.props.label === 'string' // this list is serializable, so we can't store ReactElement in it\r\n                        ? child.props.label\r\n                        : child.props.source\r\n                        ? //  force the label to be the source\r\n                          undefined\r\n                        : // no source or label, generate a label\r\n                          translate('ra.configurable.Datagrid.unlabeled', {\r\n                              column: index,\r\n                              _: `Unlabeled column #%{column}`,\r\n                          }),\r\n            }));\r\n        if (columns.length !== availableColumns.length) {\r\n            setAvailableColumns(columns);\r\n            setOmit(omit);\r\n        }\r\n    }, [availableColumns]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    return (\r\n        <Configurable\r\n            editor={<DatagridEditor />}\r\n            preferenceKey={finalPreferenceKey}\r\n            sx={{ display: 'block', minHeight: 2 }}\r\n        >\r\n            <DatagridWithPreferences {...props} />\r\n        </Configurable>\r\n    );\r\n};\r\n\r\nexport interface DatagridConfigurableProps extends DatagridProps {\r\n    /**\r\n     * Key to use to store the user's preferences for this datagrid.\r\n     *\r\n     * Set to '[resource].datagrid' by default. Pass a custom key if you need\r\n     * to display more than one ConfigurableDatagrid per resource.\r\n     */\r\n    preferenceKey?: string;\r\n    /**\r\n     * columns to hide by default\r\n     *\r\n     * @example\r\n     * // by default, hide the id and author columns\r\n     * // users can choose to show show them in configuration mode\r\n     * const PostList = () => (\r\n     *     <List>\r\n     *         <DatagridConfigurable omit={['id', 'author']}>\r\n     *             <TextField source=\"id\" />\r\n     *             <TextField source=\"title\" />\r\n     *             <TextField source=\"author\" />\r\n     *             <TextField source=\"year\" />\r\n     *         </DatagridConfigurable>\r\n     *     </List>\r\n     * );\r\n     */\r\n    omit?: string[];\r\n}\r\n\r\nexport interface ConfigurableDatagridColumn {\r\n    index: string;\r\n    source?: string;\r\n    label?: string;\r\n}\r\n\r\nDatagridConfigurable.propTypes = Datagrid.propTypes;\r\n\r\n/**\r\n * This Datagrid filters its children depending on preferences\r\n */\r\nconst DatagridWithPreferences = ({ children, ...props }: DatagridProps) => {\r\n    const [availableColumns] = usePreference('availableColumns', []);\r\n    const [omit] = usePreference('omit', []);\r\n    const [columns] = usePreference(\r\n        'columns',\r\n        availableColumns\r\n            .filter(column => !omit?.includes(column.source))\r\n            .map(column => column.index)\r\n    );\r\n    const childrenArray = React.Children.toArray(children);\r\n    return (\r\n        <Datagrid {...props}>\r\n            {columns === undefined\r\n                ? children\r\n                : columns.map(index => childrenArray[index])}\r\n        </Datagrid>\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport { useSetInspectorTitle } from 'ra-core';\r\n\r\nimport { FieldsSelector } from '../../preferences';\r\n\r\nexport const DatagridEditor = () => {\r\n    useSetInspectorTitle('ra.inspector.Datagrid.title', { _: 'Datagrid' });\r\n\r\n    return <FieldsSelector name=\"columns\" availableName=\"availableColumns\" />;\r\n};\r\n", "import * as React from 'react';\r\nimport { useStore, useTranslate, useResourceContext } from 'ra-core';\r\nimport {\r\n    Box,\r\n    Button,\r\n    Popover,\r\n    useMediaQuery,\r\n    Theme,\r\n    Tooltip,\r\n    IconButton,\r\n} from '@mui/material';\r\nimport ViewWeekIcon from '@mui/icons-material/ViewWeek';\r\n\r\nimport { FieldToggle } from '../../preferences';\r\nimport { ConfigurableDatagridColumn } from './DatagridConfigurable';\r\nimport { styled } from '@mui/material/styles';\r\n\r\n/**\r\n * Renders a button that lets users show / hide columns in a configurable datagrid\r\n *\r\n * @example\r\n * import { SelectColumnsButton, DatagridConfigurable } from 'react-admin';\r\n *\r\n * const PostListActions = () => (\r\n *   <TopToolbar>\r\n        <SelectColumnsButton />\r\n        <FilterButton />\r\n *   </TopToolbar>\r\n * );\r\n *\r\n * const PostList = () => (\r\n *   <List actions={<PostListActions />}>\r\n *     <DatagridConfigurable>\r\n *       <TextField source=\"title\" />\r\n *       <TextField source=\"author\" />\r\n         ...\r\n *     </DatagridConfigurable>\r\n *   </List>\r\n * );\r\n */\r\nexport const SelectColumnsButton = (props: SelectColumnsButtonProps) => {\r\n    const { preferenceKey } = props;\r\n\r\n    const resource = useResourceContext(props);\r\n    const finalPreferenceKey = preferenceKey || `${resource}.datagrid`;\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [availableColumns, setAvailableColumns] = useStore<\r\n        ConfigurableDatagridColumn[]\r\n    >(`preferences.${finalPreferenceKey}.availableColumns`, []);\r\n    const [omit] = useStore<string[]>(\r\n        `preferences.${finalPreferenceKey}.omit`,\r\n        []\r\n    );\r\n    const [columns, setColumns] = useStore<string[]>(\r\n        `preferences.${finalPreferenceKey}.columns`,\r\n        availableColumns\r\n            .filter(column => !omit?.includes(column.source))\r\n            .map(column => column.index)\r\n    );\r\n    const translate = useTranslate();\r\n    const isXSmall = useMediaQuery((theme: Theme) =>\r\n        theme.breakpoints.down('sm')\r\n    );\r\n\r\n    const title = translate('ra.action.select_columns', { _: 'Columns' });\r\n\r\n    const handleClick = (event): void => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = (): void => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleToggle = event => {\r\n        if (event.target.checked) {\r\n            // add the column at the right position\r\n            setColumns(\r\n                availableColumns\r\n                    .filter(\r\n                        column =>\r\n                            column.index === event.target.name ||\r\n                            columns.includes(column.index)\r\n                    )\r\n                    .map(column => column.index)\r\n            );\r\n        } else {\r\n            setColumns(columns.filter(index => index !== event.target.name));\r\n        }\r\n    };\r\n\r\n    const handleMove = (index1, index2) => {\r\n        const index1Pos = availableColumns.findIndex(\r\n            // eslint-disable-next-line eqeqeq\r\n            field => field.index == index1\r\n        );\r\n        const index2Pos = availableColumns.findIndex(\r\n            // eslint-disable-next-line eqeqeq\r\n            field => field.index == index2\r\n        );\r\n        if (index1Pos === -1 || index2Pos === -1) {\r\n            return;\r\n        }\r\n        let newAvailableColumns;\r\n        if (index1Pos > index2Pos) {\r\n            newAvailableColumns = [\r\n                ...availableColumns.slice(0, index2Pos),\r\n                availableColumns[index1Pos],\r\n                ...availableColumns.slice(index2Pos, index1Pos),\r\n                ...availableColumns.slice(index1Pos + 1),\r\n            ];\r\n        } else {\r\n            newAvailableColumns = [\r\n                ...availableColumns.slice(0, index1Pos),\r\n                ...availableColumns.slice(index1Pos + 1, index2Pos + 1),\r\n                availableColumns[index1Pos],\r\n                ...availableColumns.slice(index2Pos + 1),\r\n            ];\r\n        }\r\n        setAvailableColumns(newAvailableColumns);\r\n        setColumns(columns =>\r\n            newAvailableColumns\r\n                .filter(column => columns.includes(column.index))\r\n                .map(column => column.index)\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {isXSmall ? (\r\n                <Tooltip title={title}>\r\n                    <IconButton\r\n                        aria-label={title}\r\n                        color=\"primary\"\r\n                        onClick={handleClick}\r\n                        size=\"large\"\r\n                        {...sanitizeRestProps(props)}\r\n                    >\r\n                        <ViewWeekIcon />\r\n                    </IconButton>\r\n                </Tooltip>\r\n            ) : (\r\n                <StyledButton\r\n                    size=\"small\"\r\n                    onClick={handleClick}\r\n                    startIcon={<ViewWeekIcon />}\r\n                    {...sanitizeRestProps(props)}\r\n                >\r\n                    {title}\r\n                </StyledButton>\r\n            )}\r\n            <Popover\r\n                open={Boolean(anchorEl)}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}\r\n            >\r\n                <Box p={1}>\r\n                    {availableColumns.map(column => (\r\n                        <FieldToggle\r\n                            key={column.index}\r\n                            source={column.source}\r\n                            label={column.label}\r\n                            index={column.index}\r\n                            selected={columns.includes(column.index)}\r\n                            onToggle={handleToggle}\r\n                            onMove={handleMove}\r\n                        />\r\n                    ))}\r\n                </Box>\r\n            </Popover>\r\n        </>\r\n    );\r\n};\r\n\r\nconst StyledButton = styled(Button, {\r\n    name: 'RaSelectColumnsButton',\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    '&.MuiButton-sizeSmall': {\r\n        // fix for icon misalignment on small buttons, see https://github.com/mui/material-ui/pull/30240\r\n        lineHeight: 1.5,\r\n    },\r\n});\r\n\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nconst sanitizeRestProps = ({\r\n    resource = null,\r\n    preferenceKey = null,\r\n    ...rest\r\n}) => rest;\r\n/* eslint-enable @typescript-eslint/no-unused-vars */\r\n\r\nexport interface SelectColumnsButtonProps\r\n    extends React.HtmlHTMLAttributes<HTMLDivElement> {\r\n    resource?: string;\r\n    preferenceKey?: string;\r\n}\r\n", "import * as React from 'react';\r\nimport { Children, ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { FilterForm } from './FilterForm';\r\nimport { FilterButton } from './FilterButton';\r\nimport { FilterContext } from '../FilterContext';\r\n\r\n/**\r\n * Filter button/form combo\r\n *\r\n * @example\r\n *\r\n * const PostFilter = (props) => (\r\n *     <Filter {...props}>\r\n *         <TextInput label=\"Search\" source=\"q\" alwaysOn />\r\n *         <TextInput label=\"Title\" source=\"title\" defaultValue=\"Hello, World!\" />\r\n *     </Filter>\r\n * );\r\n *\r\n * export const PostList = () => (\r\n *     <List filters={<PostFilter />}>\r\n *         ...\r\n *     </List>\r\n * );\r\n *\r\n */\r\nexport const Filter = (props: FilterProps) => {\r\n    const { children } = props;\r\n    const renderButton = () => {\r\n        return <FilterButton className={FilterClasses.button} />;\r\n    };\r\n\r\n    const renderForm = () => {\r\n        return <FilterForm className={FilterClasses.form} />;\r\n    };\r\n\r\n    return (\r\n        <FilterContext.Provider value={Children.toArray(children)}>\r\n            {props.context === 'button' ? renderButton() : renderForm()}\r\n        </FilterContext.Provider>\r\n    );\r\n};\r\n\r\nFilter.propTypes = {\r\n    children: PropTypes.node,\r\n    classes: PropTypes.object,\r\n    context: PropTypes.oneOf(['form', 'button']),\r\n};\r\n\r\nconst PREFIX = 'RaFilter';\r\n\r\nexport const FilterClasses = {\r\n    button: `${PREFIX}-button`,\r\n    form: `${PREFIX}-form`,\r\n};\r\n\r\nexport interface FilterProps {\r\n    children: ReactNode;\r\n    context?: 'form' | 'button';\r\n    variant?: string;\r\n}\r\n", "import * as React from 'react';\r\nimport {\r\n    HtmlHTMLAttributes,\r\n    ReactNode,\r\n    useEffect,\r\n    useCallback,\r\n    useContext,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n    LabelPrefixContextProvider,\r\n    ListFilterContextValue,\r\n    useListContext,\r\n    useResourceContext,\r\n} from 'ra-core';\r\nimport {\r\n    FieldValues,\r\n    FormProvider,\r\n    useForm,\r\n    useFormContext,\r\n} from 'react-hook-form';\r\nimport set from 'lodash/set';\r\nimport unset from 'lodash/unset';\r\nimport get from 'lodash/get';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport isEqual from 'lodash/isEqual';\r\n\r\nimport { FilterFormInput } from './FilterFormInput';\r\nimport { FilterContext } from '../FilterContext';\r\n\r\nexport const FilterForm = (props: FilterFormProps) => {\r\n    const { defaultValues, filters: filtersProps, ...rest } = props;\r\n\r\n    const { setFilters, displayedFilters, filterValues } = useListContext(\r\n        props\r\n    );\r\n    const filters = useContext(FilterContext) || filtersProps;\r\n\r\n    const mergedInitialValuesWithDefaultValues = mergeInitialValuesWithDefaultValues(\r\n        defaultValues || filterValues,\r\n        filters\r\n    );\r\n\r\n    const form = useForm({\r\n        defaultValues: mergedInitialValuesWithDefaultValues,\r\n    });\r\n\r\n    // Reapply filterValues when the URL changes or a user removes a filter\r\n    useEffect(() => {\r\n        const newValues = getFilterFormValues(form.getValues(), filterValues);\r\n        if (!isEqual(newValues, form.getValues())) {\r\n            form.reset(newValues);\r\n        }\r\n    }, [filterValues, form]);\r\n\r\n    useEffect(() => {\r\n        const subscription = form.watch(async (values, { name }) => {\r\n            // We must check whether the form is valid as watch will not check that for us.\r\n            // We can't rely on form state as it might not be synchronized yet\r\n            const isFormValid = await form.trigger();\r\n\r\n            if (isFormValid) {\r\n                if (get(values, name) === '') {\r\n                    const newValues = cloneDeep(values);\r\n                    unset(newValues, name);\r\n                    setFilters(newValues, displayedFilters);\r\n                } else {\r\n                    setFilters(values, displayedFilters);\r\n                }\r\n            }\r\n        });\r\n        return () => subscription.unsubscribe();\r\n    }, [displayedFilters, form, setFilters]);\r\n\r\n    return (\r\n        <FormProvider {...form}>\r\n            <FilterFormBase\r\n                onSubmit={handleFormSubmit}\r\n                filters={filters}\r\n                {...rest}\r\n            />\r\n        </FormProvider>\r\n    );\r\n};\r\n\r\nexport type FilterFormProps = FilterFormBaseProps & {\r\n    defaultValues?: FieldValues;\r\n};\r\n\r\nexport const FilterFormBase = (props: FilterFormBaseProps) => {\r\n    const { className, filters, ...rest } = props;\r\n    const resource = useResourceContext(props);\r\n    const form = useFormContext();\r\n    const { displayedFilters = {}, hideFilter } = useListContext(props);\r\n\r\n    useEffect(() => {\r\n        filters.forEach((filter: JSX.Element) => {\r\n            if (filter.props.alwaysOn && filter.props.defaultValue) {\r\n                throw new Error(\r\n                    'Cannot use alwaysOn and defaultValue on a filter input. Please set the filterDefaultValues props on the <List> element instead.'\r\n                );\r\n            }\r\n        });\r\n    }, [filters]);\r\n\r\n    const getShownFilters = () => {\r\n        const values = form.getValues();\r\n        return filters.filter((filterElement: JSX.Element) => {\r\n            const filterValue = get(values, filterElement.props.source);\r\n            return (\r\n                filterElement.props.alwaysOn ||\r\n                displayedFilters[filterElement.props.source] ||\r\n                (filterValue !== '' && typeof filterValue !== 'undefined')\r\n            );\r\n        });\r\n    };\r\n\r\n    const handleHide = useCallback(\r\n        event => hideFilter(event.currentTarget.dataset.key),\r\n        [hideFilter]\r\n    );\r\n\r\n    return (\r\n        <LabelPrefixContextProvider prefix={`resources.${resource}.fields`}>\r\n            <StyledForm\r\n                className={className}\r\n                {...sanitizeRestProps(rest)}\r\n                onSubmit={handleSubmit}\r\n            >\r\n                {getShownFilters().map((filterElement: JSX.Element) => (\r\n                    <FilterFormInput\r\n                        key={filterElement.props.source}\r\n                        filterElement={filterElement}\r\n                        handleHide={handleHide}\r\n                        resource={resource}\r\n                        className={FilterFormClasses.filterFormInput}\r\n                    />\r\n                ))}\r\n                <div className={FilterFormClasses.clearFix} />\r\n            </StyledForm>\r\n        </LabelPrefixContextProvider>\r\n    );\r\n};\r\n\r\nconst handleSubmit = event => {\r\n    event.preventDefault();\r\n    return false;\r\n};\r\n\r\nFilterFormBase.propTypes = {\r\n    resource: PropTypes.string,\r\n    filters: PropTypes.arrayOf(PropTypes.node).isRequired,\r\n    displayedFilters: PropTypes.object,\r\n    hideFilter: PropTypes.func,\r\n    initialValues: PropTypes.object,\r\n    className: PropTypes.string,\r\n};\r\n\r\nconst sanitizeRestProps = ({\r\n    displayedFilters,\r\n    filterValues,\r\n    hasCreate,\r\n    hideFilter,\r\n    setFilters,\r\n    resource,\r\n    ...props\r\n}: Partial<FilterFormBaseProps> & { hasCreate?: boolean }) => props;\r\n\r\nexport type FilterFormBaseProps = Omit<\r\n    HtmlHTMLAttributes<HTMLFormElement>,\r\n    'children'\r\n> &\r\n    Partial<ListFilterContextValue> & {\r\n        className?: string;\r\n        resource?: string;\r\n        filters?: ReactNode[];\r\n    };\r\n\r\nexport const mergeInitialValuesWithDefaultValues = (\r\n    initialValues,\r\n    filters\r\n) => ({\r\n    ...filters\r\n        .filter(\r\n            (filterElement: JSX.Element) =>\r\n                filterElement.props.alwaysOn && filterElement.props.defaultValue\r\n        )\r\n        .reduce(\r\n            (acc, filterElement: JSX.Element) =>\r\n                set(\r\n                    { ...acc },\r\n                    filterElement.props.source,\r\n                    filterElement.props.defaultValue\r\n                ),\r\n            {} as any\r\n        ),\r\n    ...initialValues,\r\n});\r\n\r\nconst handleFormSubmit = () => {};\r\n\r\nconst PREFIX = 'RaFilterForm';\r\n\r\nexport const FilterFormClasses = {\r\n    clearFix: `${PREFIX}-clearFix`,\r\n    filterFormInput: `${PREFIX}-filterFormInput`,\r\n};\r\n\r\nconst StyledForm = styled('form', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    display: 'flex',\r\n    flex: '0 1 auto',\r\n    [theme.breakpoints.up('md')]: {\r\n        flex: '0 1 100%',\r\n    },\r\n    flexWrap: 'wrap',\r\n    alignItems: 'flex-end',\r\n    pointerEvents: 'none',\r\n    padding: `0 0 ${theme.spacing(0.5)} 0`,\r\n    '& .MuiFormHelperText-root': { display: 'none' },\r\n    [`& .${FilterFormClasses.clearFix}`]: { clear: 'right' },\r\n    [`& .${FilterFormClasses.filterFormInput} .MuiFormControl-root`]: {\r\n        marginTop: `${theme.spacing(1)}`,\r\n    },\r\n}));\r\n\r\n/**\r\n * Because we are using controlled inputs with react-hook-form, we must provide a default value\r\n * for each input when resetting the form. (see https://react-hook-form.com/docs/useform/reset).\r\n * To ensure we don't provide undefined which will result to the current input value being reapplied\r\n * and due to the dynamic nature of the filter form, we rebuild the filter form values from its current\r\n * values and make sure to pass at least an empty string for each input.\r\n */\r\nexport const getFilterFormValues = (\r\n    formValues: Record<string, any>,\r\n    filterValues: Record<string, any>\r\n) => {\r\n    return Object.keys(formValues).reduce((acc, key) => {\r\n        acc[key] = getInputValue(formValues, key, filterValues);\r\n        return acc;\r\n    }, cloneDeep(filterValues) ?? {});\r\n};\r\n\r\nconst getInputValue = (\r\n    formValues: Record<string, any>,\r\n    key: string,\r\n    filterValues: Record<string, any>\r\n) => {\r\n    if (formValues[key] === undefined || formValues[key] === null) {\r\n        return '';\r\n    }\r\n    if (Array.isArray(formValues[key])) {\r\n        return get(filterValues, key, '');\r\n    }\r\n    if (formValues[key] instanceof Date) {\r\n        return get(filterValues, key, '');\r\n    }\r\n    if (typeof formValues[key] === 'object') {\r\n        const inputValues = Object.keys(formValues[key]).reduce(\r\n            (acc, innerKey) => {\r\n                const nestedInputValue = getInputValue(\r\n                    formValues[key],\r\n                    innerKey,\r\n                    (filterValues || {})[key] ?? {}\r\n                );\r\n                if (nestedInputValue === '') {\r\n                    return acc;\r\n                }\r\n                acc[innerKey] = nestedInputValue;\r\n                return acc;\r\n            },\r\n            {}\r\n        );\r\n        if (!Object.keys(inputValues).length) return '';\r\n        return inputValues;\r\n    }\r\n    return get(filterValues, key, '');\r\n};\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport ActionHide from '@mui/icons-material/HighlightOff';\r\nimport clsx from 'clsx';\r\nimport { useResourceContext, useTranslate } from 'ra-core';\r\n\r\nexport const FilterFormInput = props => {\r\n    const { filterElement, handleHide, className } = props;\r\n    const resource = useResourceContext(props);\r\n    const translate = useTranslate();\r\n\r\n    return (\r\n        <Root\r\n            data-source={filterElement.props.source}\r\n            className={clsx('filter-field', className)}\r\n        >\r\n            {!filterElement.props.alwaysOn && (\r\n                <IconButton\r\n                    className={clsx(\r\n                        'hide-filter',\r\n                        FilterFormInputClasses.hideButton\r\n                    )}\r\n                    onClick={handleHide}\r\n                    data-key={filterElement.props.source}\r\n                    title={translate('ra.action.remove_filter')}\r\n                    size=\"small\"\r\n                >\r\n                    <ActionHide />\r\n                </IconButton>\r\n            )}\r\n            {React.cloneElement(filterElement, {\r\n                resource,\r\n                record: emptyRecord,\r\n                size: filterElement.props.size ?? 'small',\r\n                helperText: false,\r\n                // ignore defaultValue in Field because it was already set in Form (via mergedInitialValuesWithDefaultValues)\r\n                defaultValue: undefined,\r\n            })}\r\n            <div className={FilterFormInputClasses.spacer}>&nbsp;</div>\r\n        </Root>\r\n    );\r\n};\r\n\r\nFilterFormInput.propTypes = {\r\n    filterElement: PropTypes.node,\r\n    handleHide: PropTypes.func,\r\n    resource: PropTypes.string,\r\n    className: PropTypes.string,\r\n};\r\n\r\nconst PREFIX = 'RaFilterFormInput';\r\n\r\nexport const FilterFormInputClasses = {\r\n    spacer: `${PREFIX}-spacer`,\r\n    hideButton: `${PREFIX}-hideButton`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    display: 'flex',\r\n    alignItems: 'flex-end',\r\n    pointerEvents: 'auto',\r\n\r\n    [`& .${FilterFormInputClasses.spacer}`]: { width: theme.spacing(2) },\r\n    [`& .${FilterFormInputClasses.hideButton}`]: {\r\n        marginBottom: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nconst emptyRecord = {};\r\n", "import * as React from 'react';\r\n\r\nexport type FilterContextType = React.ReactNode[];\r\n\r\n/**\r\n * Make filters accessible to sub components\r\n */\r\nexport const FilterContext = React.createContext<FilterContextType>(undefined);\r\n", "import * as React from 'react';\r\nimport {\r\n    useState,\r\n    useCallback,\r\n    useRef,\r\n    ReactNode,\r\n    HtmlHTMLAttributes,\r\n    useContext,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Menu, MenuItem, styled } from '@mui/material';\r\nimport ContentFilter from '@mui/icons-material/FilterList';\r\nimport lodashGet from 'lodash/get';\r\nimport isEqual from 'lodash/isEqual';\r\nimport { useListContext, useResourceContext, useTranslate } from 'ra-core';\r\nimport { stringify } from 'query-string';\r\nimport { useNavigate } from 'react-router';\r\n\r\nimport { FilterButtonMenuItem } from './FilterButtonMenuItem';\r\nimport { Button } from '../../button';\r\nimport { FilterContext } from '../FilterContext';\r\nimport { extractValidSavedQueries, useSavedQueries } from './useSavedQueries';\r\nimport { AddSavedQueryDialog } from './AddSavedQueryDialog';\r\nimport { RemoveSavedQueryDialog } from './RemoveSavedQueryDialog';\r\n\r\nexport const FilterButton = (props: FilterButtonProps): JSX.Element => {\r\n    const {\r\n        filters: filtersProp,\r\n        className,\r\n        disableSaveQuery,\r\n        ...rest\r\n    } = props;\r\n    const filters = useContext(FilterContext) || filtersProp;\r\n    const resource = useResourceContext(props);\r\n    const translate = useTranslate();\r\n    const [savedQueries] = useSavedQueries(resource);\r\n    const navigate = useNavigate();\r\n    const {\r\n        displayedFilters = {},\r\n        filterValues,\r\n        perPage,\r\n        setFilters,\r\n        showFilter,\r\n        sort,\r\n    } = useListContext(props);\r\n    const hasFilterValues = !isEqual(filterValues, {});\r\n    const validSavedQueries = extractValidSavedQueries(savedQueries);\r\n    const hasSavedCurrentQuery = validSavedQueries.some(savedQuery =>\r\n        isEqual(savedQuery.value, {\r\n            filter: filterValues,\r\n            sort,\r\n            perPage,\r\n            displayedFilters,\r\n        })\r\n    );\r\n    const [open, setOpen] = useState(false);\r\n    const anchorEl = useRef();\r\n\r\n    if (filters === undefined) {\r\n        throw new Error('FilterButton requires filters prop to be set');\r\n    }\r\n\r\n    const hiddenFilters = filters.filter(\r\n        (filterElement: JSX.Element) =>\r\n            !filterElement.props.alwaysOn &&\r\n            !displayedFilters[filterElement.props.source] &&\r\n            typeof lodashGet(filterValues, filterElement.props.source) ===\r\n                'undefined'\r\n    );\r\n\r\n    const handleClickButton = useCallback(\r\n        event => {\r\n            // This prevents ghost click.\r\n            event.preventDefault();\r\n            setOpen(true);\r\n            anchorEl.current = event.currentTarget;\r\n        },\r\n        [anchorEl, setOpen]\r\n    );\r\n\r\n    const handleRequestClose = useCallback(() => {\r\n        setOpen(false);\r\n    }, [setOpen]);\r\n\r\n    const handleShow = useCallback(\r\n        ({ source, defaultValue }) => {\r\n            showFilter(source, defaultValue === '' ? undefined : defaultValue);\r\n            setOpen(false);\r\n        },\r\n        [showFilter, setOpen]\r\n    );\r\n\r\n    // add query dialog state\r\n    const [addSavedQueryDialogOpen, setAddSavedQueryDialogOpen] = useState(\r\n        false\r\n    );\r\n    const hideAddSavedQueryDialog = (): void => {\r\n        setAddSavedQueryDialogOpen(false);\r\n    };\r\n    const showAddSavedQueryDialog = (): void => {\r\n        setOpen(false);\r\n        setAddSavedQueryDialogOpen(true);\r\n    };\r\n\r\n    // remove query dialog state\r\n    const [\r\n        removeSavedQueryDialogOpen,\r\n        setRemoveSavedQueryDialogOpen,\r\n    ] = useState(false);\r\n    const hideRemoveSavedQueryDialog = (): void => {\r\n        setRemoveSavedQueryDialogOpen(false);\r\n    };\r\n    const showRemoveSavedQueryDialog = (): void => {\r\n        setOpen(false);\r\n        setRemoveSavedQueryDialogOpen(true);\r\n    };\r\n\r\n    if (\r\n        hiddenFilters.length === 0 &&\r\n        validSavedQueries.length === 0 &&\r\n        !hasFilterValues\r\n    ) {\r\n        return null;\r\n    }\r\n    return (\r\n        <Root className={className} {...sanitizeRestProps(rest)}>\r\n            <Button\r\n                className=\"add-filter\"\r\n                label=\"ra.action.add_filter\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleClickButton}\r\n            >\r\n                <ContentFilter />\r\n            </Button>\r\n            <Menu\r\n                open={open}\r\n                anchorEl={anchorEl.current}\r\n                onClose={handleRequestClose}\r\n            >\r\n                {hiddenFilters.map((filterElement: JSX.Element, index) => (\r\n                    <FilterButtonMenuItem\r\n                        key={filterElement.props.source}\r\n                        filter={filterElement}\r\n                        resource={resource}\r\n                        onShow={handleShow}\r\n                        autoFocus={index === 0}\r\n                    />\r\n                ))}\r\n                {validSavedQueries.map((savedQuery, index) =>\r\n                    isEqual(savedQuery.value, {\r\n                        filter: filterValues,\r\n                        sort,\r\n                        perPage,\r\n                        displayedFilters,\r\n                    }) ? (\r\n                        <MenuItem\r\n                            onClick={showRemoveSavedQueryDialog}\r\n                            key={index}\r\n                        >\r\n                            {translate(\r\n                                'ra.saved_queries.remove_label_with_name',\r\n                                {\r\n                                    _: 'Remove query \"%{name}\"',\r\n                                    name: savedQuery.label,\r\n                                }\r\n                            )}\r\n                        </MenuItem>\r\n                    ) : (\r\n                        <MenuItem\r\n                            onClick={(): void => {\r\n                                navigate({\r\n                                    search: stringify({\r\n                                        filter: JSON.stringify(\r\n                                            savedQuery.value.filter\r\n                                        ),\r\n                                        sort: savedQuery.value.sort.field,\r\n                                        order: savedQuery.value.sort.order,\r\n                                        page: 1,\r\n                                        perPage: savedQuery.value.perPage,\r\n                                        displayedFilters: JSON.stringify(\r\n                                            savedQuery.value.displayedFilters\r\n                                        ),\r\n                                    }),\r\n                                });\r\n                                setOpen(false);\r\n                            }}\r\n                            key={index}\r\n                        >\r\n                            {savedQuery.label}\r\n                        </MenuItem>\r\n                    )\r\n                )}\r\n                {hasFilterValues && !hasSavedCurrentQuery && !disableSaveQuery && (\r\n                    <MenuItem onClick={showAddSavedQueryDialog}>\r\n                        {translate('ra.saved_queries.new_label', {\r\n                            _: 'Save current query...',\r\n                        })}\r\n                    </MenuItem>\r\n                )}\r\n                {hasFilterValues && (\r\n                    <MenuItem onClick={() => setFilters({}, {}, false)}>\r\n                        {translate('ra.action.remove_all_filters', {\r\n                            _: 'Remove all filters',\r\n                        })}\r\n                    </MenuItem>\r\n                )}\r\n            </Menu>\r\n            {!disableSaveQuery && (\r\n                <>\r\n                    <AddSavedQueryDialog\r\n                        open={addSavedQueryDialogOpen}\r\n                        onClose={hideAddSavedQueryDialog}\r\n                    />\r\n                    <RemoveSavedQueryDialog\r\n                        open={removeSavedQueryDialogOpen}\r\n                        onClose={hideRemoveSavedQueryDialog}\r\n                    />\r\n                </>\r\n            )}\r\n        </Root>\r\n    );\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nconst sanitizeRestProps = ({\r\n    displayedFilters = null,\r\n    filterValues = null,\r\n    showFilter = null,\r\n    ...rest\r\n}) => rest;\r\n/* eslint-enable @typescript-eslint/no-unused-vars */\r\n\r\nFilterButton.propTypes = {\r\n    resource: PropTypes.string,\r\n    filters: PropTypes.arrayOf(PropTypes.node),\r\n    displayedFilters: PropTypes.object,\r\n    filterValues: PropTypes.object,\r\n    showFilter: PropTypes.func,\r\n    className: PropTypes.string,\r\n};\r\n\r\nexport interface FilterButtonProps extends HtmlHTMLAttributes<HTMLDivElement> {\r\n    className?: string;\r\n    resource?: string;\r\n    filterValues?: any;\r\n    showFilter?: (filterName: string, defaultValue: any) => void;\r\n    displayedFilters?: any;\r\n    filters?: ReactNode[];\r\n    disableSaveQuery?: boolean;\r\n}\r\n\r\nconst PREFIX = 'RaFilterButton';\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    display: 'inline-block',\r\n});\r\n", "import * as React from 'react';\r\nimport { forwardRef, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { FieldTitle, useResourceContext } from 'ra-core';\r\n\r\nexport const FilterButtonMenuItem = forwardRef<any, FilterButtonMenuItemProps>(\r\n    (props, ref) => {\r\n        const { filter, onShow, autoFocus } = props;\r\n        const resource = useResourceContext(props);\r\n        const handleShow = useCallback(() => {\r\n            onShow({\r\n                source: filter.props.source,\r\n                defaultValue: filter.props.defaultValue,\r\n            });\r\n        }, [filter.props.defaultValue, filter.props.source, onShow]);\r\n\r\n        return (\r\n            <MenuItem\r\n                className=\"new-filter-item\"\r\n                data-key={filter.props.source}\r\n                data-default-value={filter.props.defaultValue}\r\n                key={filter.props.source}\r\n                onClick={handleShow}\r\n                autoFocus={autoFocus}\r\n                ref={ref}\r\n                disabled={filter.props.disabled}\r\n            >\r\n                <FieldTitle\r\n                    label={filter.props.label}\r\n                    source={filter.props.source}\r\n                    resource={resource}\r\n                />\r\n            </MenuItem>\r\n        );\r\n    }\r\n);\r\n\r\nFilterButtonMenuItem.propTypes = {\r\n    filter: PropTypes.element.isRequired,\r\n    onShow: PropTypes.func.isRequired,\r\n    resource: PropTypes.string,\r\n    autoFocus: PropTypes.bool,\r\n};\r\n\r\nexport interface FilterButtonMenuItemProps {\r\n    filter: JSX.Element;\r\n    onShow: (params: { source: string; defaultValue: any }) => void;\r\n    resource: string;\r\n    autoFocus?: boolean;\r\n}\r\n", "import { SortPayload, useStore } from 'ra-core';\r\n\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nexport const useSavedQueries = (resource: string) => {\r\n    return useStore<SavedQuery[]>(`${resource}.savedQueries`, []);\r\n};\r\n\r\nexport interface SavedQuery {\r\n    label: string;\r\n    value: {\r\n        filter?: any;\r\n        displayedFilters?: any[];\r\n        sort?: SortPayload;\r\n        perPage?: number;\r\n    };\r\n}\r\n\r\nexport const extractValidSavedQueries = (savedQueries: SavedQuery[]) => {\r\n    if (Array.isArray(savedQueries)) {\r\n        return savedQueries.filter(query => isValidSavedQuery(query));\r\n    }\r\n\r\n    return [];\r\n};\r\n\r\nexport const areValidSavedQueries = (savedQueries: SavedQuery[]) => {\r\n    if (\r\n        Array.isArray(savedQueries) &&\r\n        savedQueries.every(query => isValidSavedQuery(query))\r\n    ) {\r\n        return true;\r\n    }\r\n};\r\n\r\nexport const isValidSavedQuery = (savedQuery: SavedQuery) => {\r\n    if (\r\n        savedQuery.label &&\r\n        typeof savedQuery.label === 'string' &&\r\n        savedQuery.value &&\r\n        typeof Array.isArray(savedQuery.value.displayedFilters) &&\r\n        typeof savedQuery.value.perPage === 'number' &&\r\n        typeof savedQuery.value.sort?.field === 'string' &&\r\n        typeof savedQuery.value.sort?.order === 'string' &&\r\n        typeof savedQuery.value.filter === 'object'\r\n    ) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactElement, ChangeEvent, FormEvent, useState } from 'react';\r\nimport { useListContext, useTranslate } from 'ra-core';\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    TextField,\r\n} from '@mui/material';\r\n\r\nimport { extractValidSavedQueries, useSavedQueries } from './useSavedQueries';\r\n\r\nexport const AddSavedQueryDialog = ({\r\n    open,\r\n    onClose,\r\n}: AddSavedQueryDialogProps): ReactElement => {\r\n    const translate = useTranslate();\r\n    const {\r\n        resource,\r\n        filterValues,\r\n        displayedFilters,\r\n        sort,\r\n        perPage,\r\n    } = useListContext();\r\n\r\n    const [savedQueries, setSavedQueries] = useSavedQueries(resource);\r\n\r\n    // input state\r\n    const [queryName, setQueryName] = useState('');\r\n    const handleQueryNameChange = (\r\n        event: ChangeEvent<HTMLInputElement>\r\n    ): void => {\r\n        setQueryName(event.target.value);\r\n    };\r\n\r\n    const handleFormSubmit = (e: FormEvent<HTMLFormElement>): void => {\r\n        e.preventDefault();\r\n        addQuery();\r\n    };\r\n\r\n    const addQuery = (): void => {\r\n        const newSavedQuery = {\r\n            label: queryName,\r\n            value: {\r\n                filter: filterValues,\r\n                sort,\r\n                perPage,\r\n                displayedFilters,\r\n            },\r\n        };\r\n        const newSavedQueries = extractValidSavedQueries(savedQueries);\r\n        setSavedQueries(newSavedQueries.concat(newSavedQuery));\r\n        setQueryName('');\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={onClose}\r\n            aria-labelledby=\"form-dialog-title\"\r\n        >\r\n            <DialogTitle id=\"form-dialog-title\">\r\n                {translate('ra.saved_queries.new_dialog_title', {\r\n                    _: 'Save current query as',\r\n                })}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <form onSubmit={handleFormSubmit}>\r\n                    <TextField\r\n                        // eslint-disable-next-line jsx-a11y/no-autofocus\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"name\"\r\n                        label={translate('ra.saved_queries.query_name', {\r\n                            _: 'Query name',\r\n                        })}\r\n                        fullWidth\r\n                        value={queryName}\r\n                        onChange={handleQueryNameChange}\r\n                    />\r\n                </form>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={onClose}>\r\n                    {translate('ra.action.cancel')}\r\n                </Button>\r\n                <Button onClick={addQuery} color=\"primary\">\r\n                    {translate('ra.action.save')}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport interface AddSavedQueryDialogProps {\r\n    open: boolean;\r\n    onClose: () => void;\r\n}\r\n", "import * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport isEqual from 'lodash/isEqual';\r\nimport { useListContext, useTranslate } from 'ra-core';\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogTitle,\r\n} from '@mui/material';\r\n\r\nimport { useSavedQueries, extractValidSavedQueries } from './useSavedQueries';\r\n\r\nexport interface RemoveSavedQueryDialogProps {\r\n    open: boolean;\r\n    onClose: () => void;\r\n}\r\n\r\nexport const RemoveSavedQueryDialog = ({\r\n    open,\r\n    onClose,\r\n}: RemoveSavedQueryDialogProps): ReactElement => {\r\n    const translate = useTranslate();\r\n    const {\r\n        resource,\r\n        filterValues,\r\n        sort,\r\n        perPage,\r\n        displayedFilters,\r\n    } = useListContext();\r\n\r\n    const [savedQueries, setSavedQueries] = useSavedQueries(resource);\r\n\r\n    const removeQuery = (): void => {\r\n        let savedQueryToRemove = {\r\n            filter: filterValues,\r\n            sort,\r\n            perPage,\r\n            displayedFilters,\r\n        };\r\n\r\n        const newSavedQueries = extractValidSavedQueries(savedQueries);\r\n        const index = newSavedQueries.findIndex(savedFilter =>\r\n            isEqual(savedFilter.value, savedQueryToRemove)\r\n        );\r\n        setSavedQueries([\r\n            ...newSavedQueries.slice(0, index),\r\n            ...newSavedQueries.slice(index + 1),\r\n        ]);\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={onClose}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">\r\n                {translate('ra.saved_queries.remove_dialog_title', {\r\n                    _: 'Remove saved query?',\r\n                })}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    {translate('ra.saved_queries.remove_message', {\r\n                        _:\r\n                            'Are you sure you want to remove that item from your list of saved queries?',\r\n                    })}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={onClose}>\r\n                    {translate('ra.action.cancel')}\r\n                </Button>\r\n                <Button\r\n                    onClick={removeQuery}\r\n                    color=\"primary\"\r\n                    // eslint-disable-next-line jsx-a11y/no-autofocus\r\n                    autoFocus\r\n                >\r\n                    {translate('ra.action.confirm')}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { Box, BoxProps, List, Typography } from '@mui/material';\r\nimport { useTranslate } from 'ra-core';\r\n\r\n/**\r\n * Header and container for a list of filter list items\r\n *\r\n * Expects 2 props, and a list of <FilterListItem> as children:\r\n *\r\n * - label: The label for this filter section. Will be translated.\r\n * - icon: An icon react element\r\n *\r\n * @see FilterListItem\r\n *\r\n * @example\r\n *\r\n * import * as React from 'react';\r\n * import { Card, CardContent } from '@mui/material';\r\n * import MailIcon from '@mui/icons-material/MailOutline';\r\n * import { FilterList, FilterListItem } from 'react-admin';\r\n *\r\n * const FilterSidebar = () => (\r\n *     <Card>\r\n *         <CardContent>\r\n *             <FilterList\r\n *                 label=\"Subscribed to newsletter\"\r\n *                 icon={<MailIcon />}\r\n *             >\r\n *                 <FilterListItem\r\n *                     label=\"Yes\"\r\n *                     value={{ has_newsletter: true }}\r\n *                  />\r\n *                 <FilterListItem\r\n *                     label=\"No\"\r\n *                     value={{ has_newsletter: false }}\r\n *                  />\r\n *             </FilterList>\r\n *         </CardContent>\r\n *     </Card>\r\n * );\r\n */\r\nexport const FilterList = (props: FilterListProps) => {\r\n    const { label, icon, children, ...rest } = props;\r\n    const translate = useTranslate();\r\n    return (\r\n        <Box {...rest}>\r\n            <Box mt={2} display=\"flex\" alignItems=\"center\">\r\n                <Box mr={1}>{icon}</Box>\r\n                <Typography variant=\"overline\">\r\n                    {translate(label, { _: label })}\r\n                </Typography>\r\n            </Box>\r\n            <List dense disablePadding>\r\n                {children}\r\n            </List>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport interface FilterListProps extends BoxProps {\r\n    label: string;\r\n    icon: ReactNode;\r\n}\r\n", "import * as React from 'react';\r\nimport { isElement } from 'react-is';\r\nimport { styled } from '@mui/material/styles';\r\nimport { memo, ReactElement } from 'react';\r\nimport {\r\n    IconButton,\r\n    ListItem,\r\n    ListItemButton,\r\n    ListItemProps,\r\n    ListItemText,\r\n    ListItemSecondaryAction,\r\n} from '@mui/material';\r\nimport CancelIcon from '@mui/icons-material/CancelOutlined';\r\nimport {\r\n    useTranslate,\r\n    useListFilterContext,\r\n    shallowEqual,\r\n    useEvent,\r\n} from 'ra-core';\r\nimport matches from 'lodash/matches';\r\nimport pickBy from 'lodash/pickBy';\r\n\r\nconst arePropsEqual = (prevProps, nextProps) =>\r\n    prevProps.label === nextProps.label &&\r\n    shallowEqual(prevProps.value, nextProps.value);\r\n\r\n/**\r\n * Button to enable/disable a list filter.\r\n *\r\n * Expects 2 props:\r\n *\r\n * - label: The text (or React element) to be displayed for this item.\r\n *   If it's a string, the component will translate it.\r\n * - value: An object to be merged into the filter value when enabling the filter\r\n *   (e.g. { is_published: true, published_at_gte: '2020-07-08' })\r\n *\r\n * @example\r\n *\r\n * import * as React from 'react';\r\n * import { Card, CardContent } from '@mui/material';\r\n * import MailIcon from '@mui/icons-material/MailOutline';\r\n * import { FilterList, FilterListItem } from 'react-admin';\r\n *\r\n * const FilterSidebar = () => (\r\n *     <Card>\r\n *         <CardContent>\r\n *             <FilterList\r\n *                 label=\"Subscribed to newsletter\"\r\n *                 icon={<MailIcon />}\r\n *             >\r\n *                 <FilterListItem\r\n *                     label=\"Yes\"\r\n *                     value={{ has_newsletter: true }}\r\n *                  />\r\n *                 <FilterListItem\r\n *                     label=\"No\"\r\n *                     value={{ has_newsletter: false }}\r\n *                  />\r\n *             </FilterList>\r\n *         </CardContent>\r\n *     </Card>\r\n * );\r\n *\r\n * @example // The value prop can contain multiple keys\r\n *\r\n * import * as React from 'react';\r\n * import {\r\n *     endOfYesterday,\r\n *     startOfWeek,\r\n *     subWeeks,\r\n *     startOfMonth,\r\n *     subMonths,\r\n * } from 'date-fns';\r\n * import { Card, CardContent } from '@mui/material';\r\n * import AccessTimeIcon from '@mui/icons-material/AccessTime';\r\n * import { FilterList, FilterListItem } from 'react-admin';\r\n *\r\n * const FilterSidebar = () => (\r\n *     <Card>\r\n *         <CardContent>\r\n *             <FilterList\r\n *                 label=\"Last visited\"\r\n *                 icon={<AccessTimeIcon />}\r\n *             >\r\n *                 <FilterListItem\r\n *                     label=\"Today\"\r\n *                     value={{\r\n *                         last_seen_gte: endOfYesterday().toISOString(),\r\n *                         last_seen_lte: undefined,\r\n *                     }}\r\n *                 />\r\n *                 <FilterListItem\r\n *                     label=\"This week\"\r\n *                     value={{\r\n *                         last_seen_gte: startOfWeek(\r\n *                             new Date()\r\n *                         ).toISOString(),\r\n *                         last_seen_lte: undefined,\r\n *                     }}\r\n *                 />\r\n *                 <FilterListItem\r\n *                     label=\"Last week\"\r\n *                     value={{\r\n *                         last_seen_gte: subWeeks(\r\n *                             startOfWeek(new Date()),\r\n *                             1\r\n *                         ).toISOString(),\r\n *                         last_seen_lte: startOfWeek(\r\n *                             new Date()\r\n *                         ).toISOString(),\r\n *                     }}\r\n *                 />\r\n *                 <FilterListItem\r\n *                     label=\"This month\"\r\n *                     value={{\r\n *                         last_seen_gte: startOfMonth(\r\n *                             new Date()\r\n *                         ).toISOString(),\r\n *                         last_seen_lte: undefined,\r\n *                     }}\r\n *                 />\r\n *                 <FilterListItem\r\n *                     label=\"Last month\"\r\n *                     value={{\r\n *                         last_seen_gte: subMonths(\r\n *                             startOfMonth(new Date()),\r\n *                             1\r\n *                         ).toISOString(),\r\n *                         last_seen_lte: startOfMonth(\r\n *                             new Date()\r\n *                         ).toISOString(),\r\n *                     }}\r\n *                 />\r\n *                 <FilterListItem\r\n *                     label=\"Earlier\"\r\n *                     value={{\r\n *                         last_seen_gte: undefined,\r\n *                         last_seen_lte: subMonths(\r\n *                             startOfMonth(new Date()),\r\n *                             1\r\n *                         ).toISOString(),\r\n *                     }}\r\n *                 />\r\n *             </FilterList>\r\n *         </CardContent>\r\n *     </Card>\r\n * );\r\n */\r\nexport const FilterListItem = memo((props: FilterListItemProps) => {\r\n    const {\r\n        label,\r\n        value,\r\n        isSelected: getIsSelected = DefaultIsSelected,\r\n        toggleFilter: userToggleFilter = DefaultToggleFilter,\r\n        ...rest\r\n    } = props;\r\n    const { filterValues, setFilters } = useListFilterContext();\r\n    const translate = useTranslate();\r\n    const toggleFilter = useEvent(userToggleFilter);\r\n\r\n    // We can't wrap this function with useEvent as it is called in the render phase\r\n    const isSelected = getIsSelected(value, filterValues);\r\n\r\n    const handleClick = () =>\r\n        setFilters(toggleFilter(value, filterValues), null, false);\r\n\r\n    return (\r\n        <StyledListItem\r\n            onClick={handleClick}\r\n            selected={isSelected}\r\n            disablePadding\r\n            {...rest}\r\n        >\r\n            <ListItemButton\r\n                disableGutters\r\n                className={FilterListItemClasses.listItemButton}\r\n            >\r\n                <ListItemText\r\n                    primary={\r\n                        isElement(label)\r\n                            ? label\r\n                            : translate(label, { _: label })\r\n                    }\r\n                    className={FilterListItemClasses.listItemText}\r\n                    data-selected={isSelected ? 'true' : 'false'}\r\n                />\r\n                {isSelected && (\r\n                    <ListItemSecondaryAction\r\n                        onClick={event => {\r\n                            event.stopPropagation();\r\n                            handleClick();\r\n                        }}\r\n                    >\r\n                        <IconButton size=\"small\">\r\n                            <CancelIcon />\r\n                        </IconButton>\r\n                    </ListItemSecondaryAction>\r\n                )}\r\n            </ListItemButton>\r\n        </StyledListItem>\r\n    );\r\n}, arePropsEqual);\r\n\r\nconst DefaultIsSelected = (value, filters) =>\r\n    matches(pickBy(value, val => typeof val !== 'undefined'))(filters);\r\n\r\nconst DefaultToggleFilter = (value, filters) => {\r\n    const isSelected = matches(\r\n        pickBy(value, val => typeof val !== 'undefined')\r\n    )(filters);\r\n\r\n    if (isSelected) {\r\n        const keysToRemove = Object.keys(value);\r\n        return Object.keys(filters).reduce(\r\n            (acc, key) =>\r\n                keysToRemove.includes(key)\r\n                    ? acc\r\n                    : { ...acc, [key]: filters[key] },\r\n            {}\r\n        );\r\n    }\r\n\r\n    return { ...filters, ...value };\r\n};\r\n\r\nconst PREFIX = 'RaFilterListItem';\r\n\r\nexport const FilterListItemClasses = {\r\n    listItemButton: `${PREFIX}-listItemButton`,\r\n    listItemText: `${PREFIX}-listItemText`,\r\n};\r\n\r\nconst StyledListItem = styled(ListItem, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    [`& .${FilterListItemClasses.listItemButton}`]: {\r\n        paddingRight: '2em',\r\n        paddingLeft: '2em',\r\n    },\r\n    [`& .${FilterListItemClasses.listItemText}`]: {\r\n        margin: 0,\r\n    },\r\n});\r\n\r\nexport interface FilterListItemProps extends Omit<ListItemProps, 'value'> {\r\n    label: string | ReactElement;\r\n    value: any;\r\n    toggleFilter?: (value: any, filters: any) => any;\r\n    isSelected?: (value: any, filters: any) => boolean;\r\n}\r\n", "import * as React from 'react';\r\nimport { ChangeEvent, memo, useMemo } from 'react';\r\nimport { InputAdornment } from '@mui/material';\r\nimport { SxProps } from '@mui/system';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { Form, useTranslate, useListFilterContext } from 'ra-core';\r\n\r\nimport { TextInput, TextInputProps } from '../../input';\r\n\r\n/**\r\n * Form and search input for doing a full-text search filter.\r\n *\r\n * Triggers a search on change (with debounce).\r\n *\r\n * @example\r\n *\r\n * const FilterPanel = () => (\r\n *     <Card>\r\n *         <CardContent>\r\n *             <FilterLiveSearch source=\"title\" />\r\n *         </CardContent>\r\n *     </Card>\r\n * );\r\n */\r\nexport const FilterLiveSearch = memo((props: FilterLiveSearchProps) => {\r\n    const { filterValues, setFilters } = useListFilterContext();\r\n    const translate = useTranslate();\r\n\r\n    const {\r\n        source = 'q',\r\n        variant,\r\n        label = translate('ra.action.search'),\r\n        ...rest\r\n    } = props;\r\n\r\n    const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n        if (event.target) {\r\n            setFilters({ ...filterValues, [source]: event.target.value }, null);\r\n        } else {\r\n            const { [source]: _, ...filters } = filterValues;\r\n            setFilters(filters, null);\r\n        }\r\n    };\r\n\r\n    const initialValues = useMemo(\r\n        () => ({\r\n            [source]: filterValues[source],\r\n        }),\r\n        [filterValues, source]\r\n    );\r\n\r\n    const onSubmit = () => undefined;\r\n    return (\r\n        <Form defaultValues={initialValues} onSubmit={onSubmit}>\r\n            <TextInput\r\n                resettable\r\n                helperText={false}\r\n                source={source}\r\n                InputProps={{\r\n                    endAdornment: (\r\n                        <InputAdornment position=\"end\">\r\n                            <SearchIcon color=\"disabled\" />\r\n                        </InputAdornment>\r\n                    ),\r\n                }}\r\n                onChange={handleChange}\r\n                size=\"small\"\r\n                {...(variant === 'outlined'\r\n                    ? { variant: 'outlined', label }\r\n                    : {\r\n                          placeholder: label,\r\n                          label: false,\r\n                          hiddenLabel: true,\r\n                      })}\r\n                {...rest}\r\n            />\r\n        </Form>\r\n    );\r\n});\r\n\r\nexport interface FilterLiveSearchProps extends Omit<TextInputProps, 'source'> {\r\n    source?: string;\r\n    sx?: SxProps;\r\n    label?: string;\r\n    fullWidth?: boolean;\r\n    variant?: 'filled' | 'outlined';\r\n}\r\n", "import * as React from 'react';\r\nimport { ReactElement, useState } from 'react';\r\nimport { IconButton, IconButtonProps } from '@mui/material';\r\nimport AddIcon from '@mui/icons-material/AddCircleOutline';\r\nimport { useTranslate } from 'ra-core';\r\n\r\nimport { AddSavedQueryDialog } from './AddSavedQueryDialog';\r\n\r\nexport const AddSavedQueryIconButton = (\r\n    props: IconButtonProps\r\n): ReactElement => {\r\n    const [open, setOpen] = useState(false);\r\n    const handleOpen = (): void => {\r\n        setOpen(true);\r\n    };\r\n    const handleClose = (): void => {\r\n        setOpen(false);\r\n    };\r\n    const translate = useTranslate();\r\n\r\n    return (\r\n        <>\r\n            <IconButton\r\n                aria-label={translate('ra.saved_queries.new_label', {\r\n                    _: 'Save current query...',\r\n                })}\r\n                size=\"small\"\r\n                onClick={handleOpen}\r\n                {...props}\r\n            >\r\n                <AddIcon />\r\n            </IconButton>\r\n\r\n            <AddSavedQueryDialog open={open} onClose={handleClose} />\r\n        </>\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactElement, useState } from 'react';\r\nimport { IconButton, IconButtonProps } from '@mui/material';\r\nimport RemoveIcon from '@mui/icons-material/RemoveCircleOutline';\r\nimport { useTranslate } from 'ra-core';\r\n\r\nimport { RemoveSavedQueryDialog } from './RemoveSavedQueryDialog';\r\n\r\nexport const RemoveSavedQueryIconButton = (\r\n    props: IconButtonProps\r\n): ReactElement => {\r\n    const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n    const handleConfirmationClose = (): void => {\r\n        setConfirmationOpen(false);\r\n    };\r\n\r\n    const handleRemoveQueryClick = (): void => {\r\n        setConfirmationOpen(true);\r\n    };\r\n    const translate = useTranslate();\r\n\r\n    return (\r\n        <>\r\n            <IconButton\r\n                aria-label={translate('ra.saved_queries.remove_label', {\r\n                    _: 'Remove saved query',\r\n                })}\r\n                size=\"small\"\r\n                onClick={handleRemoveQueryClick}\r\n                {...props}\r\n            >\r\n                <RemoveIcon />\r\n            </IconButton>\r\n\r\n            <RemoveSavedQueryDialog\r\n                open={confirmationOpen}\r\n                onClose={handleConfirmationClose}\r\n            />\r\n        </>\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { styled, Tooltip } from '@mui/material';\r\nimport BookmarkIcon from '@mui/icons-material/BookmarkBorder';\r\nimport HelpIcon from '@mui/icons-material/HelpOutline';\r\nimport { useListContext, useTranslate } from 'ra-core';\r\nimport isEqual from 'lodash/isEqual';\r\n\r\nimport { extractValidSavedQueries, useSavedQueries } from './useSavedQueries';\r\nimport { RemoveSavedQueryIconButton } from './RemoveSavedQueryIconButton';\r\nimport { AddSavedQueryIconButton } from './AddSavedQueryIconButton';\r\nimport { SavedQueryFilterListItem } from './SavedQueryFilterListItem';\r\nimport { FilterList } from './FilterList';\r\n\r\n/**\r\n * FilterList-like component allowing to save and restore a query (filters, sort, perPage).\r\n *\r\n * Use this component in a Filter sidebar to let users store custom queries\r\n * that they can reuse later. The saved queries will appear as FilterListItems,\r\n * and can be removed.\r\n *\r\n * This component uses useStore under the hood to store saved queries in\r\n * localStorage, one set of saved queries per resource.\r\n *\r\n * @example\r\n *\r\n * import { FilterList, FilterListItem, List, Datagrid, SavedQueriesList } from 'react-admin';\r\n * import { Card, CardContent } from '@mui/material';\r\n *\r\n * const PostFilterSidebar = () => (\r\n *     <Card>\r\n *         <CardContent>\r\n *             <SavedQueriesList />\r\n *             <FilterList label=\"Category\" icon={<CategoryIcon />}>\r\n *                 ...\r\n *             </FilterList>\r\n *             <FilterList label=\"Published\" icon={<DateRangeIcon />}>\r\n *                ...\r\n *             </FilterList>\r\n *             <FilterList label=\"Popularity\" icon={<DateRangeIcon />}>\r\n *                ...\r\n *             </FilterList>\r\n *         </CardContent>\r\n *     </Card>\r\n * );\r\n *\r\n * const PostList = () => (\r\n *     <List aside={<PostFilterSidebar />}>\r\n *         <Datagrid>\r\n *             ...\r\n *         </Datagrid>\r\n *     </List>\r\n * );\r\n *\r\n */\r\nexport const SavedQueriesList = ({\r\n    icon = defaultIcon,\r\n}: SavedQueriesListProps) => {\r\n    const translate = useTranslate();\r\n    const {\r\n        resource,\r\n        filterValues,\r\n        displayedFilters,\r\n        sort,\r\n        perPage,\r\n    } = useListContext();\r\n\r\n    const [savedQueries] = useSavedQueries(resource);\r\n    const validSavedQueries = extractValidSavedQueries(savedQueries);\r\n    const hasSavedCurrentFilterValue = validSavedQueries.some(savedQuery =>\r\n        isEqual(savedQuery.value, {\r\n            filter: filterValues,\r\n            sort,\r\n            perPage,\r\n            displayedFilters,\r\n        })\r\n    );\r\n    const hasFilterValues = !isEqual(filterValues, {});\r\n\r\n    return (\r\n        <Root label=\"ra.saved_queries.label\" icon={icon}>\r\n            {hasSavedCurrentFilterValue ? (\r\n                <RemoveSavedQueryIconButton\r\n                    className={SavedQueriesListClasses.floatingIcon}\r\n                />\r\n            ) : hasFilterValues ? (\r\n                <AddSavedQueryIconButton\r\n                    className={SavedQueriesListClasses.floatingIcon}\r\n                />\r\n            ) : (\r\n                <Tooltip\r\n                    title={translate('ra.saved_queries.help')}\r\n                    className={SavedQueriesListClasses.floatingTooltip}\r\n                >\r\n                    <HelpIcon />\r\n                </Tooltip>\r\n            )}\r\n            {validSavedQueries.map((savedQuery, index) => (\r\n                <SavedQueryFilterListItem\r\n                    label={savedQuery.label}\r\n                    value={savedQuery.value}\r\n                    key={index}\r\n                />\r\n            ))}\r\n        </Root>\r\n    );\r\n};\r\n\r\nconst PREFIX = 'RaSavedQueriesList';\r\n\r\nexport const SavedQueriesListClasses = {\r\n    floatingIcon: `${PREFIX}-floatingIcon`,\r\n    floatingTooltip: `${PREFIX}-floatingTooltip`,\r\n    titleContainer: `${PREFIX}-titleContainer`,\r\n    titleIcon: `${PREFIX}-titleIcon`,\r\n};\r\n\r\nconst Root = styled(FilterList, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${SavedQueriesListClasses.floatingIcon}`]: {\r\n        position: 'absolute',\r\n        top: '-1.8em',\r\n        right: 0,\r\n    },\r\n    [`& .${SavedQueriesListClasses.floatingTooltip}`]: {\r\n        position: 'absolute',\r\n        top: '-1.2em',\r\n        right: 3,\r\n        color: theme.palette.action.disabled,\r\n    },\r\n}));\r\n\r\nconst defaultIcon = <BookmarkIcon />;\r\n\r\nexport interface SavedQueriesListProps {\r\n    icon?: ReactNode;\r\n}\r\n", "import * as React from 'react';\r\nimport { ReactElement, memo } from 'react';\r\nimport {\r\n    IconButton,\r\n    ListItem,\r\n    ListItemButton,\r\n    ListItemProps,\r\n    ListItemText,\r\n    ListItemSecondaryAction,\r\n    styled,\r\n} from '@mui/material';\r\nimport CancelIcon from '@mui/icons-material/CancelOutlined';\r\nimport isEqual from 'lodash/isEqual';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { stringify } from 'query-string';\r\nimport { useListContext } from 'ra-core';\r\n\r\nimport { SavedQuery } from './useSavedQueries';\r\n\r\nconst arePropsEqual = (\r\n    prevProps: SavedQueryFilterListItemProps,\r\n    nextProps: SavedQueryFilterListItemProps\r\n): boolean =>\r\n    prevProps.label === nextProps.label &&\r\n    isEqual(prevProps.value, nextProps.value);\r\n\r\nexport const SavedQueryFilterListItem = memo(\r\n    (props: SavedQueryFilterListItemProps): ReactElement => {\r\n        const { className, label, sx, value } = props;\r\n        const {\r\n            filterValues,\r\n            sort,\r\n            perPage,\r\n            displayedFilters,\r\n        } = useListContext();\r\n        const navigate = useNavigate();\r\n\r\n        const isSelected = isEqual(value, {\r\n            filter: filterValues,\r\n            sort,\r\n            perPage,\r\n            displayedFilters,\r\n        });\r\n\r\n        const addFilter = (): void => {\r\n            navigate({\r\n                search: stringify({\r\n                    filter: JSON.stringify(value.filter),\r\n                    sort: value.sort.field,\r\n                    order: value.sort.order,\r\n                    page: 1,\r\n                    perPage: value.perPage,\r\n                    displayedFilters: JSON.stringify(value.displayedFilters),\r\n                }),\r\n            });\r\n        };\r\n\r\n        const removeFilter = (): void => {\r\n            navigate({\r\n                search: stringify({\r\n                    filter: JSON.stringify({}),\r\n                }),\r\n            });\r\n        };\r\n\r\n        const toggleFilter = (): void =>\r\n            isSelected ? removeFilter() : addFilter();\r\n\r\n        return (\r\n            // @ts-ignore\r\n            <StyledListItem\r\n                onClick={toggleFilter}\r\n                selected={isSelected}\r\n                className={className}\r\n                sx={sx}\r\n                disablePadding\r\n            >\r\n                <ListItemButton\r\n                    disableGutters\r\n                    className={SavedQueryFilterListItemClasses.listItemButton}\r\n                >\r\n                    <ListItemText\r\n                        primary={label}\r\n                        className={SavedQueryFilterListItemClasses.listItemText}\r\n                    />\r\n                    {isSelected && (\r\n                        <ListItemSecondaryAction>\r\n                            <IconButton size=\"small\" onClick={toggleFilter}>\r\n                                <CancelIcon />\r\n                            </IconButton>\r\n                        </ListItemSecondaryAction>\r\n                    )}\r\n                </ListItemButton>\r\n            </StyledListItem>\r\n        );\r\n    },\r\n    arePropsEqual\r\n);\r\n\r\nconst PREFIX = 'RaSavedQueryFilterListItem';\r\nexport const SavedQueryFilterListItemClasses = {\r\n    listItemButton: `${PREFIX}-listItemButton`,\r\n    listItemText: `${PREFIX}-listItemText`,\r\n};\r\n\r\nconst StyledListItem = styled(ListItem, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(() => ({\r\n    [`& .${SavedQueryFilterListItemClasses.listItemButton}`]: {\r\n        paddingRight: '2em',\r\n        paddingLeft: '2em',\r\n    },\r\n    [`& .${SavedQueryFilterListItemClasses.listItemText}`]: {\r\n        margin: 0,\r\n    },\r\n}));\r\n\r\nexport interface SavedQueryFilterListItemProps\r\n    extends SavedQuery,\r\n        Omit<ListItemProps, 'value'> {}\r\n", "import * as React from 'react';\r\nimport { useEffect, useRef } from 'react';\r\nimport {\r\n    useInfinitePaginationContext,\r\n    useListContext,\r\n    useEvent,\r\n} from 'ra-core';\r\nimport { Box, CircularProgress, SxProps } from '@mui/material';\r\n\r\n/**\r\n * A pagination component that loads more results when the user scrolls to the bottom of the list.\r\n *\r\n * Used as the default pagination component in the <InfiniteList> component.\r\n *\r\n * @example\r\n * import { InfiniteList, InfinitePagination, Datagrid, TextField } from 'react-admin';\r\n *\r\n * const PostList = () => (\r\n *    <InfiniteList pagination={<InfinitePagination sx={{ py: 5 }} />}>\r\n *       <Datagrid>\r\n *          <TextField source=\"id\" />\r\n *         <TextField source=\"title\" />\r\n *      </Datagrid>\r\n *   </InfiniteList>\r\n * );\r\n */\r\nexport const InfinitePagination = ({\r\n    options = defaultOptions,\r\n    sx,\r\n}: InfinitePaginationProps) => {\r\n    const { isLoading } = useListContext();\r\n    const {\r\n        fetchNextPage,\r\n        hasNextPage,\r\n        isFetchingNextPage,\r\n    } = useInfinitePaginationContext();\r\n\r\n    if (!fetchNextPage) {\r\n        throw new Error(\r\n            'InfinitePagination must be used inside an InfinitePaginationContext, usually created by <InfiniteList>. You cannot use it as child of a <List> component.'\r\n        );\r\n    }\r\n\r\n    const observerElem = useRef(null);\r\n\r\n    const handleObserver = useEvent<[IntersectionObserverEntry[]], void>(\r\n        entries => {\r\n            const [target] = entries;\r\n            if (target.isIntersecting && hasNextPage && !isFetchingNextPage) {\r\n                fetchNextPage();\r\n            }\r\n        }\r\n    );\r\n\r\n    useEffect(() => {\r\n        const element = observerElem.current;\r\n        if (!element) return;\r\n        const observer = new IntersectionObserver(handleObserver, options);\r\n        observer.observe(element);\r\n        return () => observer.unobserve(element);\r\n    }, [\r\n        fetchNextPage,\r\n        hasNextPage,\r\n        handleObserver,\r\n        options,\r\n        isLoading,\r\n        isFetchingNextPage,\r\n    ]);\r\n\r\n    if (isLoading) return null;\r\n\r\n    return (\r\n        <Box ref={observerElem} py={2} textAlign=\"center\" sx={sx}>\r\n            {isFetchingNextPage && hasNextPage && (\r\n                <CircularProgress size=\"1.5em\" />\r\n            )}\r\n        </Box>\r\n    );\r\n};\r\n\r\nconst defaultOptions = { threshold: 0 };\r\n\r\nexport interface InfinitePaginationProps {\r\n    options?: IntersectionObserverInit;\r\n    sx?: SxProps;\r\n}\r\n", "import * as React from 'react';\r\nimport { useCallback, useMemo, FC, memo, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    TablePagination,\r\n    TablePaginationBaseProps,\r\n    Toolbar,\r\n    useMediaQuery,\r\n    Theme,\r\n} from '@mui/material';\r\nimport {\r\n    useTranslate,\r\n    useListPaginationContext,\r\n    sanitizeListRestProps,\r\n    ComponentPropType,\r\n    ListPaginationContextValue,\r\n} from 'ra-core';\r\n\r\nimport { PaginationActions } from './PaginationActions';\r\n\r\nexport const Pagination: FC<PaginationProps> = memo(props => {\r\n    const {\r\n        rowsPerPageOptions = DefaultRowsPerPageOptions,\r\n        actions,\r\n        limit = null,\r\n        ...rest\r\n    } = props;\r\n    const {\r\n        isLoading,\r\n        hasNextPage,\r\n        page,\r\n        perPage,\r\n        total,\r\n        setPage,\r\n        setPerPage,\r\n    } = useListPaginationContext(props);\r\n    const translate = useTranslate();\r\n    const isSmall = useMediaQuery((theme: Theme) =>\r\n        theme.breakpoints.down('md')\r\n    );\r\n\r\n    const totalPages = useMemo(() => {\r\n        return total != null ? Math.ceil(total / perPage) : undefined;\r\n    }, [perPage, total]);\r\n\r\n    /**\r\n     * Warning: Material UI's page is 0-based\r\n     */\r\n    const handlePageChange = useCallback(\r\n        (event, page) => {\r\n            event && event.stopPropagation();\r\n            if (page < 0 || page > totalPages - 1) {\r\n                throw new Error(\r\n                    translate('ra.navigation.page_out_of_boundaries', {\r\n                        page: page + 1,\r\n                    })\r\n                );\r\n            }\r\n            setPage(page + 1);\r\n        },\r\n        [totalPages, setPage, translate]\r\n    );\r\n\r\n    const handlePerPageChange = useCallback(\r\n        event => {\r\n            setPerPage(event.target.value);\r\n        },\r\n        [setPerPage]\r\n    );\r\n\r\n    const labelDisplayedRows = useCallback(\r\n        ({ from, to, count }) =>\r\n            count === -1 && hasNextPage\r\n                ? translate('ra.navigation.partial_page_range_info', {\r\n                      offsetBegin: from,\r\n                      offsetEnd: to,\r\n                      _: `%{from}-%{to} of more than %{to}`,\r\n                  })\r\n                : translate('ra.navigation.page_range_info', {\r\n                      offsetBegin: from,\r\n                      offsetEnd: to,\r\n                      total: count === -1 ? to : count,\r\n                      _: `%{from}-%{to} of %{count === -1 ? to : count}`,\r\n                  }),\r\n        [translate, hasNextPage]\r\n    );\r\n\r\n    const labelItem = useCallback(\r\n        type => translate(`ra.navigation.${type}`, { _: `Go to ${type} page` }),\r\n        [translate]\r\n    );\r\n\r\n    if (isLoading) {\r\n        return <Toolbar variant=\"dense\" />;\r\n    }\r\n\r\n    // Avoid rendering TablePagination if \"page\" value is invalid\r\n    if (total === 0 || page < 1 || (total != null && page > totalPages)) {\r\n        if (limit != null && process.env.NODE_ENV === 'development') {\r\n            console.warn(\r\n                'The Pagination limit prop is deprecated. Empty state should be handled by the component displaying data (Datagrid, SimpleList).'\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n\r\n    if (isSmall) {\r\n        return (\r\n            <TablePagination\r\n                count={total == null ? -1 : total}\r\n                rowsPerPage={perPage}\r\n                page={page - 1}\r\n                onPageChange={handlePageChange}\r\n                rowsPerPageOptions={emptyArray}\r\n                component=\"span\"\r\n                labelDisplayedRows={labelDisplayedRows}\r\n                {...sanitizeListRestProps(rest)}\r\n            />\r\n        );\r\n    }\r\n\r\n    const ActionsComponent = actions\r\n        ? actions // overridden by caller\r\n        : !isLoading && total != null\r\n        ? PaginationActions // regular navigation\r\n        : undefined; // partial navigation (uses default TablePaginationActions)\r\n\r\n    return (\r\n        <TablePagination\r\n            count={total == null ? -1 : total}\r\n            rowsPerPage={perPage}\r\n            page={page - 1}\r\n            onPageChange={handlePageChange}\r\n            onRowsPerPageChange={handlePerPageChange}\r\n            // @ts-ignore\r\n            ActionsComponent={ActionsComponent}\r\n            nextIconButtonProps={{\r\n                disabled: !hasNextPage,\r\n            }}\r\n            component=\"span\"\r\n            labelRowsPerPage={translate('ra.navigation.page_rows_per_page')}\r\n            labelDisplayedRows={labelDisplayedRows}\r\n            getItemAriaLabel={labelItem}\r\n            rowsPerPageOptions={rowsPerPageOptions}\r\n            {...sanitizeListRestProps(rest)}\r\n        />\r\n    );\r\n});\r\n\r\nPagination.propTypes = {\r\n    actions: ComponentPropType,\r\n    limit: PropTypes.element,\r\n    rowsPerPageOptions: PropTypes.arrayOf(PropTypes.number),\r\n};\r\n\r\nconst DefaultRowsPerPageOptions = [5, 10, 25, 50];\r\nconst emptyArray = [];\r\n\r\nexport interface PaginationProps\r\n    extends TablePaginationBaseProps,\r\n        Partial<ListPaginationContextValue> {\r\n    rowsPerPageOptions?: number[];\r\n    actions?: FC;\r\n    limit?: ReactElement;\r\n}\r\n", "import * as React from 'react';\r\nimport { memo, FC } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Pagination, PaginationProps } from '@mui/material';\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslate } from 'ra-core';\r\n\r\nexport const PaginationActions: FC<PaginationActionsProps> = memo(props => {\r\n    const {\r\n        page,\r\n        rowsPerPage,\r\n        count,\r\n        onPageChange,\r\n        size = 'small',\r\n        className,\r\n        ...rest\r\n    } = props;\r\n    const translate = useTranslate();\r\n\r\n    const nbPages = Math.ceil(count / rowsPerPage) || 1;\r\n\r\n    if (nbPages === 1) {\r\n        return <Root className={className} />;\r\n    }\r\n\r\n    const getItemAriaLabel = (\r\n        type: 'page' | 'first' | 'last' | 'next' | 'previous',\r\n        page: number,\r\n        selected: boolean\r\n    ) => {\r\n        if (type === 'page') {\r\n            return selected\r\n                ? translate('ra.navigation.current_page', {\r\n                      page,\r\n                      _: `page ${page}`,\r\n                  })\r\n                : translate('ra.navigation.page', {\r\n                      page,\r\n                      _: `Go to page ${page}`,\r\n                  });\r\n        }\r\n        return translate(`ra.navigation.${type}`, { _: `Go to ${type} page` });\r\n    };\r\n\r\n    return (\r\n        <Root className={className}>\r\n            <Pagination\r\n                size={size}\r\n                count={nbPages}\r\n                // <TablePagination>, the parent, uses 0-based pagination\r\n                // while <Pagination> uses 1-based pagination\r\n                page={page + 1}\r\n                onChange={(e: any, page) => onPageChange(e, page - 1)}\r\n                {...sanitizeRestProps(rest)}\r\n                getItemAriaLabel={getItemAriaLabel}\r\n            />\r\n        </Root>\r\n    );\r\n});\r\n\r\nexport interface PaginationActionsProps extends PaginationProps {\r\n    page: number;\r\n    rowsPerPage: number;\r\n    count: number;\r\n    onPageChange: (event: MouseEvent, page: number) => void;\r\n}\r\n/**\r\n * PaginationActions propTypes are copied over from Material UI’s\r\n * TablePaginationActions propTypes. See\r\n * https://github.com/mui/material-ui/blob/869692ecf3812bc4577ed4dde81a9911c5949695/packages/material-ui/src/TablePaginationActions/TablePaginationActions.js#L53-L85\r\n * for reference.\r\n */\r\nPaginationActions.propTypes = {\r\n    count: PropTypes.number.isRequired,\r\n    onPageChange: PropTypes.func.isRequired,\r\n    page: PropTypes.number.isRequired,\r\n    rowsPerPage: PropTypes.number.isRequired,\r\n    color: PropTypes.oneOf(['primary', 'secondary', 'standard']),\r\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\r\n};\r\n\r\nconst PREFIX = 'RaPaginationActions';\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(() => ({\r\n    flexShrink: 0,\r\n    ml: 4,\r\n}));\r\n\r\nconst sanitizeRestProps = ({\r\n    nextIconButtonProps,\r\n    backIconButtonProps,\r\n    ...rest\r\n}: any) => rest;\r\n", "import * as React from 'react';\r\nimport { memo } from 'react';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typography from '@mui/material/Typography';\r\nimport { useTranslate } from 'ra-core';\r\n\r\n/**\r\n * @deprecated Empty state should be handled by the component displaying data (Datagrid, SimpleList).\r\n */\r\nexport const PaginationLimit = memo(() => {\r\n    const translate = useTranslate();\r\n    return (\r\n        <CardContent>\r\n            <Typography variant=\"body2\">\r\n                {translate('ra.navigation.no_results')}\r\n            </Typography>\r\n        </CardContent>\r\n    );\r\n});\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport TextField, { TextFieldProps } from '@mui/material/TextField';\r\nimport { useInput, FieldTitle } from 'ra-core';\r\n\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\r\nimport { InputHelperText } from './InputHelperText';\r\n\r\n/**\r\n * Form input to edit a Date string value in the \"YYYY-MM-DD\" format (e.g. '2021-06-23').\r\n *\r\n * Renders a date picker (the exact UI depends on the browser).\r\n *\r\n * @example\r\n * import { Edit, SimpleForm, DateInput } from 'react-admin';\r\n *\r\n * const PostEdit = (props) => (\r\n *     <Edit {...props}>\r\n *         <SimpleForm>\r\n *             <DateInput source=\"published_at\" />\r\n *         </SimpleForm>\r\n *     </Edit>\r\n * );\r\n *\r\n * @example\r\n * // If the initial value is a Date object, DateInput converts it to a string\r\n * // but you must pass a custom parse method to convert the form value\r\n * // (which is always a date string) back to a Date object.\r\n * <DateInput source=\"published_at\" parse={val => new Date(val)} />\r\n */\r\nexport const DateInput = ({\r\n    className,\r\n    defaultValue,\r\n    format = getStringFromDate,\r\n    label,\r\n    name,\r\n    source,\r\n    resource,\r\n    helperText,\r\n    margin,\r\n    onBlur,\r\n    onChange,\r\n    parse,\r\n    validate,\r\n    variant,\r\n    ...rest\r\n}: DateInputProps) => {\r\n    const { field, fieldState, formState, id, isRequired } = useInput({\r\n        defaultValue,\r\n        name,\r\n        format,\r\n        parse,\r\n        onBlur,\r\n        onChange,\r\n        resource,\r\n        source,\r\n        validate,\r\n        ...rest,\r\n    });\r\n\r\n    const { error, invalid, isTouched } = fieldState;\r\n    const { isSubmitted } = formState;\r\n    const renderHelperText =\r\n        helperText !== false || ((isTouched || isSubmitted) && invalid);\r\n\r\n    return (\r\n        <TextField\r\n            id={id}\r\n            {...field}\r\n            className={clsx('ra-input', `ra-input-${source}`, className)}\r\n            type=\"date\"\r\n            size=\"small\"\r\n            variant={variant}\r\n            margin={margin}\r\n            error={(isTouched || isSubmitted) && invalid}\r\n            helperText={\r\n                renderHelperText ? (\r\n                    <InputHelperText\r\n                        touched={isTouched || isSubmitted}\r\n                        error={error?.message}\r\n                        helperText={helperText}\r\n                    />\r\n                ) : null\r\n            }\r\n            label={\r\n                <FieldTitle\r\n                    label={label}\r\n                    source={source}\r\n                    resource={resource}\r\n                    isRequired={isRequired}\r\n                />\r\n            }\r\n            InputLabelProps={defaultInputLabelProps}\r\n            {...sanitizeInputRestProps(rest)}\r\n        />\r\n    );\r\n};\r\n\r\nDateInput.propTypes = {\r\n    label: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.element,\r\n    ]),\r\n    resource: PropTypes.string,\r\n    source: PropTypes.string,\r\n};\r\n\r\nexport type DateInputProps = CommonInputProps &\r\n    Omit<TextFieldProps, 'helperText' | 'label'>;\r\n\r\n/**\r\n * Convert Date object to String\r\n *\r\n * @param {Date} value value to convert\r\n * @returns {String} A standardized date (yyyy-MM-dd), to be passed to an <input type=\"date\" />\r\n */\r\nconst convertDateToString = (value: Date) => {\r\n    if (!(value instanceof Date) || isNaN(value.getDate())) return '';\r\n    const pad = '00';\r\n    const yyyy = value.getFullYear().toString();\r\n    const MM = (value.getMonth() + 1).toString();\r\n    const dd = value.getDate().toString();\r\n    return `${yyyy}-${(pad + MM).slice(-2)}-${(pad + dd).slice(-2)}`;\r\n};\r\n\r\nconst dateRegex = /^\\d{4}-\\d{2}-\\d{2}$/;\r\nconst defaultInputLabelProps = { shrink: true };\r\n\r\nconst getStringFromDate = (value: string | Date) => {\r\n    // null, undefined and empty string values should not go through dateFormatter\r\n    // otherwise, it returns undefined and will make the input an uncontrolled one.\r\n    if (value == null || value === '') {\r\n        return '';\r\n    }\r\n\r\n    if (value instanceof Date) {\r\n        return convertDateToString(value);\r\n    }\r\n\r\n    // valid dates should not be converted\r\n    if (dateRegex.test(value)) {\r\n        return value;\r\n    }\r\n\r\n    return convertDateToString(new Date(value));\r\n};\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport TextField, { TextFieldProps } from '@mui/material/TextField';\r\nimport { useInput, FieldTitle } from 'ra-core';\r\n\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\r\nimport { InputHelperText } from './InputHelperText';\r\n\r\n/**\r\n * Converts a datetime string without timezone to a date object\r\n * with timezone, using the browser timezone.\r\n *\r\n * @param {string} value Date string, formatted as yyyy-MM-ddThh:mm\r\n * @return {Date}\r\n */\r\nconst parseDateTime = (value: string) =>\r\n    value ? new Date(value) : value === '' ? null : value;\r\n\r\n/**\r\n * Input component for entering a date and a time with timezone, using the browser locale\r\n */\r\nexport const DateTimeInput = ({\r\n    className,\r\n    defaultValue,\r\n    format = formatDateTime,\r\n    label,\r\n    helperText,\r\n    margin,\r\n    onBlur,\r\n    onChange,\r\n    source,\r\n    resource,\r\n    parse = parseDateTime,\r\n    validate,\r\n    variant,\r\n    ...rest\r\n}: DateTimeInputProps) => {\r\n    const { field, fieldState, formState, id, isRequired } = useInput({\r\n        defaultValue,\r\n        format,\r\n        parse,\r\n        onBlur,\r\n        onChange,\r\n        resource,\r\n        source,\r\n        validate,\r\n        ...rest,\r\n    });\r\n\r\n    const { error, invalid, isTouched } = fieldState;\r\n    const { isSubmitted } = formState;\r\n    const renderHelperText =\r\n        helperText !== false || ((isTouched || isSubmitted) && invalid);\r\n    return (\r\n        <TextField\r\n            id={id}\r\n            {...field}\r\n            className={clsx('ra-input', `ra-input-${source}`, className)}\r\n            type=\"datetime-local\"\r\n            size=\"small\"\r\n            variant={variant}\r\n            margin={margin}\r\n            error={(isTouched || isSubmitted) && invalid}\r\n            helperText={\r\n                renderHelperText ? (\r\n                    <InputHelperText\r\n                        touched={isTouched || isSubmitted}\r\n                        error={error?.message}\r\n                        helperText={helperText}\r\n                    />\r\n                ) : null\r\n            }\r\n            label={\r\n                <FieldTitle\r\n                    label={label}\r\n                    source={source}\r\n                    resource={resource}\r\n                    isRequired={isRequired}\r\n                />\r\n            }\r\n            InputLabelProps={defaultInputLabelProps}\r\n            {...sanitizeInputRestProps(rest)}\r\n        />\r\n    );\r\n};\r\n\r\nDateTimeInput.propTypes = {\r\n    label: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.element,\r\n    ]),\r\n    resource: PropTypes.string,\r\n    source: PropTypes.string,\r\n};\r\n\r\nexport type DateTimeInputProps = CommonInputProps &\r\n    Omit<TextFieldProps, 'helperText' | 'label'>;\r\n\r\nconst leftPad = (nb = 2) => value => ('0'.repeat(nb) + value).slice(-nb);\r\nconst leftPad4 = leftPad(4);\r\nconst leftPad2 = leftPad(2);\r\n\r\n/**\r\n * @param {Date} value value to convert\r\n * @returns {String} A standardized datetime (yyyy-MM-ddThh:mm), to be passed to an <input type=\"datetime-local\" />\r\n */\r\nconst convertDateToString = (value: Date) => {\r\n    if (!(value instanceof Date) || isNaN(value.getDate())) return '';\r\n    const yyyy = leftPad4(value.getFullYear());\r\n    const MM = leftPad2(value.getMonth() + 1);\r\n    const dd = leftPad2(value.getDate());\r\n    const hh = leftPad2(value.getHours());\r\n    const mm = leftPad2(value.getMinutes());\r\n    return `${yyyy}-${MM}-${dd}T${hh}:${mm}`;\r\n};\r\n\r\n// yyyy-MM-ddThh:mm\r\nconst dateTimeRegex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}$/;\r\nconst defaultInputLabelProps = { shrink: true };\r\n\r\n/**\r\n * Converts a date from the dataProvider, with timezone, to a date string\r\n * without timezone for use in an <input type=\"datetime-local\" />.\r\n *\r\n * @param {Date | String} value date string or object\r\n */\r\nconst formatDateTime = (value: string | Date) => {\r\n    // null, undefined and empty string values should not go through convertDateToString\r\n    // otherwise, it returns undefined and will make the input an uncontrolled one.\r\n    if (value == null || value === '') {\r\n        return '';\r\n    }\r\n\r\n    if (value instanceof Date) {\r\n        return convertDateToString(value);\r\n    }\r\n    // valid dates should not be converted\r\n    if (dateTimeRegex.test(value)) {\r\n        return value;\r\n    }\r\n\r\n    return convertDateToString(new Date(value));\r\n};\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport TextField, { TextFieldProps } from '@mui/material/TextField';\r\nimport { useInput, FieldTitle } from 'ra-core';\r\n\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\r\nimport { InputHelperText } from './InputHelperText';\r\n\r\n/**\r\n * Converts a time string without timezone to a date object\r\n * with timezone, using the browser timezone.\r\n *\r\n * @param {string} value Date string, formatted as hh:mm\r\n * @return {Date}\r\n */\r\nconst parseTime = (value: string) => {\r\n    if (!value) return null;\r\n    const timeTokens = value.split(':').map(v => parseInt(v));\r\n    const today = new Date();\r\n    today.setHours(timeTokens[0] ?? 0);\r\n    today.setMinutes(timeTokens[1] ?? 0);\r\n    return today;\r\n};\r\n\r\n/**\r\n * Form input to edit a time string value in the \"HH:mm\" format (e.g. '17:45'),\r\n * using the browser locale for the timezone.\r\n *\r\n * Renders a time picker or a text input depending on the browser.\r\n *\r\n * This component works with Date objects to handle the timezone using the browser locale.\r\n * You can still pass string values as long as those can be converted to a JavaScript Date object.\r\n *\r\n * @example\r\n * import { Edit, SimpleForm, TimeInput } from 'react-admin';\r\n *\r\n * const PostEdit = (props) => (\r\n *     <Edit {...props}>\r\n *         <SimpleForm>\r\n *             <TimeInput source=\"published_at\" />\r\n *         </SimpleForm>\r\n *     </Edit>\r\n * );\r\n */\r\nexport const TimeInput = ({\r\n    className,\r\n    defaultValue,\r\n    format = formatTime,\r\n    label,\r\n    helperText,\r\n    margin,\r\n    onBlur,\r\n    onChange,\r\n    source,\r\n    resource,\r\n    parse = parseTime,\r\n    validate,\r\n    variant,\r\n    ...rest\r\n}: TimeInputProps) => {\r\n    const { field, fieldState, formState, id, isRequired } = useInput({\r\n        defaultValue,\r\n        format,\r\n        parse,\r\n        onBlur,\r\n        onChange,\r\n        resource,\r\n        source,\r\n        validate,\r\n        ...rest,\r\n    });\r\n\r\n    const { error, invalid, isTouched } = fieldState;\r\n    const { isSubmitted } = formState;\r\n\r\n    const renderHelperText =\r\n        helperText !== false || ((isTouched || isSubmitted) && invalid);\r\n\r\n    return (\r\n        <TextField\r\n            id={id}\r\n            {...field}\r\n            className={clsx('ra-input', `ra-input-${source}`, className)}\r\n            type=\"time\"\r\n            size=\"small\"\r\n            variant={variant}\r\n            margin={margin}\r\n            error={(isTouched || isSubmitted) && invalid}\r\n            helperText={\r\n                renderHelperText ? (\r\n                    <InputHelperText\r\n                        touched={isTouched || isSubmitted}\r\n                        error={error?.message}\r\n                        helperText={helperText}\r\n                    />\r\n                ) : null\r\n            }\r\n            label={\r\n                <FieldTitle\r\n                    label={label}\r\n                    source={source}\r\n                    resource={resource}\r\n                    isRequired={isRequired}\r\n                />\r\n            }\r\n            InputLabelProps={defaultInputLabelProps}\r\n            {...sanitizeInputRestProps(rest)}\r\n        />\r\n    );\r\n};\r\n\r\nTimeInput.propTypes = {\r\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\r\n    resource: PropTypes.string,\r\n    source: PropTypes.string,\r\n};\r\n\r\nexport type TimeInputProps = CommonInputProps &\r\n    Omit<TextFieldProps, 'helperText' | 'label'>;\r\n\r\nconst leftPad = (nb = 2) => value => ('0'.repeat(nb) + value).slice(-nb);\r\nconst leftPad2 = leftPad(2);\r\n\r\n/**\r\n * @param {Date} value value to convert\r\n * @returns {String} A standardized time (hh:mm), to be passed to an <input type=\"time\" />\r\n */\r\nconst convertDateToString = (value: Date) => {\r\n    if (!(value instanceof Date) || isNaN(value.getDate())) return '';\r\n    const hh = leftPad2(value.getHours());\r\n    const mm = leftPad2(value.getMinutes());\r\n    return `${hh}:${mm}`;\r\n};\r\n\r\n// hh:mm\r\nconst timeRegex = /^\\d{2}:\\d{2}$/;\r\nconst defaultInputLabelProps = { shrink: true };\r\n\r\n/**\r\n * Converts a date from the dataProvider, with timezone, to a time string\r\n * without timezone for use in an <input type=\"time\" />.\r\n *\r\n * @param {Date | String} value date string or object\r\n */\r\nconst formatTime = (value: string | Date) => {\r\n    // null, undefined and empty string values should not go through convertDateToString\r\n    // otherwise, it returns undefined and will make the input an uncontrolled one.\r\n    if (value == null || value === '') {\r\n        return '';\r\n    }\r\n\r\n    if (value instanceof Date) {\r\n        return convertDateToString(value);\r\n    }\r\n    // valid dates should not be converted\r\n    if (timeRegex.test(value)) {\r\n        return value;\r\n    }\r\n\r\n    return convertDateToString(new Date(value));\r\n};\r\n", "import React, {\r\n    Children,\r\n    FC,\r\n    isValidElement,\r\n    ReactElement,\r\n    ReactNode,\r\n} from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { useDropzone, DropzoneOptions } from 'react-dropzone';\r\nimport FormHelperText from '@mui/material/FormHelperText';\r\nimport {\r\n    useInput,\r\n    useTranslate,\r\n    shallowEqual,\r\n    RecordContextProvider,\r\n} from 'ra-core';\r\n\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { Labeled } from '../Labeled';\r\nimport { FileInputPreview } from './FileInputPreview';\r\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\r\nimport { InputHelperText } from './InputHelperText';\r\nimport { SxProps } from '@mui/system';\r\nimport { SvgIconProps } from '@mui/material';\r\n\r\nexport const FileInput = (props: FileInputProps) => {\r\n    const {\r\n        accept,\r\n        children,\r\n        className,\r\n        format,\r\n        helperText,\r\n        inputProps: inputPropsOptions,\r\n        maxSize,\r\n        minSize,\r\n        multiple = false,\r\n        label,\r\n        labelMultiple = 'ra.input.file.upload_several',\r\n        labelSingle = 'ra.input.file.upload_single',\r\n        options = {},\r\n        onRemove: onRemoveProp,\r\n        parse,\r\n        placeholder,\r\n        removeIcon,\r\n        resource,\r\n        source,\r\n        validate,\r\n        validateFileRemoval,\r\n        ...rest\r\n    } = props;\r\n    const { onDrop: onDropProp } = options;\r\n    const translate = useTranslate();\r\n\r\n    // turn a browser dropped file structure into expected structure\r\n    const transformFile = file => {\r\n        if (!(file instanceof File)) {\r\n            return file;\r\n        }\r\n\r\n        const preview = URL.createObjectURL(file);\r\n        const transformedFile = {\r\n            rawFile: file,\r\n            src: preview,\r\n            title: file.name,\r\n        };\r\n\r\n        return transformedFile;\r\n    };\r\n\r\n    const transformFiles = (files: any[]) => {\r\n        if (!files) {\r\n            return multiple ? [] : null;\r\n        }\r\n\r\n        if (Array.isArray(files)) {\r\n            return files.map(transformFile);\r\n        }\r\n\r\n        return transformFile(files);\r\n    };\r\n\r\n    const {\r\n        id,\r\n        field: { onChange, value },\r\n        fieldState,\r\n        formState: { isSubmitted },\r\n        isRequired,\r\n    } = useInput({\r\n        format: format || transformFiles,\r\n        parse: parse || transformFiles,\r\n        source,\r\n        validate,\r\n        ...rest,\r\n    });\r\n    const { isTouched, error, invalid } = fieldState;\r\n    const files = value ? (Array.isArray(value) ? value : [value]) : [];\r\n\r\n    const onDrop = (newFiles, rejectedFiles, event) => {\r\n        const updatedFiles = multiple ? [...files, ...newFiles] : [...newFiles];\r\n\r\n        if (multiple) {\r\n            onChange(updatedFiles);\r\n        } else {\r\n            onChange(updatedFiles[0]);\r\n        }\r\n\r\n        if (onDropProp) {\r\n            onDropProp(newFiles, rejectedFiles, event);\r\n        }\r\n    };\r\n\r\n    const onRemove = file => async () => {\r\n        if (validateFileRemoval) {\r\n            try {\r\n                await validateFileRemoval(file);\r\n            } catch (e) {\r\n                return;\r\n            }\r\n        }\r\n        if (multiple) {\r\n            const filteredFiles = files.filter(\r\n                stateFile => !shallowEqual(stateFile, file)\r\n            );\r\n            onChange(filteredFiles as any);\r\n        } else {\r\n            onChange(null);\r\n        }\r\n\r\n        if (onRemoveProp) {\r\n            onRemoveProp(file);\r\n        }\r\n    };\r\n\r\n    const childrenElement =\r\n        children && isValidElement(Children.only(children))\r\n            ? (Children.only(children) as ReactElement<any>)\r\n            : undefined;\r\n\r\n    const { getRootProps, getInputProps } = useDropzone({\r\n        accept,\r\n        maxSize,\r\n        minSize,\r\n        multiple,\r\n        ...options,\r\n        onDrop,\r\n    });\r\n\r\n    const renderHelperText =\r\n        helperText !== false || ((isTouched || isSubmitted) && invalid);\r\n\r\n    return (\r\n        <StyledLabeled\r\n            htmlFor={id}\r\n            label={label}\r\n            className={clsx('ra-input', `ra-input-${source}`, className)}\r\n            source={source}\r\n            resource={resource}\r\n            isRequired={isRequired}\r\n            color={(isTouched || isSubmitted) && invalid ? 'error' : undefined}\r\n            {...sanitizeInputRestProps(rest)}\r\n        >\r\n            <>\r\n                <div\r\n                    {...getRootProps({\r\n                        className: FileInputClasses.dropZone,\r\n                        'data-testid': 'dropzone',\r\n                    })}\r\n                >\r\n                    <input\r\n                        id={id}\r\n                        name={id}\r\n                        {...getInputProps({\r\n                            ...inputPropsOptions,\r\n                        })}\r\n                    />\r\n                    {placeholder ? (\r\n                        placeholder\r\n                    ) : multiple ? (\r\n                        <p>{translate(labelMultiple)}</p>\r\n                    ) : (\r\n                        <p>{translate(labelSingle)}</p>\r\n                    )}\r\n                </div>\r\n                {renderHelperText ? (\r\n                    <FormHelperText\r\n                        error={(isTouched || isSubmitted) && invalid}\r\n                    >\r\n                        <InputHelperText\r\n                            touched={isTouched || isSubmitted}\r\n                            error={error?.message}\r\n                            helperText={helperText}\r\n                        />\r\n                    </FormHelperText>\r\n                ) : null}\r\n\r\n                {children && (\r\n                    <div className=\"previews\">\r\n                        {files.map((file, index) => (\r\n                            <FileInputPreview\r\n                                key={index}\r\n                                file={file}\r\n                                onRemove={onRemove(file)}\r\n                                className={FileInputClasses.removeButton}\r\n                                removeIcon={removeIcon}\r\n                            >\r\n                                <RecordContextProvider value={file}>\r\n                                    {childrenElement}\r\n                                </RecordContextProvider>\r\n                            </FileInputPreview>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </>\r\n        </StyledLabeled>\r\n    );\r\n};\r\n\r\nFileInput.propTypes = {\r\n    accept: PropTypes.string,\r\n    children: PropTypes.element,\r\n    className: PropTypes.string,\r\n    id: PropTypes.string,\r\n    isRequired: PropTypes.bool,\r\n    label: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.element,\r\n    ]),\r\n    labelMultiple: PropTypes.string,\r\n    labelSingle: PropTypes.string,\r\n    maxSize: PropTypes.number,\r\n    minSize: PropTypes.number,\r\n    multiple: PropTypes.bool,\r\n    validateFileRemoval: PropTypes.func,\r\n    options: PropTypes.object,\r\n    removeIcon: PropTypes.elementType,\r\n    resource: PropTypes.string,\r\n    source: PropTypes.string,\r\n    placeholder: PropTypes.node,\r\n};\r\n\r\nconst PREFIX = 'RaFileInput';\r\n\r\nexport const FileInputClasses = {\r\n    dropZone: `${PREFIX}-dropZone`,\r\n    removeButton: `${PREFIX}-removeButton`,\r\n};\r\n\r\nconst StyledLabeled = styled(Labeled, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    width: '100%',\r\n    [`& .${FileInputClasses.dropZone}`]: {\r\n        background: theme.palette.background.default,\r\n        borderRadius: theme.shape.borderRadius,\r\n        fontFamily: theme.typography.fontFamily,\r\n        cursor: 'pointer',\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.getContrastText(theme.palette.background.default),\r\n    },\r\n    [`& .${FileInputClasses.removeButton}`]: {},\r\n}));\r\n\r\nexport type FileInputProps = CommonInputProps & {\r\n    accept?: DropzoneOptions['accept'];\r\n    className?: string;\r\n    children?: ReactNode;\r\n    labelMultiple?: string;\r\n    labelSingle?: string;\r\n    maxSize?: DropzoneOptions['maxSize'];\r\n    minSize?: DropzoneOptions['minSize'];\r\n    multiple?: DropzoneOptions['multiple'];\r\n    options?: DropzoneOptions;\r\n    onRemove?: Function;\r\n    placeholder?: ReactNode;\r\n    removeIcon?: FC<SvgIconProps>;\r\n    inputProps?: any;\r\n    validateFileRemoval?(file): boolean | Promise<boolean>;\r\n    sx?: SxProps;\r\n};\r\n", "var _excluded = [\"children\"],\r\n    _excluded2 = [\"open\"],\r\n    _excluded3 = [\"refKey\", \"role\", \"onKeyDown\", \"onFocus\", \"onBlur\", \"onClick\", \"onDragEnter\", \"onDragOver\", \"onDragLeave\", \"onDrop\"],\r\n    _excluded4 = [\"refKey\", \"onChange\", \"onClick\"];\r\n\r\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\r\n\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\n\r\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\r\n\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\r\n\r\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\r\n\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\r\n\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\r\n\r\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\r\n\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\r\n\r\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\r\n\r\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\r\n\r\n/* eslint prefer-template: 0 */\r\nimport React, { forwardRef, Fragment, useCallback, useEffect, useImperativeHandle, useMemo, useReducer, useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { fromEvent } from \"file-selector\";\r\nimport { allFilesAccepted, composeEventHandlers, fileAccepted, fileMatchSize, filePickerOptionsTypes, canUseFileSystemAccessAPI, isAbort, isEvtWithFiles, isIeOrEdge, isPropagationStopped, isSecurityError, onDocumentDragOver, TOO_MANY_FILES_REJECTION } from \"./utils/index\";\r\n/**\r\n * Convenience wrapper component for the `useDropzone` hook\r\n *\r\n * ```jsx\r\n * <Dropzone>\r\n *   {({getRootProps, getInputProps}) => (\r\n *     <div {...getRootProps()}>\r\n *       <input {...getInputProps()} />\r\n *       <p>Drag 'n' drop some files here, or click to select files</p>\r\n *     </div>\r\n *   )}\r\n * </Dropzone>\r\n * ```\r\n */\r\n\r\nvar Dropzone = /*#__PURE__*/forwardRef(function (_ref, ref) {\r\n  var children = _ref.children,\r\n      params = _objectWithoutProperties(_ref, _excluded);\r\n\r\n  var _useDropzone = useDropzone(params),\r\n      open = _useDropzone.open,\r\n      props = _objectWithoutProperties(_useDropzone, _excluded2);\r\n\r\n  useImperativeHandle(ref, function () {\r\n    return {\r\n      open: open\r\n    };\r\n  }, [open]); // TODO: Figure out why react-styleguidist cannot create docs if we don't return a jsx element\r\n\r\n  return /*#__PURE__*/React.createElement(Fragment, null, children(_objectSpread(_objectSpread({}, props), {}, {\r\n    open: open\r\n  })));\r\n});\r\nDropzone.displayName = \"Dropzone\"; // Add default props for react-docgen\r\n\r\nvar defaultProps = {\r\n  disabled: false,\r\n  getFilesFromEvent: fromEvent,\r\n  maxSize: Infinity,\r\n  minSize: 0,\r\n  multiple: true,\r\n  maxFiles: 0,\r\n  preventDropOnDocument: true,\r\n  noClick: false,\r\n  noKeyboard: false,\r\n  noDrag: false,\r\n  noDragEventsBubbling: false,\r\n  validator: null,\r\n  useFsAccessApi: true\r\n};\r\nDropzone.defaultProps = defaultProps;\r\nDropzone.propTypes = {\r\n  /**\r\n   * Render function that exposes the dropzone state and prop getter fns\r\n   *\r\n   * @param {object} params\r\n   * @param {Function} params.getRootProps Returns the props you should apply to the root drop container you render\r\n   * @param {Function} params.getInputProps Returns the props you should apply to hidden file input you render\r\n   * @param {Function} params.open Open the native file selection dialog\r\n   * @param {boolean} params.isFocused Dropzone area is in focus\r\n   * @param {boolean} params.isFileDialogActive File dialog is opened\r\n   * @param {boolean} params.isDragActive Active drag is in progress\r\n   * @param {boolean} params.isDragAccept Dragged files are accepted\r\n   * @param {boolean} params.isDragReject Some dragged files are rejected\r\n   * @param {File[]} params.draggedFiles Files in active drag\r\n   * @param {File[]} params.acceptedFiles Accepted files\r\n   * @param {FileRejection[]} params.fileRejections Rejected files and why they were rejected\r\n   */\r\n  children: PropTypes.func,\r\n\r\n  /**\r\n   * Set accepted file types.\r\n   * See https://github.com/okonet/attr-accept for more information.\r\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\r\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\r\n   * Windows. In some cases there might not be a mime type set at all.\r\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\r\n   */\r\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\r\n\r\n  /**\r\n   * Allow drag 'n' drop (or selection from the file dialog) of multiple files\r\n   */\r\n  multiple: PropTypes.bool,\r\n\r\n  /**\r\n   * If false, allow dropped items to take over the current browser window\r\n   */\r\n  preventDropOnDocument: PropTypes.bool,\r\n\r\n  /**\r\n   * If true, disables click to open the native file selection dialog\r\n   */\r\n  noClick: PropTypes.bool,\r\n\r\n  /**\r\n   * If true, disables SPACE/ENTER to open the native file selection dialog.\r\n   * Note that it also stops tracking the focus state.\r\n   */\r\n  noKeyboard: PropTypes.bool,\r\n\r\n  /**\r\n   * If true, disables drag 'n' drop\r\n   */\r\n  noDrag: PropTypes.bool,\r\n\r\n  /**\r\n   * If true, stops drag event propagation to parents\r\n   */\r\n  noDragEventsBubbling: PropTypes.bool,\r\n\r\n  /**\r\n   * Minimum file size (in bytes)\r\n   */\r\n  minSize: PropTypes.number,\r\n\r\n  /**\r\n   * Maximum file size (in bytes)\r\n   */\r\n  maxSize: PropTypes.number,\r\n\r\n  /**\r\n   * Maximum accepted number of files\r\n   * The default value is 0 which means there is no limitation to how many files are accepted.\r\n   */\r\n  maxFiles: PropTypes.number,\r\n\r\n  /**\r\n   * Enable/disable the dropzone\r\n   */\r\n  disabled: PropTypes.bool,\r\n\r\n  /**\r\n   * Use this to provide a custom file aggregator\r\n   *\r\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\r\n   */\r\n  getFilesFromEvent: PropTypes.func,\r\n\r\n  /**\r\n   * Cb for when closing the file dialog with no selection\r\n   */\r\n  onFileDialogCancel: PropTypes.func,\r\n\r\n  /**\r\n   * Cb for when opening the file dialog\r\n   */\r\n  onFileDialogOpen: PropTypes.func,\r\n\r\n  /**\r\n   * Set to true to use the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API\r\n   * to open the file picker instead of using an `<input type=\"file\">` click event.\r\n   */\r\n  useFsAccessApi: PropTypes.bool,\r\n\r\n  /**\r\n   * Cb for when the `dragenter` event occurs.\r\n   *\r\n   * @param {DragEvent} event\r\n   */\r\n  onDragEnter: PropTypes.func,\r\n\r\n  /**\r\n   * Cb for when the `dragleave` event occurs\r\n   *\r\n   * @param {DragEvent} event\r\n   */\r\n  onDragLeave: PropTypes.func,\r\n\r\n  /**\r\n   * Cb for when the `dragover` event occurs\r\n   *\r\n   * @param {DragEvent} event\r\n   */\r\n  onDragOver: PropTypes.func,\r\n\r\n  /**\r\n   * Cb for when the `drop` event occurs.\r\n   * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\r\n   *\r\n   * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\r\n   * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\r\n   * If `multiple` is set to false and additional files are dropped,\r\n   * all files besides the first will be rejected.\r\n   * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\r\n   *\r\n   * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\r\n   * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\r\n   *\r\n   * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\r\n   * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\r\n   *\r\n   * ```js\r\n   * function onDrop(acceptedFiles) {\r\n   *   const req = request.post('/upload')\r\n   *   acceptedFiles.forEach(file => {\r\n   *     req.attach(file.name, file)\r\n   *   })\r\n   *   req.end(callback)\r\n   * }\r\n   * ```\r\n   *\r\n   * @param {File[]} acceptedFiles\r\n   * @param {FileRejection[]} fileRejections\r\n   * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\r\n   */\r\n  onDrop: PropTypes.func,\r\n\r\n  /**\r\n   * Cb for when the `drop` event occurs.\r\n   * Note that if no files are accepted, this callback is not invoked.\r\n   *\r\n   * @param {File[]} files\r\n   * @param {(DragEvent|Event)} event\r\n   */\r\n  onDropAccepted: PropTypes.func,\r\n\r\n  /**\r\n   * Cb for when the `drop` event occurs.\r\n   * Note that if no files are rejected, this callback is not invoked.\r\n   *\r\n   * @param {FileRejection[]} fileRejections\r\n   * @param {(DragEvent|Event)} event\r\n   */\r\n  onDropRejected: PropTypes.func,\r\n\r\n  /**\r\n   * Custom validation function\r\n   * @param {File} file\r\n   * @returns {FileError|FileError[]}\r\n   */\r\n  validator: PropTypes.func\r\n};\r\nexport default Dropzone;\r\n/**\r\n * A function that is invoked for the `dragenter`,\r\n * `dragover` and `dragleave` events.\r\n * It is not invoked if the items are not files (such as link, text, etc.).\r\n *\r\n * @callback dragCb\r\n * @param {DragEvent} event\r\n */\r\n\r\n/**\r\n * A function that is invoked for the `drop` or input change event.\r\n * It is not invoked if the items are not files (such as link, text, etc.).\r\n *\r\n * @callback dropCb\r\n * @param {File[]} acceptedFiles List of accepted files\r\n * @param {FileRejection[]} fileRejections List of rejected files and why they were rejected\r\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\r\n */\r\n\r\n/**\r\n * A function that is invoked for the `drop` or input change event.\r\n * It is not invoked if the items are files (such as link, text, etc.).\r\n *\r\n * @callback dropAcceptedCb\r\n * @param {File[]} files List of accepted files that meet the given criteria\r\n * (`accept`, `multiple`, `minSize`, `maxSize`)\r\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\r\n */\r\n\r\n/**\r\n * A function that is invoked for the `drop` or input change event.\r\n *\r\n * @callback dropRejectedCb\r\n * @param {File[]} files List of rejected files that do not meet the given criteria\r\n * (`accept`, `multiple`, `minSize`, `maxSize`)\r\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\r\n */\r\n\r\n/**\r\n * A function that is used aggregate files,\r\n * in a asynchronous fashion, from drag or input change events.\r\n *\r\n * @callback getFilesFromEvent\r\n * @param {(DragEvent|Event)} event A drag event or input change event (if files were selected via the file dialog)\r\n * @returns {(File[]|Promise<File[]>)}\r\n */\r\n\r\n/**\r\n * An object with the current dropzone state and some helper functions.\r\n *\r\n * @typedef {object} DropzoneState\r\n * @property {Function} getRootProps Returns the props you should apply to the root drop container you render\r\n * @property {Function} getInputProps Returns the props you should apply to hidden file input you render\r\n * @property {Function} open Open the native file selection dialog\r\n * @property {boolean} isFocused Dropzone area is in focus\r\n * @property {boolean} isFileDialogActive File dialog is opened\r\n * @property {boolean} isDragActive Active drag is in progress\r\n * @property {boolean} isDragAccept Dragged files are accepted\r\n * @property {boolean} isDragReject Some dragged files are rejected\r\n * @property {File[]} draggedFiles Files in active drag\r\n * @property {File[]} acceptedFiles Accepted files\r\n * @property {FileRejection[]} fileRejections Rejected files and why they were rejected\r\n */\r\n\r\nvar initialState = {\r\n  isFocused: false,\r\n  isFileDialogActive: false,\r\n  isDragActive: false,\r\n  isDragAccept: false,\r\n  isDragReject: false,\r\n  draggedFiles: [],\r\n  acceptedFiles: [],\r\n  fileRejections: []\r\n};\r\n/**\r\n * A React hook that creates a drag 'n' drop area.\r\n *\r\n * ```jsx\r\n * function MyDropzone(props) {\r\n *   const {getRootProps, getInputProps} = useDropzone({\r\n *     onDrop: acceptedFiles => {\r\n *       // do something with the File objects, e.g. upload to some server\r\n *     }\r\n *   });\r\n *   return (\r\n *     <div {...getRootProps()}>\r\n *       <input {...getInputProps()} />\r\n *       <p>Drag and drop some files here, or click to select files</p>\r\n *     </div>\r\n *   )\r\n * }\r\n * ```\r\n *\r\n * @function useDropzone\r\n *\r\n * @param {object} props\r\n * @param {string|string[]} [props.accept] Set accepted file types.\r\n * See https://github.com/okonet/attr-accept for more information.\r\n * Keep in mind that mime type determination is not reliable across platforms. CSV files,\r\n * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\r\n * Windows. In some cases there might not be a mime type set at all.\r\n * See: https://github.com/react-dropzone/react-dropzone/issues/276\r\n * @param {boolean} [props.multiple=true] Allow drag 'n' drop (or selection from the file dialog) of multiple files\r\n * @param {boolean} [props.preventDropOnDocument=true] If false, allow dropped items to take over the current browser window\r\n * @param {boolean} [props.noClick=false] If true, disables click to open the native file selection dialog\r\n * @param {boolean} [props.noKeyboard=false] If true, disables SPACE/ENTER to open the native file selection dialog.\r\n * Note that it also stops tracking the focus state.\r\n * @param {boolean} [props.noDrag=false] If true, disables drag 'n' drop\r\n * @param {boolean} [props.noDragEventsBubbling=false] If true, stops drag event propagation to parents\r\n * @param {number} [props.minSize=0] Minimum file size (in bytes)\r\n * @param {number} [props.maxSize=Infinity] Maximum file size (in bytes)\r\n * @param {boolean} [props.disabled=false] Enable/disable the dropzone\r\n * @param {getFilesFromEvent} [props.getFilesFromEvent] Use this to provide a custom file aggregator\r\n * @param {Function} [props.onFileDialogCancel] Cb for when closing the file dialog with no selection\r\n * @param {boolean} [props.useFsAccessApi] Set to true to use the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API\r\n * to open the file picker instead of using an `<input type=\"file\">` click event.\r\n * @param {Function} [props.onFileDialogOpen] Cb for when opening the file dialog\r\n * @param {dragCb} [props.onDragEnter] Cb for when the `dragenter` event occurs.\r\n * @param {dragCb} [props.onDragLeave] Cb for when the `dragleave` event occurs\r\n * @param {dragCb} [props.onDragOver] Cb for when the `dragover` event occurs\r\n * @param {dropCb} [props.onDrop] Cb for when the `drop` event occurs.\r\n * Note that this callback is invoked after the `getFilesFromEvent` callback is done.\r\n *\r\n * Files are accepted or rejected based on the `accept`, `multiple`, `minSize` and `maxSize` props.\r\n * `accept` must be a valid [MIME type](http://www.iana.org/assignments/media-types/media-types.xhtml) according to [input element specification](https://www.w3.org/wiki/HTML/Elements/input/file) or a valid file extension.\r\n * If `multiple` is set to false and additional files are dropped,\r\n * all files besides the first will be rejected.\r\n * Any file which does not have a size in the [`minSize`, `maxSize`] range, will be rejected as well.\r\n *\r\n * Note that the `onDrop` callback will always be invoked regardless if the dropped files were accepted or rejected.\r\n * If you'd like to react to a specific scenario, use the `onDropAccepted`/`onDropRejected` props.\r\n *\r\n * `onDrop` will provide you with an array of [File](https://developer.mozilla.org/en-US/docs/Web/API/File) objects which you can then process and send to a server.\r\n * For example, with [SuperAgent](https://github.com/visionmedia/superagent) as a http/ajax library:\r\n *\r\n * ```js\r\n * function onDrop(acceptedFiles) {\r\n *   const req = request.post('/upload')\r\n *   acceptedFiles.forEach(file => {\r\n *     req.attach(file.name, file)\r\n *   })\r\n *   req.end(callback)\r\n * }\r\n * ```\r\n * @param {dropAcceptedCb} [props.onDropAccepted]\r\n * @param {dropRejectedCb} [props.onDropRejected]\r\n *\r\n * @returns {DropzoneState}\r\n */\r\n\r\nexport function useDropzone() {\r\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n\r\n  var _defaultProps$options = _objectSpread(_objectSpread({}, defaultProps), options),\r\n      accept = _defaultProps$options.accept,\r\n      disabled = _defaultProps$options.disabled,\r\n      getFilesFromEvent = _defaultProps$options.getFilesFromEvent,\r\n      maxSize = _defaultProps$options.maxSize,\r\n      minSize = _defaultProps$options.minSize,\r\n      multiple = _defaultProps$options.multiple,\r\n      maxFiles = _defaultProps$options.maxFiles,\r\n      onDragEnter = _defaultProps$options.onDragEnter,\r\n      onDragLeave = _defaultProps$options.onDragLeave,\r\n      onDragOver = _defaultProps$options.onDragOver,\r\n      onDrop = _defaultProps$options.onDrop,\r\n      onDropAccepted = _defaultProps$options.onDropAccepted,\r\n      onDropRejected = _defaultProps$options.onDropRejected,\r\n      onFileDialogCancel = _defaultProps$options.onFileDialogCancel,\r\n      onFileDialogOpen = _defaultProps$options.onFileDialogOpen,\r\n      useFsAccessApi = _defaultProps$options.useFsAccessApi,\r\n      preventDropOnDocument = _defaultProps$options.preventDropOnDocument,\r\n      noClick = _defaultProps$options.noClick,\r\n      noKeyboard = _defaultProps$options.noKeyboard,\r\n      noDrag = _defaultProps$options.noDrag,\r\n      noDragEventsBubbling = _defaultProps$options.noDragEventsBubbling,\r\n      validator = _defaultProps$options.validator;\r\n\r\n  var onFileDialogOpenCb = useMemo(function () {\r\n    return typeof onFileDialogOpen === \"function\" ? onFileDialogOpen : noop;\r\n  }, [onFileDialogOpen]);\r\n  var onFileDialogCancelCb = useMemo(function () {\r\n    return typeof onFileDialogCancel === \"function\" ? onFileDialogCancel : noop;\r\n  }, [onFileDialogCancel]);\r\n  var rootRef = useRef(null);\r\n  var inputRef = useRef(null);\r\n\r\n  var _useReducer = useReducer(reducer, initialState),\r\n      _useReducer2 = _slicedToArray(_useReducer, 2),\r\n      state = _useReducer2[0],\r\n      dispatch = _useReducer2[1];\r\n\r\n  var isFocused = state.isFocused,\r\n      isFileDialogActive = state.isFileDialogActive,\r\n      draggedFiles = state.draggedFiles;\r\n  var fsAccessApiWorksRef = useRef(typeof window !== \"undefined\" && window.isSecureContext && useFsAccessApi && canUseFileSystemAccessAPI()); // Update file dialog active state when the window is focused on\r\n\r\n  var onWindowFocus = function onWindowFocus() {\r\n    // Execute the timeout only if the file dialog is opened in the browser\r\n    if (!fsAccessApiWorksRef.current && isFileDialogActive) {\r\n      setTimeout(function () {\r\n        if (inputRef.current) {\r\n          var files = inputRef.current.files;\r\n\r\n          if (!files.length) {\r\n            dispatch({\r\n              type: \"closeDialog\"\r\n            });\r\n            onFileDialogCancelCb();\r\n          }\r\n        }\r\n      }, 300);\r\n    }\r\n  };\r\n\r\n  useEffect(function () {\r\n    window.addEventListener(\"focus\", onWindowFocus, false);\r\n    return function () {\r\n      window.removeEventListener(\"focus\", onWindowFocus, false);\r\n    };\r\n  }, [inputRef, isFileDialogActive, onFileDialogCancelCb, fsAccessApiWorksRef]);\r\n  var dragTargetsRef = useRef([]);\r\n\r\n  var onDocumentDrop = function onDocumentDrop(event) {\r\n    if (rootRef.current && rootRef.current.contains(event.target)) {\r\n      // If we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\r\n      return;\r\n    }\r\n\r\n    event.preventDefault();\r\n    dragTargetsRef.current = [];\r\n  };\r\n\r\n  useEffect(function () {\r\n    if (preventDropOnDocument) {\r\n      document.addEventListener(\"dragover\", onDocumentDragOver, false);\r\n      document.addEventListener(\"drop\", onDocumentDrop, false);\r\n    }\r\n\r\n    return function () {\r\n      if (preventDropOnDocument) {\r\n        document.removeEventListener(\"dragover\", onDocumentDragOver);\r\n        document.removeEventListener(\"drop\", onDocumentDrop);\r\n      }\r\n    };\r\n  }, [rootRef, preventDropOnDocument]);\r\n  var onDragEnterCb = useCallback(function (event) {\r\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\r\n\r\n    event.persist();\r\n    stopPropagation(event);\r\n    dragTargetsRef.current = [].concat(_toConsumableArray(dragTargetsRef.current), [event.target]);\r\n\r\n    if (isEvtWithFiles(event)) {\r\n      Promise.resolve(getFilesFromEvent(event)).then(function (draggedFiles) {\r\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\r\n          return;\r\n        }\r\n\r\n        dispatch({\r\n          draggedFiles: draggedFiles,\r\n          isDragActive: true,\r\n          type: \"setDraggedFiles\"\r\n        });\r\n\r\n        if (onDragEnter) {\r\n          onDragEnter(event);\r\n        }\r\n      });\r\n    }\r\n  }, [getFilesFromEvent, onDragEnter, noDragEventsBubbling]);\r\n  var onDragOverCb = useCallback(function (event) {\r\n    event.preventDefault();\r\n    event.persist();\r\n    stopPropagation(event);\r\n    var hasFiles = isEvtWithFiles(event);\r\n\r\n    if (hasFiles && event.dataTransfer) {\r\n      try {\r\n        event.dataTransfer.dropEffect = \"copy\";\r\n      } catch (_unused) {}\r\n      /* eslint-disable-line no-empty */\r\n\r\n    }\r\n\r\n    if (hasFiles && onDragOver) {\r\n      onDragOver(event);\r\n    }\r\n\r\n    return false;\r\n  }, [onDragOver, noDragEventsBubbling]);\r\n  var onDragLeaveCb = useCallback(function (event) {\r\n    event.preventDefault();\r\n    event.persist();\r\n    stopPropagation(event); // Only deactivate once the dropzone and all children have been left\r\n\r\n    var targets = dragTargetsRef.current.filter(function (target) {\r\n      return rootRef.current && rootRef.current.contains(target);\r\n    }); // Make sure to remove a target present multiple times only once\r\n    // (Firefox may fire dragenter/dragleave multiple times on the same element)\r\n\r\n    var targetIdx = targets.indexOf(event.target);\r\n\r\n    if (targetIdx !== -1) {\r\n      targets.splice(targetIdx, 1);\r\n    }\r\n\r\n    dragTargetsRef.current = targets;\r\n\r\n    if (targets.length > 0) {\r\n      return;\r\n    }\r\n\r\n    dispatch({\r\n      isDragActive: false,\r\n      type: \"setDraggedFiles\",\r\n      draggedFiles: []\r\n    });\r\n\r\n    if (isEvtWithFiles(event) && onDragLeave) {\r\n      onDragLeave(event);\r\n    }\r\n  }, [rootRef, onDragLeave, noDragEventsBubbling]);\r\n  var setFiles = useCallback(function (files, event) {\r\n    var acceptedFiles = [];\r\n    var fileRejections = [];\r\n    files.forEach(function (file) {\r\n      var _fileAccepted = fileAccepted(file, accept),\r\n          _fileAccepted2 = _slicedToArray(_fileAccepted, 2),\r\n          accepted = _fileAccepted2[0],\r\n          acceptError = _fileAccepted2[1];\r\n\r\n      var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\r\n          _fileMatchSize2 = _slicedToArray(_fileMatchSize, 2),\r\n          sizeMatch = _fileMatchSize2[0],\r\n          sizeError = _fileMatchSize2[1];\r\n\r\n      var customErrors = validator ? validator(file) : null;\r\n\r\n      if (accepted && sizeMatch && !customErrors) {\r\n        acceptedFiles.push(file);\r\n      } else {\r\n        var errors = [acceptError, sizeError];\r\n\r\n        if (customErrors) {\r\n          errors = errors.concat(customErrors);\r\n        }\r\n\r\n        fileRejections.push({\r\n          file: file,\r\n          errors: errors.filter(function (e) {\r\n            return e;\r\n          })\r\n        });\r\n      }\r\n    });\r\n\r\n    if (!multiple && acceptedFiles.length > 1 || multiple && maxFiles >= 1 && acceptedFiles.length > maxFiles) {\r\n      // Reject everything and empty accepted files\r\n      acceptedFiles.forEach(function (file) {\r\n        fileRejections.push({\r\n          file: file,\r\n          errors: [TOO_MANY_FILES_REJECTION]\r\n        });\r\n      });\r\n      acceptedFiles.splice(0);\r\n    }\r\n\r\n    dispatch({\r\n      acceptedFiles: acceptedFiles,\r\n      fileRejections: fileRejections,\r\n      type: \"setFiles\"\r\n    });\r\n\r\n    if (onDrop) {\r\n      onDrop(acceptedFiles, fileRejections, event);\r\n    }\r\n\r\n    if (fileRejections.length > 0 && onDropRejected) {\r\n      onDropRejected(fileRejections, event);\r\n    }\r\n\r\n    if (acceptedFiles.length > 0 && onDropAccepted) {\r\n      onDropAccepted(acceptedFiles, event);\r\n    }\r\n  }, [dispatch, multiple, accept, minSize, maxSize, maxFiles, onDrop, onDropAccepted, onDropRejected, validator]);\r\n  var onDropCb = useCallback(function (event) {\r\n    event.preventDefault(); // Persist here because we need the event later after getFilesFromEvent() is done\r\n\r\n    event.persist();\r\n    stopPropagation(event);\r\n    dragTargetsRef.current = [];\r\n\r\n    if (isEvtWithFiles(event)) {\r\n      Promise.resolve(getFilesFromEvent(event)).then(function (files) {\r\n        if (isPropagationStopped(event) && !noDragEventsBubbling) {\r\n          return;\r\n        }\r\n\r\n        setFiles(files, event);\r\n      });\r\n    }\r\n\r\n    dispatch({\r\n      type: \"reset\"\r\n    });\r\n  }, [getFilesFromEvent, setFiles, noDragEventsBubbling]); // Fn for opening the file dialog programmatically\r\n\r\n  var openFileDialog = useCallback(function () {\r\n    // No point to use FS access APIs if context is not secure\r\n    // https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts#feature_detection\r\n    if (fsAccessApiWorksRef.current) {\r\n      dispatch({\r\n        type: \"openDialog\"\r\n      });\r\n      onFileDialogOpenCb(); // https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker\r\n\r\n      var opts = {\r\n        multiple: multiple,\r\n        types: filePickerOptionsTypes(accept)\r\n      };\r\n      window.showOpenFilePicker(opts).then(function (handles) {\r\n        return getFilesFromEvent(handles);\r\n      }).then(function (files) {\r\n        setFiles(files, null);\r\n        dispatch({\r\n          type: \"closeDialog\"\r\n        });\r\n      }).catch(function (e) {\r\n        // AbortError means the user canceled\r\n        if (isAbort(e)) {\r\n          onFileDialogCancelCb(e);\r\n          dispatch({\r\n            type: \"closeDialog\"\r\n          });\r\n        } else if (isSecurityError(e)) {\r\n          fsAccessApiWorksRef.current = false; // CORS, so cannot use this API\r\n          // Try using the input\r\n\r\n          if (inputRef.current) {\r\n            inputRef.current.value = null;\r\n            inputRef.current.click();\r\n          }\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (inputRef.current) {\r\n      dispatch({\r\n        type: \"openDialog\"\r\n      });\r\n      onFileDialogOpenCb();\r\n      inputRef.current.value = null;\r\n      inputRef.current.click();\r\n    }\r\n  }, [dispatch, onFileDialogOpenCb, onFileDialogCancelCb, useFsAccessApi, setFiles, accept, multiple]); // Cb to open the file dialog when SPACE/ENTER occurs on the dropzone\r\n\r\n  var onKeyDownCb = useCallback(function (event) {\r\n    // Ignore keyboard events bubbling up the DOM tree\r\n    if (!rootRef.current || !rootRef.current.isEqualNode(event.target)) {\r\n      return;\r\n    }\r\n\r\n    if (event.key === \" \" || event.key === \"Enter\" || event.keyCode === 32 || event.keyCode === 13) {\r\n      event.preventDefault();\r\n      openFileDialog();\r\n    }\r\n  }, [rootRef, openFileDialog]); // Update focus state for the dropzone\r\n\r\n  var onFocusCb = useCallback(function () {\r\n    dispatch({\r\n      type: \"focus\"\r\n    });\r\n  }, []);\r\n  var onBlurCb = useCallback(function () {\r\n    dispatch({\r\n      type: \"blur\"\r\n    });\r\n  }, []); // Cb to open the file dialog when click occurs on the dropzone\r\n\r\n  var onClickCb = useCallback(function () {\r\n    if (noClick) {\r\n      return;\r\n    } // In IE11/Edge the file-browser dialog is blocking, therefore, use setTimeout()\r\n    // to ensure React can handle state changes\r\n    // See: https://github.com/react-dropzone/react-dropzone/issues/450\r\n\r\n\r\n    if (isIeOrEdge()) {\r\n      setTimeout(openFileDialog, 0);\r\n    } else {\r\n      openFileDialog();\r\n    }\r\n  }, [noClick, openFileDialog]);\r\n\r\n  var composeHandler = function composeHandler(fn) {\r\n    return disabled ? null : fn;\r\n  };\r\n\r\n  var composeKeyboardHandler = function composeKeyboardHandler(fn) {\r\n    return noKeyboard ? null : composeHandler(fn);\r\n  };\r\n\r\n  var composeDragHandler = function composeDragHandler(fn) {\r\n    return noDrag ? null : composeHandler(fn);\r\n  };\r\n\r\n  var stopPropagation = function stopPropagation(event) {\r\n    if (noDragEventsBubbling) {\r\n      event.stopPropagation();\r\n    }\r\n  };\r\n\r\n  var getRootProps = useMemo(function () {\r\n    return function () {\r\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\r\n          _ref2$refKey = _ref2.refKey,\r\n          refKey = _ref2$refKey === void 0 ? \"ref\" : _ref2$refKey,\r\n          role = _ref2.role,\r\n          onKeyDown = _ref2.onKeyDown,\r\n          onFocus = _ref2.onFocus,\r\n          onBlur = _ref2.onBlur,\r\n          onClick = _ref2.onClick,\r\n          onDragEnter = _ref2.onDragEnter,\r\n          onDragOver = _ref2.onDragOver,\r\n          onDragLeave = _ref2.onDragLeave,\r\n          onDrop = _ref2.onDrop,\r\n          rest = _objectWithoutProperties(_ref2, _excluded3);\r\n\r\n      return _objectSpread(_objectSpread(_defineProperty({\r\n        onKeyDown: composeKeyboardHandler(composeEventHandlers(onKeyDown, onKeyDownCb)),\r\n        onFocus: composeKeyboardHandler(composeEventHandlers(onFocus, onFocusCb)),\r\n        onBlur: composeKeyboardHandler(composeEventHandlers(onBlur, onBlurCb)),\r\n        onClick: composeHandler(composeEventHandlers(onClick, onClickCb)),\r\n        onDragEnter: composeDragHandler(composeEventHandlers(onDragEnter, onDragEnterCb)),\r\n        onDragOver: composeDragHandler(composeEventHandlers(onDragOver, onDragOverCb)),\r\n        onDragLeave: composeDragHandler(composeEventHandlers(onDragLeave, onDragLeaveCb)),\r\n        onDrop: composeDragHandler(composeEventHandlers(onDrop, onDropCb)),\r\n        role: typeof role === \"string\" && role !== \"\" ? role : \"button\"\r\n      }, refKey, rootRef), !disabled && !noKeyboard ? {\r\n        tabIndex: 0\r\n      } : {}), rest);\r\n    };\r\n  }, [rootRef, onKeyDownCb, onFocusCb, onBlurCb, onClickCb, onDragEnterCb, onDragOverCb, onDragLeaveCb, onDropCb, noKeyboard, noDrag, disabled]);\r\n  var onInputElementClick = useCallback(function (event) {\r\n    event.stopPropagation();\r\n  }, []);\r\n  var getInputProps = useMemo(function () {\r\n    return function () {\r\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\r\n          _ref3$refKey = _ref3.refKey,\r\n          refKey = _ref3$refKey === void 0 ? \"ref\" : _ref3$refKey,\r\n          onChange = _ref3.onChange,\r\n          onClick = _ref3.onClick,\r\n          rest = _objectWithoutProperties(_ref3, _excluded4);\r\n\r\n      var inputProps = _defineProperty({\r\n        accept: accept,\r\n        multiple: multiple,\r\n        type: \"file\",\r\n        style: {\r\n          display: \"none\"\r\n        },\r\n        onChange: composeHandler(composeEventHandlers(onChange, onDropCb)),\r\n        onClick: composeHandler(composeEventHandlers(onClick, onInputElementClick)),\r\n        tabIndex: -1\r\n      }, refKey, inputRef);\r\n\r\n      return _objectSpread(_objectSpread({}, inputProps), rest);\r\n    };\r\n  }, [inputRef, accept, multiple, onDropCb, disabled]);\r\n  var fileCount = draggedFiles.length;\r\n  var isDragAccept = fileCount > 0 && allFilesAccepted({\r\n    files: draggedFiles,\r\n    accept: accept,\r\n    minSize: minSize,\r\n    maxSize: maxSize,\r\n    multiple: multiple,\r\n    maxFiles: maxFiles\r\n  });\r\n  var isDragReject = fileCount > 0 && !isDragAccept;\r\n  return _objectSpread(_objectSpread({}, state), {}, {\r\n    isDragAccept: isDragAccept,\r\n    isDragReject: isDragReject,\r\n    isFocused: isFocused && !disabled,\r\n    getRootProps: getRootProps,\r\n    getInputProps: getInputProps,\r\n    rootRef: rootRef,\r\n    inputRef: inputRef,\r\n    open: composeHandler(openFileDialog)\r\n  });\r\n}\r\n\r\nfunction reducer(state, action) {\r\n  /* istanbul ignore next */\r\n  switch (action.type) {\r\n    case \"focus\":\r\n      return _objectSpread(_objectSpread({}, state), {}, {\r\n        isFocused: true\r\n      });\r\n\r\n    case \"blur\":\r\n      return _objectSpread(_objectSpread({}, state), {}, {\r\n        isFocused: false\r\n      });\r\n\r\n    case \"openDialog\":\r\n      return _objectSpread(_objectSpread({}, initialState), {}, {\r\n        isFileDialogActive: true\r\n      });\r\n\r\n    case \"closeDialog\":\r\n      return _objectSpread(_objectSpread({}, state), {}, {\r\n        isFileDialogActive: false\r\n      });\r\n\r\n    case \"setDraggedFiles\":\r\n      /* eslint no-case-declarations: 0 */\r\n      var isDragActive = action.isDragActive,\r\n          draggedFiles = action.draggedFiles;\r\n      return _objectSpread(_objectSpread({}, state), {}, {\r\n        draggedFiles: draggedFiles,\r\n        isDragActive: isDragActive\r\n      });\r\n\r\n    case \"setFiles\":\r\n      return _objectSpread(_objectSpread({}, state), {}, {\r\n        acceptedFiles: action.acceptedFiles,\r\n        fileRejections: action.fileRejections\r\n      });\r\n\r\n    case \"reset\":\r\n      return _objectSpread({}, initialState);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction noop() {}\r\n\r\nexport { ErrorCode } from \"./utils\";", "export const COMMON_MIME_TYPES = new Map([\r\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\r\n    ['aac', 'audio/aac'],\r\n    ['abw', 'application/x-abiword'],\r\n    ['arc', 'application/x-freearc'],\r\n    ['avif', 'image/avif'],\r\n    ['avi', 'video/x-msvideo'],\r\n    ['azw', 'application/vnd.amazon.ebook'],\r\n    ['bin', 'application/octet-stream'],\r\n    ['bmp', 'image/bmp'],\r\n    ['bz', 'application/x-bzip'],\r\n    ['bz2', 'application/x-bzip2'],\r\n    ['cda', 'application/x-cdf'],\r\n    ['csh', 'application/x-csh'],\r\n    ['css', 'text/css'],\r\n    ['csv', 'text/csv'],\r\n    ['doc', 'application/msword'],\r\n    ['docx', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'],\r\n    ['eot', 'application/vnd.ms-fontobject'],\r\n    ['epub', 'application/epub+zip'],\r\n    ['gz', 'application/gzip'],\r\n    ['gif', 'image/gif'],\r\n    ['heic', 'image/heic'],\r\n    ['heif', 'image/heif'],\r\n    ['htm', 'text/html'],\r\n    ['html', 'text/html'],\r\n    ['ico', 'image/vnd.microsoft.icon'],\r\n    ['ics', 'text/calendar'],\r\n    ['jar', 'application/java-archive'],\r\n    ['jpeg', 'image/jpeg'],\r\n    ['jpg', 'image/jpeg'],\r\n    ['js', 'text/javascript'],\r\n    ['json', 'application/json'],\r\n    ['jsonld', 'application/ld+json'],\r\n    ['mid', 'audio/midi'],\r\n    ['midi', 'audio/midi'],\r\n    ['mjs', 'text/javascript'],\r\n    ['mp3', 'audio/mpeg'],\r\n    ['mp4', 'video/mp4'],\r\n    ['mpeg', 'video/mpeg'],\r\n    ['mpkg', 'application/vnd.apple.installer+xml'],\r\n    ['odp', 'application/vnd.oasis.opendocument.presentation'],\r\n    ['ods', 'application/vnd.oasis.opendocument.spreadsheet'],\r\n    ['odt', 'application/vnd.oasis.opendocument.text'],\r\n    ['oga', 'audio/ogg'],\r\n    ['ogv', 'video/ogg'],\r\n    ['ogx', 'application/ogg'],\r\n    ['opus', 'audio/opus'],\r\n    ['otf', 'font/otf'],\r\n    ['png', 'image/png'],\r\n    ['pdf', 'application/pdf'],\r\n    ['php', 'application/x-httpd-php'],\r\n    ['ppt', 'application/vnd.ms-powerpoint'],\r\n    ['pptx', 'application/vnd.openxmlformats-officedocument.presentationml.presentation'],\r\n    ['rar', 'application/vnd.rar'],\r\n    ['rtf', 'application/rtf'],\r\n    ['sh', 'application/x-sh'],\r\n    ['svg', 'image/svg+xml'],\r\n    ['swf', 'application/x-shockwave-flash'],\r\n    ['tar', 'application/x-tar'],\r\n    ['tif', 'image/tiff'],\r\n    ['tiff', 'image/tiff'],\r\n    ['ts', 'video/mp2t'],\r\n    ['ttf', 'font/ttf'],\r\n    ['txt', 'text/plain'],\r\n    ['vsd', 'application/vnd.visio'],\r\n    ['wav', 'audio/wav'],\r\n    ['weba', 'audio/webm'],\r\n    ['webm', 'video/webm'],\r\n    ['webp', 'image/webp'],\r\n    ['woff', 'font/woff'],\r\n    ['woff2', 'font/woff2'],\r\n    ['xhtml', 'application/xhtml+xml'],\r\n    ['xls', 'application/vnd.ms-excel'],\r\n    ['xlsx', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'],\r\n    ['xml', 'application/xml'],\r\n    ['xul', 'application/vnd.mozilla.xul+xml'],\r\n    ['zip', 'application/zip'],\r\n    ['7z', 'application/x-7z-compressed'],\r\n\r\n    // Others\r\n    ['mkv', 'video/x-matroska'],\r\n    ['mov', 'video/quicktime'],\r\n    ['msg', 'application/vnd.ms-outlook']\r\n]);\r\n\r\n\r\nexport function toFileWithPath(file: FileWithPath, path?: string): FileWithPath {\r\n    const f = withMimeType(file);\r\n    if (typeof f.path !== 'string') { // on electron, path is already set to the absolute path\r\n        const {webkitRelativePath} = file as FileWithWebkitPath;\r\n        Object.defineProperty(f, 'path', {\r\n            value: typeof path === 'string'\r\n                ? path\r\n                // If <input webkitdirectory> is set,\r\n                // the File will have a {webkitRelativePath} property\r\n                // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitdirectory\r\n                : typeof webkitRelativePath === 'string' && webkitRelativePath.length > 0\r\n                    ? webkitRelativePath\r\n                    : file.name,\r\n            writable: false,\r\n            configurable: false,\r\n            enumerable: true\r\n        });\r\n    }\r\n\r\n    return f;\r\n}\r\n\r\ninterface DOMFile extends Blob {\r\n    readonly lastModified: number;\r\n    readonly name: string;\r\n}\r\n\r\nexport interface FileWithPath extends DOMFile {\r\n    readonly path?: string;\r\n}\r\n\r\ninterface FileWithWebkitPath extends File {\r\n    readonly webkitRelativePath?: string;\r\n}\r\n\r\nfunction withMimeType(file: FileWithPath) {\r\n    const {name} = file;\r\n    const hasExtension = name && name.lastIndexOf('.') !== -1;\r\n\r\n    if (hasExtension && !file.type) {\r\n        const ext = name.split('.')\r\n            .pop()!.toLowerCase();\r\n        const type = COMMON_MIME_TYPES.get(ext);\r\n        if (type) {\r\n            Object.defineProperty(file, 'type', {\r\n                value: type,\r\n                writable: false,\r\n                configurable: false,\r\n                enumerable: true\r\n            });\r\n        }\r\n    }\r\n\r\n    return file;\r\n}\r\n", "import {FileWithPath, toFileWithPath} from './file';\r\n\r\n\r\nconst FILES_TO_IGNORE = [\r\n    // Thumbnail cache files for macOS and Windows\r\n    '.DS_Store', // macOs\r\n    'Thumbs.db'  // Windows\r\n];\r\n\r\n\r\n/**\r\n * Convert a DragEvent's DataTrasfer object to a list of File objects\r\n * NOTE: If some of the items are folders,\r\n * everything will be flattened and placed in the same list but the paths will be kept as a {path} property.\r\n *\r\n * EXPERIMENTAL: A list of https://developer.mozilla.org/en-US/docs/Web/API/FileSystemHandle objects can also be passed as an arg\r\n * and a list of File objects will be returned.\r\n *\r\n * @param evt\r\n */\r\nexport async function fromEvent(evt: Event | any): Promise<(FileWithPath | DataTransferItem)[]> {\r\n    if (isObject<DragEvent>(evt) && isDataTransfer(evt)) {\r\n        return getDataTransferFiles(evt.dataTransfer, evt.type);\r\n    } else if (isChangeEvt(evt)) {\r\n        return getInputFiles(evt);\r\n    } else if (Array.isArray(evt) && evt.every(item => 'getFile' in item && typeof item.getFile === 'function')) {\r\n        return getFsHandleFiles(evt)\r\n    }\r\n    return [];\r\n}\r\n\r\nfunction isDataTransfer(value: any): value is DataTransfer {\r\n    return isObject(value.dataTransfer);\r\n}\r\n\r\nfunction isChangeEvt(value: any): value is Event {\r\n    return isObject<Event>(value) && isObject(value.target);\r\n}\r\n\r\nfunction isObject<T>(v: any): v is T {\r\n    return typeof v === 'object' && v !== null\r\n}\r\n\r\nfunction getInputFiles(evt: Event) {\r\n    return fromList<FileWithPath>((evt.target as HTMLInputElement).files).map(file => toFileWithPath(file));\r\n}\r\n\r\n// Ee expect each handle to be https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileHandle\r\nasync function getFsHandleFiles(handles: any[]) {\r\n    const files = await Promise.all(handles.map(h => h.getFile()));\r\n    return files.map(file => toFileWithPath(file));\r\n}\r\n\r\n\r\nasync function getDataTransferFiles(dt: DataTransfer | null, type: string) {\r\n    if (dt === null) {\r\n        return [];\r\n    }\r\n\r\n    // IE11 does not support dataTransfer.items\r\n    // See https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/items#Browser_compatibility\r\n    if (dt.items) {\r\n        const items = fromList<DataTransferItem>(dt.items)\r\n            .filter(item => item.kind === 'file');\r\n        // According to https://html.spec.whatwg.org/multipage/dnd.html#dndevents,\r\n        // only 'dragstart' and 'drop' has access to the data (source node)\r\n        if (type !== 'drop') {\r\n            return items;\r\n        }\r\n        const files = await Promise.all(items.map(toFilePromises));\r\n        return noIgnoredFiles(flatten<FileWithPath>(files));\r\n    }\r\n\r\n    return noIgnoredFiles(fromList<FileWithPath>(dt.files)\r\n        .map(file => toFileWithPath(file)));\r\n}\r\n\r\nfunction noIgnoredFiles(files: FileWithPath[]) {\r\n    return files.filter(file => FILES_TO_IGNORE.indexOf(file.name) === -1);\r\n}\r\n\r\n// IE11 does not support Array.from()\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Browser_compatibility\r\n// https://developer.mozilla.org/en-US/docs/Web/API/FileList\r\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItemList\r\nfunction fromList<T>(items: DataTransferItemList | FileList | null): T[] {\r\n    if (items === null) {\r\n        return [];\r\n    }\r\n\r\n    const files = [];\r\n\r\n    // tslint:disable: prefer-for-of\r\n    for (let i = 0; i < items.length; i++) {\r\n        const file = items[i];\r\n        files.push(file);\r\n    }\r\n\r\n    return files as any;\r\n}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem\r\nfunction toFilePromises(item: DataTransferItem) {\r\n    if (typeof item.webkitGetAsEntry !== 'function') {\r\n        return fromDataTransferItem(item);\r\n    }\r\n\r\n    const entry = item.webkitGetAsEntry();\r\n\r\n    // Safari supports dropping an image node from a different window and can be retrieved using\r\n    // the DataTransferItem.getAsFile() API\r\n    // NOTE: FileSystemEntry.file() throws if trying to get the file\r\n    if (entry && entry.isDirectory) {\r\n        return fromDirEntry(entry) as any;\r\n    }\r\n\r\n    return fromDataTransferItem(item);\r\n}\r\n\r\nfunction flatten<T>(items: any[]): T[] {\r\n    return items.reduce((acc, files) => [\r\n        ...acc,\r\n        ...(Array.isArray(files) ? flatten(files) : [files])\r\n    ], []);\r\n}\r\n\r\nfunction fromDataTransferItem(item: DataTransferItem) {\r\n    const file = item.getAsFile();\r\n    if (!file) {\r\n        return Promise.reject(`${item} is not a File`);\r\n    }\r\n    const fwp = toFileWithPath(file);\r\n    return Promise.resolve(fwp);\r\n}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemEntry\r\nasync function fromEntry(entry: any) {\r\n    return entry.isDirectory ? fromDirEntry(entry) : fromFileEntry(entry);\r\n}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry\r\nfunction fromDirEntry(entry: any) {\r\n    const reader = entry.createReader();\r\n\r\n    return new Promise<FileArray[]>((resolve, reject) => {\r\n        const entries: Promise<FileValue[]>[] = [];\r\n\r\n        function readEntries() {\r\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryEntry/createReader\r\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileSystemDirectoryReader/readEntries\r\n            reader.readEntries(async (batch: any[]) => {\r\n                if (!batch.length) {\r\n                    // Done reading directory\r\n                    try {\r\n                        const files = await Promise.all(entries);\r\n                        resolve(files);\r\n                    } catch (err) {\r\n                        reject(err);\r\n                    }\r\n                } else {\r\n                    const items = Promise.all(batch.map(fromEntry));\r\n                    entries.push(items);\r\n\r\n                    // Continue reading\r\n                    readEntries();\r\n                }\r\n            }, (err: any) => {\r\n                reject(err);\r\n            });\r\n        }\r\n\r\n        readEntries();\r\n    });\r\n}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/API/FileSystemFileEntry\r\nasync function fromFileEntry(entry: any) {\r\n    return new Promise<FileWithPath>((resolve, reject) => {\r\n        entry.file((file: FileWithPath) => {\r\n            const fwp = toFileWithPath(file, entry.fullPath);\r\n            resolve(fwp);\r\n        }, (err: any) => {\r\n            reject(err);\r\n        });\r\n    });\r\n}\r\n\r\n// Infinite type recursion\r\n// https://github.com/Microsoft/TypeScript/issues/3496#issuecomment-128553540\r\ninterface FileArray extends Array<FileValue> {}\r\ntype FileValue = FileWithPath\r\n    | FileArray[];\r\n", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\r\n\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\r\n\r\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\r\n\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\r\n\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\r\n\r\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\r\n\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\r\n\r\nimport accepts from \"attr-accept\"; // Error codes\r\n\r\nexport var FILE_INVALID_TYPE = \"file-invalid-type\";\r\nexport var FILE_TOO_LARGE = \"file-too-large\";\r\nexport var FILE_TOO_SMALL = \"file-too-small\";\r\nexport var TOO_MANY_FILES = \"too-many-files\";\r\nexport var ErrorCode = {\r\n  FileInvalidType: FILE_INVALID_TYPE,\r\n  FileTooLarge: FILE_TOO_LARGE,\r\n  FileTooSmall: FILE_TOO_SMALL,\r\n  TooManyFiles: TOO_MANY_FILES\r\n}; // File Errors\r\n\r\nexport var getInvalidTypeRejectionErr = function getInvalidTypeRejectionErr(accept) {\r\n  accept = Array.isArray(accept) && accept.length === 1 ? accept[0] : accept;\r\n  var messageSuffix = Array.isArray(accept) ? \"one of \".concat(accept.join(\", \")) : accept;\r\n  return {\r\n    code: FILE_INVALID_TYPE,\r\n    message: \"File type must be \".concat(messageSuffix)\r\n  };\r\n};\r\nexport var getTooLargeRejectionErr = function getTooLargeRejectionErr(maxSize) {\r\n  return {\r\n    code: FILE_TOO_LARGE,\r\n    message: \"File is larger than \".concat(maxSize, \" \").concat(maxSize === 1 ? \"byte\" : \"bytes\")\r\n  };\r\n};\r\nexport var getTooSmallRejectionErr = function getTooSmallRejectionErr(minSize) {\r\n  return {\r\n    code: FILE_TOO_SMALL,\r\n    message: \"File is smaller than \".concat(minSize, \" \").concat(minSize === 1 ? \"byte\" : \"bytes\")\r\n  };\r\n};\r\nexport var TOO_MANY_FILES_REJECTION = {\r\n  code: TOO_MANY_FILES,\r\n  message: \"Too many files\"\r\n}; // Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\r\n// that MIME type will always be accepted\r\n\r\nexport function fileAccepted(file, accept) {\r\n  var isAcceptable = file.type === \"application/x-moz-file\" || accepts(file, accept);\r\n  return [isAcceptable, isAcceptable ? null : getInvalidTypeRejectionErr(accept)];\r\n}\r\nexport function fileMatchSize(file, minSize, maxSize) {\r\n  if (isDefined(file.size)) {\r\n    if (isDefined(minSize) && isDefined(maxSize)) {\r\n      if (file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\r\n      if (file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];\r\n    } else if (isDefined(minSize) && file.size < minSize) return [false, getTooSmallRejectionErr(minSize)];else if (isDefined(maxSize) && file.size > maxSize) return [false, getTooLargeRejectionErr(maxSize)];\r\n  }\r\n\r\n  return [true, null];\r\n}\r\n\r\nfunction isDefined(value) {\r\n  return value !== undefined && value !== null;\r\n}\r\n\r\nexport function allFilesAccepted(_ref) {\r\n  var files = _ref.files,\r\n      accept = _ref.accept,\r\n      minSize = _ref.minSize,\r\n      maxSize = _ref.maxSize,\r\n      multiple = _ref.multiple,\r\n      maxFiles = _ref.maxFiles;\r\n\r\n  if (!multiple && files.length > 1 || multiple && maxFiles >= 1 && files.length > maxFiles) {\r\n    return false;\r\n  }\r\n\r\n  return files.every(function (file) {\r\n    var _fileAccepted = fileAccepted(file, accept),\r\n        _fileAccepted2 = _slicedToArray(_fileAccepted, 1),\r\n        accepted = _fileAccepted2[0];\r\n\r\n    var _fileMatchSize = fileMatchSize(file, minSize, maxSize),\r\n        _fileMatchSize2 = _slicedToArray(_fileMatchSize, 1),\r\n        sizeMatch = _fileMatchSize2[0];\r\n\r\n    return accepted && sizeMatch;\r\n  });\r\n} // React's synthetic events has event.isPropagationStopped,\r\n// but to remain compatibility with other libs (Preact) fall back\r\n// to check event.cancelBubble\r\n\r\nexport function isPropagationStopped(event) {\r\n  if (typeof event.isPropagationStopped === \"function\") {\r\n    return event.isPropagationStopped();\r\n  } else if (typeof event.cancelBubble !== \"undefined\") {\r\n    return event.cancelBubble;\r\n  }\r\n\r\n  return false;\r\n}\r\nexport function isEvtWithFiles(event) {\r\n  if (!event.dataTransfer) {\r\n    return !!event.target && !!event.target.files;\r\n  } // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\r\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\r\n\r\n\r\n  return Array.prototype.some.call(event.dataTransfer.types, function (type) {\r\n    return type === \"Files\" || type === \"application/x-moz-file\";\r\n  });\r\n}\r\nexport function isKindFile(item) {\r\n  return _typeof(item) === \"object\" && item !== null && item.kind === \"file\";\r\n} // allow the entire document to be a drag target\r\n\r\nexport function onDocumentDragOver(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nfunction isIe(userAgent) {\r\n  return userAgent.indexOf(\"MSIE\") !== -1 || userAgent.indexOf(\"Trident/\") !== -1;\r\n}\r\n\r\nfunction isEdge(userAgent) {\r\n  return userAgent.indexOf(\"Edge/\") !== -1;\r\n}\r\n\r\nexport function isIeOrEdge() {\r\n  var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.navigator.userAgent;\r\n  return isIe(userAgent) || isEdge(userAgent);\r\n}\r\n/**\r\n * This is intended to be used to compose event handlers\r\n * They are executed in order until one of them calls `event.isPropagationStopped()`.\r\n * Note that the check is done on the first invoke too,\r\n * meaning that if propagation was stopped before invoking the fns,\r\n * no handlers will be executed.\r\n *\r\n * @param {Function} fns the event hanlder functions\r\n * @return {Function} the event handler to add to an element\r\n */\r\n\r\nexport function composeEventHandlers() {\r\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\r\n    fns[_key] = arguments[_key];\r\n  }\r\n\r\n  return function (event) {\r\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\r\n      args[_key2 - 1] = arguments[_key2];\r\n    }\r\n\r\n    return fns.some(function (fn) {\r\n      if (!isPropagationStopped(event) && fn) {\r\n        fn.apply(void 0, [event].concat(args));\r\n      }\r\n\r\n      return isPropagationStopped(event);\r\n    });\r\n  };\r\n}\r\n/**\r\n * canUseFileSystemAccessAPI checks if the [File System Access API](https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API)\r\n * is supported by the browser.\r\n * @returns {boolean}\r\n */\r\n\r\nexport function canUseFileSystemAccessAPI() {\r\n  return \"showOpenFilePicker\" in window;\r\n}\r\n/**\r\n * filePickerOptionsTypes returns the {types} option for https://developer.mozilla.org/en-US/docs/Web/API/window/showOpenFilePicker\r\n * based on the accept attr (see https://github.com/react-dropzone/attr-accept)\r\n * E.g: converts ['image/*', 'text/*'] to {'image/*': [], 'text/*': []}\r\n * @param {string|string[]} accept\r\n */\r\n\r\nexport function filePickerOptionsTypes(accept) {\r\n  accept = typeof accept === \"string\" ? accept.split(\",\") : accept;\r\n  return [{\r\n    description: \"everything\",\r\n    // TODO: Need to handle filtering more elegantly than this!\r\n    accept: Array.isArray(accept) ? // Accept just MIME types as per spec\r\n    // NOTE: accept can be https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#unique_file_type_specifiers\r\n    accept.filter(function (item) {\r\n      return item === \"audio/*\" || item === \"video/*\" || item === \"image/*\" || item === \"text/*\" || /\\w+\\/[-+.\\w]+/g.test(item);\r\n    }).reduce(function (a, b) {\r\n      return _objectSpread(_objectSpread({}, a), {}, _defineProperty({}, b, []));\r\n    }, {}) : {}\r\n  }];\r\n}\r\n/**\r\n * Check if v is an exception caused by aborting a request (e.g window.showOpenFilePicker()).\r\n *\r\n * See https://developer.mozilla.org/en-US/docs/Web/API/DOMException.\r\n * @param {any} v\r\n * @returns {boolean} True if v is an abort exception.\r\n */\r\n\r\nexport function isAbort(v) {\r\n  return v instanceof DOMException && (v.name === \"AbortError\" || v.code === v.ABORT_ERR);\r\n}\r\n/**\r\n * Check if v is a security error.\r\n *\r\n * See https://developer.mozilla.org/en-US/docs/Web/API/DOMException.\r\n * @param {any} v\r\n * @returns {boolean} True if v is a security error.\r\n */\r\n\r\nexport function isSecurityError(v) {\r\n  return v instanceof DOMException && (v.name === \"SecurityError\" || v.code === v.SECURITY_ERR);\r\n}", "import * as React from 'react';\r\nimport { FC, ReactNode, useEffect } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport RemoveCircle from '@mui/icons-material/RemoveCircle';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { useTranslate } from 'ra-core';\r\nimport { SvgIconProps } from '@mui/material';\r\n\r\nexport const FileInputPreview = (props: FileInputPreviewProps) => {\r\n    const {\r\n        children,\r\n        className,\r\n        onRemove,\r\n        file,\r\n        removeIcon: RemoveIcon = RemoveCircle,\r\n        ...rest\r\n    } = props;\r\n\r\n    const translate = useTranslate();\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            const preview = file.rawFile ? file.rawFile.preview : file.preview;\r\n\r\n            if (preview) {\r\n                window.URL.revokeObjectURL(preview);\r\n            }\r\n        };\r\n    }, [file]);\r\n\r\n    return (\r\n        <Root className={className} {...rest}>\r\n            <IconButton\r\n                className={FileInputPreviewClasses.removeButton}\r\n                onClick={onRemove}\r\n                aria-label={translate('ra.action.delete')}\r\n                title={translate('ra.action.delete')}\r\n                size=\"small\"\r\n            >\r\n                <RemoveIcon className={FileInputPreviewClasses.removeIcon} />\r\n            </IconButton>\r\n            {children}\r\n        </Root>\r\n    );\r\n};\r\n\r\nFileInputPreview.propTypes = {\r\n    children: PropTypes.element.isRequired,\r\n    className: PropTypes.string,\r\n    file: PropTypes.object,\r\n    onRemove: PropTypes.func.isRequired,\r\n    removeIcon: PropTypes.element,\r\n};\r\n\r\nFileInputPreview.defaultProps = {\r\n    file: undefined,\r\n};\r\n\r\nconst PREFIX = 'RaFileInputPreview';\r\n\r\nconst FileInputPreviewClasses = {\r\n    removeButton: `${PREFIX}-removeButton`,\r\n    removeIcon: `${PREFIX}-removeIcon`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${FileInputPreviewClasses.removeButton}`]: {},\r\n\r\n    [`& .${FileInputPreviewClasses.removeIcon}`]: {\r\n        color: theme.palette.error.main,\r\n    },\r\n}));\r\n\r\nexport interface FileInputPreviewProps {\r\n    children: ReactNode;\r\n    className?: string;\r\n    onRemove: () => void;\r\n    file: any;\r\n    removeIcon?: FC<SvgIconProps>;\r\n}\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { FileInput, FileInputProps, FileInputClasses } from './FileInput';\r\n\r\nexport const ImageInput = (props: ImageInputProps) => (\r\n    <StyledFileInput\r\n        labelMultiple=\"ra.input.image.upload_several\"\r\n        labelSingle=\"ra.input.image.upload_single\"\r\n        {...props}\r\n    />\r\n);\r\n\r\nexport type ImageInputProps = FileInputProps;\r\n\r\nconst PREFIX = 'RaImageInput';\r\n\r\nconst StyledFileInput = styled(FileInput, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    width: '100%',\r\n\r\n    [`& .${FileInputClasses.dropZone}`]: {\r\n        background: theme.palette.background.default,\r\n        borderRadius: theme.shape.borderRadius,\r\n        fontFamily: theme.typography.fontFamily,\r\n        cursor: 'pointer',\r\n        padding: theme.spacing(1),\r\n        textAlign: 'center',\r\n        color: theme.palette.getContrastText(theme.palette.background.default),\r\n    },\r\n    [`& .${FileInputClasses.removeButton}`]: {\r\n        display: 'inline-block',\r\n        position: 'relative',\r\n        '& button': {\r\n            position: 'absolute',\r\n            top: theme.spacing(1),\r\n            right: theme.spacing(1),\r\n            minWidth: theme.spacing(2),\r\n            opacity: 0,\r\n        },\r\n        '&:hover button': {\r\n            opacity: 1,\r\n        },\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { CircularProgress, InputAdornment } from '@mui/material';\r\nimport { styled, SxProps } from '@mui/material/styles';\r\nimport { useTimeout } from 'ra-core';\r\n\r\nimport { ResettableTextField } from './ResettableTextField';\r\n\r\n/**\r\n * An input placeholder with a loading indicator\r\n *\r\n * Avoids visual jumps when replaced by a form input\r\n */\r\nexport const LoadingInput = ({\r\n    fullWidth,\r\n    label,\r\n    helperText,\r\n    margin,\r\n    size,\r\n    sx,\r\n    timeout = 1000,\r\n    variant,\r\n}: LoadingInputProps) => {\r\n    const oneSecondHasPassed = useTimeout(timeout);\r\n\r\n    return (\r\n        <StyledResettableTextField\r\n            sx={sx}\r\n            label={label}\r\n            helperText={helperText}\r\n            fullWidth={fullWidth}\r\n            variant={variant}\r\n            margin={margin}\r\n            size={size}\r\n            disabled\r\n            onChange={() => {}}\r\n            InputProps={{\r\n                endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                        {oneSecondHasPassed ? (\r\n                            <CircularProgress color=\"inherit\" size={20} />\r\n                        ) : (\r\n                            // use an adornment of the same size to avoid visual jumps\r\n                            <span style={{ width: 20 }}>&nbsp;</span>\r\n                        )}\r\n                    </InputAdornment>\r\n                ),\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nconst PREFIX = 'RaLoadingInput';\r\n\r\n// make it look just like a regular input, even though it's disabled\r\n// because the loading indicator is enough\r\nconst StyledResettableTextField = styled(ResettableTextField, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    '& .MuiInputLabel-root.Mui-disabled': {\r\n        color: theme.palette.text.secondary,\r\n    },\r\n    '& .MuiFilledInput-root.Mui-disabled': {\r\n        background:\r\n            theme.palette.mode === 'light'\r\n                ? 'rgba(0, 0, 0, 0.04)'\r\n                : 'rgba(255, 255, 255, 0.09)',\r\n    },\r\n    '& .MuiFilledInput-root.Mui-disabled:before': {\r\n        borderBottomStyle: 'solid',\r\n    },\r\n}));\r\n\r\nexport interface LoadingInputProps {\r\n    fullWidth?: boolean;\r\n    helperText?: React.ReactNode;\r\n    margin?: 'normal' | 'none' | 'dense';\r\n    label?: string | React.ReactElement | false;\r\n    sx?: SxProps;\r\n    size?: 'medium' | 'small';\r\n    timeout?: number;\r\n    variant?: 'standard' | 'filled' | 'outlined';\r\n}\r\n", "import * as React from 'react';\r\nimport { forwardRef, useCallback } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport {\r\n    InputAdornment,\r\n    IconButton,\r\n    TextField as MuiTextField,\r\n    TextFieldProps,\r\n} from '@mui/material';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport { useTranslate } from 'ra-core';\r\n\r\n/**\r\n * An override of the default Material UI TextField which is resettable\r\n */\r\nexport const ResettableTextField = forwardRef(\r\n    (props: ResettableTextFieldProps, ref) => {\r\n        const {\r\n            clearAlwaysVisible,\r\n            InputProps,\r\n            value,\r\n            resettable,\r\n            disabled,\r\n            variant,\r\n            margin,\r\n            className,\r\n            ...rest\r\n        } = props;\r\n\r\n        const translate = useTranslate();\r\n\r\n        const { onChange, onFocus, onBlur } = props;\r\n        const handleClickClearButton = useCallback(\r\n            event => {\r\n                event.preventDefault();\r\n                onChange('');\r\n            },\r\n            [onChange]\r\n        );\r\n\r\n        const handleFocus = useCallback(\r\n            event => {\r\n                onFocus && onFocus(event);\r\n            },\r\n            [onFocus]\r\n        );\r\n\r\n        const handleBlur = useCallback(\r\n            event => {\r\n                onBlur && onBlur(event);\r\n            },\r\n            [onBlur]\r\n        );\r\n\r\n        const {\r\n            clearButton,\r\n            clearIcon,\r\n            inputAdornedEnd,\r\n            selectAdornment,\r\n            visibleClearIcon,\r\n        } = ResettableTextFieldClasses;\r\n\r\n        const { endAdornment, ...InputPropsWithoutEndAdornment } =\r\n            InputProps || {};\r\n\r\n        if (clearAlwaysVisible && endAdornment) {\r\n            throw new Error(\r\n                'ResettableTextField cannot display both an endAdornment and a clear button always visible'\r\n            );\r\n        }\r\n\r\n        const getEndAdornment = () => {\r\n            if (!resettable) {\r\n                return endAdornment;\r\n            } else if (!value) {\r\n                if (clearAlwaysVisible) {\r\n                    // show clear button, inactive\r\n                    return (\r\n                        <InputAdornment\r\n                            position=\"end\"\r\n                            classes={{\r\n                                root: props.select ? selectAdornment : null,\r\n                            }}\r\n                        >\r\n                            <IconButton\r\n                                className={clearButton}\r\n                                aria-label={translate(\r\n                                    'ra.action.clear_input_value'\r\n                                )}\r\n                                title={translate('ra.action.clear_input_value')}\r\n                                disabled={true}\r\n                                size=\"large\"\r\n                            >\r\n                                <ClearIcon\r\n                                    className={clsx(\r\n                                        clearIcon,\r\n                                        visibleClearIcon\r\n                                    )}\r\n                                />\r\n                            </IconButton>\r\n                        </InputAdornment>\r\n                    );\r\n                } else {\r\n                    if (endAdornment) {\r\n                        return endAdornment;\r\n                    } else {\r\n                        // show spacer\r\n                        return (\r\n                            <InputAdornment\r\n                                position=\"end\"\r\n                                classes={{\r\n                                    root: props.select ? selectAdornment : null,\r\n                                }}\r\n                            >\r\n                                <span className={clearButton}>&nbsp;</span>\r\n                            </InputAdornment>\r\n                        );\r\n                    }\r\n                }\r\n            } else {\r\n                // show clear\r\n                return (\r\n                    <InputAdornment\r\n                        position=\"end\"\r\n                        classes={{\r\n                            root: props.select ? selectAdornment : null,\r\n                        }}\r\n                    >\r\n                        <IconButton\r\n                            className={clearButton}\r\n                            aria-label={translate(\r\n                                'ra.action.clear_input_value'\r\n                            )}\r\n                            title={translate('ra.action.clear_input_value')}\r\n                            onClick={handleClickClearButton}\r\n                            onMouseDown={handleMouseDownClearButton}\r\n                            disabled={disabled}\r\n                            size=\"large\"\r\n                        >\r\n                            <ClearIcon\r\n                                className={clsx(clearIcon, {\r\n                                    [visibleClearIcon]:\r\n                                        clearAlwaysVisible || value,\r\n                                })}\r\n                            />\r\n                        </IconButton>\r\n                    </InputAdornment>\r\n                );\r\n            }\r\n        };\r\n\r\n        return (\r\n            <StyledTextField\r\n                value={value}\r\n                InputProps={{\r\n                    classes:\r\n                        props.select && variant === 'filled'\r\n                            ? { adornedEnd: inputAdornedEnd }\r\n                            : {},\r\n                    endAdornment: getEndAdornment(),\r\n                    ...InputPropsWithoutEndAdornment,\r\n                }}\r\n                disabled={disabled}\r\n                variant={variant}\r\n                margin={margin}\r\n                className={className}\r\n                size=\"small\"\r\n                {...rest}\r\n                onFocus={handleFocus}\r\n                onBlur={handleBlur}\r\n                inputRef={ref}\r\n            />\r\n        );\r\n    }\r\n);\r\n\r\nResettableTextField.displayName = 'ResettableTextField';\r\n\r\nconst handleMouseDownClearButton = event => {\r\n    event.preventDefault();\r\n};\r\n\r\nResettableTextField.propTypes = {\r\n    clearAlwaysVisible: PropTypes.bool,\r\n    disabled: PropTypes.bool,\r\n    InputProps: PropTypes.object,\r\n    onBlur: PropTypes.func,\r\n    onChange: PropTypes.func.isRequired,\r\n    onFocus: PropTypes.func,\r\n    resettable: PropTypes.bool,\r\n    value: PropTypes.any,\r\n};\r\n\r\ninterface Props {\r\n    clearAlwaysVisible?: boolean;\r\n    resettable?: boolean;\r\n}\r\n\r\nexport type ResettableTextFieldProps = Props &\r\n    Omit<TextFieldProps, 'onChange'> & {\r\n        onChange?: (eventOrValue: any) => void;\r\n    };\r\n\r\nconst PREFIX = 'RaResettableTextField';\r\n\r\nexport const ResettableTextFieldClasses = {\r\n    clearIcon: `${PREFIX}-clearIcon`,\r\n    visibleClearIcon: `${PREFIX}-visibleClearIcon`,\r\n    clearButton: `${PREFIX}-clearButton`,\r\n    selectAdornment: `${PREFIX}-selectAdornment`,\r\n    inputAdornedEnd: `${PREFIX}-inputAdornedEnd`,\r\n};\r\n\r\nexport const ResettableTextFieldStyles = {\r\n    [`& .${ResettableTextFieldClasses.clearIcon}`]: {\r\n        height: 16,\r\n        width: 0,\r\n    },\r\n    [`& .${ResettableTextFieldClasses.visibleClearIcon}`]: {\r\n        width: 16,\r\n    },\r\n    [`& .${ResettableTextFieldClasses.clearButton}`]: {\r\n        height: 24,\r\n        width: 24,\r\n        padding: 0,\r\n    },\r\n    [`& .${ResettableTextFieldClasses.selectAdornment}`]: {\r\n        position: 'absolute',\r\n        right: 24,\r\n    },\r\n    [`& .${ResettableTextFieldClasses.inputAdornedEnd}`]: {\r\n        paddingRight: 0,\r\n    },\r\n};\r\n\r\nconst StyledTextField = styled(MuiTextField, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(ResettableTextFieldStyles);\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport TextField, { TextFieldProps } from '@mui/material/TextField';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport clsx from 'clsx';\r\nimport { useInput, useTranslate, FieldTitle } from 'ra-core';\r\n\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\r\nimport { InputHelperText } from './InputHelperText';\r\n\r\nexport const NullableBooleanInput = (props: NullableBooleanInputProps) => {\r\n    const {\r\n        className,\r\n        format = getStringFromBoolean,\r\n        helperText,\r\n        label,\r\n        margin,\r\n        onBlur,\r\n        onChange,\r\n        parse = getBooleanFromString,\r\n        resource,\r\n        source,\r\n        validate,\r\n        variant,\r\n        nullLabel = 'ra.boolean.null',\r\n        falseLabel = 'ra.boolean.false',\r\n        trueLabel = 'ra.boolean.true',\r\n        ...rest\r\n    } = props;\r\n\r\n    const translate = useTranslate();\r\n\r\n    const {\r\n        field,\r\n        fieldState: { error, invalid, isTouched },\r\n        formState: { isSubmitted },\r\n        id,\r\n        isRequired,\r\n    } = useInput({\r\n        format,\r\n        parse,\r\n        onBlur,\r\n        onChange,\r\n        resource,\r\n        source,\r\n        validate,\r\n        ...rest,\r\n    });\r\n    const renderHelperText =\r\n        helperText !== false || ((isTouched || isSubmitted) && invalid);\r\n    return (\r\n        <StyledTextField\r\n            id={id}\r\n            size=\"small\"\r\n            {...field}\r\n            className={clsx(\r\n                'ra-input',\r\n                `ra-input-${source}`,\r\n                NullableBooleanInputClasses.input,\r\n                className\r\n            )}\r\n            select\r\n            margin={margin}\r\n            label={\r\n                <FieldTitle\r\n                    label={label}\r\n                    source={source}\r\n                    resource={resource}\r\n                    isRequired={isRequired}\r\n                />\r\n            }\r\n            error={(isTouched || isSubmitted) && invalid}\r\n            helperText={\r\n                renderHelperText ? (\r\n                    <InputHelperText\r\n                        touched={isTouched || isSubmitted}\r\n                        error={error?.message}\r\n                        helperText={helperText}\r\n                    />\r\n                ) : null\r\n            }\r\n            variant={variant}\r\n            {...sanitizeInputRestProps(rest)}\r\n        >\r\n            <MenuItem value=\"\">{translate(nullLabel)}</MenuItem>\r\n            <MenuItem value=\"false\">{translate(falseLabel)}</MenuItem>\r\n            <MenuItem value=\"true\">{translate(trueLabel)}</MenuItem>\r\n        </StyledTextField>\r\n    );\r\n};\r\n\r\nNullableBooleanInput.propTypes = {\r\n    label: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.element,\r\n    ]),\r\n    options: PropTypes.object,\r\n    resource: PropTypes.string,\r\n    source: PropTypes.string,\r\n    nullLabel: PropTypes.string,\r\n    falseLabel: PropTypes.string,\r\n    trueLabel: PropTypes.string,\r\n};\r\n\r\nconst PREFIX = 'RaNullableBooleanInput';\r\n\r\nexport const NullableBooleanInputClasses = {\r\n    input: `${PREFIX}-input`,\r\n};\r\n\r\nconst StyledTextField = styled(TextField, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme, fullWidth }) => ({\r\n    [`&.${NullableBooleanInputClasses.input}`]: {\r\n        width: fullWidth ? '100%' : theme.spacing(16),\r\n    },\r\n}));\r\n\r\nconst getBooleanFromString = (value: string): boolean | null => {\r\n    if (value === 'true') return true;\r\n    if (value === 'false') return false;\r\n    return null;\r\n};\r\n\r\nconst getStringFromBoolean = (value?: boolean | null): string => {\r\n    if (value === true) return 'true';\r\n    if (value === false) return 'false';\r\n    return '';\r\n};\r\n\r\nexport type NullableBooleanInputProps = CommonInputProps &\r\n    Omit<TextFieldProps, 'label' | 'helperText'> & {\r\n        nullLabel?: string;\r\n        falseLabel?: string;\r\n        trueLabel?: string;\r\n    };\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport TextField, { TextFieldProps } from '@mui/material/TextField';\r\nimport { useInput, FieldTitle } from 'ra-core';\r\n\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { InputHelperText } from './InputHelperText';\r\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\r\n\r\n/**\r\n * An Input component for a number\r\n *\r\n * @example\r\n * <NumberInput source=\"nb_views\" />\r\n *\r\n * You can customize the `step` props (which defaults to \"any\")\r\n * @example\r\n * <NumberInput source=\"nb_views\" step={1} />\r\n *\r\n */\r\nexport const NumberInput = ({\r\n    className,\r\n    defaultValue = null,\r\n    format = convertNumberToString,\r\n    helperText,\r\n    label,\r\n    margin,\r\n    onChange,\r\n    onBlur,\r\n    onFocus,\r\n    parse,\r\n    resource,\r\n    source,\r\n    step,\r\n    min,\r\n    max,\r\n    validate,\r\n    variant,\r\n    inputProps: overrideInputProps,\r\n    ...rest\r\n}: NumberInputProps) => {\r\n    const {\r\n        field,\r\n        fieldState: { error, invalid, isTouched },\r\n        formState: { isSubmitted },\r\n        id,\r\n        isRequired,\r\n    } = useInput({\r\n        defaultValue,\r\n        onBlur,\r\n        resource,\r\n        source,\r\n        validate,\r\n        ...rest,\r\n    });\r\n    const { onBlur: onBlurFromField } = field;\r\n\r\n    const inputProps = { ...overrideInputProps, step, min, max };\r\n\r\n    // This is a controlled input that renders directly the string typed by the user.\r\n    // This string is converted to a number on change, and stored in the form state,\r\n    // but that number is not not displayed.\r\n    // This is to allow transitory values like '1.0' that will lead to '1.02'\r\n\r\n    // text typed by the user and displayed in the input, unparsed\r\n    const [value, setValue] = React.useState(format(field.value));\r\n\r\n    const hasFocus = React.useRef(false);\r\n\r\n    // update the input text when the record changes\r\n    React.useEffect(() => {\r\n        if (!hasFocus.current) {\r\n            const stringValue = format(field.value);\r\n            setValue(value => (value !== stringValue ? stringValue : value));\r\n        }\r\n    }, [field.value, format]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // update the input text when the user types in the input\r\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (onChange) {\r\n            onChange(event);\r\n        }\r\n        if (\r\n            typeof event.target === 'undefined' ||\r\n            typeof event.target.value === 'undefined'\r\n        ) {\r\n            return;\r\n        }\r\n        const target = event.target;\r\n        setValue(target.value);\r\n        const newValue =\r\n            target.valueAsNumber !== undefined &&\r\n            target.valueAsNumber !== null &&\r\n            !isNaN(target.valueAsNumber)\r\n                ? parse\r\n                    ? parse(target.valueAsNumber)\r\n                    : target.valueAsNumber\r\n                : parse\r\n                ? parse(target.value)\r\n                : convertStringToNumber(target.value);\r\n        field.onChange(newValue);\r\n    };\r\n\r\n    const handleFocus = (event: React.FocusEvent<HTMLInputElement>) => {\r\n        if (onFocus) {\r\n            onFocus(event);\r\n        }\r\n        hasFocus.current = true;\r\n    };\r\n\r\n    const handleBlur = () => {\r\n        if (onBlurFromField) {\r\n            onBlurFromField();\r\n        }\r\n        hasFocus.current = false;\r\n        const stringValue = format(field.value);\r\n        setValue(value => (value !== stringValue ? stringValue : value));\r\n    };\r\n\r\n    const renderHelperText =\r\n        helperText !== false || ((isTouched || isSubmitted) && invalid);\r\n\r\n    return (\r\n        <TextField\r\n            id={id}\r\n            {...field}\r\n            // use the locally controlled state instead of the react-hook-form field state\r\n            value={value}\r\n            onChange={handleChange}\r\n            onFocus={handleFocus}\r\n            onBlur={handleBlur}\r\n            className={clsx('ra-input', `ra-input-${source}`, className)}\r\n            type=\"number\"\r\n            size=\"small\"\r\n            variant={variant}\r\n            error={(isTouched || isSubmitted) && invalid}\r\n            helperText={\r\n                renderHelperText ? (\r\n                    <InputHelperText\r\n                        touched={isTouched || isSubmitted}\r\n                        error={error?.message}\r\n                        helperText={helperText}\r\n                    />\r\n                ) : null\r\n            }\r\n            label={\r\n                <FieldTitle\r\n                    label={label}\r\n                    source={source}\r\n                    resource={resource}\r\n                    isRequired={isRequired}\r\n                />\r\n            }\r\n            margin={margin}\r\n            inputProps={inputProps}\r\n            {...sanitizeInputRestProps(rest)}\r\n        />\r\n    );\r\n};\r\n\r\nNumberInput.propTypes = {\r\n    label: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.element,\r\n    ]),\r\n    options: PropTypes.object,\r\n    resource: PropTypes.string,\r\n    source: PropTypes.string,\r\n    step: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n};\r\n\r\nNumberInput.defaultProps = {\r\n    options: {},\r\n    step: 'any',\r\n    textAlign: 'right',\r\n};\r\n\r\nexport interface NumberInputProps\r\n    extends CommonInputProps,\r\n        Omit<\r\n            TextFieldProps,\r\n            | 'label'\r\n            | 'helperText'\r\n            | 'defaultValue'\r\n            | 'onChange'\r\n            | 'onBlur'\r\n            | 'type'\r\n        > {\r\n    step?: string | number;\r\n    min?: string | number;\r\n    max?: string | number;\r\n}\r\n\r\nconst convertStringToNumber = value => {\r\n    if (value == null || value === '') {\r\n        return null;\r\n    }\r\n    const float = parseFloat(value);\r\n\r\n    return isNaN(float) ? 0 : float;\r\n};\r\n\r\nconst convertNumberToString = value =>\r\n    value == null || isNaN(value) ? '' : value.toString();\r\n", "import * as React from 'react';\r\nimport { useState } from 'react';\r\nimport { useTranslate } from 'ra-core';\r\nimport { InputAdornment, IconButton } from '@mui/material';\r\nimport Visibility from '@mui/icons-material/Visibility';\r\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\r\n\r\nimport { TextInput, TextInputProps } from './TextInput';\r\n\r\nexport const PasswordInput = (props: PasswordInputProps) => {\r\n    const { initiallyVisible = false, ...rest } = props;\r\n    const [visible, setVisible] = useState(initiallyVisible);\r\n    const translate = useTranslate();\r\n\r\n    const handleClick = () => {\r\n        setVisible(!visible);\r\n    };\r\n\r\n    return (\r\n        <TextInput\r\n            type={visible ? 'text' : 'password'}\r\n            size=\"small\"\r\n            InputProps={{\r\n                endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                        <IconButton\r\n                            aria-label={translate(\r\n                                visible\r\n                                    ? 'ra.input.password.toggle_visible'\r\n                                    : 'ra.input.password.toggle_hidden'\r\n                            )}\r\n                            onClick={handleClick}\r\n                            size=\"large\"\r\n                        >\r\n                            {visible ? <Visibility /> : <VisibilityOff />}\r\n                        </IconButton>\r\n                    </InputAdornment>\r\n                ),\r\n            }}\r\n            {...rest}\r\n        />\r\n    );\r\n};\r\n\r\nexport interface PasswordInputProps extends TextInputProps {\r\n    initiallyVisible?: boolean;\r\n}\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { useInput, FieldTitle } from 'ra-core';\r\n\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport {\r\n    ResettableTextField,\r\n    ResettableTextFieldProps,\r\n} from './ResettableTextField';\r\nimport { InputHelperText } from './InputHelperText';\r\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\r\n\r\n/**\r\n * An Input component for a string\r\n *\r\n * @example\r\n * <TextInput source=\"first_name\" />\r\n *\r\n * You can customize the `type` props (which defaults to \"text\").\r\n * Note that, due to a React bug, you should use `<NumberField>` instead of using type=\"number\".\r\n * @example\r\n * <TextInput source=\"email\" type=\"email\" />\r\n * <NumberInput source=\"nb_views\" />\r\n *\r\n * The object passed as `options` props is passed to the <ResettableTextField> component\r\n */\r\nexport const TextInput = (props: TextInputProps) => {\r\n    const {\r\n        className,\r\n        defaultValue,\r\n        label,\r\n        format,\r\n        helperText,\r\n        onBlur,\r\n        onChange,\r\n        parse,\r\n        resource,\r\n        source,\r\n        validate,\r\n        ...rest\r\n    } = props;\r\n    const {\r\n        field,\r\n        fieldState: { error, invalid, isTouched },\r\n        formState: { isSubmitted },\r\n        id,\r\n        isRequired,\r\n    } = useInput({\r\n        defaultValue,\r\n        format,\r\n        parse,\r\n        resource,\r\n        source,\r\n        type: 'text',\r\n        validate,\r\n        onBlur,\r\n        onChange,\r\n        ...rest,\r\n    });\r\n\r\n    const renderHelperText =\r\n        helperText !== false || ((isTouched || isSubmitted) && invalid);\r\n\r\n    return (\r\n        <ResettableTextField\r\n            id={id}\r\n            {...field}\r\n            className={clsx('ra-input', `ra-input-${source}`, className)}\r\n            label={\r\n                label !== '' && label !== false ? (\r\n                    <FieldTitle\r\n                        label={label}\r\n                        source={source}\r\n                        resource={resource}\r\n                        isRequired={isRequired}\r\n                    />\r\n                ) : null\r\n            }\r\n            error={(isTouched || isSubmitted) && invalid}\r\n            helperText={\r\n                renderHelperText ? (\r\n                    <InputHelperText\r\n                        touched={isTouched || isSubmitted}\r\n                        error={error?.message}\r\n                        helperText={helperText}\r\n                    />\r\n                ) : null\r\n            }\r\n            {...sanitizeInputRestProps(rest)}\r\n        />\r\n    );\r\n};\r\n\r\nTextInput.propTypes = {\r\n    className: PropTypes.string,\r\n    label: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.element,\r\n    ]),\r\n    options: PropTypes.object,\r\n    resource: PropTypes.string,\r\n    source: PropTypes.string,\r\n};\r\n\r\nTextInput.defaultProps = {\r\n    options: {},\r\n};\r\n\r\nexport type TextInputProps = CommonInputProps &\r\n    Omit<ResettableTextFieldProps, 'label' | 'helperText'>;\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport {\r\n    FormControl,\r\n    FormHelperText,\r\n    FormLabel,\r\n    RadioGroup,\r\n} from '@mui/material';\r\nimport { RadioGroupProps } from '@mui/material/RadioGroup';\r\nimport { FormControlProps } from '@mui/material/FormControl';\r\nimport get from 'lodash/get';\r\nimport { useInput, FieldTitle, ChoicesProps, useChoicesContext } from 'ra-core';\r\n\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\r\nimport { InputHelperText } from './InputHelperText';\r\nimport { RadioButtonGroupInputItem } from './RadioButtonGroupInputItem';\r\nimport { Labeled } from '../Labeled';\r\nimport { LinearProgress } from '../layout';\r\n\r\n/**\r\n * An Input component for a radio button group, using an array of objects for the options\r\n *\r\n * Pass possible options as an array of objects in the 'choices' attribute.\r\n *\r\n * By default, the options are built from:\r\n *  - the 'id' property as the option value,\r\n *  - the 'name' property as the option text\r\n * @example\r\n * const choices = [\r\n *    { id: 'M', name: 'Male' },\r\n *    { id: 'F', name: 'Female' },\r\n * ];\r\n * <RadioButtonGroupInput source=\"gender\" choices={choices} />\r\n *\r\n * You can also customize the properties to use for the option name and value,\r\n * thanks to the 'optionText' and 'optionValue' attributes.\r\n * @example\r\n * const choices = [\r\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\r\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\r\n * ];\r\n * <RadioButtonGroupInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\r\n *\r\n * `optionText` also accepts a function, so you can shape the option text at will:\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\r\n * <CheckboxGroupInput source=\"recipients\" choices={choices} optionText={optionRenderer} />\r\n *\r\n * `optionText` also accepts a React Element, that can access\r\n * the related choice through the `useRecordContext` hook. You can use Field components there.\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const FullNameField = () => {\r\n *     const record = useRecordContext();\r\n *     return (<span>{record.first_name} {record.last_name}</span>)\r\n * };\r\n * <RadioButtonGroupInput source=\"recipients\" choices={choices} optionText={<FullNameField />}/>\r\n *\r\n * The choices are translated by default, so you can use translation identifiers as choices:\r\n * @example\r\n * const choices = [\r\n *    { id: 'M', name: 'myroot.gender.male' },\r\n *    { id: 'F', name: 'myroot.gender.female' },\r\n * ];\r\n *\r\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\r\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\r\n * @example\r\n * <RadioButtonGroupInput source=\"gender\" choices={choices} translateChoice={false}/>\r\n *\r\n * The object passed as `options` props is passed to the Material UI <RadioButtonGroup> component\r\n */\r\nexport const RadioButtonGroupInput = (props: RadioButtonGroupInputProps) => {\r\n    const {\r\n        choices: choicesProp,\r\n        className,\r\n        format,\r\n        helperText,\r\n        isFetching: isFetchingProp,\r\n        isLoading: isLoadingProp,\r\n        label,\r\n        margin = 'dense',\r\n        onBlur,\r\n        onChange,\r\n        options,\r\n        optionText,\r\n        optionValue,\r\n        parse,\r\n        resource: resourceProp,\r\n        row,\r\n        source: sourceProp,\r\n        translateChoice,\r\n        validate,\r\n        ...rest\r\n    } = props;\r\n\r\n    const {\r\n        allChoices,\r\n        isLoading,\r\n        error: fetchError,\r\n        resource,\r\n        source,\r\n    } = useChoicesContext({\r\n        choices: choicesProp,\r\n        isFetching: isFetchingProp,\r\n        isLoading: isLoadingProp,\r\n        resource: resourceProp,\r\n        source: sourceProp,\r\n    });\r\n\r\n    if (source === undefined) {\r\n        throw new Error(\r\n            `If you're not wrapping the RadioButtonGroupInput inside a ReferenceArrayInput, you must provide the source prop`\r\n        );\r\n    }\r\n\r\n    if (!isLoading && !fetchError && allChoices === undefined) {\r\n        throw new Error(\r\n            `If you're not wrapping the RadioButtonGroupInput inside a ReferenceArrayInput, you must provide the choices prop`\r\n        );\r\n    }\r\n\r\n    const { id, isRequired, fieldState, field, formState } = useInput({\r\n        format,\r\n        onBlur,\r\n        onChange,\r\n        parse,\r\n        resource,\r\n        source,\r\n        validate,\r\n        ...rest,\r\n    });\r\n\r\n    const { error, invalid, isTouched } = fieldState;\r\n    const { isSubmitted } = formState;\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <Labeled\r\n                htmlFor={id}\r\n                label={label}\r\n                source={source}\r\n                resource={resource}\r\n                className={clsx('ra-input', `ra-input-${source}`, className)}\r\n                isRequired={isRequired}\r\n            >\r\n                <LinearProgress />\r\n            </Labeled>\r\n        );\r\n    }\r\n\r\n    const renderHelperText =\r\n        !!fetchError ||\r\n        helperText !== false ||\r\n        ((isTouched || isSubmitted) && invalid);\r\n\r\n    return (\r\n        <StyledFormControl\r\n            component=\"fieldset\"\r\n            className={clsx('ra-input', `ra-input-${source}`, className)}\r\n            margin={margin}\r\n            error={fetchError || ((isTouched || isSubmitted) && invalid)}\r\n            {...sanitizeRestProps(rest)}\r\n        >\r\n            <FormLabel\r\n                component=\"legend\"\r\n                className={RadioButtonGroupInputClasses.label}\r\n            >\r\n                <FieldTitle\r\n                    label={label}\r\n                    source={source}\r\n                    resource={resource}\r\n                    isRequired={isRequired}\r\n                />\r\n            </FormLabel>\r\n\r\n            <RadioGroup\r\n                id={id}\r\n                row={row}\r\n                {...field}\r\n                {...options}\r\n                {...sanitizeRestProps(rest)}\r\n            >\r\n                {allChoices?.map(choice => (\r\n                    <RadioButtonGroupInputItem\r\n                        key={get(choice, optionValue)}\r\n                        choice={choice}\r\n                        optionText={optionText}\r\n                        optionValue={optionValue}\r\n                        source={id}\r\n                        translateChoice={translateChoice}\r\n                    />\r\n                ))}\r\n            </RadioGroup>\r\n            {renderHelperText ? (\r\n                <FormHelperText>\r\n                    <InputHelperText\r\n                        touched={isTouched || isSubmitted || fetchError}\r\n                        error={error?.message || fetchError?.message}\r\n                        helperText={helperText}\r\n                    />\r\n                </FormHelperText>\r\n            ) : null}\r\n        </StyledFormControl>\r\n    );\r\n};\r\n\r\nRadioButtonGroupInput.propTypes = {\r\n    choices: PropTypes.arrayOf(PropTypes.any),\r\n    label: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.element,\r\n    ]),\r\n    options: PropTypes.object,\r\n    optionText: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.func,\r\n        PropTypes.element,\r\n    ]),\r\n    optionValue: PropTypes.string,\r\n    resource: PropTypes.string,\r\n    source: PropTypes.string,\r\n    translateChoice: PropTypes.bool,\r\n};\r\n\r\nRadioButtonGroupInput.defaultProps = {\r\n    options: {},\r\n    optionText: 'name',\r\n    optionValue: 'id',\r\n    row: true,\r\n    translateChoice: true,\r\n};\r\n\r\nconst sanitizeRestProps = ({\r\n    afterSubmit,\r\n    allowNull,\r\n    beforeSubmit,\r\n    choices,\r\n    className,\r\n    crudGetMatching,\r\n    crudGetOne,\r\n    data,\r\n    filter,\r\n    filterToQuery,\r\n    formatOnBlur,\r\n    isEqual,\r\n    limitChoicesToValue,\r\n    multiple,\r\n    name,\r\n    pagination,\r\n    perPage,\r\n    ref,\r\n    reference,\r\n    refetch,\r\n    render,\r\n    setFilter,\r\n    setPagination,\r\n    setSort,\r\n    sort,\r\n    subscription,\r\n    type,\r\n    validateFields,\r\n    validation,\r\n    value,\r\n    ...rest\r\n}: any) => sanitizeInputRestProps(rest);\r\n\r\nexport type RadioButtonGroupInputProps = Omit<CommonInputProps, 'source'> &\r\n    ChoicesProps &\r\n    FormControlProps &\r\n    RadioGroupProps & {\r\n        options?: RadioGroupProps;\r\n        source?: string;\r\n    };\r\n\r\nconst PREFIX = 'RaRadioButtonGroupInput';\r\n\r\nexport const RadioButtonGroupInputClasses = {\r\n    label: `${PREFIX}-label`,\r\n};\r\n\r\nconst StyledFormControl = styled(FormControl, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${RadioButtonGroupInputClasses.label}`]: {\r\n        transform: 'translate(0, 5px) scale(0.75)',\r\n        transformOrigin: `top ${theme.direction === 'ltr' ? 'left' : 'right'}`,\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Radio from '@mui/material/Radio';\r\nimport { useChoices } from 'ra-core';\r\n\r\nexport const RadioButtonGroupInputItem = ({\r\n    choice,\r\n    optionText,\r\n    optionValue,\r\n    source,\r\n    translateChoice,\r\n}) => {\r\n    const { getChoiceText, getChoiceValue } = useChoices({\r\n        optionText,\r\n        optionValue,\r\n        translateChoice,\r\n    });\r\n    const label = getChoiceText(choice);\r\n    const value = getChoiceValue(choice);\r\n\r\n    const nodeId = `${source}_${value}`;\r\n\r\n    return (\r\n        <FormControlLabel\r\n            label={label}\r\n            htmlFor={nodeId}\r\n            value={value}\r\n            control={<Radio id={nodeId} color=\"primary\" />}\r\n        />\r\n    );\r\n};\r\n\r\nexport default RadioButtonGroupInputItem;\r\n", "import * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    InputProps,\r\n    useReferenceArrayInputController,\r\n    ResourceContextProvider,\r\n    ChoicesContextProvider,\r\n    UseReferenceArrayInputParams,\r\n} from 'ra-core';\r\nimport { AutocompleteArrayInput } from './AutocompleteArrayInput';\r\n\r\n/**\r\n * An Input component for fields containing a list of references to another resource.\r\n * Useful for 'hasMany' relationship.\r\n *\r\n * @example\r\n * The post object has many tags, so the post resource looks like:\r\n * {\r\n *    id: 1234,\r\n *    tag_ids: [ \"1\", \"23\", \"4\" ]\r\n * }\r\n *\r\n * ReferenceArrayInput component fetches the current resources (using\r\n * `dataProvider.getMany()`) as well as possible resources (using\r\n * `dataProvider.getList()`) in the reference endpoint. It then\r\n * delegates rendering to its child component, to which it makes the possible\r\n * choices available through the ChoicesContext.\r\n *\r\n * Use it with a selector component as child, like `<SelectArrayInput>`\r\n * or <CheckboxGroupInput>.\r\n *\r\n * @example\r\n * export const PostEdit = (props) => (\r\n *     <Edit {...props}>\r\n *         <SimpleForm>\r\n *             <ReferenceArrayInput source=\"tag_ids\" reference=\"tags\">\r\n *                 <SelectArrayInput optionText=\"name\" />\r\n *             </ReferenceArrayInput>\r\n *         </SimpleForm>\r\n *     </Edit>\r\n * );\r\n *\r\n * By default, restricts the possible values to 25. You can extend this limit\r\n * by setting the `perPage` prop.\r\n *\r\n * @example\r\n * <ReferenceArrayInput\r\n *      source=\"tag_ids\"\r\n *      reference=\"tags\"\r\n *      perPage={100}>\r\n *     <SelectArrayInput optionText=\"name\" />\r\n * </ReferenceArrayInput>\r\n *\r\n * By default, orders the possible values by id desc. You can change this order\r\n * by setting the `sort` prop (an object with `field` and `order` properties).\r\n *\r\n * @example\r\n * <ReferenceArrayInput\r\n *      source=\"tag_ids\"\r\n *      reference=\"tags\"\r\n *      sort={{ field: 'name', order: 'ASC' }}>\r\n *     <SelectArrayInput optionText=\"name\" />\r\n * </ReferenceArrayInput>\r\n *\r\n * Also, you can filter the query used to populate the possible values. Use the\r\n * `filter` prop for that.\r\n *\r\n * @example\r\n * <ReferenceArrayInput\r\n *      source=\"tag_ids\"\r\n *      reference=\"tags\"\r\n *      filter={{ is_public: true }}>\r\n *     <SelectArrayInput optionText=\"name\" />\r\n * </ReferenceArrayInput>\r\n *\r\n * The enclosed component may filter results. ReferenceArrayInput create a ChoicesContext which provides\r\n * a `setFilters` function. You can call this function to filter the results.\r\n */\r\nexport const ReferenceArrayInput = (props: ReferenceArrayInputProps) => {\r\n    const { children, reference } = props;\r\n    if (React.Children.count(children) !== 1) {\r\n        throw new Error(\r\n            '<ReferenceArrayInput> only accepts a single child (like <Datagrid>)'\r\n        );\r\n    }\r\n\r\n    const controllerProps = useReferenceArrayInputController(props);\r\n\r\n    return (\r\n        <ResourceContextProvider value={reference}>\r\n            <ChoicesContextProvider value={controllerProps}>\r\n                {children}\r\n            </ChoicesContextProvider>\r\n        </ResourceContextProvider>\r\n    );\r\n};\r\n\r\nReferenceArrayInput.propTypes = {\r\n    children: PropTypes.element,\r\n    filter: PropTypes.object,\r\n    label: PropTypes.string,\r\n    page: PropTypes.number,\r\n    perPage: PropTypes.number,\r\n    reference: PropTypes.string.isRequired,\r\n    resource: PropTypes.string,\r\n    sort: PropTypes.shape({\r\n        field: PropTypes.string,\r\n        order: PropTypes.oneOf(['ASC', 'DESC']),\r\n    }),\r\n    source: PropTypes.string,\r\n};\r\n\r\nReferenceArrayInput.defaultProps = {\r\n    filter: {},\r\n    page: 1,\r\n    perPage: 25,\r\n    sort: { field: 'id', order: 'DESC' },\r\n    children: <AutocompleteArrayInput />,\r\n};\r\n\r\nexport interface ReferenceArrayInputProps\r\n    extends InputProps,\r\n        UseReferenceArrayInputParams {\r\n    children?: ReactElement;\r\n    label?: string;\r\n    [key: string]: any;\r\n}\r\n", "import * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nexport const ReferenceError = ({\r\n    label,\r\n    error,\r\n}: {\r\n    label?: string | ReactElement | false;\r\n    error: Error;\r\n}) => (\r\n    <TextField\r\n        error\r\n        disabled\r\n        label={label}\r\n        helperText={error?.message}\r\n        margin=\"normal\"\r\n    />\r\n);\r\n\r\nReferenceError.propTypes = {\r\n    error: PropTypes.object.isRequired,\r\n    label: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.element,\r\n        PropTypes.bool,\r\n    ]),\r\n};\r\n", "import React, { Children, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    ChoicesContextProvider,\r\n    useReferenceInputController,\r\n    InputProps,\r\n    ResourceContextProvider,\r\n    UseReferenceInputControllerParams,\r\n} from 'ra-core';\r\n\r\nimport { AutocompleteInput } from './AutocompleteInput';\r\n\r\n/**\r\n * An Input component for choosing a reference record. Useful for foreign keys.\r\n *\r\n * This component fetches the possible values in the reference resource\r\n * (using `dataProvider.getList()`), then renders an `<AutocompleteInput>`,\r\n * to which it passes the possible choices via a `ChoicesContext`.\r\n *\r\n * You can pass a child select component to customize the way the reference\r\n * selector is displayed (e.g. using `<SelectInput>` or `<RadioButtonGroupInput>`\r\n * instead of `<AutocompleteInput>`).\r\n *\r\n * @example // default selector: AutocompleteInput\r\n * export const CommentEdit = (props) => (\r\n *     <Edit {...props}>\r\n *         <SimpleForm>\r\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\" />\r\n *         </SimpleForm>\r\n *     </Edit>\r\n * );\r\n *\r\n * @example // using a SelectInput as selector\r\n * export const CommentEdit = (props) => (\r\n *     <Edit {...props}>\r\n *         <SimpleForm>\r\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\r\n *                 <SelectInput optionText=\"title\" />\r\n *             </ReferenceInput>\r\n *         </SimpleForm>\r\n *     </Edit>\r\n * );\r\n *\r\n * By default, restricts the possible values to 25. You can extend this limit\r\n * by setting the `perPage` prop.\r\n *\r\n * @example\r\n * <ReferenceInput source=\"post_id\" reference=\"posts\" perPage={100}/>\r\n *\r\n * By default, orders the possible values by id desc. You can change this order\r\n * by setting the `sort` prop (an object with `field` and `order` properties).\r\n *\r\n * @example\r\n * <ReferenceInput\r\n *      source=\"post_id\"\r\n *      reference=\"posts\"\r\n *      sort={{ field: 'title', order: 'ASC' }}\r\n * />\r\n *\r\n * Also, you can filter the query used to populate the possible values. Use the\r\n * `filter` prop for that.\r\n *\r\n * @example\r\n * <ReferenceInput\r\n *      source=\"post_id\"\r\n *      reference=\"posts\"\r\n *      filter={{ is_published: true }}\r\n * />\r\n *\r\n * The enclosed component may filter results. ReferenceInput create a ChoicesContext which provides\r\n * a `setFilters` function. You can call this function to filter the results.\r\n */\r\nexport const ReferenceInput = (props: ReferenceInputProps) => {\r\n    const { children, reference } = props;\r\n\r\n    const controllerProps = useReferenceInputController(props);\r\n\r\n    if (Children.count(children) !== 1) {\r\n        throw new Error('<ReferenceInput> only accepts a single child');\r\n    }\r\n\r\n    return (\r\n        <ResourceContextProvider value={reference}>\r\n            <ChoicesContextProvider value={controllerProps}>\r\n                {children}\r\n            </ChoicesContextProvider>\r\n        </ResourceContextProvider>\r\n    );\r\n};\r\n\r\nReferenceInput.propTypes = {\r\n    children: PropTypes.element,\r\n    filter: PropTypes.object,\r\n    label: PropTypes.string,\r\n    page: PropTypes.number,\r\n    perPage: PropTypes.number,\r\n    record: PropTypes.object,\r\n    reference: PropTypes.string.isRequired,\r\n    resource: PropTypes.string,\r\n    sort: PropTypes.shape({\r\n        field: PropTypes.string,\r\n        order: PropTypes.oneOf(['ASC', 'DESC']),\r\n    }),\r\n    source: PropTypes.string,\r\n};\r\n\r\nReferenceInput.defaultProps = {\r\n    filter: {},\r\n    page: 1,\r\n    perPage: 25,\r\n    sort: { field: 'id', order: 'DESC' },\r\n    children: <AutocompleteInput />,\r\n};\r\n\r\nexport interface ReferenceInputProps\r\n    extends InputProps,\r\n        UseReferenceInputControllerParams {\r\n    children?: ReactElement;\r\n    label?: string;\r\n    [key: string]: any;\r\n}\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { InputAdornment } from '@mui/material';\r\nimport { useTranslate } from 'ra-core';\r\n\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { TextInput, TextInputProps } from './TextInput';\r\n\r\nexport const SearchInput = (props: SearchInputProps) => {\r\n    const { label, ...rest } = props;\r\n\r\n    const translate = useTranslate();\r\n\r\n    if (label) {\r\n        throw new Error(\r\n            \"<SearchInput> isn't designed to be used with a label prop. Use <TextInput> if you need a label.\"\r\n        );\r\n    }\r\n\r\n    return (\r\n        <StyledTextInput\r\n            hiddenLabel\r\n            label=\"\"\r\n            resettable\r\n            placeholder={translate('ra.action.search')}\r\n            InputProps={{\r\n                endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                        <SearchIcon color=\"disabled\" />\r\n                    </InputAdornment>\r\n                ),\r\n            }}\r\n            size=\"small\"\r\n            {...rest}\r\n        />\r\n    );\r\n};\r\n\r\nexport type SearchInputProps = CommonInputProps & TextInputProps;\r\n\r\nconst PREFIX = 'RaSearchInput';\r\n\r\nconst StyledTextInput = styled(TextInput, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    marginTop: 0,\r\n});\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { useCallback, useRef, ChangeEvent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport {\r\n    Select,\r\n    SelectProps,\r\n    MenuItem,\r\n    InputLabel,\r\n    FormHelperText,\r\n    FormControl,\r\n    Chip,\r\n    OutlinedInput,\r\n} from '@mui/material';\r\nimport {\r\n    ChoicesProps,\r\n    FieldTitle,\r\n    useInput,\r\n    useChoicesContext,\r\n    useChoices,\r\n    RaRecord,\r\n} from 'ra-core';\r\nimport { InputHelperText } from './InputHelperText';\r\nimport { FormControlProps } from '@mui/material/FormControl';\r\n\r\nimport { LinearProgress } from '../layout';\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport { Labeled } from '../Labeled';\r\nimport {\r\n    SupportCreateSuggestionOptions,\r\n    useSupportCreateSuggestion,\r\n} from './useSupportCreateSuggestion';\r\n\r\n/**\r\n * An Input component for a select box allowing multiple selections, using an array of objects for the options\r\n *\r\n * Pass possible options as an array of objects in the 'choices' attribute.\r\n *\r\n * By default, the options are built from:\r\n *  - the 'id' property as the option value,\r\n *  - the 'name' property as the option text\r\n * @example\r\n * const choices = [\r\n *    { id: 'programming', name: 'Programming' },\r\n *    { id: 'lifestyle', name: 'Lifestyle' },\r\n *    { id: 'photography', name: 'Photography' },\r\n * ];\r\n * <SelectArrayInput source=\"tags\" choices={choices} />\r\n *\r\n * You can also customize the properties to use for the option name and value,\r\n * thanks to the 'optionText' and 'optionValue' attributes.\r\n * @example\r\n * const choices = [\r\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\r\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\r\n * ];\r\n * <SelectArrayInput source=\"authors\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\r\n *\r\n * `optionText` also accepts a function, so you can shape the option text at will:\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\r\n * <SelectArrayInput source=\"authors\" choices={choices} optionText={optionRenderer} />\r\n *\r\n * `optionText` also accepts a React Element, that can access\r\n * the related choice through the `useRecordContext` hook. You can use Field components there.\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const FullNameField = () => {\r\n *     const record = useRecordContext();\r\n *     return (<span>{record.first_name} {record.last_name}</span>)\r\n * };\r\n * <SelectArrayInput source=\"authors\" choices={choices} optionText={<FullNameField />}/>\r\n *\r\n * The choices are translated by default, so you can use translation identifiers as choices:\r\n * @example\r\n * const choices = [\r\n *    { id: 'programming', name: 'myroot.tags.programming' },\r\n *    { id: 'lifestyle', name: 'myroot.tags.lifestyle' },\r\n *    { id: 'photography', name: 'myroot.tags.photography' },\r\n * ];\r\n */\r\nexport const SelectArrayInput = (props: SelectArrayInputProps) => {\r\n    const {\r\n        choices: choicesProp,\r\n        className,\r\n        create,\r\n        createLabel,\r\n        createValue,\r\n        disableValue,\r\n        format,\r\n        helperText,\r\n        label,\r\n        isFetching: isFetchingProp,\r\n        isLoading: isLoadingProp,\r\n        margin,\r\n        onBlur,\r\n        onChange,\r\n        onCreate,\r\n        options,\r\n        optionText,\r\n        optionValue,\r\n        parse,\r\n        resource: resourceProp,\r\n        size = 'small',\r\n        source: sourceProp,\r\n        translateChoice,\r\n        validate,\r\n        variant,\r\n        ...rest\r\n    } = props;\r\n\r\n    const inputLabel = useRef(null);\r\n\r\n    const {\r\n        allChoices,\r\n        isLoading,\r\n        error: fetchError,\r\n        source,\r\n        resource,\r\n    } = useChoicesContext({\r\n        choices: choicesProp,\r\n        isLoading: isLoadingProp,\r\n        isFetching: isFetchingProp,\r\n        resource: resourceProp,\r\n        source: sourceProp,\r\n    });\r\n\r\n    const { getChoiceText, getChoiceValue, getDisableValue } = useChoices({\r\n        optionText,\r\n        optionValue,\r\n        disableValue,\r\n        translateChoice,\r\n    });\r\n\r\n    const {\r\n        field,\r\n        isRequired,\r\n        fieldState: { error, invalid, isTouched },\r\n        formState: { isSubmitted },\r\n    } = useInput({\r\n        format,\r\n        onBlur,\r\n        onChange,\r\n        parse,\r\n        resource,\r\n        source,\r\n        validate,\r\n        ...rest,\r\n    });\r\n\r\n    const handleChange = useCallback(\r\n        (eventOrChoice: ChangeEvent<HTMLInputElement> | RaRecord) => {\r\n            // We might receive an event from the mui component\r\n            // In this case, it will be the choice id\r\n            if (eventOrChoice?.target) {\r\n                // when used with different IDs types, unselection leads to double selection with both types\r\n                // instead of the value being removed from the array\r\n                // e.g. we receive eventOrChoice.target.value = [1, '2', 2] instead of [1] after removing 2\r\n                // this snippet removes a value if it is present twice\r\n                eventOrChoice.target.value = eventOrChoice.target.value.reduce(\r\n                    (acc, value) => {\r\n                        // eslint-disable-next-line eqeqeq\r\n                        const index = acc.findIndex(v => v == value);\r\n                        return index < 0\r\n                            ? [...acc, value]\r\n                            : [...acc.slice(0, index), ...acc.slice(index + 1)];\r\n                    },\r\n                    []\r\n                );\r\n                field.onChange(eventOrChoice);\r\n            } else {\r\n                // Or we might receive a choice directly, for instance a newly created one\r\n                field.onChange([\r\n                    ...(field.value || []),\r\n                    getChoiceValue(eventOrChoice),\r\n                ]);\r\n            }\r\n        },\r\n        [field, getChoiceValue]\r\n    );\r\n\r\n    const {\r\n        getCreateItem,\r\n        handleChange: handleChangeWithCreateSupport,\r\n        createElement,\r\n    } = useSupportCreateSuggestion({\r\n        create,\r\n        createLabel,\r\n        createValue,\r\n        handleChange,\r\n        onCreate,\r\n        optionText,\r\n    });\r\n\r\n    const createItem = create || onCreate ? getCreateItem() : null;\r\n    const finalChoices =\r\n        create || onCreate\r\n            ? [...(allChoices || []), createItem]\r\n            : allChoices || [];\r\n\r\n    const renderMenuItemOption = useCallback(\r\n        choice =>\r\n            !!createItem &&\r\n            choice?.id === createItem.id &&\r\n            typeof optionText === 'function'\r\n                ? createItem.name\r\n                : getChoiceText(choice),\r\n        [createItem, getChoiceText, optionText]\r\n    );\r\n\r\n    const renderMenuItem = useCallback(\r\n        choice => {\r\n            return choice ? (\r\n                <MenuItem\r\n                    key={getChoiceValue(choice)}\r\n                    value={getChoiceValue(choice)}\r\n                    disabled={getDisableValue(choice)}\r\n                >\r\n                    {renderMenuItemOption(\r\n                        !!createItem && choice?.id === createItem.id\r\n                            ? createItem\r\n                            : choice\r\n                    )}\r\n                </MenuItem>\r\n            ) : null;\r\n        },\r\n        [getChoiceValue, getDisableValue, renderMenuItemOption, createItem]\r\n    );\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <Labeled\r\n                label={label}\r\n                source={source}\r\n                resource={resource}\r\n                className={clsx('ra-input', `ra-input-${source}`, className)}\r\n                isRequired={isRequired}\r\n            >\r\n                <LinearProgress />\r\n            </Labeled>\r\n        );\r\n    }\r\n\r\n    // Here wen ensure we always have an array and this array does not contain the default value (empty string)\r\n    const finalValue = Array.isArray(field.value ?? [])\r\n        ? field.value\r\n        : field.value\r\n        ? [field.value]\r\n        : [];\r\n\r\n    const outlinedInputProps =\r\n        variant === 'outlined'\r\n            ? {\r\n                  input: (\r\n                      <OutlinedInput\r\n                          id=\"select-multiple-chip\"\r\n                          label={\r\n                              <FieldTitle\r\n                                  label={label}\r\n                                  source={source}\r\n                                  resource={resource}\r\n                                  isRequired={isRequired}\r\n                              />\r\n                          }\r\n                      />\r\n                  ),\r\n              }\r\n            : {};\r\n    const renderHelperText =\r\n        !!fetchError ||\r\n        helperText !== false ||\r\n        ((isTouched || isSubmitted) && invalid);\r\n\r\n    return (\r\n        <>\r\n            <StyledFormControl\r\n                margin={margin}\r\n                className={clsx('ra-input', `ra-input-${source}`, className)}\r\n                error={fetchError || ((isTouched || isSubmitted) && invalid)}\r\n                variant={variant}\r\n                {...sanitizeRestProps(rest)}\r\n            >\r\n                <InputLabel ref={inputLabel} id={`${label}-outlined-label`}>\r\n                    <FieldTitle\r\n                        label={label}\r\n                        source={source}\r\n                        resource={resource}\r\n                        isRequired={isRequired}\r\n                    />\r\n                </InputLabel>\r\n                <Select\r\n                    autoWidth\r\n                    labelId={`${label}-outlined-label`}\r\n                    label={\r\n                        <FieldTitle\r\n                            label={label}\r\n                            source={source}\r\n                            resource={resource}\r\n                            isRequired={isRequired}\r\n                        />\r\n                    }\r\n                    multiple\r\n                    error={\r\n                        !!fetchError || ((isTouched || isSubmitted) && invalid)\r\n                    }\r\n                    renderValue={(selected: any[]) => (\r\n                        <div className={SelectArrayInputClasses.chips}>\r\n                            {(Array.isArray(selected) ? selected : [])\r\n                                .map(item =>\r\n                                    (allChoices || []).find(\r\n                                        // eslint-disable-next-line eqeqeq\r\n                                        choice => getChoiceValue(choice) == item\r\n                                    )\r\n                                )\r\n                                .filter(item => !!item)\r\n                                .map(item => (\r\n                                    <Chip\r\n                                        key={getChoiceValue(item)}\r\n                                        label={renderMenuItemOption(item)}\r\n                                        className={SelectArrayInputClasses.chip}\r\n                                        size=\"small\"\r\n                                    />\r\n                                ))}\r\n                        </div>\r\n                    )}\r\n                    data-testid=\"selectArray\"\r\n                    size={size}\r\n                    {...field}\r\n                    {...options}\r\n                    onChange={handleChangeWithCreateSupport}\r\n                    value={finalValue}\r\n                    {...outlinedInputProps}\r\n                >\r\n                    {finalChoices.map(renderMenuItem)}\r\n                </Select>\r\n                {renderHelperText ? (\r\n                    <FormHelperText\r\n                        error={fetchError || (isTouched && !!error)}\r\n                    >\r\n                        <InputHelperText\r\n                            touched={isTouched || isSubmitted || fetchError}\r\n                            error={error?.message || fetchError?.message}\r\n                            helperText={helperText}\r\n                        />\r\n                    </FormHelperText>\r\n                ) : null}\r\n            </StyledFormControl>\r\n            {createElement}\r\n        </>\r\n    );\r\n};\r\n\r\nexport type SelectArrayInputProps = ChoicesProps &\r\n    Omit<SupportCreateSuggestionOptions, 'handleChange'> &\r\n    Omit<CommonInputProps, 'source'> &\r\n    Omit<FormControlProps, 'defaultValue' | 'onBlur' | 'onChange'> & {\r\n        options?: SelectProps;\r\n        disableValue?: string;\r\n        source?: string;\r\n        onChange?: (event: ChangeEvent<HTMLInputElement> | RaRecord) => void;\r\n    };\r\n\r\nSelectArrayInput.propTypes = {\r\n    choices: PropTypes.arrayOf(PropTypes.object),\r\n    className: PropTypes.string,\r\n    children: PropTypes.node,\r\n    label: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.element,\r\n    ]),\r\n    options: PropTypes.object,\r\n    optionText: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.func,\r\n        PropTypes.element,\r\n    ]).isRequired,\r\n    optionValue: PropTypes.string.isRequired,\r\n    disableValue: PropTypes.string,\r\n    resource: PropTypes.string,\r\n    source: PropTypes.string,\r\n    translateChoice: PropTypes.bool,\r\n};\r\n\r\nSelectArrayInput.defaultProps = {\r\n    options: {},\r\n    optionText: 'name',\r\n    optionValue: 'id',\r\n    disableValue: 'disabled',\r\n    translateChoice: true,\r\n};\r\n\r\nconst sanitizeRestProps = ({\r\n    alwaysOn,\r\n    choices,\r\n    classNamInputWithOptionsPropse,\r\n    componenInputWithOptionsPropst,\r\n    crudGetMInputWithOptionsPropsatching,\r\n    crudGetOInputWithOptionsPropsne,\r\n    defaultValue,\r\n    disableValue,\r\n    emptyText,\r\n    enableGetChoices,\r\n    filter,\r\n    filterToQuery,\r\n    formClassName,\r\n    initializeForm,\r\n    initialValue,\r\n    input,\r\n    isRequired,\r\n    label,\r\n    limitChoicesToValue,\r\n    loaded,\r\n    locale,\r\n    meta,\r\n    onChange,\r\n    options,\r\n    optionValue,\r\n    optionText,\r\n    perPage,\r\n    record,\r\n    reference,\r\n    resource,\r\n    setFilter,\r\n    setPagination,\r\n    setSort,\r\n    sort,\r\n    source,\r\n    textAlign,\r\n    translate,\r\n    translateChoice,\r\n    validation,\r\n    ...rest\r\n}: any) => rest;\r\n\r\nconst PREFIX = 'RaSelectArrayInput';\r\n\r\nexport const SelectArrayInputClasses = {\r\n    chips: `${PREFIX}-chips`,\r\n    chip: `${PREFIX}-chip`,\r\n};\r\n\r\nconst StyledFormControl = styled(FormControl, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    minWidth: theme.spacing(20),\r\n    [`& .${SelectArrayInputClasses.chips}`]: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n\r\n    [`& .${SelectArrayInputClasses.chip}`]: {\r\n        marginTop: theme.spacing(0.5),\r\n        marginRight: theme.spacing(0.5),\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { ReactElement, useCallback, useEffect, ChangeEvent } from 'react';\r\nimport { isElement } from 'react-is';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { MenuItem, TextFieldProps } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n    useChoicesContext,\r\n    useInput,\r\n    FieldTitle,\r\n    useTranslate,\r\n    ChoicesProps,\r\n    useChoices,\r\n    RaRecord,\r\n    useGetRecordRepresentation,\r\n} from 'ra-core';\r\n\r\nimport { CommonInputProps } from './CommonInputProps';\r\nimport {\r\n    ResettableTextField,\r\n    ResettableTextFieldStyles,\r\n} from './ResettableTextField';\r\nimport { InputHelperText } from './InputHelperText';\r\nimport { sanitizeInputRestProps } from './sanitizeInputRestProps';\r\nimport {\r\n    useSupportCreateSuggestion,\r\n    SupportCreateSuggestionOptions,\r\n} from './useSupportCreateSuggestion';\r\nimport { LoadingInput } from './LoadingInput';\r\n\r\n/**\r\n * An Input component for a select box, using an array of objects for the options\r\n *\r\n * Pass possible options as an array of objects in the 'choices' attribute.\r\n *\r\n * By default, the options are built from:\r\n *  - the 'id' property as the option value,\r\n *  - the 'name' property as the option text\r\n * @example\r\n * const choices = [\r\n *    { id: 'M', name: 'Male' },\r\n *    { id: 'F', name: 'Female' },\r\n * ];\r\n * <SelectInput source=\"gender\" choices={choices} />\r\n *\r\n * You can also customize the properties to use for the option name and value,\r\n * thanks to the 'optionText' and 'optionValue' attributes.\r\n * @example\r\n * const choices = [\r\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\r\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\r\n * ];\r\n * <SelectInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\r\n *\r\n * `optionText` also accepts a function, so you can shape the option text at will:\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\r\n * <SelectInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\r\n *\r\n * `optionText` also accepts a React Element, that can access\r\n * the related choice through the `useRecordContext` hook. You can use Field components there.\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const FullNameField = () => {\r\n *     const record = useRecordContext();\r\n *     return <span>{record.first_name} {record.last_name}</span>;\r\n * }\r\n * <SelectInput source=\"author\" choices={choices} optionText={<FullNameField />}/>\r\n *\r\n * The choices are translated by default, so you can use translation identifiers as choices:\r\n * @example\r\n * const choices = [\r\n *    { id: 'M', name: 'myroot.gender.male' },\r\n *    { id: 'F', name: 'myroot.gender.female' },\r\n * ];\r\n *\r\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\r\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\r\n * @example\r\n * <SelectInput source=\"gender\" choices={choices} translateChoice={false}/>\r\n *\r\n * The object passed as `options` props is passed to the Material UI <Select> component\r\n *\r\n * You can disable some choices by providing a `disableValue` field which name is `disabled` by default\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', disabled: true },\r\n * ];\r\n *\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', not_available: true },\r\n * ];\r\n * <SelectInput source=\"gender\" choices={choices} disableValue=\"not_available\" />\r\n *\r\n */\r\nexport const SelectInput = (props: SelectInputProps) => {\r\n    const {\r\n        choices: choicesProp,\r\n        className,\r\n        create,\r\n        createLabel,\r\n        createValue,\r\n        defaultValue,\r\n        disableValue,\r\n        emptyText,\r\n        emptyValue,\r\n        format,\r\n        filter,\r\n        helperText,\r\n        isFetching: isFetchingProp,\r\n        isLoading: isLoadingProp,\r\n        label,\r\n        margin = 'dense',\r\n        onBlur,\r\n        onChange,\r\n        onCreate,\r\n        optionText,\r\n        optionValue,\r\n        parse,\r\n        resource: resourceProp,\r\n        source: sourceProp,\r\n        translateChoice,\r\n        validate,\r\n        ...rest\r\n    } = props;\r\n    const translate = useTranslate();\r\n\r\n    useEffect(() => {\r\n        // eslint-disable-next-line eqeqeq\r\n        if (emptyValue == null) {\r\n            throw new Error(\r\n                `emptyValue being set to null or undefined is not supported. Use parse to turn the empty string into null.`\r\n            );\r\n        }\r\n    }, [emptyValue]);\r\n\r\n    const {\r\n        allChoices,\r\n        isLoading,\r\n        error: fetchError,\r\n        source,\r\n        resource,\r\n        isFromReference,\r\n    } = useChoicesContext({\r\n        choices: choicesProp,\r\n        isLoading: isLoadingProp,\r\n        isFetching: isFetchingProp,\r\n        resource: resourceProp,\r\n        source: sourceProp,\r\n    });\r\n\r\n    if (source === undefined) {\r\n        throw new Error(\r\n            `If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the source prop`\r\n        );\r\n    }\r\n\r\n    if (!isLoading && !fetchError && allChoices === undefined) {\r\n        throw new Error(\r\n            `If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the choices prop`\r\n        );\r\n    }\r\n\r\n    const getRecordRepresentation = useGetRecordRepresentation(resource);\r\n    const { getChoiceText, getChoiceValue, getDisableValue } = useChoices({\r\n        optionText:\r\n            optionText ??\r\n            (isFromReference ? getRecordRepresentation : undefined),\r\n        optionValue,\r\n        disableValue,\r\n        translateChoice,\r\n    });\r\n    const {\r\n        field,\r\n        fieldState,\r\n        id,\r\n        isRequired,\r\n        formState: { isSubmitted },\r\n    } = useInput({\r\n        defaultValue,\r\n        parse,\r\n        format,\r\n        onBlur,\r\n        onChange,\r\n        resource,\r\n        source,\r\n        validate,\r\n        ...rest,\r\n    });\r\n\r\n    const { error, invalid, isTouched } = fieldState;\r\n\r\n    const renderEmptyItemOption = useCallback(() => {\r\n        return isElement(emptyText)\r\n            ? emptyText\r\n            : emptyText === ''\r\n            ? ' ' // em space, forces the display of an empty line of normal height\r\n            : translate(emptyText, { _: emptyText });\r\n    }, [emptyText, translate]);\r\n\r\n    const renderMenuItemOption = useCallback(choice => getChoiceText(choice), [\r\n        getChoiceText,\r\n    ]);\r\n\r\n    const handleChange = useCallback(\r\n        async (eventOrChoice: ChangeEvent<HTMLInputElement> | RaRecord) => {\r\n            // We might receive an event from the mui component\r\n            // In this case, it will be the choice id\r\n            if (eventOrChoice?.target) {\r\n                field.onChange(eventOrChoice);\r\n            } else {\r\n                // Or we might receive a choice directly, for instance a newly created one\r\n                field.onChange(getChoiceValue(eventOrChoice));\r\n            }\r\n        },\r\n        [field, getChoiceValue]\r\n    );\r\n\r\n    const {\r\n        getCreateItem,\r\n        handleChange: handleChangeWithCreateSupport,\r\n        createElement,\r\n    } = useSupportCreateSuggestion({\r\n        create,\r\n        createLabel,\r\n        createValue,\r\n        handleChange,\r\n        onCreate,\r\n        optionText,\r\n    });\r\n\r\n    const createItem = create || onCreate ? getCreateItem() : null;\r\n    let finalChoices = allChoices;\r\n    if (create || onCreate) {\r\n        finalChoices = [...finalChoices, createItem];\r\n    }\r\n\r\n    const renderMenuItem = useCallback(\r\n        choice => {\r\n            return choice ? (\r\n                <MenuItem\r\n                    key={getChoiceValue(choice)}\r\n                    value={getChoiceValue(choice)}\r\n                    disabled={getDisableValue(choice)}\r\n                >\r\n                    {renderMenuItemOption(\r\n                        !!createItem && choice?.id === createItem.id\r\n                            ? createItem\r\n                            : choice\r\n                    )}\r\n                </MenuItem>\r\n            ) : null;\r\n        },\r\n        [getChoiceValue, getDisableValue, renderMenuItemOption, createItem]\r\n    );\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <LoadingInput\r\n                label={\r\n                    label !== '' &&\r\n                    label !== false && (\r\n                        <FieldTitle\r\n                            label={label}\r\n                            source={source}\r\n                            resource={resourceProp}\r\n                            isRequired={isRequired}\r\n                        />\r\n                    )\r\n                }\r\n                sx={props.sx}\r\n                helperText={\r\n                    <InputHelperText\r\n                        touched={isTouched || isSubmitted}\r\n                        error={error?.message}\r\n                        helperText={helperText}\r\n                    />\r\n                }\r\n                variant={props.variant}\r\n                size={props.size}\r\n                margin={props.margin}\r\n                fullWidth={props.fullWidth}\r\n            />\r\n        );\r\n    }\r\n\r\n    const renderHelperText =\r\n        !!fetchError ||\r\n        helperText !== false ||\r\n        ((isTouched || isSubmitted) && invalid);\r\n\r\n    return (\r\n        <>\r\n            <StyledResettableTextField\r\n                id={id}\r\n                {...field}\r\n                className={clsx('ra-input', `ra-input-${source}`, className)}\r\n                onChange={handleChangeWithCreateSupport}\r\n                select\r\n                label={\r\n                    label !== '' &&\r\n                    label !== false && (\r\n                        <FieldTitle\r\n                            label={label}\r\n                            source={source}\r\n                            resource={resourceProp}\r\n                            isRequired={isRequired}\r\n                        />\r\n                    )\r\n                }\r\n                clearAlwaysVisible\r\n                error={!!fetchError || ((isTouched || isSubmitted) && invalid)}\r\n                helperText={\r\n                    renderHelperText ? (\r\n                        <InputHelperText\r\n                            touched={isTouched || isSubmitted || fetchError}\r\n                            error={error?.message || fetchError?.message}\r\n                            helperText={helperText}\r\n                        />\r\n                    ) : null\r\n                }\r\n                margin={margin}\r\n                {...sanitizeRestProps(rest)}\r\n            >\r\n                {!isRequired && (\r\n                    <MenuItem\r\n                        value={emptyValue}\r\n                        key=\"null\"\r\n                        aria-label={translate('ra.action.clear_input_value')}\r\n                        title={translate('ra.action.clear_input_value')}\r\n                    >\r\n                        {renderEmptyItemOption()}\r\n                    </MenuItem>\r\n                )}\r\n                {finalChoices.map(renderMenuItem)}\r\n            </StyledResettableTextField>\r\n            {createElement}\r\n        </>\r\n    );\r\n};\r\n\r\nSelectInput.propTypes = {\r\n    emptyText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\r\n    emptyValue: PropTypes.any,\r\n    choices: PropTypes.arrayOf(PropTypes.object),\r\n    className: PropTypes.string,\r\n    label: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.element,\r\n    ]),\r\n    options: PropTypes.object,\r\n    optionText: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.func,\r\n        PropTypes.element,\r\n    ]),\r\n    optionValue: PropTypes.string,\r\n    disableValue: PropTypes.string,\r\n    resettable: PropTypes.bool,\r\n    resource: PropTypes.string,\r\n    source: PropTypes.string,\r\n    translateChoice: PropTypes.bool,\r\n};\r\n\r\nSelectInput.defaultProps = {\r\n    emptyText: '',\r\n    emptyValue: '',\r\n    options: {},\r\n    translateChoice: true,\r\n    disableValue: 'disabled',\r\n};\r\n\r\nconst sanitizeRestProps = ({\r\n    afterSubmit,\r\n    allowNull,\r\n    beforeSubmit,\r\n    choices,\r\n    className,\r\n    crudGetMatching,\r\n    crudGetOne,\r\n    data,\r\n    field,\r\n    fieldState,\r\n    formState,\r\n    filter,\r\n    filterToQuery,\r\n    formatOnBlur,\r\n    isEqual,\r\n    limitChoicesToValue,\r\n    multiple,\r\n    name,\r\n    pagination,\r\n    perPage,\r\n    ref,\r\n    reference,\r\n    refetch,\r\n    render,\r\n    setFilter,\r\n    setPagination,\r\n    setSort,\r\n    shouldUnregister,\r\n    sort,\r\n    subscription,\r\n    type,\r\n    validateFields,\r\n    validation,\r\n    value,\r\n    ...rest\r\n}: any) => sanitizeInputRestProps(rest);\r\n\r\nconst PREFIX = 'RaSelectInput';\r\n\r\nconst StyledResettableTextField = styled(ResettableTextField, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    ...ResettableTextFieldStyles,\r\n    minWidth: theme.spacing(20),\r\n    '& .MuiFilledInput-root': { paddingRight: 0 },\r\n}));\r\n\r\nexport type SelectInputProps = Omit<CommonInputProps, 'source'> &\r\n    ChoicesProps &\r\n    Omit<SupportCreateSuggestionOptions, 'handleChange'> &\r\n    Omit<TextFieldProps, 'label' | 'helperText' | 'classes' | 'onChange'> & {\r\n        disableValue?: string;\r\n        emptyText?: string | ReactElement;\r\n        emptyValue?: any;\r\n        resettable?: boolean;\r\n        // Source is optional as AutocompleteInput can be used inside a ReferenceInput that already defines the source\r\n        source?: string;\r\n        onChange?: (event: ChangeEvent<HTMLInputElement> | RaRecord) => void;\r\n    };\r\n", "import * as React from 'react';\r\nimport { SxProps, styled } from '@mui/material/styles';\r\nimport { ReactElement, ReactNode } from 'react';\r\nimport {\r\n    TranslatableContextProvider,\r\n    useTranslatable,\r\n    UseTranslatableOptions,\r\n} from 'ra-core';\r\nimport clsx from 'clsx';\r\nimport { TranslatableInputsTabs } from './TranslatableInputsTabs';\r\nimport { TranslatableInputsTabContent } from './TranslatableInputsTabContent';\r\n\r\n/**\r\n * Provides a way to edit multiple languages for any input passed as children.\r\n * It expects the translatable values to have the following structure:\r\n * {\r\n *     name: {\r\n *         en: 'The english value',\r\n *         fr: 'The french value',\r\n *         tlh: 'The klingon value',\r\n *     },\r\n *     description: {\r\n *         en: 'The english value',\r\n *         fr: 'The french value',\r\n *         tlh: 'The klingon value',\r\n *     }\r\n * }\r\n *\r\n * @example <caption>Basic usage</caption>\r\n * <TranslatableInputs locales={['en', 'fr']}>\r\n *     <TextInput source=\"title\" />\r\n *     <RichTextInput source=\"description\" />\r\n * </TranslatableInputs>\r\n *\r\n * @example <caption>With a custom language selector</caption>\r\n * <TranslatableInputs\r\n *     selector={<MyLanguageSelector />}\r\n *     locales={['en', 'fr']}\r\n * >\r\n *     <TextInput source=\"title\" />\r\n * </TranslatableInputs>\r\n *\r\n * const MyLanguageSelector = () => {\r\n *     const {\r\n *         locales,\r\n *         selectedLocale,\r\n *         selectLocale,\r\n *     } = useTranslatableContext();\r\n *\r\n *     return (\r\n *         <select onChange={event => selectLocale(event.target.value)}>\r\n *             {locales.map((locale) => (\r\n *                 <option selected={locale === selectedLocale}>\r\n *                     {locale}\r\n *                 </option>\r\n *             ))}\r\n *        </select>\r\n *     );\r\n * }\r\n *\r\n * @param props The component props\r\n * @param {string} props.defaultLocale The locale selected by default. Default to 'en'.\r\n * @param {string[]} props.locales An array of the possible locales. For example: `['en', 'fr'].\r\n * @param {ReactElement} props.selector The element responsible for selecting a locale. Defaults to Material UI tabs.\r\n */\r\nexport const TranslatableInputs = (\r\n    props: TranslatableInputsProps\r\n): ReactElement => {\r\n    const {\r\n        className,\r\n        defaultLocale,\r\n        locales,\r\n        groupKey = '',\r\n        selector = <TranslatableInputsTabs groupKey={groupKey} />,\r\n        children,\r\n        variant,\r\n        margin,\r\n        sx,\r\n    } = props;\r\n    const context = useTranslatable({ defaultLocale, locales });\r\n\r\n    return (\r\n        <Root\r\n            className={clsx(className, TranslatableInputsClasses.root, {\r\n                [TranslatableInputsClasses.fullWidth]: props.fullWidth,\r\n            })}\r\n            sx={sx}\r\n        >\r\n            <TranslatableContextProvider value={context}>\r\n                {selector}\r\n                {locales.map(locale => (\r\n                    <TranslatableInputsTabContent\r\n                        key={locale}\r\n                        locale={locale}\r\n                        groupKey={groupKey}\r\n                        variant={variant}\r\n                        margin={margin}\r\n                    >\r\n                        {children}\r\n                    </TranslatableInputsTabContent>\r\n                ))}\r\n            </TranslatableContextProvider>\r\n        </Root>\r\n    );\r\n};\r\n\r\nexport interface TranslatableInputsProps extends UseTranslatableOptions {\r\n    className?: string;\r\n    selector?: ReactElement;\r\n    children: ReactNode;\r\n    fullWidth?: boolean;\r\n    groupKey?: string;\r\n    margin?: 'none' | 'normal' | 'dense';\r\n    variant?: 'standard' | 'outlined' | 'filled';\r\n    sx?: SxProps;\r\n}\r\n\r\nconst PREFIX = 'RaTranslatableInputs';\r\n\r\nexport const TranslatableInputsClasses = {\r\n    root: `${PREFIX}-root`,\r\n    fullWidth: `${PREFIX}-fullWidth`,\r\n};\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    flexGrow: 1,\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(0.5),\r\n\r\n    [`&.${TranslatableInputsClasses.fullWidth}`]: {\r\n        width: '100%',\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { ReactElement } from 'react';\r\nimport { AppBar, Tabs, TabsProps } from '@mui/material';\r\nimport { useTranslatableContext } from 'ra-core';\r\nimport { TranslatableInputsTab } from './TranslatableInputsTab';\r\nimport { AppBarProps } from '../layout';\r\n\r\n/**\r\n * Default locale selector for the TranslatableInputs component. Generates a tab for each specified locale.\r\n * @see TranslatableInputs\r\n */\r\nexport const TranslatableInputsTabs = (\r\n    props: TranslatableInputsTabsProps & AppBarProps\r\n): ReactElement => {\r\n    const { groupKey, TabsProps: tabsProps } = props;\r\n    const { locales, selectLocale, selectedLocale } = useTranslatableContext();\r\n\r\n    const handleChange = (event, newLocale): void => {\r\n        selectLocale(newLocale);\r\n    };\r\n\r\n    return (\r\n        <StyledAppBar\r\n            color=\"default\"\r\n            position=\"static\"\r\n            className={TranslatableInputsTabsClasses.root}\r\n        >\r\n            <Tabs\r\n                value={selectedLocale}\r\n                onChange={handleChange}\r\n                indicatorColor=\"primary\"\r\n                textColor=\"primary\"\r\n                className={TranslatableInputsTabsClasses.tabs}\r\n                {...tabsProps}\r\n            >\r\n                {locales.map(locale => (\r\n                    <TranslatableInputsTab\r\n                        key={locale}\r\n                        value={locale}\r\n                        locale={locale}\r\n                        groupKey={groupKey}\r\n                    />\r\n                ))}\r\n            </Tabs>\r\n        </StyledAppBar>\r\n    );\r\n};\r\n\r\nexport interface TranslatableInputsTabsProps {\r\n    groupKey?: string;\r\n    TabsProps?: TabsProps;\r\n}\r\n\r\nconst PREFIX = 'RaTranslatableInputsTabs';\r\n\r\nexport const TranslatableInputsTabsClasses = {\r\n    root: `${PREFIX}-root`,\r\n    tabs: `${PREFIX}-tabs`,\r\n};\r\n\r\nconst StyledAppBar = styled(AppBar, { name: PREFIX })(({ theme }) => ({\r\n    [`&.${TranslatableInputsTabsClasses.root}`]: {\r\n        boxShadow: 'none',\r\n        borderRadius: 0,\r\n        borderTopLeftRadius: theme.shape.borderRadius,\r\n        borderTopRightRadius: theme.shape.borderRadius,\r\n        border: `1px solid ${theme.palette.divider}`,\r\n    },\r\n\r\n    [`& .${TranslatableInputsTabsClasses.tabs}`]: {\r\n        minHeight: theme.spacing(3),\r\n    },\r\n}));\r\n", "import React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport Tab, { TabProps } from '@mui/material/Tab';\r\nimport { useFormGroup, useTranslate } from 'ra-core';\r\nimport { capitalize } from 'inflection';\r\nimport clsx from 'clsx';\r\n\r\n/**\r\n * Single tab that selects a locale in a TranslatableInputs component.\r\n * @see TranslatableInputs\r\n */\r\nexport const TranslatableInputsTab = (\r\n    props: TranslatableInputsTabProps & TabProps\r\n) => {\r\n    const { groupKey = '', locale, ...rest } = props;\r\n    const { isValid, isTouched } = useFormGroup(`${groupKey}${locale}`);\r\n    const translate = useTranslate();\r\n\r\n    return (\r\n        <StyledTab\r\n            id={`translatable-header-${groupKey}${locale}`}\r\n            label={translate(`ra.locales.${locale}`, {\r\n                _: capitalize(locale),\r\n            })}\r\n            className={clsx(TranslatableInputsTabClasses.root, {\r\n                [TranslatableInputsTabClasses.error]: !isValid && isTouched,\r\n            })}\r\n            {...rest}\r\n        />\r\n    );\r\n};\r\n\r\nexport interface TranslatableInputsTabProps {\r\n    groupKey?: string;\r\n    locale: string;\r\n}\r\n\r\nconst PREFIX = 'RaTranslatableInputsTab';\r\n\r\nexport const TranslatableInputsTabClasses = {\r\n    root: `${PREFIX}-root`,\r\n    error: `${PREFIX}-error`,\r\n};\r\n\r\nconst StyledTab = styled(Tab, { name: PREFIX })(({ theme }) => ({\r\n    [`&.${TranslatableInputsTabClasses.root}`]: {\r\n        fontSize: '0.8em',\r\n        minHeight: theme.spacing(3),\r\n        minWidth: theme.spacing(6),\r\n    },\r\n\r\n    [`&.${TranslatableInputsTabClasses.error}`]: {\r\n        color: theme.palette.error.main,\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n    Children,\r\n    cloneElement,\r\n    isValidElement,\r\n    ReactElement,\r\n    ReactNode,\r\n} from 'react';\r\nimport {\r\n    FormGroupContextProvider,\r\n    RaRecord,\r\n    useTranslatableContext,\r\n} from 'ra-core';\r\n\r\n/**\r\n * Default container for a group of translatable inputs inside a TranslatableInputs component.\r\n * @see TranslatableInputs\r\n */\r\nexport const TranslatableInputsTabContent = (\r\n    props: TranslatableInputsTabContentProps\r\n): ReactElement => {\r\n    const {\r\n        children,\r\n        groupKey = '',\r\n        locale,\r\n        margin,\r\n        variant,\r\n        ...other\r\n    } = props;\r\n    const { selectedLocale, getLabel, getSource } = useTranslatableContext();\r\n\r\n    return (\r\n        <FormGroupContextProvider name={`${groupKey}${locale}`}>\r\n            <Root\r\n                role=\"tabpanel\"\r\n                hidden={selectedLocale !== locale}\r\n                id={`translatable-content-${groupKey}${locale}`}\r\n                aria-labelledby={`translatable-header-${groupKey}${locale}`}\r\n                className={TranslatableInputsTabContentClasses.root}\r\n                {...other}\r\n            >\r\n                {Children.map(children, child =>\r\n                    isValidElement(child)\r\n                        ? cloneElement(child, {\r\n                              ...child.props,\r\n                              label: getLabel(\r\n                                  child.props.source,\r\n                                  child.props.label\r\n                              ),\r\n                              source: getSource(child.props.source, locale),\r\n                          })\r\n                        : null\r\n                )}\r\n            </Root>\r\n        </FormGroupContextProvider>\r\n    );\r\n};\r\n\r\nexport type TranslatableInputsTabContentProps<\r\n    RecordType extends RaRecord | Omit<RaRecord, 'id'> = any\r\n> = {\r\n    children: ReactNode;\r\n    groupKey?: string;\r\n    locale: string;\r\n    record?: RecordType;\r\n    resource?: string;\r\n    margin?: 'none' | 'normal' | 'dense';\r\n    variant?: 'standard' | 'outlined' | 'filled';\r\n};\r\n\r\nconst PREFIX = 'RaTranslatableInputsTabContent';\r\n\r\nexport const TranslatableInputsTabContentClasses = {\r\n    root: `${PREFIX}-root`,\r\n};\r\n\r\nconst Root = styled('div', { name: PREFIX })(({ theme }) => ({\r\n    [`&.${TranslatableInputsTabContentClasses.root}`]: {\r\n        flexGrow: 1,\r\n        paddingLeft: theme.spacing(2),\r\n        paddingRight: theme.spacing(2),\r\n        paddingTop: theme.spacing(1),\r\n        paddingBottom: theme.spacing(1),\r\n        borderRadius: 0,\r\n        borderBottomLeftRadius: theme.shape.borderRadius,\r\n        borderBottomRightRadius: theme.shape.borderRadius,\r\n        border: `1px solid ${theme.palette.divider}`,\r\n        borderTop: 0,\r\n    },\r\n}));\r\n", "import { RaThemeOptions } from './layout/Theme';\r\n\r\nconst defaultThemeInvariants = {\r\n    typography: {\r\n        h6: {\r\n            fontWeight: 400,\r\n        },\r\n    },\r\n    sidebar: {\r\n        width: 240,\r\n        closedWidth: 50,\r\n    },\r\n    components: {\r\n        MuiTextField: {\r\n            defaultProps: {\r\n                variant: 'filled' as const,\r\n                margin: 'dense' as const,\r\n                size: 'small' as const,\r\n            },\r\n        },\r\n        MuiFormControl: {\r\n            defaultProps: {\r\n                variant: 'filled' as const,\r\n                margin: 'dense' as const,\r\n                size: 'small' as const,\r\n            },\r\n        },\r\n    },\r\n};\r\n\r\nexport const defaultLightTheme: RaThemeOptions = {\r\n    palette: {\r\n        background: {\r\n            default: '#fafafb',\r\n        },\r\n        secondary: {\r\n            light: '#6ec6ff',\r\n            main: '#2196f3',\r\n            dark: '#0069c0',\r\n            contrastText: '#fff',\r\n        },\r\n    },\r\n    ...defaultThemeInvariants,\r\n    components: {\r\n        ...defaultThemeInvariants.components,\r\n        MuiFilledInput: {\r\n            styleOverrides: {\r\n                root: {\r\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\r\n                    '&$disabled': {\r\n                        backgroundColor: 'rgba(0, 0, 0, 0.04)',\r\n                    },\r\n                },\r\n            },\r\n        },\r\n    },\r\n};\r\n\r\nexport const defaultDarkTheme: RaThemeOptions = {\r\n    palette: {\r\n        mode: 'dark',\r\n        primary: {\r\n            main: '#90caf9',\r\n        },\r\n        background: {\r\n            default: '#313131',\r\n        },\r\n    },\r\n    ...defaultThemeInvariants,\r\n};\r\n\r\nexport const defaultTheme = defaultLightTheme;\r\n", "import * as React from 'react';\r\nimport { ReactElement, ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Identifier, RaRecord, useCheckMinimumRequiredProps } from 'ra-core';\r\n\r\nimport { CreateProps } from '../types';\r\nimport { CreateView } from './CreateView';\r\nimport { CreateBase } from 'ra-core';\r\n\r\n/**\r\n * Page component for the Create view\r\n *\r\n * The `<Create>` component renders the page title and actions.\r\n * It is not responsible for rendering the actual form -\r\n * that's the job of its child component (usually `<SimpleForm>`),\r\n * to which it passes the `record` as prop.\r\n *\r\n * The <Create> component accepts the following props:\r\n *\r\n * - actions\r\n * - aside\r\n * - component\r\n * - mutationOptions\r\n * - title\r\n *\r\n * @example\r\n *\r\n * // in src/posts.js\r\n * import * as React from \"react\";\r\n * import { Create, SimpleForm, TextInput } from 'react-admin';\r\n *\r\n * export const PostCreate = (props) => (\r\n *     <Create {...props}>\r\n *         <SimpleForm>\r\n *             <TextInput source=\"title\" />\r\n *         </SimpleForm>\r\n *     </Create>\r\n * );\r\n *\r\n * // in src/App.js\r\n * import * as React from \"react\";\r\n * import { Admin, Resource } from 'react-admin';\r\n *\r\n * import { PostCreate } from './posts';\r\n *\r\n * const App = () => (\r\n *     <Admin dataProvider={...}>\r\n *         <Resource name=\"posts\" create={PostCreate} />\r\n *     </Admin>\r\n * );\r\n * export default App;\r\n */\r\nexport const Create = <\r\n    RecordType extends Omit<RaRecord, 'id'> = any,\r\n    ResultRecordType extends RaRecord = RecordType & { id: Identifier }\r\n>(\r\n    props: CreateProps<RecordType, Error, ResultRecordType> & {\r\n        children: ReactNode;\r\n    }\r\n): ReactElement => {\r\n    useCheckMinimumRequiredProps('Create', ['children'], props);\r\n    const {\r\n        resource,\r\n        record,\r\n        redirect,\r\n        transform,\r\n        mutationOptions,\r\n        disableAuthentication,\r\n        hasEdit,\r\n        hasShow,\r\n        ...rest\r\n    } = props;\r\n    return (\r\n        <CreateBase<RecordType, ResultRecordType>\r\n            resource={resource}\r\n            record={record}\r\n            redirect={redirect}\r\n            transform={transform}\r\n            mutationOptions={mutationOptions}\r\n            disableAuthentication={disableAuthentication}\r\n            hasEdit={hasEdit}\r\n            hasShow={hasShow}\r\n        >\r\n            <CreateView {...rest} />\r\n        </CreateBase>\r\n    );\r\n};\r\n\r\nCreate.propTypes = {\r\n    actions: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\r\n    aside: PropTypes.element,\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    disableAuthentication: PropTypes.bool,\r\n    hasEdit: PropTypes.bool,\r\n    hasShow: PropTypes.bool,\r\n    redirect: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.func,\r\n    ]),\r\n    resource: PropTypes.string,\r\n    title: PropTypes.node,\r\n    record: PropTypes.object,\r\n    mutationOptions: PropTypes.object,\r\n    transform: PropTypes.func,\r\n    sx: PropTypes.any,\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Card } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { RaRecord, CreateControllerProps, useCreateContext } from 'ra-core';\r\nimport clsx from 'clsx';\r\n\r\nimport { CreateProps } from '../types';\r\nimport { Title } from '../layout';\r\n\r\nexport const CreateView = (props: CreateViewProps) => {\r\n    const {\r\n        actions,\r\n        aside,\r\n        children,\r\n        className,\r\n        component: Content = Card,\r\n        title,\r\n        ...rest\r\n    } = props;\r\n\r\n    const { resource, defaultTitle } = useCreateContext(props);\r\n\r\n    return (\r\n        <Root\r\n            className={clsx('create-page', className)}\r\n            {...sanitizeRestProps(rest)}\r\n        >\r\n            <Title\r\n                title={title}\r\n                defaultTitle={defaultTitle}\r\n                preferenceKey={`${resource}.create.title`}\r\n            />\r\n            {actions}\r\n            <div\r\n                className={clsx(CreateClasses.main, {\r\n                    [CreateClasses.noActions]: !actions,\r\n                })}\r\n            >\r\n                <Content className={CreateClasses.card}>{children}</Content>\r\n                {aside}\r\n            </div>\r\n        </Root>\r\n    );\r\n};\r\n\r\ninterface CreateViewProps<RecordType extends RaRecord = any>\r\n    extends CreateProps<RecordType>,\r\n        Omit<CreateControllerProps<RecordType>, 'resource'> {\r\n    children: ReactNode;\r\n}\r\n\r\nCreateView.propTypes = {\r\n    actions: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\r\n    aside: PropTypes.element,\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    defaultTitle: PropTypes.any,\r\n    hasList: PropTypes.bool,\r\n    hasShow: PropTypes.bool,\r\n    mutationOptions: PropTypes.object,\r\n    record: PropTypes.object,\r\n    redirect: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.func,\r\n    ]),\r\n    resource: PropTypes.string,\r\n    save: PropTypes.func,\r\n    title: PropTypes.node,\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nconst sanitizeRestProps = ({\r\n    addMiddleware = null,\r\n    defaultTitle = null,\r\n    hasCreate = null,\r\n    hasEdit = null,\r\n    hasList = null,\r\n    hasShow = null,\r\n    history = null,\r\n    isFetching = null,\r\n    isLoading = null,\r\n    location = null,\r\n    match = null,\r\n    mutationOptions = null,\r\n    options = null,\r\n    permissions = null,\r\n    save = null,\r\n    saving = null,\r\n    transform = null,\r\n    removeMiddleware = null,\r\n    ...rest\r\n}) => rest;\r\n/* eslint-enable @typescript-eslint/no-unused-vars */\r\n\r\nconst PREFIX = 'RaCreate';\r\n\r\nexport const CreateClasses = {\r\n    main: `${PREFIX}-main`,\r\n    noActions: `${PREFIX}-noActions`,\r\n    card: `${PREFIX}-card`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${CreateClasses.main}`]: {\r\n        display: 'flex',\r\n    },\r\n\r\n    [`& .${CreateClasses.noActions}`]: {\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginTop: '1em',\r\n        },\r\n    },\r\n\r\n    [`& .${CreateClasses.card}`]: {\r\n        flex: '1 1 auto',\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TopToolbar from '../layout/TopToolbar';\r\nimport { ListButton } from '../button';\r\nimport { useResourceDefinition } from 'ra-core';\r\n\r\n/**\r\n * Action Toolbar for the Create view\r\n *\r\n * Internal component. If you want to add or remove actions for a Create view,\r\n * write your own CreateActions Component. Then, in the <Create> component,\r\n * use it in the `actions` prop to pass a custom component.\r\n *\r\n * @example\r\n *     import Button from '@mui/material/Button';\r\n *     import { TopToolbar, Create, ListButton } from 'react-admin';\r\n *\r\n *     const PostCreateActions = () => (\r\n *         <TopToolbar>\r\n *             <ListButton />\r\n *             // Add your custom actions here //\r\n *             <Button color=\"primary\" onClick={customAction}>Custom Action</Button>\r\n *         </TopToolbar>\r\n *     );\r\n *\r\n *     export const PostCreate = (props) => (\r\n *         <Create actions={<PostCreateActions />} {...props}>\r\n *             ...\r\n *         </Create>\r\n *     );\r\n */\r\nexport const CreateActions = ({ className, ...rest }: CreateActionsProps) => {\r\n    const { hasList } = useResourceDefinition(rest);\r\n    return (\r\n        <TopToolbar className={className} {...sanitizeRestProps(rest)}>\r\n            {hasList && <ListButton />}\r\n        </TopToolbar>\r\n    );\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nconst sanitizeRestProps = ({\r\n    className = null,\r\n    hasList = null,\r\n    resource = null,\r\n    ...rest\r\n}) => rest;\r\n/* eslint-enable @typescript-eslint/no-unused-vars */\r\n\r\nexport interface CreateActionsProps {\r\n    className?: string;\r\n    hasCreate?: boolean;\r\n    hasEdit?: boolean;\r\n    hasList?: boolean;\r\n    hasShow?: boolean;\r\n    resource?: string;\r\n}\r\n\r\nCreateActions.propTypes = {\r\n    className: PropTypes.string,\r\n    hasCreate: PropTypes.bool,\r\n    hasEdit: PropTypes.bool,\r\n    hasShow: PropTypes.bool,\r\n    hasList: PropTypes.bool,\r\n    resource: PropTypes.string,\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useCheckMinimumRequiredProps, RaRecord } from 'ra-core';\r\nimport { EditProps } from '../types';\r\nimport { EditView } from './EditView';\r\nimport { EditBase } from 'ra-core';\r\n\r\n/**\r\n * Page component for the Edit view\r\n *\r\n * The `<Edit>` component renders the page title and actions,\r\n * fetches the record from the data provider.\r\n * It is not responsible for rendering the actual form -\r\n * that's the job of its child component (usually `<SimpleForm>`),\r\n * to which it passes the `record` as prop.\r\n *\r\n * The <Edit> component accepts the following props:\r\n *\r\n * - actions\r\n * - aside\r\n * - component\r\n * - title\r\n * - mutationMode\r\n * - mutationOptions\r\n *\r\n * @example\r\n *\r\n * // in src/posts.js\r\n * import * as React from \"react\";\r\n * import { Edit, SimpleForm, TextInput } from 'react-admin';\r\n *\r\n * export const PostEdit = (props) => (\r\n *     <Edit {...props}>\r\n *         <SimpleForm>\r\n *             <TextInput source=\"title\" />\r\n *         </SimpleForm>\r\n *     </Edit>\r\n * );\r\n *\r\n * // in src/App.js\r\n * import * as React from \"react\";\r\n * import { Admin, Resource } from 'react-admin';\r\n *\r\n * import { PostEdit } from './posts';\r\n *\r\n * const App = () => (\r\n *     <Admin dataProvider={...}>\r\n *         <Resource name=\"posts\" edit={PostEdit} />\r\n *     </Admin>\r\n * );\r\n * export default App;\r\n */\r\nexport const Edit = <RecordType extends RaRecord = any>(\r\n    props: EditProps<RecordType> & { children: ReactNode }\r\n) => {\r\n    useCheckMinimumRequiredProps('Edit', ['children'], props);\r\n    const {\r\n        resource,\r\n        id,\r\n        mutationMode,\r\n        mutationOptions,\r\n        queryOptions,\r\n        redirect,\r\n        transform,\r\n        disableAuthentication,\r\n        ...rest\r\n    } = props;\r\n    return (\r\n        <EditBase\r\n            resource={resource}\r\n            id={id}\r\n            mutationMode={mutationMode}\r\n            mutationOptions={mutationOptions}\r\n            queryOptions={queryOptions}\r\n            redirect={redirect}\r\n            transform={transform}\r\n            disableAuthentication={disableAuthentication}\r\n        >\r\n            <EditView {...rest} />\r\n        </EditBase>\r\n    );\r\n};\r\n\r\nEdit.propTypes = {\r\n    actions: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\r\n    aside: PropTypes.element,\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    disableAuthentication: PropTypes.bool,\r\n    hasCreate: PropTypes.bool,\r\n    hasEdit: PropTypes.bool,\r\n    hasShow: PropTypes.bool,\r\n    hasList: PropTypes.bool,\r\n    id: PropTypes.any,\r\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\r\n    mutationOptions: PropTypes.object,\r\n    queryOptions: PropTypes.object,\r\n    redirect: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.func,\r\n    ]),\r\n    resource: PropTypes.string,\r\n    title: PropTypes.node,\r\n    transform: PropTypes.func,\r\n    sx: PropTypes.any,\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { Card, CardContent } from '@mui/material';\r\nimport clsx from 'clsx';\r\nimport {\r\n    EditControllerProps,\r\n    ComponentPropType,\r\n    useEditContext,\r\n    useResourceDefinition,\r\n} from 'ra-core';\r\n\r\nimport { EditActions as DefaultActions } from './EditActions';\r\nimport { Title } from '../layout';\r\nimport { EditProps } from '../types';\r\n\r\nexport const EditView = (props: EditViewProps) => {\r\n    const {\r\n        actions,\r\n        aside,\r\n        children,\r\n        className,\r\n        component: Content = Card,\r\n        title,\r\n        mutationMode,\r\n        ...rest\r\n    } = props;\r\n\r\n    const { hasShow } = useResourceDefinition();\r\n    const { resource, defaultTitle, record } = useEditContext(props);\r\n\r\n    const finalActions =\r\n        typeof actions === 'undefined' && hasShow ? (\r\n            <DefaultActions />\r\n        ) : (\r\n            actions\r\n        );\r\n    if (!children) {\r\n        return null;\r\n    }\r\n    return (\r\n        <Root\r\n            className={clsx('edit-page', className)}\r\n            {...sanitizeRestProps(rest)}\r\n        >\r\n            <Title\r\n                title={title}\r\n                defaultTitle={defaultTitle}\r\n                preferenceKey={`${resource}.edit.title`}\r\n            />\r\n            {finalActions}\r\n            <div\r\n                className={clsx(EditClasses.main, {\r\n                    [EditClasses.noActions]: !finalActions,\r\n                })}\r\n            >\r\n                <Content className={EditClasses.card}>\r\n                    {record ? children : <CardContent>&nbsp;</CardContent>}\r\n                </Content>\r\n                {aside}\r\n            </div>\r\n        </Root>\r\n    );\r\n};\r\n\r\ninterface EditViewProps\r\n    extends EditProps,\r\n        Omit<EditControllerProps, 'resource'> {\r\n    children: ReactNode;\r\n}\r\n\r\nEditView.propTypes = {\r\n    actions: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\r\n    aside: PropTypes.element,\r\n    children: PropTypes.element,\r\n    className: PropTypes.string,\r\n    component: ComponentPropType,\r\n    defaultTitle: PropTypes.any,\r\n    hasList: PropTypes.bool,\r\n    hasShow: PropTypes.bool,\r\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\r\n    mutationOptions: PropTypes.object,\r\n    record: PropTypes.object,\r\n    redirect: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.func,\r\n    ]),\r\n    resource: PropTypes.string,\r\n    save: PropTypes.func,\r\n    title: PropTypes.node,\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nconst sanitizeRestProps = ({\r\n    addMiddleware = null,\r\n    defaultTitle = null,\r\n    hasCreate = null,\r\n    hasEdit = null,\r\n    hasList = null,\r\n    hasShow = null,\r\n    history = null,\r\n    id = null,\r\n    isFetching = null,\r\n    isLoading = null,\r\n    location = null,\r\n    match = null,\r\n    options = null,\r\n    queryOptions = null,\r\n    mutationOptions = null,\r\n    permissions = null,\r\n    refetch = null,\r\n    removeMiddleware = null,\r\n    resource = null,\r\n    save = null,\r\n    saving = null,\r\n    transform = null,\r\n    ...rest\r\n}) => rest;\r\n/* eslint-enable @typescript-eslint/no-unused-vars */\r\n\r\nconst PREFIX = 'RaEdit';\r\n\r\nexport const EditClasses = {\r\n    main: `${PREFIX}-main`,\r\n    noActions: `${PREFIX}-noActions`,\r\n    card: `${PREFIX}-card`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    [`& .${EditClasses.main}`]: {\r\n        display: 'flex',\r\n        alignItems: 'flex-start',\r\n    },\r\n    [`& .${EditClasses.noActions}`]: {\r\n        marginTop: '1em',\r\n    },\r\n    [`& .${EditClasses.card}`]: {\r\n        flex: '1 1 auto',\r\n    },\r\n});\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { RaRecord, useEditContext, useResourceDefinition } from 'ra-core';\r\nimport { ShowButton } from '../button';\r\nimport TopToolbar from '../layout/TopToolbar';\r\n\r\n/**\r\n * Action Toolbar for the Edit view\r\n *\r\n * Internal component. If you want to add or remove actions for an Edit view,\r\n * write your own EditActions Component. Then, in the <Edit> component,\r\n * use it in the `actions` prop to pass a custom component.\r\n *\r\n * @example\r\n *     import Button from '@mui/material/Button';\r\n *     import { TopToolbar, EditButton, Edit } from 'react-admin';\r\n *\r\n *     const PostEditActions = () => (\r\n *         <TopToolbar>\r\n *             <EditButton />\r\n *             // Add your custom actions here\r\n *             <Button color=\"primary\" onClick={customAction}>Custom Action</Button>\r\n *         </TopToolbar>\r\n *     );\r\n *\r\n *     export const PostEdit = (props) => (\r\n *         <Edit actions={<PostEditActions />} {...props}>\r\n *             ...\r\n *         </Edit>\r\n *     );\r\n */\r\nexport const EditActions = ({ className, ...rest }: EditActionsProps) => {\r\n    const { record } = useEditContext(rest);\r\n    const { hasShow } = useResourceDefinition(rest);\r\n\r\n    return (\r\n        <TopToolbar className={className} {...sanitizeRestProps(rest)}>\r\n            {hasShow && <ShowButton record={record} />}\r\n        </TopToolbar>\r\n    );\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nconst sanitizeRestProps = ({\r\n    hasCreate = null,\r\n    hasEdit = null,\r\n    hasShow = null,\r\n    hasList = null,\r\n    ...rest\r\n}) => rest;\r\n/* eslint-enable @typescript-eslint/no-unused-vars */\r\n\r\nexport interface EditActionsProps {\r\n    className?: string;\r\n    data?: RaRecord;\r\n    hasCreate?: boolean;\r\n    hasEdit?: boolean;\r\n    hasList?: boolean;\r\n    hasShow?: boolean;\r\n    resource?: string;\r\n}\r\n\r\nEditActions.propTypes = {\r\n    className: PropTypes.string,\r\n    data: PropTypes.object,\r\n    hasCreate: PropTypes.bool,\r\n    hasEdit: PropTypes.bool,\r\n    hasShow: PropTypes.bool,\r\n    hasList: PropTypes.bool,\r\n    resource: PropTypes.string,\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode, ReactElement } from 'react';\r\nimport { SimpleForm } from '../form';\r\nimport {\r\n    ArrayInput,\r\n    BooleanInput,\r\n    DateInput,\r\n    NumberInput,\r\n    ReferenceInput,\r\n    ReferenceInputProps,\r\n    ReferenceArrayInput,\r\n    ReferenceArrayInputProps,\r\n    SelectInput,\r\n    SimpleFormIterator,\r\n    TextInput,\r\n} from '../input';\r\nimport { InferredElement, InferredTypeMap, InputProps } from 'ra-core';\r\n\r\nexport const editFieldTypes: InferredTypeMap = {\r\n    form: {\r\n        component: SimpleForm,\r\n        representation: (\r\n            _,\r\n            children: InferredElement[]\r\n        ) => `        <SimpleForm>\r\n${children.map(child => `            ${child.getRepresentation()}`).join('\\n')}\r\n        </SimpleForm>`,\r\n    },\r\n    array: {\r\n        // eslint-disable-next-line react/display-name\r\n        component: ({\r\n            children,\r\n            ...props\r\n        }: { children: ReactNode } & InputProps) => (\r\n            <ArrayInput {...props}>\r\n                <SimpleFormIterator>{children}</SimpleFormIterator>\r\n            </ArrayInput>\r\n        ),\r\n        representation: (props: InputProps, children: InferredElement[]) =>\r\n            `<ArrayInput source=\"${\r\n                props.source\r\n            }\"><SimpleFormIterator>${children\r\n                .map(child => child.getRepresentation())\r\n                .join('\\n')}</SimpleFormIterator></ArrayInput>`,\r\n    },\r\n    boolean: {\r\n        component: BooleanInput,\r\n        representation: (props: InputProps) =>\r\n            `<BooleanInput source=\"${props.source}\" />`,\r\n    },\r\n    date: {\r\n        component: DateInput,\r\n        representation: (props: InputProps) =>\r\n            `<DateInput source=\"${props.source}\" />`,\r\n    },\r\n    email: {\r\n        component: TextInput,\r\n        representation: (props: InputProps) =>\r\n            `<TextInput source=\"${props.source}\" />`,\r\n    },\r\n    id: {\r\n        component: TextInput,\r\n        representation: (props: InputProps) =>\r\n            `<TextInput source=\"${props.source}\" />`,\r\n    },\r\n    number: {\r\n        component: NumberInput,\r\n        representation: (props: InputProps) =>\r\n            `<NumberInput source=\"${props.source}\" />`,\r\n    },\r\n    reference: {\r\n        component: ReferenceInput,\r\n        representation: (props: ReferenceInputProps) =>\r\n            `<ReferenceInput source=\"${props.source}\" reference=\"${props.reference}\" />`,\r\n    },\r\n    referenceArray: {\r\n        component: ReferenceArrayInput,\r\n        representation: (props: ReferenceArrayInputProps) =>\r\n            `<ReferenceArrayInput source=\"${props.source}\" reference=\"${props.reference}\"><TextInput source=\"id\" /></ReferenceArrayInput>`,\r\n    },\r\n    referenceArrayChild: {\r\n        component: (\r\n            props: { children: ReactNode } & InputProps\r\n        ): ReactElement => <SelectInput optionText=\"id\" {...props} />, // eslint-disable-line react/display-name\r\n        representation: () => `<SelectInput optionText=\"id\" />`,\r\n    },\r\n    richText: {\r\n        component: TextInput,\r\n        representation: (props: InputProps) =>\r\n            `<TextInput source=\"${props.source}\" />`,\r\n    },\r\n    string: {\r\n        component: TextInput,\r\n        representation: (props: InputProps) =>\r\n            `<TextInput source=\"${props.source}\" />`,\r\n    },\r\n    url: {\r\n        component: TextInput,\r\n        representation: (props: InputProps) =>\r\n            `<TextInput source=\"${props.source}\" />`,\r\n    },\r\n};\r\n", "import * as React from 'react';\r\nimport {\r\n    Children,\r\n    isValidElement,\r\n    ReactElement,\r\n    ReactNode,\r\n    HtmlHTMLAttributes,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Form, FormProps, MutationMode, RaRecord } from 'ra-core';\r\nimport get from 'lodash/get';\r\n\r\nimport { TabbedFormView, TabbedFormViewProps } from './TabbedFormView';\r\nimport { useFormRootPath } from './useFormRootPath';\r\nimport { FormTab } from './FormTab';\r\n\r\n/**\r\n * Form layout where inputs are divided by tab, one input per line.\r\n *\r\n * Pass <TabbedForm.Tab> components as children.\r\n *\r\n * @example\r\n *\r\n * import * as React from \"react\";\r\n * import {\r\n *     Edit,\r\n *     TabbedForm,\r\n *     Datagrid,\r\n *     TextField,\r\n *     DateField,\r\n *     TextInput,\r\n *     ReferenceManyField,\r\n *     NumberInput,\r\n *     DateInput,\r\n *     BooleanInput,\r\n *     EditButton\r\n * } from 'react-admin';\r\n *\r\n * export const PostEdit = (props) => (\r\n *     <Edit {...props}>\r\n *         <TabbedForm>\r\n *             <TabbedForm.Tab label=\"summary\">\r\n *                 <TextInput disabled label=\"Id\" source=\"id\" />\r\n *                 <TextInput source=\"title\" validate={required()} />\r\n *                 <TextInput multiline source=\"teaser\" validate={required()} />\r\n *             </TabbedForm.Tab>\r\n *             <TabbedForm.Tab label=\"body\">\r\n *                 <RichTextInput source=\"body\" validate={required()} label={false} />\r\n *             </TabbedForm.Tab>\r\n *             <TabbedForm.Tab label=\"Miscellaneous\">\r\n *                 <TextInput label=\"Password (if protected post)\" source=\"password\" type=\"password\" />\r\n *                 <DateInput label=\"Publication date\" source=\"published_at\" />\r\n *                 <NumberInput source=\"average_note\" validate={[ number(), minValue(0) ]} />\r\n *                 <BooleanInput label=\"Allow comments?\" source=\"commentable\" defaultValue />\r\n *                 <TextInput disabled label=\"Nb views\" source=\"views\" />\r\n *             </TabbedForm.Tab>\r\n *             <TabbedForm.Tab label=\"comments\">\r\n *                 <ReferenceManyField reference=\"comments\" target=\"post_id\" label={false}>\r\n *                     <Datagrid>\r\n *                         <TextField source=\"body\" />\r\n *                         <DateField source=\"created_at\" />\r\n *                         <EditButton />\r\n *                     </Datagrid>\r\n *                 </ReferenceManyField>\r\n *             </TabbedForm.Tab>\r\n *         </TabbedForm>\r\n *     </Edit>\r\n * );\r\n *\r\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\r\n * @prop {ReactElement[]} FormTab elements\r\n * @prop {Object} defaultValues\r\n * @prop {Function} validate\r\n * @prop {ReactElement} toolbar The element displayed at the bottom of the form, containing the SaveButton\r\n *\r\n * @param {Props} props\r\n */\r\nexport const TabbedForm = (props: TabbedFormProps) => {\r\n    const formRootPathname = useFormRootPath();\r\n\r\n    return (\r\n        <Form formRootPathname={formRootPathname} {...props}>\r\n            <TabbedFormView\r\n                formRootPathname={formRootPathname}\r\n                {...sanitizeRestProps(props)}\r\n            />\r\n        </Form>\r\n    );\r\n};\r\n\r\nTabbedForm.Tab = FormTab;\r\n\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nconst sanitizeRestProps = ({\r\n    criteriaMode,\r\n    defaultValues,\r\n    delayError,\r\n    formRootPathname,\r\n    mode,\r\n    noValidate,\r\n    onSubmit,\r\n    record,\r\n    resetOptions,\r\n    resolver,\r\n    reValidateMode,\r\n    sanitizeEmptyValues,\r\n    shouldFocusError,\r\n    shouldUnregister,\r\n    shouldUseNativeValidation,\r\n    validate,\r\n    warnWhenUnsavedChanges,\r\n    ...rest\r\n}: TabbedFormProps) => rest;\r\n/* eslint-enable @typescript-eslint/no-unused-vars */\r\n\r\nTabbedForm.propTypes = {\r\n    children: PropTypes.node,\r\n    defaultValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\r\n    formRootPathname: PropTypes.string,\r\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\r\n    // @ts-ignore\r\n    record: PropTypes.object,\r\n    saving: PropTypes.bool,\r\n    validate: PropTypes.func,\r\n};\r\n\r\nexport interface TabbedFormProps\r\n    extends Omit<FormProps, 'render'>,\r\n        Omit<\r\n            HtmlHTMLAttributes<HTMLFormElement>,\r\n            'defaultValue' | 'onSubmit' | 'children'\r\n        >,\r\n        Partial<TabbedFormViewProps> {\r\n    children: ReactNode;\r\n    className?: string;\r\n    defaultValues?: any;\r\n    formRootPathname?: string;\r\n    mutationMode?: MutationMode;\r\n    record?: RaRecord;\r\n    resource?: string;\r\n    syncWithLocation?: boolean;\r\n    tabs?: ReactElement;\r\n    toolbar?: ReactElement | false;\r\n    warnWhenUnsavedChanges?: boolean;\r\n}\r\n\r\nexport const findTabsWithErrors = (children, errors) => {\r\n    console.warn(\r\n        'Deprecated. FormTab now wrap their content inside a FormGroupContextProvider. If you implemented custom forms with tabs, please use the FormGroupContextProvider. See https://marmelab.com/react-admin/EditTutorial.html#grouping-inputs'\r\n    );\r\n\r\n    return Children.toArray(children).reduce((acc: any[], child) => {\r\n        if (!isValidElement(child)) {\r\n            return acc;\r\n        }\r\n\r\n        const inputs = Children.toArray(child.props.children);\r\n\r\n        if (\r\n            inputs.some(\r\n                input =>\r\n                    isValidElement(input) && get(errors, input.props.source)\r\n            )\r\n        ) {\r\n            return [...acc, child.props.label];\r\n        }\r\n\r\n        return acc;\r\n    }, []);\r\n};\r\n", "import * as React from 'react';\r\nimport {\r\n    ChangeEvent,\r\n    Children,\r\n    ComponentType,\r\n    cloneElement,\r\n    isValidElement,\r\n    ReactElement,\r\n    ReactNode,\r\n    useState,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport {\r\n    Routes,\r\n    Route,\r\n    matchPath,\r\n    useResolvedPath,\r\n    useLocation,\r\n} from 'react-router-dom';\r\nimport { CardContent, Divider, SxProps } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport { useResourceContext } from 'ra-core';\r\nimport { Toolbar } from './Toolbar';\r\nimport { TabbedFormTabs, getTabbedFormTabFullPath } from './TabbedFormTabs';\r\n\r\nexport const TabbedFormView = (props: TabbedFormViewProps): ReactElement => {\r\n    const {\r\n        children,\r\n        className,\r\n        component: Component = DefaultComponent,\r\n        formRootPathname,\r\n        syncWithLocation = true,\r\n        tabs = DefaultTabs,\r\n        toolbar = DefaultToolbar,\r\n        ...rest\r\n    } = props;\r\n    const location = useLocation();\r\n    const resolvedPath = useResolvedPath('');\r\n    const resource = useResourceContext(props);\r\n    const [tabValue, setTabValue] = useState(0);\r\n\r\n    const handleTabChange = (event: ChangeEvent<{}>, value: any): void => {\r\n        if (!syncWithLocation) {\r\n            setTabValue(value);\r\n        }\r\n    };\r\n\r\n    const renderTabHeaders = () =>\r\n        cloneElement(\r\n            tabs,\r\n            {\r\n                onChange: handleTabChange,\r\n                syncWithLocation,\r\n                url: formRootPathname,\r\n                value: tabValue,\r\n            },\r\n            children\r\n        );\r\n\r\n    return (\r\n        <Root\r\n            className={clsx('tabbed-form', className)}\r\n            {...sanitizeRestProps(rest)}\r\n        >\r\n            {syncWithLocation ? (\r\n                <Routes>\r\n                    <Route path=\"/*\" element={renderTabHeaders()} />\r\n                </Routes>\r\n            ) : (\r\n                renderTabHeaders()\r\n            )}\r\n            <Divider />\r\n            <Component>\r\n                {/* All tabs are rendered (not only the one in focus), to allow validation\r\n                on tabs not in focus. The tabs receive a `hidden` property, which they'll\r\n                use to hide the tab using CSS if it's not the one in focus.\r\n                See https://github.com/marmelab/react-admin/issues/1866 */}\r\n                {Children.map(children, (tab: ReactElement, index) => {\r\n                    if (!tab) {\r\n                        return null;\r\n                    }\r\n                    const tabPath = getTabbedFormTabFullPath(tab, index);\r\n                    const hidden = syncWithLocation\r\n                        ? !matchPath(\r\n                              `${resolvedPath.pathname}/${tabPath}`,\r\n                              location.pathname\r\n                          )\r\n                        : tabValue !== index;\r\n\r\n                    return isValidElement<any>(tab)\r\n                        ? React.cloneElement(tab, {\r\n                              intent: 'content',\r\n                              resource,\r\n                              hidden,\r\n                              value: syncWithLocation ? tabPath : index,\r\n                          })\r\n                        : null;\r\n                })}\r\n            </Component>\r\n            {toolbar !== false ? toolbar : null}\r\n        </Root>\r\n    );\r\n};\r\n\r\nTabbedFormView.propTypes = {\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    location: PropTypes.object,\r\n    match: PropTypes.object,\r\n    // @ts-ignore\r\n    resource: PropTypes.string,\r\n    tabs: PropTypes.element,\r\n    toolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.oneOf([false])]),\r\n    validate: PropTypes.func,\r\n    value: PropTypes.number,\r\n};\r\n\r\nconst DefaultTabs = <TabbedFormTabs />;\r\nconst DefaultComponent = ({ children }) => (\r\n    <CardContent>{children}</CardContent>\r\n);\r\nconst DefaultToolbar = <Toolbar />;\r\n\r\nexport interface TabbedFormViewProps {\r\n    children?: ReactNode;\r\n    className?: string;\r\n    component?: ComponentType<any>;\r\n    resource?: string;\r\n    formRootPathname?: string;\r\n    syncWithLocation?: boolean;\r\n    tabs?: ReactElement;\r\n    toolbar?: ReactElement | false;\r\n    sx?: SxProps;\r\n}\r\n\r\nconst PREFIX = 'RaTabbedForm';\r\n\r\nexport const TabbedFormClasses = {\r\n    errorTabButton: `${PREFIX}-errorTabButton`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .MuiTab-root.${TabbedFormClasses.errorTabButton}`]: {\r\n        color: theme.palette.error.main,\r\n    },\r\n}));\r\n\r\nconst sanitizeRestProps = ({ record, resource, ...rest }: any) => rest;\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Children, ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Toolbar as MuiToolbar,\r\n    ToolbarProps as MuiToolbarProps,\r\n    useMediaQuery,\r\n    Theme,\r\n} from '@mui/material';\r\nimport clsx from 'clsx';\r\n\r\nimport { SaveButton, DeleteButton } from '../button';\r\n\r\n/**\r\n * The Toolbar displayed at the bottom of forms.\r\n *\r\n * @example Always enable the <SaveButton />\r\n *\r\n * import * as React from 'react';\r\n * import {\r\n *     Create,\r\n *     DateInput,\r\n *     TextInput,\r\n *     SimpleForm,\r\n *     Toolbar,\r\n *     SaveButton,\r\n *     required,\r\n * } from 'react-admin';\r\n *\r\n * const now = new Date();\r\n * const defaultSort = { field: 'title', order: 'ASC' };\r\n *\r\n * const MyToolbar = props => (\r\n *     <Toolbar {...props} >\r\n *         <SaveButton alwaysEnable />\r\n *     </Toolbar>\r\n * );\r\n *\r\n * const CommentCreate = () => (\r\n *     <Create>\r\n *         <SimpleForm redirect={false} toolbar={<MyToolbar />}>\r\n *             <TextInput\r\n *                 source=\"author.name\"\r\n *                 fullWidth\r\n *             />\r\n *             <DateInput source=\"created_at\" defaultValue={now} />\r\n *             <TextInput source=\"body\" fullWidth={true} multiline={true} />\r\n *         </SimpleForm>\r\n *     </Create>\r\n * );\r\n *\r\n * @typedef {Object} Props the props you can use (other props are injected by the <SimpleForm>)\r\n * @prop {ReactElement[]} children Customize the buttons you want to display in the <Toolbar>.\r\n *\r\n */\r\nexport const Toolbar = (props: ToolbarProps) => {\r\n    const { children, className, resource, ...rest } = props;\r\n\r\n    const isXs = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\r\n\r\n    return (\r\n        <StyledToolbar\r\n            className={clsx(\r\n                {\r\n                    [ToolbarClasses.mobileToolbar]: isXs,\r\n                    [ToolbarClasses.desktopToolbar]: !isXs,\r\n                },\r\n                className\r\n            )}\r\n            role=\"toolbar\"\r\n            {...rest}\r\n        >\r\n            {Children.count(children) === 0 ? (\r\n                <div className={ToolbarClasses.defaultToolbar}>\r\n                    <SaveButton />\r\n                    <DeleteButton resource={resource} />\r\n                </div>\r\n            ) : (\r\n                children\r\n            )}\r\n        </StyledToolbar>\r\n    );\r\n};\r\n\r\nexport interface ToolbarProps extends Omit<MuiToolbarProps, 'classes'> {\r\n    children?: ReactNode;\r\n    className?: string;\r\n    resource?: string;\r\n}\r\n\r\nToolbar.propTypes = {\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n\r\n    resource: PropTypes.string,\r\n};\r\n\r\nconst PREFIX = 'RaToolbar';\r\n\r\nexport const ToolbarClasses = {\r\n    desktopToolbar: `${PREFIX}-desktopToolbar`,\r\n    mobileToolbar: `${PREFIX}-mobileToolbar`,\r\n    defaultToolbar: `${PREFIX}-defaultToolbar`,\r\n};\r\n\r\nconst StyledToolbar = styled(MuiToolbar, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    backgroundColor:\r\n        theme.palette.mode === 'light'\r\n            ? theme.palette.grey[100]\r\n            : theme.palette.grey[900],\r\n\r\n    [`&.${ToolbarClasses.desktopToolbar}`]: {},\r\n\r\n    [`&.${ToolbarClasses.mobileToolbar}`]: {\r\n        position: 'fixed',\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n        padding: '16px',\r\n        width: '100%',\r\n        boxSizing: 'border-box',\r\n        flexShrink: 0,\r\n        zIndex: 2,\r\n    },\r\n\r\n    [`& .${ToolbarClasses.defaultToolbar}`]: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { Children, cloneElement, isValidElement, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Tabs, { TabsProps } from '@mui/material/Tabs';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nexport const TabbedFormTabs = (props: TabbedFormTabsProps) => {\r\n    const { children, url, syncWithLocation, value, ...rest } = props;\r\n\r\n    const params = useParams();\r\n\r\n    // params will include eventual parameters from the root pathname and * for the remaining part\r\n    // which should match the tabs paths\r\n    const tabValue = params['*'];\r\n\r\n    return (\r\n        <Tabs\r\n            value={syncWithLocation ? tabValue : value}\r\n            indicatorColor=\"primary\"\r\n            {...rest}\r\n        >\r\n            {Children.map(children, (tab: ReactElement, index) => {\r\n                if (!isValidElement<any>(tab)) return null;\r\n\r\n                // Builds the full tab which is the concatenation of the last matched route in the\r\n                // TabbedShowLayout hierarchy (ex: '/posts/create', '/posts/12', , '/posts/12/show')\r\n                // and the tab path.\r\n                // This will be used as the Tab's value\r\n                const tabPath = getTabbedFormTabFullPath(tab, index);\r\n\r\n                return cloneElement(tab, {\r\n                    intent: 'header',\r\n                    value: syncWithLocation ? tabPath : index,\r\n                    syncWithLocation,\r\n                });\r\n            })}\r\n        </Tabs>\r\n    );\r\n};\r\n\r\nTabbedFormTabs.propTypes = {\r\n    children: PropTypes.node,\r\n    url: PropTypes.string,\r\n    tabsWithErrors: PropTypes.arrayOf(PropTypes.string),\r\n};\r\n\r\nexport const getTabbedFormTabFullPath = (\r\n    tab: ReactElement,\r\n    index: number\r\n): string =>\r\n    tab.props.path != null ? tab.props.path : index > 0 ? index.toString() : '';\r\n\r\nexport interface TabbedFormTabsProps extends TabsProps {\r\n    url?: string;\r\n    tabsWithErrors?: string[];\r\n    syncWithLocation?: boolean;\r\n}\r\n", "import { matchPath, useLocation } from 'react-router-dom';\r\n\r\n/**\r\n * This hook infers the tabbed form root path from the current location.\r\n */\r\nexport const useFormRootPath = () => {\r\n    const location = useLocation();\r\n    const createMatch = matchPath(':resource/create/*', location.pathname);\r\n    const editMatch = matchPath(':resource/:id/*', location.pathname);\r\n\r\n    if (createMatch) {\r\n        return createMatch.pathnameBase;\r\n    }\r\n\r\n    if (editMatch) {\r\n        return editMatch.pathnameBase;\r\n    }\r\n\r\n    return '';\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactElement, ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { FormGroupContextProvider } from 'ra-core';\r\nimport { Stack, StackProps, TabProps as MuiTabProps } from '@mui/material';\r\n\r\nimport { FormTabHeader } from './FormTabHeader';\r\n\r\nexport const FormTab = (props: FormTabProps) => {\r\n    const {\r\n        children,\r\n        className,\r\n        contentClassName,\r\n        count,\r\n        hidden,\r\n        icon,\r\n        intent,\r\n        label,\r\n        onChange,\r\n        path,\r\n        resource,\r\n        syncWithLocation,\r\n        value,\r\n        ...rest\r\n    } = props;\r\n\r\n    const renderHeader = () => (\r\n        <FormTabHeader\r\n            label={label}\r\n            count={count}\r\n            value={value}\r\n            icon={icon}\r\n            className={className}\r\n            syncWithLocation={syncWithLocation}\r\n            onChange={onChange}\r\n            {...sanitizeRestProps(rest)}\r\n        />\r\n    );\r\n\r\n    const renderContent = () => (\r\n        <FormGroupContextProvider name={value.toString()}>\r\n            <Stack\r\n                alignItems=\"flex-start\"\r\n                style={hidden ? hiddenStyle : null}\r\n                className={contentClassName}\r\n                id={`tabpanel-${value}`}\r\n                aria-labelledby={`tabheader-${value}`}\r\n                // Set undefined instead of false because WAI-ARIA Authoring Practices 1.1\r\n                // notes that aria-hidden=\"false\" currently behaves inconsistently across browsers.\r\n                aria-hidden={hidden || undefined}\r\n                {...rest}\r\n            >\r\n                {children}\r\n            </Stack>\r\n        </FormGroupContextProvider>\r\n    );\r\n\r\n    return intent === 'header' ? renderHeader() : renderContent();\r\n};\r\n\r\nFormTab.propTypes = {\r\n    className: PropTypes.string,\r\n    contentClassName: PropTypes.string,\r\n    children: PropTypes.node,\r\n    count: PropTypes.node,\r\n    intent: PropTypes.oneOf(['header', 'content']),\r\n    hidden: PropTypes.bool,\r\n    icon: PropTypes.element,\r\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\r\n        .isRequired,\r\n    path: PropTypes.string,\r\n    // @ts-ignore\r\n    resource: PropTypes.string,\r\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n};\r\n\r\nexport interface FormTabProps\r\n    extends Omit<StackProps, 'color'>,\r\n        Omit<MuiTabProps, 'children' | 'classes' | 'ref'> {\r\n    className?: string;\r\n    children?: ReactNode;\r\n    contentClassName?: string;\r\n    count?: ReactNode;\r\n    hidden?: boolean;\r\n    icon?: ReactElement;\r\n    intent?: 'header' | 'content';\r\n    label: string | ReactElement;\r\n    path?: string;\r\n    resource?: string;\r\n    syncWithLocation?: boolean;\r\n    value?: string | number;\r\n}\r\n\r\nFormTab.displayName = 'FormTab';\r\n\r\nconst hiddenStyle = { display: 'none' };\r\n\r\nconst sanitizeRestProps = ({\r\n    classes,\r\n    ref,\r\n    margin,\r\n    ...rest\r\n}: Omit<\r\n    FormTabProps,\r\n    | 'className'\r\n    | 'contentClassName'\r\n    | 'children'\r\n    | 'hidden'\r\n    | 'icon'\r\n    | 'intent'\r\n    | 'label'\r\n    | 'onChange'\r\n    | 'path'\r\n    | 'resource'\r\n    | 'syncWithLocation'\r\n    | 'value'\r\n>) => rest;\r\n", "import * as React from 'react';\r\nimport { ReactElement, ReactNode } from 'react';\r\nimport { isElement } from 'react-is';\r\nimport PropTypes from 'prop-types';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Tab as MuiTab, TabProps as MuiTabProps } from '@mui/material';\r\nimport clsx from 'clsx';\r\nimport { useTranslate, useFormGroup } from 'ra-core';\r\nimport { useFormState } from 'react-hook-form';\r\n\r\nimport { TabbedFormClasses } from './TabbedFormView';\r\n\r\nexport const FormTabHeader = ({\r\n    count,\r\n    label,\r\n    value,\r\n    icon,\r\n    className,\r\n    onChange,\r\n    syncWithLocation,\r\n    ...rest\r\n}: FormTabHeaderProps): ReactElement => {\r\n    const translate = useTranslate();\r\n    const location = useLocation();\r\n    const { isSubmitted } = useFormState();\r\n    const formGroup = useFormGroup(value.toString());\r\n\r\n    const propsForLink = {\r\n        component: Link,\r\n        to: { ...location, pathname: value },\r\n    };\r\n\r\n    let tabLabel = isElement(label) ? label : translate(label, { _: label });\r\n    if (count !== undefined) {\r\n        tabLabel = (\r\n            <span>\r\n                {tabLabel} ({count})\r\n            </span>\r\n        );\r\n    }\r\n    return (\r\n        <MuiTab\r\n            label={tabLabel}\r\n            value={value}\r\n            icon={icon}\r\n            className={clsx('form-tab', className, {\r\n                [TabbedFormClasses.errorTabButton]:\r\n                    !formGroup.isValid && (formGroup.isTouched || isSubmitted),\r\n                error:\r\n                    !formGroup.isValid && (formGroup.isTouched || isSubmitted),\r\n            })}\r\n            {...(syncWithLocation ? propsForLink : {})} // to avoid TypeScript screams, see https://github.com/mui/material-ui/issues/9106#issuecomment-451270521\r\n            id={`tabheader-${value}`}\r\n            aria-controls={`tabpanel-${value}`}\r\n            onChange={onChange}\r\n            {...rest}\r\n        />\r\n    );\r\n};\r\n\r\ninterface FormTabHeaderProps extends Omit<MuiTabProps, 'children'> {\r\n    className?: string;\r\n    count?: ReactNode;\r\n    hidden?: boolean;\r\n    icon?: ReactElement;\r\n    intent?: 'header' | 'content';\r\n    label: string | ReactElement;\r\n    margin?: 'none' | 'normal' | 'dense';\r\n    onChange?: (event: any) => void;\r\n    path?: string;\r\n    resource?: string;\r\n    syncWithLocation?: boolean;\r\n    value?: string | number;\r\n    variant?: 'standard' | 'outlined' | 'filled';\r\n}\r\n\r\nFormTabHeader.propTypes = {\r\n    className: PropTypes.string,\r\n    contentClassName: PropTypes.string,\r\n    count: PropTypes.node,\r\n    children: PropTypes.node,\r\n    intent: PropTypes.oneOf(['header', 'content']),\r\n    hidden: PropTypes.bool,\r\n    icon: PropTypes.element,\r\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\r\n        .isRequired,\r\n    margin: PropTypes.oneOf(['none', 'dense', 'normal']),\r\n    path: PropTypes.string,\r\n    // @ts-ignore\r\n    record: PropTypes.object,\r\n    resource: PropTypes.string,\r\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    variant: PropTypes.oneOf(['standard', 'outlined', 'filled']),\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactElement, ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Form, FormProps } from 'ra-core';\r\nimport { Stack, CardContent, SxProps, StackProps } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\n\r\nimport { Toolbar } from './Toolbar';\r\n\r\n/**\r\n * Form with a one column layout, one input per line.\r\n *\r\n * Pass input components as children.\r\n *\r\n * @example\r\n *\r\n * import * as React from \"react\";\r\n * import { Create, Edit, SimpleForm, TextInput, DateInput, ReferenceManyField, Datagrid, TextField, DateField, EditButton } from 'react-admin';\r\n * import RichTextInput from 'ra-input-rich-text';\r\n *\r\n * export const PostCreate = (props) => (\r\n *     <Create {...props}>\r\n *         <SimpleForm>\r\n *             <TextInput source=\"title\" />\r\n *             <TextInput source=\"teaser\" options={{ multiline: true }} />\r\n *             <RichTextInput source=\"body\" />\r\n *             <DateInput label=\"Publication date\" source=\"published_at\" defaultValue={new Date()} />\r\n *         </SimpleForm>\r\n *     </Create>\r\n * );\r\n *\r\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\r\n * @prop {ReactElement[]} children Input elements\r\n * @prop {Object} defaultValues\r\n * @prop {Function} validate\r\n * @prop {ReactElement} toolbar The element displayed at the bottom of the form, containing the SaveButton\r\n *\r\n * @param {Props} props\r\n */\r\nexport const SimpleForm = (props: SimpleFormProps) => {\r\n    const {\r\n        children,\r\n        className,\r\n        component: Component = DefaultComponent,\r\n        sx,\r\n        toolbar = DefaultToolbar,\r\n        ...rest\r\n    } = props;\r\n    return (\r\n        <Form {...rest}>\r\n            <Component className={className} sx={sx}>\r\n                <Stack alignItems=\"flex-start\" {...sanitizeRestProps(props)}>\r\n                    {children}\r\n                </Stack>\r\n            </Component>\r\n            {toolbar !== false ? toolbar : null}\r\n        </Form>\r\n    );\r\n};\r\n\r\nSimpleForm.propTypes = {\r\n    children: PropTypes.node,\r\n    defaultValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\r\n    // @ts-ignore\r\n    record: PropTypes.object,\r\n    toolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.oneOf([false])]),\r\n    validate: PropTypes.func,\r\n};\r\n\r\nexport interface SimpleFormProps\r\n    extends Omit<FormProps, 'render'>,\r\n        Omit<StackProps, 'onSubmit'> {\r\n    children: ReactNode;\r\n    className?: string;\r\n    component?: React.ComponentType<any>;\r\n    defaultValues?: any;\r\n    toolbar?: ReactElement | false;\r\n    sx?: SxProps;\r\n}\r\n\r\nconst PREFIX = 'RaSimpleForm';\r\n\r\nconst DefaultComponent = styled(CardContent, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [theme.breakpoints.down('sm')]: {\r\n        paddingBottom: '5em',\r\n    },\r\n}));\r\n\r\nconst DefaultToolbar = <Toolbar />;\r\n\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nconst sanitizeRestProps = ({\r\n    children,\r\n    className,\r\n    component,\r\n    criteriaMode,\r\n    defaultValues,\r\n    delayError,\r\n    onSubmit,\r\n    record,\r\n    resource,\r\n    reValidateMode,\r\n    sx,\r\n    toolbar,\r\n    validate,\r\n    resetOptions,\r\n    resolver,\r\n    sanitizeEmptyValues,\r\n    shouldFocusError,\r\n    shouldUnregister,\r\n    shouldUseNativeValidation,\r\n    warnWhenUnsavedChanges,\r\n    ...props\r\n}: SimpleFormProps) => props;\r\n/* eslint-enable @typescript-eslint/no-unused-vars */\r\n", "import * as React from 'react';\r\nimport {\r\n    useResourceContext,\r\n    usePreference,\r\n    useStore,\r\n    useTranslate,\r\n} from 'ra-core';\r\n\r\nimport { Configurable } from '../preferences';\r\nimport { SimpleForm, SimpleFormProps } from './SimpleForm';\r\nimport { SimpleFormEditor } from './SimpleFormEditor';\r\n\r\nexport const SimpleFormConfigurable = ({\r\n    preferenceKey,\r\n    omit,\r\n    ...props\r\n}: SimpleFormConfigurableProps) => {\r\n    const translate = useTranslate();\r\n    const resource = useResourceContext(props);\r\n    const finalPreferenceKey = preferenceKey || `${resource}.simpleForm`;\r\n\r\n    const [availableInputs, setAvailableInputs] = useStore<\r\n        SimpleFormConfigurableColumn[]\r\n    >(`preferences.${finalPreferenceKey}.availableInputs`, []);\r\n\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const [_, setOmit] = useStore<string[]>(\r\n        `preferences.${finalPreferenceKey}.omit`,\r\n        omit\r\n    );\r\n\r\n    React.useEffect(() => {\r\n        // first render, or the preference have been cleared\r\n        const inputs = React.Children.map(props.children, (child, index) =>\r\n            React.isValidElement(child)\r\n                ? {\r\n                      index: String(index),\r\n                      source: child.props.source,\r\n                      label:\r\n                          child.props.source || child.props.label\r\n                              ? child.props.label\r\n                              : translate(\r\n                                    'ra.configurable.SimpleForm.unlabeled',\r\n                                    {\r\n                                        input: index,\r\n                                        _: `Unlabeled input #%{input}`,\r\n                                    }\r\n                                ),\r\n                  }\r\n                : null\r\n        ).filter(column => column != null);\r\n        if (inputs.length !== availableInputs.length) {\r\n            setAvailableInputs(inputs);\r\n            setOmit(omit);\r\n        }\r\n    }, [availableInputs]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    return (\r\n        <Configurable\r\n            editor={<SimpleFormEditor />}\r\n            preferenceKey={finalPreferenceKey}\r\n            sx={{\r\n                display: 'block',\r\n                '&.RaConfigurable-editMode': {\r\n                    margin: '2px',\r\n                },\r\n            }}\r\n        >\r\n            <SimpleFormWithPreferences {...props} />\r\n        </Configurable>\r\n    );\r\n};\r\n\r\nexport interface SimpleFormConfigurableProps extends SimpleFormProps {\r\n    /**\r\n     * Key to use to store the user's preferences for this SimpleForm.\r\n     *\r\n     * Set to '[resource].simpleForm' by default. Pass a custom key if you need\r\n     * to display more than one SimpleFormConfigurable per resource.\r\n     */\r\n    preferenceKey?: string;\r\n    /**\r\n     * columns to hide by default\r\n     *\r\n     * @example\r\n     * // by default, hide the id and author columns\r\n     * // users can choose to show show them in configuration mode\r\n     * const PostEdit = () => (\r\n     *     <Edit>\r\n     *         <SimpleFormConfigurable omit={['id', 'author']}>\r\n     *             <TextInput source=\"id\" />\r\n     *             <TextInput source=\"title\" />\r\n     *             <TextInput source=\"author\" />\r\n     *             <TextInput source=\"year\" />\r\n     *         </SimpleFormConfigurable>\r\n     *     </Edit>\r\n     * );\r\n     */\r\n    omit?: string[];\r\n}\r\n\r\nexport interface SimpleFormConfigurableColumn {\r\n    index: string;\r\n    source: string;\r\n    label?: string;\r\n}\r\n\r\n/**\r\n * This SimpleForm filters its children depending on preferences\r\n */\r\nconst SimpleFormWithPreferences = ({ children, ...props }: SimpleFormProps) => {\r\n    const [availableInputs] = usePreference('availableInputs', []);\r\n    const [omit] = usePreference('omit', []);\r\n    const [inputs] = usePreference(\r\n        'inputs',\r\n        availableInputs\r\n            .filter(input => !omit?.includes(input.source))\r\n            .map(input => input.index)\r\n    );\r\n    const childrenArray = React.Children.toArray(children);\r\n    return (\r\n        <SimpleForm {...props}>\r\n            {inputs === undefined\r\n                ? children\r\n                : inputs.map(index => childrenArray[index])}\r\n        </SimpleForm>\r\n    );\r\n};\r\n", "import * as React from 'react';\r\nimport { useSetInspectorTitle } from 'ra-core';\r\n\r\nimport { FieldsSelector } from '../preferences';\r\n\r\nexport const SimpleFormEditor = () => {\r\n    useSetInspectorTitle('ra.inspector.SimpleForm.title', { _: 'Form' });\r\n\r\n    return <FieldsSelector name=\"inputs\" availableName=\"availableInputs\" />;\r\n};\r\n", "import * as React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport inflection from 'inflection';\r\nimport {\r\n    EditBase,\r\n    InferredElement,\r\n    useResourceContext,\r\n    useEditContext,\r\n    getElementsFromRecords,\r\n    RaRecord,\r\n} from 'ra-core';\r\n\r\nimport { EditProps } from '../types';\r\nimport { EditView } from './EditView';\r\nimport { editFieldTypes } from './editFieldTypes';\r\n\r\nexport const EditGuesser = <RecordType extends RaRecord = RaRecord>(\r\n    props: EditProps<RecordType>\r\n) => {\r\n    const {\r\n        resource,\r\n        id,\r\n        mutationMode,\r\n        mutationOptions,\r\n        queryOptions,\r\n        redirect,\r\n        transform,\r\n        disableAuthentication,\r\n        ...rest\r\n    } = props;\r\n    return (\r\n        <EditBase<RecordType>\r\n            resource={resource}\r\n            id={id}\r\n            mutationMode={mutationMode}\r\n            mutationOptions={mutationOptions}\r\n            queryOptions={queryOptions}\r\n            redirect={redirect}\r\n            transform={transform}\r\n            disableAuthentication={disableAuthentication}\r\n        >\r\n            <EditViewGuesser {...rest} />\r\n        </EditBase>\r\n    );\r\n};\r\n\r\nconst EditViewGuesser = props => {\r\n    const resource = useResourceContext(props);\r\n    const { record } = useEditContext();\r\n    const [child, setChild] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setChild(null);\r\n    }, [resource]);\r\n\r\n    useEffect(() => {\r\n        if (record && !child) {\r\n            const inferredElements = getElementsFromRecords(\r\n                [record],\r\n                editFieldTypes\r\n            );\r\n            const inferredChild = new InferredElement(\r\n                editFieldTypes.form,\r\n                null,\r\n                inferredElements\r\n            );\r\n            setChild(inferredChild.getElement());\r\n\r\n            if (process.env.NODE_ENV === 'production') return;\r\n\r\n            const representation = inferredChild.getRepresentation();\r\n\r\n            const components = ['Edit']\r\n                .concat(\r\n                    Array.from(\r\n                        new Set(\r\n                            Array.from(representation.matchAll(/<([^/\\s>]+)/g))\r\n                                .map(match => match[1])\r\n                                .filter(component => component !== 'span')\r\n                        )\r\n                    )\r\n                )\r\n                .sort();\r\n\r\n            // eslint-disable-next-line no-console\r\n            console.log(\r\n                `Guessed Edit:\r\n\r\nimport { ${components.join(', ')} } from 'react-admin';\r\n\r\nexport const ${inflection.capitalize(\r\n                    inflection.singularize(resource)\r\n                )}Edit = () => (\r\n    <Edit>\r\n${representation}\r\n    </Edit>\r\n);`\r\n            );\r\n        }\r\n    }, [record, child, resource]);\r\n\r\n    return <EditView {...props}>{child}</EditView>;\r\n};\r\n\r\nEditViewGuesser.propTypes = EditView.propTypes;\r\n", "import * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ShowBase, RaRecord } from 'ra-core';\r\n\r\nimport { ShowProps } from '../types';\r\nimport { ShowView } from './ShowView';\r\n\r\n/**\r\n * Page component for the Show view\r\n *\r\n * The `<Show>` component handles the headless logic of the Show page:\r\n * - it calls useShowController to fetch the record from the data provider,\r\n * - it creates a ShowContext and a RecordContext,\r\n * - it computes the default page title\r\n * - it renders the page layout with the correct title and actions\r\n *\r\n * `<Show>` is not responsible for rendering the actual page -\r\n * that's the job of its child component (usually `<SimpleShowLayout>`).\r\n *\r\n * @example\r\n *\r\n * // in src/posts.js\r\n * import * as React from \"react\";\r\n * import { Show, SimpleShowLayout, TextField } from 'react-admin';\r\n *\r\n * export const PostShow = () => (\r\n *     <Show>\r\n *         <SimpleShowLayout>\r\n *             <TextField source=\"title\" />\r\n *         </SimpleShowLayout>\r\n *     </Show>\r\n * );\r\n *\r\n * // in src/App.js\r\n * import * as React from \"react\";\r\n * import { Admin, Resource } from 'react-admin';\r\n *\r\n * import { PostShow } from './posts';\r\n *\r\n * const App = () => (\r\n *     <Admin dataProvider={...}>\r\n *         <Resource name=\"posts\" show={PostShow} />\r\n *     </Admin>\r\n * );\r\n * export default App;\r\n *\r\n * @param {ShowProps} props\r\n * @param {ReactElement|false} props.actions An element to display above the page content, or false to disable actions.\r\n * @param {string} props.className A className to apply to the page content.\r\n * @param {ElementType} props.component The component to use as root component (div by default).\r\n * @param {boolean} props.emptyWhileLoading Do not display the page content while loading the initial data.\r\n * @param {string} props.id The id of the resource to display (grabbed from the route params if not defined).\r\n * @param {Object} props.queryClient Options to pass to the react-query useQuery hook.\r\n * @param {string} props.resource The resource to fetch from the data provider (grabbed from the ResourceContext if not defined).\r\n * @param {Object} props.sx Custom style object.\r\n * @param {ElementType|string} props.title The title of the page. Defaults to `#{resource} #${id}`.\r\n *\r\n * @see ShowView for the actual rendering\r\n */\r\nexport const Show = <RecordType extends RaRecord = any>({\r\n    id,\r\n    resource,\r\n    queryOptions,\r\n    disableAuthentication,\r\n    ...rest\r\n}: ShowProps<RecordType>): ReactElement => (\r\n    <ShowBase<RecordType>\r\n        id={id}\r\n        disableAuthentication={disableAuthentication}\r\n        queryOptions={queryOptions}\r\n        resource={resource}\r\n    >\r\n        <ShowView {...rest} />\r\n    </ShowBase>\r\n);\r\n\r\nShow.propTypes = {\r\n    actions: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\r\n    children: PropTypes.node.isRequired,\r\n    className: PropTypes.string,\r\n    disableAuthentication: PropTypes.bool,\r\n    emptyWhileLoading: PropTypes.bool,\r\n    component: PropTypes.elementType,\r\n    resource: PropTypes.string,\r\n    title: PropTypes.node,\r\n    sx: PropTypes.any,\r\n};\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Card } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport clsx from 'clsx';\r\nimport { useShowContext, useResourceDefinition } from 'ra-core';\r\n\r\nimport { ShowProps } from '../types';\r\nimport { ShowActions } from './ShowActions';\r\nimport { Title } from '../layout';\r\n\r\nconst defaultActions = <ShowActions />;\r\n\r\nexport const ShowView = (props: ShowViewProps) => {\r\n    const {\r\n        actions,\r\n        aside,\r\n        children,\r\n        className,\r\n        component: Content = Card,\r\n        emptyWhileLoading = false,\r\n        title,\r\n        ...rest\r\n    } = props;\r\n\r\n    const { resource, defaultTitle, record } = useShowContext(props);\r\n    const { hasEdit } = useResourceDefinition(props);\r\n\r\n    const finalActions =\r\n        typeof actions === 'undefined' && hasEdit ? defaultActions : actions;\r\n\r\n    if (!children || (!record && emptyWhileLoading)) {\r\n        return null;\r\n    }\r\n    return (\r\n        <Root\r\n            className={clsx('show-page', className)}\r\n            {...sanitizeRestProps(rest)}\r\n        >\r\n            <Title\r\n                title={title}\r\n                defaultTitle={defaultTitle}\r\n                preferenceKey={`${resource}.show.title`}\r\n            />\r\n            {finalActions !== false && finalActions}\r\n            <div\r\n                className={clsx(ShowClasses.main, {\r\n                    [ShowClasses.noActions]: !finalActions,\r\n                })}\r\n            >\r\n                <Content className={ShowClasses.card}>{children}</Content>\r\n                {aside}\r\n            </div>\r\n        </Root>\r\n    );\r\n};\r\n\r\nexport type ShowViewProps = ShowProps;\r\n\r\nShowView.propTypes = {\r\n    actions: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    emptyWhileLoading: PropTypes.bool,\r\n    title: PropTypes.any,\r\n};\r\n\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nconst sanitizeRestProps = ({\r\n    defaultTitle = null,\r\n    hasCreate = null,\r\n    hasEdit = null,\r\n    hasList = null,\r\n    hasShow = null,\r\n    history = null,\r\n    id = null,\r\n    isLoading = null,\r\n    isFetching = null,\r\n    location = null,\r\n    match = null,\r\n    options = null,\r\n    refetch = null,\r\n    permissions = null,\r\n    ...rest\r\n}) => rest;\r\n/* eslint-enable @typescript-eslint/no-unused-vars */\r\n\r\nconst PREFIX = 'RaShow';\r\n\r\nexport const ShowClasses = {\r\n    main: `${PREFIX}-main`,\r\n    noActions: `${PREFIX}-noActions`,\r\n    card: `${PREFIX}-card`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    [`& .${ShowClasses.main}`]: {\r\n        display: 'flex',\r\n    },\r\n    [`& .${ShowClasses.noActions}`]: {\r\n        marginTop: '1em',\r\n    },\r\n    [`& .${ShowClasses.card}`]: {\r\n        flex: '1 1 auto',\r\n    },\r\n});\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { RaRecord, useResourceDefinition, useRecordContext } from 'ra-core';\r\n\r\nimport { EditButton } from '../button';\r\nimport TopToolbar from '../layout/TopToolbar';\r\n\r\n/**\r\n * Action Toolbar for the Show view\r\n *\r\n * Internal component. If you want to add or remove actions for a Show view,\r\n * write your own ShowActions Component. Then, in the <Show> component,\r\n * use it in the `actions` prop to pass a custom component.\r\n *\r\n * @example\r\n *     import Button from '@mui/material/Button';\r\n *     import { TopToolbar, ShowButton, Show } from 'react-admin';\r\n *\r\n *     const PostShowActions = () => (\r\n *         <TopToolbar>\r\n *             <ShowButton />\r\n *             // Add your custom actions here //\r\n *             <Button color=\"primary\" onClick={customAction}>Custom Action</Button>\r\n *         </TopToolbar>\r\n *     );\r\n *\r\n *     export const PostShow = (props) => (\r\n *         <Show actions={<PostShowActions />} {...props}>\r\n *             ...\r\n *         </Show>\r\n *     );\r\n */\r\nexport const ShowActions = (props: ShowActionsProps) => {\r\n    const record = useRecordContext(props);\r\n    const { hasEdit } = useResourceDefinition();\r\n    if (!hasEdit) {\r\n        return null;\r\n    }\r\n    return (\r\n        <TopToolbar className={props.className}>\r\n            <EditButton record={record} />\r\n        </TopToolbar>\r\n    );\r\n};\r\n\r\nexport interface ShowActionsProps {\r\n    className?: string;\r\n    record?: RaRecord;\r\n}\r\n\r\nShowActions.propTypes = {\r\n    className: PropTypes.string,\r\n    record: PropTypes.any,\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { Datagrid } from '../list/datagrid/Datagrid';\r\nimport {\r\n    ArrayField,\r\n    BooleanField,\r\n    DateField,\r\n    EmailField,\r\n    NumberField,\r\n    ReferenceField,\r\n    ReferenceFieldProps,\r\n    ReferenceArrayField,\r\n    ReferenceArrayFieldProps,\r\n    RichTextField,\r\n    TextField,\r\n    UrlField,\r\n} from '../field';\r\nimport { SimpleShowLayout, SimpleShowLayoutProps } from './SimpleShowLayout';\r\nimport { InferredElement, InferredTypeMap, InputProps } from 'ra-core';\r\n\r\nexport const showFieldTypes: InferredTypeMap = {\r\n    show: {\r\n        component: (props: SimpleShowLayoutProps) => (\r\n            <SimpleShowLayout {...props} />\r\n        ), // eslint-disable-line react/display-name\r\n        representation: (_, children) => `        <SimpleShowLayout>\r\n${children.map(child => `            ${child.getRepresentation()}`).join('\\n')}\r\n        </SimpleShowLayout>`,\r\n    },\r\n    array: {\r\n        // eslint-disable-next-line react/display-name\r\n        component: ({\r\n            children,\r\n            ...props\r\n        }: { children: ReactNode } & InputProps) => (\r\n            <ArrayField {...props}>\r\n                <Datagrid>{children}</Datagrid>\r\n            </ArrayField>\r\n        ),\r\n        representation: (props: InputProps, children: InferredElement[]) =>\r\n            `<ArrayField source=\"${\r\n                props.source\r\n            }\"><Datagrid>${children\r\n                .map(child => child.getRepresentation())\r\n                .join('\\n')}</Datagrid></ArrayField>`,\r\n    },\r\n    boolean: {\r\n        component: BooleanField,\r\n        representation: (props: InputProps) =>\r\n            `<BooleanField source=\"${props.source}\" />`,\r\n    },\r\n    date: {\r\n        component: DateField,\r\n        representation: (props: InputProps) =>\r\n            `<DateField source=\"${props.source}\" />`,\r\n    },\r\n    email: {\r\n        component: EmailField,\r\n        representation: (props: InputProps) =>\r\n            `<EmailField source=\"${props.source}\" />`,\r\n    },\r\n    id: {\r\n        component: TextField,\r\n        representation: (props: InputProps) =>\r\n            `<TextField source=\"${props.source}\" />`,\r\n    },\r\n    number: {\r\n        component: NumberField,\r\n        representation: (props: InputProps) =>\r\n            `<NumberField source=\"${props.source}\" />`,\r\n    },\r\n    reference: {\r\n        component: ReferenceField,\r\n        representation: (props: ReferenceFieldProps) =>\r\n            `<ReferenceField source=\"${props.source}\" reference=\"${props.reference}\" />`,\r\n    },\r\n    referenceChild: {\r\n        component: (props: { children: ReactNode } & InputProps) => (\r\n            <TextField source=\"id\" {...props} />\r\n        ), // eslint-disable-line react/display-name\r\n        representation: () => `<TextField source=\"id\" />`,\r\n    },\r\n    referenceArray: {\r\n        component: ReferenceArrayField,\r\n        representation: (props: ReferenceArrayFieldProps) =>\r\n            `<ReferenceArrayField source=\"${props.source}\" reference=\"${props.reference}\"><TextField source=\"id\" /></ReferenceArrayField>`,\r\n    },\r\n    referenceArrayChild: {\r\n        component: (props: { children: ReactNode } & InputProps) => (\r\n            <TextField source=\"id\" {...props} />\r\n        ), // eslint-disable-line react/display-name\r\n        representation: () => `<TextField source=\"id\" />`,\r\n    },\r\n    richText: {\r\n        component: RichTextField,\r\n        representation: (props: InputProps) =>\r\n            `<RichTextField source=\"${props.source}\" />`,\r\n    },\r\n    string: {\r\n        component: TextField,\r\n        representation: (props: InputProps) =>\r\n            `<TextField source=\"${props.source}\" />`,\r\n    },\r\n    url: {\r\n        component: UrlField,\r\n        representation: (props: InputProps) =>\r\n            `<UrlField source=\"${props.source}\" />`,\r\n    },\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport get from 'lodash/get';\r\nimport {\r\n    ListContextProvider,\r\n    useRecordContext,\r\n    useList,\r\n    SortPayload,\r\n    FilterPayload,\r\n} from 'ra-core';\r\n\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { genericMemo } from './genericMemo';\r\n\r\n/**\r\n * Renders an embedded array of objects.\r\n *\r\n * ArrayField creates a ListContext with the field value, and renders its children components -\r\n * usually iterator components like Datagrid, SingleFieldList, or SimpleList.\r\n *\r\n * @example // Display all the tags of the current post as `<Chip>` components\r\n * // const post = {\r\n * //   id: 123\r\n * //   tags: [\r\n * //     { name: 'foo' },\r\n * //     { name: 'bar' }\r\n * //   ]\r\n * // };\r\n * const PostShow = () => (\r\n *    <Show>\r\n *       <SimpleShowLayout>\r\n *           <ArrayField source=\"tags\">\r\n *               <SingleFieldList>\r\n *                   <ChipField source=\"name\" />\r\n *               </SingleFieldList>\r\n *           </ArrayField>\r\n *      </SimpleShowLayout>\r\n *   </Show>\r\n * );\r\n *\r\n * @example // Display all the backlinks of the current post as a `<Datagrid>`\r\n * // const post = {\r\n * //   id: 123\r\n * //   backlinks: [\r\n * //       {\r\n * //           uuid: '34fdf393-f449-4b04-a423-38ad02ae159e',\r\n * //           date: '2012-08-10T00:00:00.000Z',\r\n * //           url: 'http://example.com/foo/bar.html',\r\n * //       },\r\n * //       {\r\n * //           uuid: 'd907743a-253d-4ec1-8329-404d4c5e6cf1',\r\n * //           date: '2012-08-14T00:00:00.000Z',\r\n * //           url: 'https://blog.johndoe.com/2012/08/12/foobar.html',\r\n * //       }\r\n * //    ]\r\n * // };\r\n * <ArrayField source=\"backlinks\">\r\n *     <Datagrid>\r\n *         <DateField source=\"date\" />\r\n *         <UrlField source=\"url\" />\r\n *     </Datagrid>\r\n * </ArrayField>\r\n *\r\n * @example // If you need to render a collection of strings, it's often simpler to write your own component\r\n * const TagsField = () => {\r\n *     const record = useRecordContext();\r\n *     return (\r\n *         <ul>\r\n *             {record.tags.map(item => (\r\n *                 <li key={item.name}>{item.name}</li>\r\n *             ))}\r\n *         </ul>\r\n *     );\r\n * };\r\n *\r\n * @see useListContext\r\n */\r\nconst ArrayFieldImpl = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>(\r\n    props: ArrayFieldProps<RecordType>\r\n) => {\r\n    const { children, resource, source, perPage, sort, filter } = props;\r\n    const record = useRecordContext(props);\r\n    const data =\r\n        (get(record, source, emptyArray) as Record<string, any>[]) ||\r\n        emptyArray;\r\n    const listContext = useList({ data, resource, perPage, sort, filter });\r\n    return (\r\n        <ListContextProvider value={listContext}>\r\n            {children}\r\n        </ListContextProvider>\r\n    );\r\n};\r\nArrayFieldImpl.propTypes = { ...fieldPropTypes };\r\nArrayFieldImpl.displayName = 'ArrayFieldImpl';\r\n\r\nexport const ArrayField = genericMemo(ArrayFieldImpl);\r\n\r\nexport interface ArrayFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType> {\r\n    children?: ReactNode;\r\n    perPage?: number;\r\n    sort?: SortPayload;\r\n    filter?: FilterPayload;\r\n}\r\n\r\nconst emptyArray = [];\r\n", "import { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { TableCellProps } from '@mui/material/TableCell';\r\nimport { Call, Objects } from 'hotscript';\r\n\r\ntype TextAlign = TableCellProps['align'];\r\ntype SortOrder = 'ASC' | 'DESC';\r\ntype AnyString = string & {};\r\n\r\nexport interface FieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> {\r\n    sortBy?: Call<Objects.AllPaths, RecordType> | AnyString;\r\n    sortByOrder?: SortOrder;\r\n    source?: Call<Objects.AllPaths, RecordType> extends never\r\n        ? AnyString\r\n        : Call<Objects.AllPaths, RecordType>;\r\n    label?: string | ReactElement | boolean;\r\n    sortable?: boolean;\r\n    className?: string;\r\n    cellClassName?: string;\r\n    headerClassName?: string;\r\n    /*\r\n     * @deprecated this property is not used anymore\r\n     */\r\n    formClassName?: string;\r\n    textAlign?: TextAlign;\r\n    emptyText?: string;\r\n    fullWidth?: boolean;\r\n    record?: RecordType;\r\n    resource?: string;\r\n}\r\n\r\n/**\r\n * @deprecated use FieldProps instead\r\n */\r\nexport interface PublicFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>,\r\n    SortByType = unknown\r\n> {\r\n    sortBy?: unknown extends SortByType\r\n        ? Call<Objects.AllPaths, RecordType>\r\n        : SortByType;\r\n    sortByOrder?: SortOrder;\r\n    source?: Call<Objects.AllPaths, RecordType>;\r\n    label?: string | ReactElement | boolean;\r\n    sortable?: boolean;\r\n    className?: string;\r\n    cellClassName?: string;\r\n    headerClassName?: string;\r\n    /*\r\n     * @deprecated this property is not used anymore\r\n     */\r\n    formClassName?: string;\r\n    textAlign?: TextAlign;\r\n    emptyText?: string;\r\n    fullWidth?: boolean;\r\n    record?: RecordType;\r\n    resource?: string;\r\n}\r\n\r\n/**\r\n * @deprecated use FieldProps instead\r\n */\r\nexport interface InjectedFieldProps<RecordType = any> {\r\n    record?: RecordType;\r\n    resource?: string;\r\n}\r\n\r\nexport const fieldPropTypes = {\r\n    sortBy: PropTypes.string,\r\n    sortByOrder: PropTypes.oneOf<SortOrder>(['ASC', 'DESC']),\r\n    source: PropTypes.string,\r\n    label: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.element,\r\n        PropTypes.bool,\r\n    ]),\r\n    sortable: PropTypes.bool,\r\n    className: PropTypes.string,\r\n    cellClassName: PropTypes.string,\r\n    headerClassName: PropTypes.string,\r\n    textAlign: PropTypes.oneOf<TextAlign>([\r\n        'inherit',\r\n        'left',\r\n        'center',\r\n        'right',\r\n        'justify',\r\n    ]),\r\n    emptyText: PropTypes.string,\r\n};\r\n", "import { FunctionComponent, memo } from 'react';\r\n\r\n/**\r\n * A version of React.memo that preserves the original component type allowing it to accept generics.\r\n * See {@link https://stackoverflow.com/a/70890101}\r\n */\r\nexport const genericMemo: <T extends FunctionComponent>(component: T) => T = <\r\n    T extends FunctionComponent\r\n>(\r\n    component: T\r\n) => {\r\n    const result = (memo(component) as unknown) as T;\r\n\r\n    // We have to set the propTypes, defaultProps and displayName on both the field implementation and the memoized version.\r\n    // On the implementation so that the memoized version can pick them up and users may reference the defaultProps in their components.\r\n    // On the memoized version so that components that inspect their children props may read them.\r\n    result.propTypes = component.propTypes;\r\n    result.defaultProps = component.defaultProps;\r\n    result.displayName = component.displayName?.replace('Impl', '');\r\n    return result;\r\n};\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { SvgIconComponent } from '@mui/icons-material';\r\nimport PropTypes from 'prop-types';\r\nimport get from 'lodash/get';\r\nimport DoneIcon from '@mui/icons-material/Done';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport { Tooltip, Typography, TypographyProps } from '@mui/material';\r\nimport { useTranslate, useRecordContext } from 'ra-core';\r\nimport { genericMemo } from './genericMemo';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\n\r\nconst BooleanFieldImpl = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>(\r\n    props: BooleanFieldProps<RecordType>\r\n) => {\r\n    const {\r\n        className,\r\n        emptyText,\r\n        source,\r\n        valueLabelTrue,\r\n        valueLabelFalse,\r\n        TrueIcon = DoneIcon,\r\n        FalseIcon = ClearIcon,\r\n        looseValue = false,\r\n        ...rest\r\n    } = props;\r\n    const record = useRecordContext<RecordType>(props);\r\n    const translate = useTranslate();\r\n\r\n    const value = get(record, source);\r\n    const isTruthyValue = value === true || (looseValue && value);\r\n    let ariaLabel = value ? valueLabelTrue : valueLabelFalse;\r\n\r\n    if (!ariaLabel) {\r\n        ariaLabel = isTruthyValue ? 'ra.boolean.true' : 'ra.boolean.false';\r\n    }\r\n\r\n    if (looseValue || value === false || value === true) {\r\n        return (\r\n            <StyledTypography\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                className={className}\r\n                {...sanitizeFieldRestProps(rest)}\r\n            >\r\n                <Tooltip title={translate(ariaLabel, { _: ariaLabel })}>\r\n                    {isTruthyValue ? (\r\n                        TrueIcon ? (\r\n                            <TrueIcon data-testid=\"true\" fontSize=\"small\" />\r\n                        ) : (\r\n                            <></>\r\n                        )\r\n                    ) : FalseIcon ? (\r\n                        <FalseIcon data-testid=\"false\" fontSize=\"small\" />\r\n                    ) : (\r\n                        <></>\r\n                    )}\r\n                </Tooltip>\r\n            </StyledTypography>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Typography\r\n            component=\"span\"\r\n            variant=\"body2\"\r\n            className={className}\r\n            {...sanitizeFieldRestProps(rest)}\r\n        >\r\n            {emptyText && translate(emptyText, { _: emptyText })}\r\n        </Typography>\r\n    );\r\n};\r\n\r\nBooleanFieldImpl.propTypes = {\r\n    // @ts-ignore\r\n    ...Typography.propTypes,\r\n    ...fieldPropTypes,\r\n    valueLabelFalse: PropTypes.string,\r\n    valueLabelTrue: PropTypes.string,\r\n    TrueIcon: PropTypes.elementType,\r\n    FalseIcon: PropTypes.elementType,\r\n    looseValue: PropTypes.bool,\r\n};\r\nBooleanFieldImpl.displayName = 'BooleanFieldImpl';\r\n\r\nexport const BooleanField = genericMemo(BooleanFieldImpl);\r\n\r\nexport interface BooleanFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType>,\r\n        Omit<TypographyProps, 'textAlign'> {\r\n    valueLabelTrue?: string;\r\n    valueLabelFalse?: string;\r\n    TrueIcon?: SvgIconComponent | null;\r\n    FalseIcon?: SvgIconComponent | null;\r\n    looseValue?: boolean;\r\n}\r\n\r\nconst PREFIX = 'RaBooleanField';\r\n\r\nconst StyledTypography = styled(Typography, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    display: 'inline-flex',\r\n    verticalAlign: 'middle',\r\n    lineHeight: 0,\r\n});\r\n", "export const sanitizeFieldRestProps: (props: any) => any = ({\r\n    cellClassName,\r\n    className,\r\n    emptyText,\r\n    formClassName,\r\n    fullWidth,\r\n    headerClassName,\r\n    label,\r\n    linkType,\r\n    link,\r\n    locale,\r\n    record,\r\n    refetch,\r\n    resource,\r\n    sortable,\r\n    sortBy,\r\n    sortByOrder,\r\n    source,\r\n    textAlign,\r\n    translateChoice,\r\n    ...props\r\n}) => props;\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport get from 'lodash/get';\r\nimport Chip, { ChipProps } from '@mui/material/Chip';\r\nimport Typography from '@mui/material/Typography';\r\nimport clsx from 'clsx';\r\nimport { useRecordContext, useTranslate } from 'ra-core';\r\n\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { genericMemo } from './genericMemo';\r\n\r\nconst ChipFieldImpl = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>(\r\n    props: ChipFieldProps<RecordType>\r\n) => {\r\n    const { className, source, emptyText, ...rest } = props;\r\n    const record = useRecordContext<RecordType>(props);\r\n    const value = get(record, source);\r\n    const translate = useTranslate();\r\n\r\n    if (value == null && emptyText) {\r\n        return (\r\n            <Typography\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                className={className}\r\n                {...sanitizeFieldRestProps(rest)}\r\n            >\r\n                {emptyText && translate(emptyText, { _: emptyText })}\r\n            </Typography>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <StyledChip\r\n            className={clsx(ChipFieldClasses.chip, className)}\r\n            label={value}\r\n            {...sanitizeFieldRestProps(rest)}\r\n        />\r\n    );\r\n};\r\n\r\nChipFieldImpl.propTypes = {\r\n    // @ts-ignore\r\n    ...Chip.propTypes,\r\n    ...fieldPropTypes,\r\n};\r\nChipFieldImpl.displayName = 'ChipFieldImpl';\r\n\r\nexport const ChipField = genericMemo(ChipFieldImpl);\r\n\r\nexport interface ChipFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType>,\r\n        Omit<ChipProps, 'label' | 'children'> {\r\n    /**\r\n     * @internal do not use (prop required for TS to be able to cast ChipField as FunctionComponent)\r\n     */\r\n    children?: React.ReactNode;\r\n}\r\n\r\nconst PREFIX = 'RaChipField';\r\n\r\nconst ChipFieldClasses = {\r\n    chip: `${PREFIX}-chip`,\r\n};\r\n\r\nconst StyledChip = styled(Chip, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    [`&.${ChipFieldClasses.chip}`]: { margin: 4, cursor: 'inherit' },\r\n});\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport get from 'lodash/get';\r\nimport { Typography, TypographyProps } from '@mui/material';\r\nimport { useRecordContext, useTranslate } from 'ra-core';\r\n\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { genericMemo } from './genericMemo';\r\n\r\n/**\r\n * Display a date value as a locale string.\r\n *\r\n * Uses Intl.DateTimeFormat() if available, passing the locales and options props as arguments.\r\n * If Intl is not available, it outputs date as is (and ignores the locales and options props).\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\r\n * @example\r\n * <DateField source=\"published_at\" />\r\n * // renders the record { id: 1234, published_at: new Date('2012-11-07') } as\r\n * <span>07/11/2012</span>\r\n *\r\n * <DateField source=\"published_at\" className=\"red\" />\r\n * // renders the record { id: 1234, new Date('2012-11-07') } as\r\n * <span class=\"red\">07/11/2012</span>\r\n *\r\n * <DateField source=\"share\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\r\n * // renders the record { id: 1234, new Date('2012-11-07') } as\r\n * <span>Wednesday, November 7, 2012</span>\r\n *\r\n * <DateField source=\"price\" locales=\"fr-FR\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\r\n * // renders the record { id: 1234, new Date('2012-11-07') } as\r\n * <span>mercredi 7 novembre 2012</span>\r\n */\r\nconst DateFieldImpl = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>(\r\n    props: DateFieldProps<RecordType>\r\n) => {\r\n    const {\r\n        className,\r\n        emptyText,\r\n        locales,\r\n        options,\r\n        showTime = false,\r\n        showDate = true,\r\n        source,\r\n        ...rest\r\n    } = props;\r\n    const translate = useTranslate();\r\n\r\n    if (!showTime && !showDate) {\r\n        throw new Error(\r\n            '<DateField> cannot have showTime and showDate false at the same time'\r\n        );\r\n    }\r\n\r\n    const record = useRecordContext<RecordType>(props);\r\n    if (!record) {\r\n        return null;\r\n    }\r\n\r\n    const value = get(record, source);\r\n    if (value == null || value === '') {\r\n        return emptyText ? (\r\n            <Typography\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                className={className}\r\n                {...sanitizeFieldRestProps(rest)}\r\n            >\r\n                {emptyText && translate(emptyText, { _: emptyText })}\r\n            </Typography>\r\n        ) : null;\r\n    }\r\n\r\n    const date =\r\n        value instanceof Date\r\n            ? value\r\n            : typeof value === 'string' || typeof value === 'number'\r\n            ? new Date(value)\r\n            : undefined;\r\n\r\n    let dateOptions = options;\r\n    if (\r\n        typeof value === 'string' &&\r\n        value.length <= 10 &&\r\n        !showTime &&\r\n        !options\r\n    ) {\r\n        // Input is a date string (e.g. '2022-02-15') without time and time zone.\r\n        // Force timezone to UTC to fix issue with people in negative time zones\r\n        // who may see a different date when calling toLocaleDateString().\r\n        dateOptions = { timeZone: 'UTC' };\r\n    }\r\n    let dateString = '';\r\n    if (showTime && showDate) {\r\n        dateString = toLocaleStringSupportsLocales\r\n            ? date.toLocaleString(locales, options)\r\n            : date.toLocaleString();\r\n    } else if (showDate) {\r\n        dateString = toLocaleStringSupportsLocales\r\n            ? date.toLocaleDateString(locales, dateOptions)\r\n            : date.toLocaleDateString();\r\n    } else if (showTime) {\r\n        dateString = toLocaleStringSupportsLocales\r\n            ? date.toLocaleTimeString(locales, options)\r\n            : date.toLocaleTimeString();\r\n    }\r\n\r\n    return (\r\n        <Typography\r\n            component=\"span\"\r\n            variant=\"body2\"\r\n            className={className}\r\n            {...sanitizeFieldRestProps(rest)}\r\n        >\r\n            {dateString}\r\n        </Typography>\r\n    );\r\n};\r\n\r\nDateFieldImpl.propTypes = {\r\n    // @ts-ignore\r\n    ...Typography.propTypes,\r\n    ...fieldPropTypes,\r\n    locales: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.arrayOf(PropTypes.string),\r\n    ]),\r\n    options: PropTypes.object,\r\n    showTime: PropTypes.bool,\r\n    showDate: PropTypes.bool,\r\n};\r\nDateFieldImpl.displayName = 'DateFieldImpl';\r\n\r\nexport const DateField = genericMemo(DateFieldImpl);\r\n\r\nexport interface DateFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType>,\r\n        Omit<TypographyProps, 'textAlign'> {\r\n    locales?: Intl.LocalesArgument;\r\n    options?: Intl.DateTimeFormatOptions;\r\n    showTime?: boolean;\r\n    showDate?: boolean;\r\n}\r\n\r\nconst toLocaleStringSupportsLocales = (() => {\r\n    // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\r\n    try {\r\n        new Date().toLocaleString('i');\r\n    } catch (error) {\r\n        return error instanceof RangeError;\r\n    }\r\n    return false;\r\n})();\r\n", "import * as React from 'react';\r\nimport get from 'lodash/get';\r\nimport Typography from '@mui/material/Typography';\r\nimport { Link, LinkProps } from '@mui/material';\r\nimport { useRecordContext, useTranslate } from 'ra-core';\r\n\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { genericMemo } from './genericMemo';\r\n\r\nconst EmailFieldImpl = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>(\r\n    props: EmailFieldProps<RecordType>\r\n) => {\r\n    const { className, source, emptyText, ...rest } = props;\r\n    const record = useRecordContext(props);\r\n    const value = get(record, source);\r\n    const translate = useTranslate();\r\n\r\n    if (value == null) {\r\n        return emptyText ? (\r\n            <Typography\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                className={className}\r\n                {...sanitizeFieldRestProps(rest)}\r\n            >\r\n                {emptyText && translate(emptyText, { _: emptyText })}\r\n            </Typography>\r\n        ) : null;\r\n    }\r\n\r\n    return (\r\n        <Link\r\n            className={className}\r\n            href={`mailto:${value}`}\r\n            onClick={stopPropagation}\r\n            variant=\"body2\"\r\n            {...sanitizeFieldRestProps(rest)}\r\n        >\r\n            {value}\r\n        </Link>\r\n    );\r\n};\r\n\r\nEmailFieldImpl.propTypes = fieldPropTypes;\r\nEmailFieldImpl.displayName = 'EmailFieldImpl';\r\n\r\nexport const EmailField = genericMemo(EmailFieldImpl);\r\n\r\nexport interface EmailFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType>,\r\n        Omit<LinkProps, 'textAlign'> {}\r\n\r\n// useful to prevent click bubbling in a Datagrid with rowClick\r\nconst stopPropagation = e => e.stopPropagation();\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport get from 'lodash/get';\r\nimport Typography from '@mui/material/Typography';\r\nimport { useRecordContext, useTranslate } from 'ra-core';\r\n\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { SxProps } from '@mui/system';\r\nimport { Link } from '@mui/material';\r\n\r\n/**\r\n * Render a link to a file based on a path contained in a record field\r\n *\r\n * @example\r\n * import { FileField } from 'react-admin';\r\n *\r\n * <FileField source=\"url\" title=\"title\" />\r\n *\r\n * // renders the record { id: 123, url: 'doc.pdf', title: 'Presentation' } as\r\n * <div>\r\n *     <a href=\"doc.pdf\" title=\"Presentation\">Presentation</a>\r\n * </div>\r\n */\r\nexport const FileField = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>(\r\n    props: FileFieldProps<RecordType>\r\n) => {\r\n    const {\r\n        className,\r\n        emptyText,\r\n        source,\r\n        title,\r\n        src,\r\n        target,\r\n        download,\r\n        ping,\r\n        rel,\r\n        ...rest\r\n    } = props;\r\n    const record = useRecordContext(props);\r\n    const sourceValue = get(record, source);\r\n    const translate = useTranslate();\r\n\r\n    if (!sourceValue) {\r\n        return emptyText ? (\r\n            <Typography\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                className={className}\r\n                {...sanitizeFieldRestProps(rest)}\r\n            >\r\n                {emptyText && translate(emptyText, { _: emptyText })}\r\n            </Typography>\r\n        ) : (\r\n            <Root className={className} {...sanitizeFieldRestProps(rest)} />\r\n        );\r\n    }\r\n\r\n    if (Array.isArray(sourceValue)) {\r\n        return (\r\n            <StyledList className={className} {...sanitizeFieldRestProps(rest)}>\r\n                {sourceValue.map((file, index) => {\r\n                    const fileTitleValue = get(file, title) || title;\r\n                    const srcValue = get(file, src) || title;\r\n\r\n                    return (\r\n                        <li key={index}>\r\n                            <Link\r\n                                href={srcValue}\r\n                                title={fileTitleValue}\r\n                                target={target}\r\n                                download={download}\r\n                                ping={ping}\r\n                                rel={rel}\r\n                                variant=\"body2\"\r\n                                onClick={e => e.stopPropagation()}\r\n                            >\r\n                                {fileTitleValue}\r\n                            </Link>\r\n                        </li>\r\n                    );\r\n                })}\r\n            </StyledList>\r\n        );\r\n    }\r\n\r\n    const titleValue = get(record, title)?.toString() || title;\r\n\r\n    return (\r\n        <Root className={className} {...sanitizeFieldRestProps(rest)}>\r\n            <Link\r\n                href={sourceValue?.toString()}\r\n                title={titleValue}\r\n                target={target}\r\n                download={download}\r\n                ping={ping}\r\n                rel={rel}\r\n                variant=\"body2\"\r\n            >\r\n                {titleValue}\r\n            </Link>\r\n        </Root>\r\n    );\r\n};\r\n\r\nexport interface FileFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType> {\r\n    src?: string;\r\n    title?: string;\r\n    target?: string;\r\n    download?: boolean | string;\r\n    ping?: string;\r\n    rel?: string;\r\n    sx?: SxProps;\r\n}\r\n\r\nFileField.propTypes = {\r\n    ...fieldPropTypes,\r\n    src: PropTypes.string,\r\n    title: PropTypes.string,\r\n    target: PropTypes.string,\r\n    download: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\r\n    ping: PropTypes.string,\r\n    rel: PropTypes.string,\r\n};\r\n\r\nconst PREFIX = 'RaFileField';\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    display: 'inline-block',\r\n});\r\n\r\nconst StyledList = styled('ul')({\r\n    display: 'inline-block',\r\n});\r\n", "import * as React from 'react';\r\nimport { useMemo, ReactNode } from 'react';\r\nimport { useRecordContext } from 'ra-core';\r\nimport PropTypes from 'prop-types';\r\nimport Typography, { TypographyProps } from '@mui/material/Typography';\r\n\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\n\r\n/**\r\n * Field using a render function\r\n *\r\n * @example\r\n * <FunctionField\r\n *     source=\"last_name\" // used for sorting\r\n *     label=\"Name\"\r\n *     render={record => `${record.first_name} ${record.last_name}`}\r\n * />\r\n */\r\n\r\nexport const FunctionField = <RecordType extends Record<string, unknown> = any>(\r\n    props: FunctionFieldProps<RecordType>\r\n) => {\r\n    const { className, source = '', render, ...rest } = props;\r\n    const record = useRecordContext(props);\r\n    return useMemo(\r\n        () =>\r\n            record ? (\r\n                <Typography\r\n                    component=\"span\"\r\n                    variant=\"body2\"\r\n                    className={className}\r\n                    {...sanitizeFieldRestProps(rest)}\r\n                >\r\n                    {render(record, source)}\r\n                </Typography>\r\n            ) : null,\r\n        [className, record, source, render, rest]\r\n    );\r\n};\r\n\r\nFunctionField.propTypes = {\r\n    // @ts-ignore\r\n    ...Typography.propTypes,\r\n    ...fieldPropTypes,\r\n    render: PropTypes.func.isRequired,\r\n};\r\n\r\nexport interface FunctionFieldProps<\r\n    RecordType extends Record<string, unknown> = any\r\n> extends FieldProps<RecordType>,\r\n        Omit<TypographyProps, 'textAlign'> {\r\n    render: (record: RecordType, source?: string) => ReactNode;\r\n}\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Box, Typography } from '@mui/material';\r\nimport PropTypes from 'prop-types';\r\nimport get from 'lodash/get';\r\nimport { useRecordContext, useTranslate } from 'ra-core';\r\n\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { SxProps } from '@mui/system';\r\n\r\nexport const ImageField = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>(\r\n    props: ImageFieldProps<RecordType>\r\n) => {\r\n    const { className, emptyText, source, src, title, ...rest } = props;\r\n    const record = useRecordContext(props);\r\n    const sourceValue = get(record, source);\r\n    const translate = useTranslate();\r\n\r\n    if (!sourceValue) {\r\n        return emptyText ? (\r\n            <Typography\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                className={className}\r\n                {...sanitizeFieldRestProps(rest)}\r\n            >\r\n                {emptyText && translate(emptyText, { _: emptyText })}\r\n            </Typography>\r\n        ) : (\r\n            <Typography\r\n                component=\"div\"\r\n                className={className}\r\n                {...sanitizeFieldRestProps(rest)}\r\n            />\r\n        );\r\n    }\r\n\r\n    if (Array.isArray(sourceValue)) {\r\n        return (\r\n            <Root className={className} {...sanitizeFieldRestProps(rest)}>\r\n                <ul className={ImageFieldClasses.list}>\r\n                    {sourceValue.map((file, index) => {\r\n                        const fileTitleValue = get(file, title) || title;\r\n                        const srcValue = get(file, src) || title;\r\n\r\n                        return (\r\n                            <li key={index}>\r\n                                <img\r\n                                    alt={fileTitleValue}\r\n                                    title={fileTitleValue}\r\n                                    src={srcValue}\r\n                                    className={ImageFieldClasses.image}\r\n                                />\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            </Root>\r\n        );\r\n    }\r\n\r\n    const titleValue = get(record, title)?.toString() || title;\r\n\r\n    return (\r\n        <Root className={className} {...sanitizeFieldRestProps(rest)}>\r\n            <img\r\n                title={titleValue}\r\n                alt={titleValue}\r\n                src={sourceValue?.toString()}\r\n                className={ImageFieldClasses.image}\r\n            />\r\n        </Root>\r\n    );\r\n};\r\n\r\n// What? TypeScript loses the displayName if we don't set it explicitly\r\nImageField.displayName = 'ImageField';\r\n\r\nImageField.propTypes = {\r\n    ...fieldPropTypes,\r\n    src: PropTypes.string,\r\n    title: PropTypes.string,\r\n};\r\n\r\nconst PREFIX = 'RaImageField';\r\n\r\nexport const ImageFieldClasses = {\r\n    list: `${PREFIX}-list`,\r\n    image: `${PREFIX}-image`,\r\n};\r\n\r\nconst Root = styled(Box, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    [`& .${ImageFieldClasses.list}`]: {\r\n        display: 'flex',\r\n        listStyleType: 'none',\r\n    },\r\n    [`& .${ImageFieldClasses.image}`]: {\r\n        margin: '0.25rem',\r\n        width: 200,\r\n        height: 100,\r\n        objectFit: 'contain',\r\n    },\r\n});\r\n\r\nexport interface ImageFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType> {\r\n    src?: string;\r\n    title?: string;\r\n    sx?: SxProps;\r\n}\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport get from 'lodash/get';\r\nimport Typography, { TypographyProps } from '@mui/material/Typography';\r\nimport { useRecordContext, useTranslate } from 'ra-core';\r\n\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { genericMemo } from './genericMemo';\r\n\r\n/**\r\n * Display a numeric value as a locale string.\r\n *\r\n * Uses Intl.NumberFormat() if available, passing the locales and options props as arguments.\r\n * If Intl is not available, it outputs number as is (and ignores the locales and options props).\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\r\n * @example\r\n * <NumberField source=\"score\" />\r\n * // renders the record { id: 1234, score: 567 } as\r\n * <span>567</span>\r\n *\r\n * <NumberField source=\"score\" className=\"red\" />\r\n * // renders the record { id: 1234, score: 567 } as\r\n * <span class=\"red\">567</span>\r\n *\r\n * <NumberField source=\"share\" options={{ style: 'percent' }} />\r\n * // renders the record { id: 1234, share: 0.2545 } as\r\n * <span>25%</span>\r\n *\r\n * <NumberField source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\r\n * // renders the record { id: 1234, price: 25.99 } as\r\n * <span>$25.99</span>\r\n *\r\n * <NumberField source=\"price\" locales=\"fr-FR\" options={{ style: 'currency', currency: 'USD' }} />\r\n * // renders the record { id: 1234, price: 25.99 } as\r\n * <span>25,99 $US</span>\r\n */\r\nconst NumberFieldImpl = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>(\r\n    props: NumberFieldProps<RecordType>\r\n) => {\r\n    const {\r\n        className,\r\n        emptyText,\r\n        source,\r\n        locales,\r\n        options,\r\n        textAlign,\r\n        ...rest\r\n    } = props;\r\n    const record = useRecordContext<RecordType>(props);\r\n    const translate = useTranslate();\r\n\r\n    if (!record) {\r\n        return null;\r\n    }\r\n    const value = get(record, source);\r\n\r\n    if (value == null) {\r\n        return emptyText ? (\r\n            <Typography\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                className={className}\r\n                {...sanitizeFieldRestProps(rest)}\r\n            >\r\n                {emptyText && translate(emptyText, { _: emptyText })}\r\n            </Typography>\r\n        ) : null;\r\n    }\r\n\r\n    return (\r\n        <Typography\r\n            variant=\"body2\"\r\n            component=\"span\"\r\n            className={className}\r\n            {...sanitizeFieldRestProps(rest)}\r\n        >\r\n            {hasNumberFormat && typeof value === 'number'\r\n                ? value.toLocaleString(locales, options)\r\n                : value}\r\n        </Typography>\r\n    );\r\n};\r\n\r\nNumberFieldImpl.propTypes = {\r\n    // @ts-ignore\r\n    ...Typography.propTypes,\r\n    ...fieldPropTypes,\r\n    locales: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.arrayOf(PropTypes.string),\r\n    ]),\r\n    options: PropTypes.object,\r\n};\r\n\r\n// what? TypeScript loses the displayName if we don't set it explicitly\r\nNumberFieldImpl.displayName = 'NumberFieldImpl';\r\nNumberFieldImpl.defaultProps = {\r\n    textAlign: 'right',\r\n};\r\n\r\nexport const NumberField = genericMemo(NumberFieldImpl);\r\n\r\nexport interface NumberFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType>,\r\n        Omit<TypographyProps, 'textAlign'> {\r\n    locales?: string | string[];\r\n    options?: object;\r\n}\r\n\r\nconst hasNumberFormat = !!(\r\n    typeof Intl === 'object' &&\r\n    Intl &&\r\n    typeof Intl.NumberFormat === 'function'\r\n);\r\n", "import * as React from 'react';\r\nimport { FC, memo, ReactElement, ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    ListContextProvider,\r\n    useListContext,\r\n    ListControllerProps,\r\n    useReferenceArrayFieldController,\r\n    SortPayload,\r\n    FilterPayload,\r\n    ResourceContextProvider,\r\n    useRecordContext,\r\n    useResourceDefinition,\r\n    RaRecord,\r\n} from 'ra-core';\r\nimport { styled } from '@mui/material/styles';\r\nimport { SxProps } from '@mui/system';\r\n\r\nimport { fieldPropTypes, FieldProps } from './types';\r\nimport { LinearProgress } from '../layout';\r\nimport { SingleFieldList } from '../list/SingleFieldList';\r\nimport { ChipField } from './ChipField';\r\n\r\n/**\r\n * A container component that fetches records from another resource specified\r\n * by an array of *ids* in current record.\r\n *\r\n * You must define the fields to be passed to the iterator component as children.\r\n *\r\n * @example Display all the products of the current order as datagrid\r\n * // order = {\r\n * //   id: 123,\r\n * //   product_ids: [456, 457, 458],\r\n * // }\r\n * <ReferenceArrayField label=\"Products\" reference=\"products\" source=\"product_ids\">\r\n *     <Datagrid>\r\n *         <TextField source=\"id\" />\r\n *         <TextField source=\"description\" />\r\n *         <NumberField source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\r\n *         <EditButton />\r\n *     </Datagrid>\r\n * </ReferenceArrayField>\r\n *\r\n * @example Display all the categories of the current product as a list of chips\r\n * // product = {\r\n * //   id: 456,\r\n * //   category_ids: [11, 22, 33],\r\n * // }\r\n * <ReferenceArrayField label=\"Categories\" reference=\"categories\" source=\"category_ids\">\r\n *     <SingleFieldList>\r\n *         <ChipField source=\"name\" />\r\n *     </SingleFieldList>\r\n * </ReferenceArrayField>\r\n *\r\n * By default, restricts the displayed values to 1000. You can extend this limit\r\n * by setting the `perPage` prop.\r\n *\r\n * @example\r\n * <ReferenceArrayField perPage={10} reference=\"categories\" source=\"category_ids\">\r\n *    ...\r\n * </ReferenceArrayField>\r\n *\r\n * By default, the field displays the results in the order in which they are referenced\r\n * (i.e. in the order of the list of ids). You can change this order\r\n * by setting the `sort` prop (an object with `field` and `order` properties).\r\n *\r\n * @example\r\n * <ReferenceArrayField sort={{ field: 'name', order: 'ASC' }} reference=\"categories\" source=\"category_ids\">\r\n *    ...\r\n * </ReferenceArrayField>\r\n *\r\n * Also, you can filter the results to display only a subset of values. Use the\r\n * `filter` prop for that.\r\n *\r\n * @example\r\n * <ReferenceArrayField filter={{ is_published: true }} reference=\"categories\" source=\"category_ids\">\r\n *    ...\r\n * </ReferenceArrayField>\r\n */\r\nexport const ReferenceArrayField = <\r\n    RecordType extends RaRecord = RaRecord,\r\n    ReferenceRecordType extends RaRecord = RaRecord\r\n>(\r\n    props: ReferenceArrayFieldProps<RecordType>\r\n) => {\r\n    const {\r\n        filter,\r\n        page = 1,\r\n        perPage,\r\n        reference,\r\n        resource,\r\n        sort,\r\n        source,\r\n    } = props;\r\n    const record = useRecordContext(props);\r\n    const controllerProps = useReferenceArrayFieldController<\r\n        RecordType,\r\n        ReferenceRecordType\r\n    >({\r\n        filter,\r\n        page,\r\n        perPage,\r\n        record,\r\n        reference,\r\n        resource,\r\n        sort,\r\n        source,\r\n    });\r\n    return (\r\n        <ResourceContextProvider value={reference}>\r\n            <ListContextProvider value={controllerProps}>\r\n                <PureReferenceArrayFieldView {...props} />\r\n            </ListContextProvider>\r\n        </ResourceContextProvider>\r\n    );\r\n};\r\n\r\nReferenceArrayField.propTypes = {\r\n    ...fieldPropTypes,\r\n    className: PropTypes.string,\r\n    children: PropTypes.node,\r\n    label: fieldPropTypes.label,\r\n    record: PropTypes.any,\r\n    reference: PropTypes.string.isRequired,\r\n    resource: PropTypes.string,\r\n    sortBy: PropTypes.string,\r\n    sortByOrder: fieldPropTypes.sortByOrder,\r\n    source: PropTypes.string.isRequired,\r\n};\r\n\r\nexport interface ReferenceArrayFieldProps<\r\n    RecordType extends RaRecord = RaRecord\r\n> extends FieldProps<RecordType> {\r\n    children?: ReactNode;\r\n    filter?: FilterPayload;\r\n    page?: number;\r\n    pagination?: ReactElement;\r\n    perPage?: number;\r\n    reference: string;\r\n    sort?: SortPayload;\r\n    sx?: SxProps;\r\n}\r\n\r\nexport interface ReferenceArrayFieldViewProps\r\n    extends Omit<ReferenceArrayFieldProps, 'resource' | 'page' | 'perPage'>,\r\n        ListControllerProps {}\r\n\r\nexport const ReferenceArrayFieldView: FC<ReferenceArrayFieldViewProps> = props => {\r\n    const { children, pagination, reference, className, sx } = props;\r\n    const { isLoading, total } = useListContext(props);\r\n\r\n    const { recordRepresentation } = useResourceDefinition({\r\n        resource: reference,\r\n    });\r\n    let child = children ? (\r\n        children\r\n    ) : (\r\n        <SingleFieldList>\r\n            <ChipField\r\n                source={\r\n                    typeof recordRepresentation === 'string'\r\n                        ? recordRepresentation\r\n                        : 'id'\r\n                }\r\n                size=\"small\"\r\n            />\r\n        </SingleFieldList>\r\n    );\r\n\r\n    return (\r\n        <Root className={className} sx={sx}>\r\n            {isLoading ? (\r\n                <LinearProgress\r\n                    className={ReferenceArrayFieldClasses.progress}\r\n                />\r\n            ) : (\r\n                <span>\r\n                    {child}\r\n                    {pagination && total !== undefined ? pagination : null}\r\n                </span>\r\n            )}\r\n        </Root>\r\n    );\r\n};\r\n\r\nReferenceArrayFieldView.propTypes = {\r\n    className: PropTypes.string,\r\n    children: PropTypes.node,\r\n    reference: PropTypes.string.isRequired,\r\n};\r\n\r\nconst PREFIX = 'RaReferenceArrayField';\r\n\r\nexport const ReferenceArrayFieldClasses = {\r\n    progress: `${PREFIX}-progress`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${ReferenceArrayFieldClasses.progress}`]: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n}));\r\n\r\nconst PureReferenceArrayFieldView = memo(ReferenceArrayFieldView);\r\n", "import * as React from 'react';\r\nimport { LinearProgress, styled, SxProps } from '@mui/material';\r\nimport {\r\n    cloneElement,\r\n    Children,\r\n    HtmlHTMLAttributes,\r\n    ComponentType,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    sanitizeListRestProps,\r\n    useListContext,\r\n    useResourceContext,\r\n    RaRecord,\r\n    RecordContextProvider,\r\n    ComponentPropType,\r\n    useCreatePath,\r\n} from 'ra-core';\r\n\r\nimport { Link } from '../Link';\r\n\r\n/**\r\n * Iterator component to be used to display a list of entities, using a single field\r\n *\r\n * @example Display all the books by the current author\r\n * <ReferenceManyField reference=\"books\" target=\"author_id\">\r\n *     <SingleFieldList>\r\n *         <ChipField source=\"title\" />\r\n *     </SingleFieldList>\r\n * </ReferenceManyField>\r\n *\r\n * By default, it includes a link to the <Edit> page of the related record\r\n * (`/books/:id` in the previous example).\r\n *\r\n * Set the linkType prop to \"show\" to link to the <Show> page instead.\r\n *\r\n * @example\r\n * <ReferenceManyField reference=\"books\" target=\"author_id\" linkType=\"show\">\r\n *     <SingleFieldList>\r\n *         <ChipField source=\"title\" />\r\n *     </SingleFieldList>\r\n * </ReferenceManyField>\r\n *\r\n * You can also prevent `<SingleFieldList>` from adding link to children by setting\r\n * `linkType` to false.\r\n *\r\n * @example\r\n * <ReferenceManyField reference=\"books\" target=\"author_id\" linkType={false}>\r\n *     <SingleFieldList>\r\n *         <ChipField source=\"title\" />\r\n *     </SingleFieldList>\r\n * </ReferenceManyField>\r\n */\r\nexport const SingleFieldList = (props: SingleFieldListProps) => {\r\n    const {\r\n        className,\r\n        children,\r\n        linkType = 'edit',\r\n        component: Component = Root,\r\n        ...rest\r\n    } = props;\r\n    const { data, isLoading } = useListContext(props);\r\n    const resource = useResourceContext(props);\r\n    const createPath = useCreatePath();\r\n\r\n    if (isLoading === true) {\r\n        return <LinearProgress />;\r\n    }\r\n\r\n    return (\r\n        <Component className={className} {...sanitizeListRestProps(rest)}>\r\n            {data.map((record, rowIndex) => {\r\n                const resourceLinkPath = !linkType\r\n                    ? false\r\n                    : createPath({\r\n                          resource,\r\n                          type: linkType,\r\n                          id: record.id,\r\n                      });\r\n\r\n                if (resourceLinkPath) {\r\n                    return (\r\n                        <RecordContextProvider\r\n                            value={record}\r\n                            key={record.id ?? `row${rowIndex}`}\r\n                        >\r\n                            <Link\r\n                                className={SingleFieldListClasses.link}\r\n                                to={resourceLinkPath}\r\n                                onClick={stopPropagation}\r\n                            >\r\n                                {cloneElement(Children.only(children), {\r\n                                    record,\r\n                                    resource,\r\n                                    // Workaround to force ChipField to be clickable\r\n                                    onClick: handleClick,\r\n                                })}\r\n                            </Link>\r\n                        </RecordContextProvider>\r\n                    );\r\n                }\r\n\r\n                return (\r\n                    <RecordContextProvider\r\n                        value={record}\r\n                        key={record.id ?? `row${rowIndex}`}\r\n                    >\r\n                        {children}\r\n                    </RecordContextProvider>\r\n                );\r\n            })}\r\n        </Component>\r\n    );\r\n};\r\n\r\nSingleFieldList.propTypes = {\r\n    children: PropTypes.element.isRequired,\r\n    classes: PropTypes.object,\r\n    className: PropTypes.string,\r\n    component: ComponentPropType,\r\n    data: PropTypes.any,\r\n    ids: PropTypes.array,\r\n    // @ts-ignore\r\n    linkType: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\r\n    resource: PropTypes.string,\r\n    sx: PropTypes.oneOfType([\r\n        PropTypes.arrayOf(\r\n            PropTypes.oneOfType([\r\n                PropTypes.func,\r\n                PropTypes.object,\r\n                PropTypes.bool,\r\n            ])\r\n        ),\r\n        PropTypes.func,\r\n        PropTypes.object,\r\n    ]),\r\n};\r\n\r\nexport interface SingleFieldListProps<RecordType extends RaRecord = any>\r\n    extends HtmlHTMLAttributes<HTMLDivElement> {\r\n    className?: string;\r\n\r\n    component?: string | ComponentType<any>;\r\n    linkType?: string | false;\r\n    children: React.ReactElement;\r\n    // can be injected when using the component without context\r\n    data?: RecordType[];\r\n    total?: number;\r\n    loaded?: boolean;\r\n    sx?: SxProps;\r\n}\r\n\r\nconst PREFIX = 'RaSingleFieldList';\r\n\r\nexport const SingleFieldListClasses = {\r\n    link: `${PREFIX}-link`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n\r\n    [`& .${SingleFieldListClasses.link}`]: {\r\n        textDecoration: 'none',\r\n    },\r\n});\r\n\r\n// useful to prevent click bubbling in a datagrid with rowClick\r\nconst stopPropagation = e => e.stopPropagation();\r\n\r\n// Our handleClick does nothing as we wrap the children inside a Link but it is\r\n// required by ChipField, which uses a Chip from Material UI.\r\n// The Material UI Chip requires an onClick handler to behave like a clickable element.\r\nconst handleClick = () => {};\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { Link as RRLink, LinkProps as RRLinkProps } from 'react-router-dom';\r\nimport {\r\n    styled,\r\n    Link as MuiLink,\r\n    LinkProps as MuiLinkProps,\r\n} from '@mui/material';\r\n\r\nexport const Link = (props: LinkProps) => {\r\n    const { to, children, className, ...rest } = props;\r\n\r\n    return (\r\n        <StyledMuiLink\r\n            component={RRLink}\r\n            to={to}\r\n            className={clsx(LinkClasses.link, className)}\r\n            underline=\"none\"\r\n            {...rest}\r\n        >\r\n            {children}\r\n        </StyledMuiLink>\r\n    );\r\n};\r\n\r\nconst PREFIX = 'RaLink';\r\n\r\nexport const LinkClasses = {\r\n    link: `${PREFIX}-link`,\r\n};\r\n\r\nconst StyledMuiLink = styled(MuiLink)({}) as typeof MuiLink; // @see https://mui.com/material-ui/guides/typescript/#complications-with-the-component-prop\r\n\r\n// @see https://mui.com/material-ui/guides/composition/#with-typescript\r\nexport interface LinkProps\r\n    extends MuiLinkProps<React.ElementType<any>, RRLinkProps> {\r\n    className?: string;\r\n}\r\n\r\nLink.propTypes = {\r\n    className: PropTypes.string,\r\n    children: PropTypes.node,\r\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n};\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport get from 'lodash/get';\r\nimport { Typography, SxProps } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport ErrorIcon from '@mui/icons-material/Error';\r\nimport {\r\n    useReference,\r\n    UseReferenceResult,\r\n    LinkToType,\r\n    ResourceContextProvider,\r\n    RecordContextProvider,\r\n    useRecordContext,\r\n    useCreatePath,\r\n    Identifier,\r\n    useGetRecordRepresentation,\r\n    useResourceDefinition,\r\n    useTranslate,\r\n    RaRecord,\r\n} from 'ra-core';\r\nimport { UseQueryOptions } from 'react-query';\r\n\r\nimport { LinearProgress } from '../layout';\r\nimport { Link } from '../Link';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { genericMemo } from './genericMemo';\r\n\r\n/**\r\n * Fetch reference record, and render its representation, or delegate rendering to child component.\r\n *\r\n * The reference prop should be the name of one of the <Resource> components\r\n * added as <Admin> child.\r\n *\r\n * @example // using recordRepresentation\r\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" />\r\n *\r\n * @example // using a Field component to represent the record\r\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\">\r\n *     <TextField source=\"name\" />\r\n * </ReferenceField>\r\n *\r\n * @example // By default, includes a link to the <Edit> page of the related record\r\n * // (`/users/:userId` in the previous example).\r\n * // Set the `link` prop to \"show\" to link to the <Show> page instead.\r\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link=\"show\" />\r\n *\r\n * @example // You can also prevent `<ReferenceField>` from adding link to children\r\n * // by setting `link` to false.\r\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={false} />\r\n *\r\n * @example // Alternatively, you can also pass a custom function to `link`.\r\n * // It must take reference and record as arguments and return a string\r\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={(record, reference) => \"/path/to/${reference}/${record}\"} />\r\n *\r\n * @default\r\n * In previous versions of React-Admin, the prop `linkType` was used. It is now deprecated and replaced with `link`. However\r\n * backward-compatibility is still kept\r\n */\r\nexport const ReferenceField = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>,\r\n    ReferenceRecordType extends RaRecord = RaRecord\r\n>(\r\n    props: ReferenceFieldProps<RecordType, ReferenceRecordType>\r\n) => {\r\n    const { source, emptyText, ...rest } = props;\r\n    const record = useRecordContext<RecordType>(props);\r\n    const id = get(record, source);\r\n    const translate = useTranslate();\r\n\r\n    return id == null ? (\r\n        emptyText ? (\r\n            <Typography component=\"span\" variant=\"body2\">\r\n                {emptyText && translate(emptyText, { _: emptyText })}\r\n            </Typography>\r\n        ) : null\r\n    ) : (\r\n        <NonEmptyReferenceField<RecordType, ReferenceRecordType>\r\n            {...rest}\r\n            emptyText={emptyText}\r\n            record={record}\r\n            id={id as Identifier}\r\n        />\r\n    );\r\n};\r\n\r\nReferenceField.propTypes = {\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    cellClassName: PropTypes.string,\r\n    headerClassName: PropTypes.string,\r\n    label: fieldPropTypes.label,\r\n    record: PropTypes.any,\r\n    reference: PropTypes.string.isRequired,\r\n    resource: PropTypes.string,\r\n    sortBy: PropTypes.string,\r\n    sortByOrder: fieldPropTypes.sortByOrder,\r\n    source: PropTypes.string.isRequired,\r\n    translateChoice: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n    // @ts-ignore\r\n    link: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.func,\r\n    ]).isRequired,\r\n};\r\n\r\nReferenceField.defaultProps = {\r\n    link: 'edit',\r\n};\r\n\r\nexport interface ReferenceFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>,\r\n    ReferenceRecordType extends RaRecord = RaRecord\r\n> extends Omit<FieldProps<RecordType>, 'source'>,\r\n        Required<Pick<FieldProps<RecordType>, 'source'>> {\r\n    children?: ReactNode;\r\n    queryOptions?: UseQueryOptions<ReferenceRecordType[], Error> & {\r\n        meta?: any;\r\n    };\r\n    reference: string;\r\n    translateChoice?: Function | boolean;\r\n    link?: LinkToType<ReferenceRecordType>;\r\n    sx?: SxProps;\r\n}\r\n\r\n/**\r\n * This intermediate component is made necessary by the useReference hook,\r\n * which cannot be called conditionally when get(record, source) is empty.\r\n */\r\nexport const NonEmptyReferenceField = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>,\r\n    ReferenceRecordType extends RaRecord = RaRecord\r\n>({\r\n    children,\r\n    id,\r\n    reference,\r\n    queryOptions,\r\n    link,\r\n    ...props\r\n}: Omit<ReferenceFieldProps<RecordType, ReferenceRecordType>, 'source'> & {\r\n    id: Identifier;\r\n}) => {\r\n    return (\r\n        <ResourceContextProvider value={reference}>\r\n            {/* @ts-ignore */}\r\n            <PureReferenceFieldView<RecordType, ReferenceRecordType>\r\n                reference={reference}\r\n                {...props}\r\n                {...useReference<ReferenceRecordType>({\r\n                    reference,\r\n                    id,\r\n                    options: queryOptions,\r\n                })}\r\n                resourceLinkPath={link}\r\n            >\r\n                {children}\r\n            </PureReferenceFieldView>\r\n        </ResourceContextProvider>\r\n    );\r\n};\r\n\r\n// useful to prevent click bubbling in a datagrid with rowClick\r\nconst stopPropagation = e => e.stopPropagation();\r\n\r\nexport const ReferenceFieldView = <\r\n    RecordType extends Record<string, any> = Record<string, any>\r\n>(\r\n    props: ReferenceFieldViewProps<RecordType>\r\n) => {\r\n    const {\r\n        children,\r\n        className,\r\n        emptyText,\r\n        error,\r\n        isLoading,\r\n        reference,\r\n        referenceRecord,\r\n        resourceLinkPath,\r\n        sx,\r\n    } = props;\r\n    const getRecordRepresentation = useGetRecordRepresentation(reference);\r\n    const translate = useTranslate();\r\n    const createPath = useCreatePath();\r\n    const resourceDefinition = useResourceDefinition({ resource: reference });\r\n\r\n    if (error) {\r\n        return (\r\n            /* eslint-disable jsx-a11y/role-supports-aria-props */\r\n            <ErrorIcon\r\n                aria-errormessage={error.message ? error.message : error}\r\n                role=\"presentation\"\r\n                color=\"error\"\r\n                fontSize=\"small\"\r\n            />\r\n            /* eslint-enable */\r\n        );\r\n    }\r\n    if (isLoading) {\r\n        return <LinearProgress />;\r\n    }\r\n    if (!referenceRecord) {\r\n        return emptyText ? (\r\n            <>{emptyText && translate(emptyText, { _: emptyText })}</>\r\n        ) : null;\r\n    }\r\n\r\n    const link =\r\n        resourceLinkPath === false ||\r\n        (resourceLinkPath === 'edit' && !resourceDefinition.hasEdit) ||\r\n        (resourceLinkPath === 'show' && !resourceDefinition.hasShow)\r\n            ? false\r\n            : createPath({\r\n                  resource: reference,\r\n                  id: referenceRecord.id,\r\n                  type:\r\n                      typeof resourceLinkPath === 'function'\r\n                          ? resourceLinkPath(referenceRecord, reference)\r\n                          : resourceLinkPath,\r\n              });\r\n\r\n    let child = children || (\r\n        <Typography component=\"span\" variant=\"body2\">\r\n            {getRecordRepresentation(referenceRecord)}\r\n        </Typography>\r\n    );\r\n\r\n    if (link) {\r\n        return (\r\n            <Root className={className} sx={sx}>\r\n                <RecordContextProvider value={referenceRecord}>\r\n                    <Link\r\n                        to={link}\r\n                        className={ReferenceFieldClasses.link}\r\n                        onClick={stopPropagation}\r\n                    >\r\n                        {child}\r\n                    </Link>\r\n                </RecordContextProvider>\r\n            </Root>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <RecordContextProvider value={referenceRecord}>\r\n            {child}\r\n        </RecordContextProvider>\r\n    );\r\n};\r\n\r\nReferenceFieldView.propTypes = {\r\n    children: PropTypes.element,\r\n    className: PropTypes.string,\r\n    isLoading: PropTypes.bool,\r\n    record: PropTypes.any,\r\n    reference: PropTypes.string,\r\n    referenceRecord: PropTypes.any,\r\n    resource: PropTypes.string,\r\n    // @ts-ignore\r\n    resourceLinkPath: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.func,\r\n    ]).isRequired,\r\n    source: PropTypes.string,\r\n    translateChoice: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n};\r\n\r\nexport interface ReferenceFieldViewProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>,\r\n    ReferenceRecordType extends RaRecord = RaRecord\r\n> extends FieldProps<RecordType>,\r\n        UseReferenceResult {\r\n    children?: ReactNode;\r\n    reference: string;\r\n    resource?: string;\r\n    translateChoice?: Function | boolean;\r\n    resourceLinkPath?: LinkToType<ReferenceRecordType>;\r\n    sx?: SxProps;\r\n}\r\n\r\nconst PureReferenceFieldView = genericMemo(ReferenceFieldView);\r\n\r\nconst PREFIX = 'RaReferenceField';\r\n\r\nexport const ReferenceFieldClasses = {\r\n    link: `${PREFIX}-link`,\r\n};\r\n\r\nconst Root = styled('span', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    lineHeight: 'initial',\r\n    [`& .${ReferenceFieldClasses.link}`]: {\r\n        '& > *': {\r\n            color: theme.palette.primary.main,\r\n        },\r\n    },\r\n}));\r\n", "import React from 'react';\r\nimport {\r\n    useReferenceManyFieldController,\r\n    useRecordContext,\r\n    useTimeout,\r\n    useCreatePath,\r\n    SortPayload,\r\n    RaRecord,\r\n} from 'ra-core';\r\nimport { Typography, TypographyProps, CircularProgress } from '@mui/material';\r\nimport ErrorIcon from '@mui/icons-material/Error';\r\n\r\nimport { FieldProps } from './types';\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\nimport { Link } from '../Link';\r\n\r\n/**\r\n * Fetch and render the number of records related to the current one\r\n *\r\n * Relies on dataProvider.getManyReference() returning a total property\r\n *\r\n * @example // Display the number of comments for the current post\r\n * <ReferenceManyCount reference=\"comments\" target=\"post_id\">\r\n *\r\n * @example // Display the number of published comments for the current post\r\n * <ReferenceManyCount reference=\"comments\" target=\"post_id\" filter={{ is_published: true }}>\r\n *\r\n * @example // Display the number of comments for the current post, with a custom Typography variant\r\n * <ReferenceManyCount reference=\"comments\" target=\"post_id\" variant=\"h1\">\r\n */\r\nexport const ReferenceManyCount = <RecordType extends RaRecord = RaRecord>(\r\n    props: ReferenceManyCountProps<RecordType>\r\n) => {\r\n    const {\r\n        reference,\r\n        target,\r\n        filter,\r\n        sort,\r\n        link,\r\n        resource,\r\n        source = 'id',\r\n        timeout = 1000,\r\n        ...rest\r\n    } = props;\r\n    const record = useRecordContext(props);\r\n    const oneSecondHasPassed = useTimeout(timeout);\r\n    const createPath = useCreatePath();\r\n\r\n    const { isLoading, error, total } = useReferenceManyFieldController<\r\n        RecordType\r\n    >({\r\n        filter,\r\n        sort,\r\n        page: 1,\r\n        perPage: 1,\r\n        record,\r\n        reference,\r\n        // @ts-ignore remove when #8491 is released\r\n        resource,\r\n        source,\r\n        target,\r\n    });\r\n\r\n    const body = isLoading ? (\r\n        oneSecondHasPassed ? (\r\n            <CircularProgress size={14} />\r\n        ) : (\r\n            ''\r\n        )\r\n    ) : error ? (\r\n        <ErrorIcon color=\"error\" fontSize=\"small\" titleAccess=\"error\" />\r\n    ) : (\r\n        total\r\n    );\r\n\r\n    return link ? (\r\n        <Link\r\n            to={{\r\n                pathname: createPath({ resource: reference, type: 'list' }),\r\n                search: `filter=${JSON.stringify({\r\n                    ...(filter || {}),\r\n                    [target]: record[source],\r\n                })}`,\r\n            }}\r\n            variant=\"body2\"\r\n            onClick={e => e.stopPropagation()}\r\n            {...sanitizeFieldRestProps(rest)}\r\n        >\r\n            {body}\r\n        </Link>\r\n    ) : (\r\n        <Typography\r\n            component=\"span\"\r\n            variant=\"body2\"\r\n            {...sanitizeFieldRestProps(rest)}\r\n        >\r\n            {body}\r\n        </Typography>\r\n    );\r\n};\r\n\r\nexport interface ReferenceManyCountProps<RecordType extends RaRecord = RaRecord>\r\n    extends FieldProps<RecordType>,\r\n        Omit<TypographyProps, 'textAlign'> {\r\n    reference: string;\r\n    target: string;\r\n    sort?: SortPayload;\r\n    filter?: any;\r\n    link?: boolean;\r\n    timeout?: number;\r\n}\r\n", "import React, { FC, ReactElement, ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    FilterPayload,\r\n    SortPayload,\r\n    useReferenceManyFieldController,\r\n    ListContextProvider,\r\n    ListControllerResult,\r\n    ResourceContextProvider,\r\n    useRecordContext,\r\n    RaRecord,\r\n} from 'ra-core';\r\n\r\nimport { fieldPropTypes, FieldProps } from './types';\r\n\r\n/**\r\n * Render related records to the current one.\r\n *\r\n * You must define the fields to be passed to the iterator component as children.\r\n *\r\n * @example Display all the comments of the current post as a datagrid\r\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\r\n *     <Datagrid>\r\n *         <TextField source=\"id\" />\r\n *         <TextField source=\"body\" />\r\n *         <DateField source=\"created_at\" />\r\n *         <EditButton />\r\n *     </Datagrid>\r\n * </ReferenceManyField>\r\n *\r\n * @example Display all the books by the current author, only the title\r\n * <ReferenceManyField reference=\"books\" target=\"author_id\">\r\n *     <SingleFieldList>\r\n *         <ChipField source=\"title\" />\r\n *     </SingleFieldList>\r\n * </ReferenceManyField>\r\n *\r\n * By default, restricts the displayed values to 25. You can extend this limit\r\n * by setting the `perPage` prop.\r\n *\r\n * @example\r\n * <ReferenceManyField perPage={10} reference=\"comments\" target=\"post_id\">\r\n *    ...\r\n * </ReferenceManyField>\r\n *\r\n * By default, orders the possible values by id desc. You can change this order\r\n * by setting the `sort` prop (an object with `field` and `order` properties).\r\n *\r\n * @example\r\n * <ReferenceManyField sort={{ field: 'created_at', order: 'DESC' }} reference=\"comments\" target=\"post_id\">\r\n *    ...\r\n * </ReferenceManyField>\r\n *\r\n * Also, you can filter the query used to populate the possible values. Use the\r\n * `filter` prop for that.\r\n *\r\n * @example\r\n * <ReferenceManyField filter={{ is_published: true }} reference=\"comments\" target=\"post_id\">\r\n *    ...\r\n * </ReferenceManyField>\r\n */\r\nexport const ReferenceManyField = <\r\n    RecordType extends RaRecord = RaRecord,\r\n    ReferenceRecordType extends RaRecord = RaRecord\r\n>(\r\n    props: ReferenceManyFieldProps<RecordType>\r\n) => {\r\n    const {\r\n        children,\r\n        filter,\r\n        page = 1,\r\n        pagination = null,\r\n        perPage,\r\n        reference,\r\n        resource,\r\n        sort,\r\n        source,\r\n        target,\r\n    } = props;\r\n    const record = useRecordContext(props);\r\n\r\n    const controllerProps = useReferenceManyFieldController<\r\n        RecordType,\r\n        ReferenceRecordType\r\n    >({\r\n        filter,\r\n        page,\r\n        perPage,\r\n        record,\r\n        reference,\r\n        resource,\r\n        sort,\r\n        source,\r\n        target,\r\n    });\r\n\r\n    return (\r\n        <ResourceContextProvider value={reference}>\r\n            <ListContextProvider value={controllerProps}>\r\n                {children}\r\n                {pagination}\r\n            </ListContextProvider>\r\n        </ResourceContextProvider>\r\n    );\r\n};\r\n\r\nexport interface ReferenceManyFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType> {\r\n    children: ReactNode;\r\n    filter?: FilterPayload;\r\n    page?: number;\r\n    pagination?: ReactElement;\r\n    perPage?: number;\r\n    reference: string;\r\n    sort?: SortPayload;\r\n    target: string;\r\n}\r\n\r\nReferenceManyField.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    className: PropTypes.string,\r\n    filter: PropTypes.object,\r\n    label: fieldPropTypes.label,\r\n    perPage: PropTypes.number,\r\n    record: PropTypes.any,\r\n    reference: PropTypes.string.isRequired,\r\n    resource: PropTypes.string,\r\n    sortBy: PropTypes.string,\r\n    sortByOrder: fieldPropTypes.sortByOrder,\r\n    source: PropTypes.string.isRequired,\r\n    sort: PropTypes.exact({\r\n        field: PropTypes.string,\r\n        order: PropTypes.string,\r\n    }),\r\n    target: PropTypes.string.isRequired,\r\n};\r\n\r\nReferenceManyField.defaultProps = {\r\n    filter: {},\r\n    perPage: 25,\r\n    sort: { field: 'id', order: 'DESC' },\r\n    source: 'id',\r\n};\r\n\r\n// FIXME kept for backwards compatibility, unused, to be removed in v5\r\nexport const ReferenceManyFieldView: FC<ReferenceManyFieldViewProps> = props => {\r\n    const { children, pagination } = props;\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        console.error(\r\n            '<ReferenceManyFieldView> is deprecated, use <ReferenceManyField> directly'\r\n        );\r\n    }\r\n    return (\r\n        <>\r\n            {children}\r\n            {pagination && props.total !== undefined ? pagination : null}\r\n        </>\r\n    );\r\n};\r\n\r\nexport interface ReferenceManyFieldViewProps\r\n    extends Omit<\r\n            ReferenceManyFieldProps,\r\n            'resource' | 'page' | 'perPage' | 'sort'\r\n        >,\r\n        ListControllerResult {\r\n    children: ReactElement;\r\n}\r\n\r\nReferenceManyFieldView.propTypes = {\r\n    children: PropTypes.element,\r\n    className: PropTypes.string,\r\n    sort: PropTypes.exact({\r\n        field: PropTypes.string,\r\n        order: PropTypes.string,\r\n    }),\r\n    data: PropTypes.any,\r\n    isLoading: PropTypes.bool,\r\n    pagination: PropTypes.element,\r\n    reference: PropTypes.string,\r\n    setSort: PropTypes.func,\r\n};\r\n", "import React, { ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { UseQueryOptions } from 'react-query';\r\nimport { Typography } from '@mui/material';\r\nimport {\r\n    useReferenceOneFieldController,\r\n    useRecordContext,\r\n    ResourceContextProvider,\r\n    LinkToType,\r\n    useCreatePath,\r\n    useTranslate,\r\n    SortPayload,\r\n    RaRecord,\r\n} from 'ra-core';\r\n\r\nimport { fieldPropTypes, FieldProps } from './types';\r\nimport { ReferenceFieldView } from './ReferenceField';\r\n\r\n/**\r\n * Render the related record in a one-to-one relationship\r\n *\r\n * Expects a single field as child\r\n *\r\n * @example // display the bio of the current author\r\n * <ReferenceOneField reference=\"bios\" target=\"author_id\">\r\n *     <TextField source=\"body\" />\r\n * </ReferenceOneField>\r\n */\r\nexport const ReferenceOneField = <\r\n    RecordType extends RaRecord = RaRecord,\r\n    ReferenceRecordType extends RaRecord = RaRecord\r\n>(\r\n    props: ReferenceOneFieldProps<RecordType, ReferenceRecordType>\r\n) => {\r\n    const {\r\n        children,\r\n        reference,\r\n        source,\r\n        target,\r\n        emptyText,\r\n        sort,\r\n        filter,\r\n        link = false,\r\n        queryOptions,\r\n    } = props;\r\n    const record = useRecordContext<RecordType>(props);\r\n    const createPath = useCreatePath();\r\n    const translate = useTranslate();\r\n\r\n    const {\r\n        isLoading,\r\n        isFetching,\r\n        referenceRecord,\r\n        error,\r\n        refetch,\r\n    } = useReferenceOneFieldController<ReferenceRecordType>({\r\n        record,\r\n        reference,\r\n        source,\r\n        target,\r\n        sort,\r\n        filter,\r\n        queryOptions,\r\n    });\r\n\r\n    const resourceLinkPath =\r\n        link === false\r\n            ? false\r\n            : createPath({\r\n                  resource: reference,\r\n                  id: referenceRecord?.id,\r\n                  type:\r\n                      typeof link === 'function'\r\n                          ? link(record, reference)\r\n                          : link,\r\n              });\r\n\r\n    return !record || (!isLoading && referenceRecord == null) ? (\r\n        emptyText ? (\r\n            <Typography component=\"span\" variant=\"body2\">\r\n                {emptyText && translate(emptyText, { _: emptyText })}\r\n            </Typography>\r\n        ) : null\r\n    ) : (\r\n        <ResourceContextProvider value={reference}>\r\n            <ReferenceFieldView\r\n                isLoading={isLoading}\r\n                isFetching={isFetching}\r\n                referenceRecord={referenceRecord}\r\n                resourceLinkPath={resourceLinkPath}\r\n                reference={reference}\r\n                refetch={refetch}\r\n                error={error}\r\n            >\r\n                {children}\r\n            </ReferenceFieldView>\r\n        </ResourceContextProvider>\r\n    );\r\n};\r\n\r\nexport interface ReferenceOneFieldProps<\r\n    RecordType extends RaRecord = RaRecord,\r\n    ReferenceRecordType extends RaRecord = RaRecord\r\n> extends FieldProps<RecordType> {\r\n    children?: ReactNode;\r\n    reference: string;\r\n    target: string;\r\n    sort?: SortPayload;\r\n    filter?: any;\r\n    link?: LinkToType<RecordType>;\r\n    queryOptions?: UseQueryOptions<{\r\n        data: ReferenceRecordType[];\r\n        total: number;\r\n    }> & { meta?: any };\r\n}\r\n\r\nReferenceOneField.propTypes = {\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    label: fieldPropTypes.label,\r\n    record: PropTypes.any,\r\n    reference: PropTypes.string.isRequired,\r\n    source: PropTypes.string.isRequired,\r\n    target: PropTypes.string.isRequired,\r\n    queryOptions: PropTypes.any,\r\n};\r\n\r\nReferenceOneField.defaultProps = {\r\n    source: 'id',\r\n    // disable sorting on this field by default as its default source prop ('id')\r\n    // will match the default sort ({ field: 'id', order: 'DESC'})\r\n    // leading to an incorrect sort indicator in a datagrid header\r\n    sortable: false,\r\n};\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport get from 'lodash/get';\r\nimport Typography, { TypographyProps } from '@mui/material/Typography';\r\nimport { useRecordContext, useTranslate } from 'ra-core';\r\nimport purify from 'dompurify';\r\n\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { genericMemo } from './genericMemo';\r\n\r\n/**\r\n * Render an HTML string as rich text\r\n *\r\n * Note: This component leverages the `dangerouslySetInnerHTML` attribute,\r\n * but uses the DomPurify library to sanitize the HTML before rendering it.\r\n *\r\n * It means it is safe from Cross-Site Scripting (XSS) attacks - but it's still\r\n * a good practice to sanitize the value server-side.\r\n *\r\n * @example\r\n * <RichTextField source=\"description\" />\r\n *\r\n * @example // remove all tags and output text only\r\n * <RichTextField source=\"description\" stripTags />\r\n */\r\nconst RichTextFieldImpl = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>(\r\n    props: RichTextFieldProps<RecordType>\r\n) => {\r\n    const {\r\n        className,\r\n        emptyText,\r\n        source,\r\n        stripTags = false,\r\n        purifyOptions,\r\n        ...rest\r\n    } = props;\r\n    const record = useRecordContext(props);\r\n    const value = get(record, source)?.toString();\r\n    const translate = useTranslate();\r\n\r\n    return (\r\n        <Typography\r\n            className={className}\r\n            variant=\"body2\"\r\n            component=\"span\"\r\n            {...sanitizeFieldRestProps(rest)}\r\n        >\r\n            {value == null && emptyText ? (\r\n                translate(emptyText, { _: emptyText })\r\n            ) : stripTags ? (\r\n                removeTags(value)\r\n            ) : (\r\n                <span\r\n                    dangerouslySetInnerHTML={{\r\n                        __html: purify.sanitize(value, purifyOptions),\r\n                    }}\r\n                />\r\n            )}\r\n        </Typography>\r\n    );\r\n};\r\n\r\nRichTextFieldImpl.propTypes = {\r\n    // @ts-ignore\r\n    ...Typography.propTypes,\r\n    ...fieldPropTypes,\r\n    stripTags: PropTypes.bool,\r\n    purifyOptions: PropTypes.any,\r\n};\r\nRichTextFieldImpl.displayName = 'RichTextFieldImpl';\r\n\r\nexport const RichTextField = genericMemo(RichTextFieldImpl);\r\n\r\n// We only support the case when sanitize() returns a string\r\n// hence we need to force the RETURN_DOM_FRAGMENT and RETURN_DOM\r\n// options to false\r\nexport type PurifyOptions = purify.Config & {\r\n    RETURN_DOM_FRAGMENT?: false | undefined;\r\n    RETURN_DOM?: false | undefined;\r\n};\r\n\r\nexport interface RichTextFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType>,\r\n        Omit<TypographyProps, 'textAlign'> {\r\n    stripTags?: boolean;\r\n    purifyOptions?: PurifyOptions;\r\n}\r\n\r\nexport const removeTags = (input: string) =>\r\n    input ? input.replace(/<[^>]+>/gm, '') : '';\r\n", "const {\n  hasOwnProperty,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n} = Object;\n\nlet { freeze, seal, create } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!apply) {\n  apply = function (fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\nif (!freeze) {\n  freeze = function (x) {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function (x) {\n    return x;\n  };\n}\n\nif (!construct) {\n  construct = function (Func, args) {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst regExpTest = unapply(RegExp.prototype.test);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\nexport function unapply(func) {\n  return (thisArg, ...args) => apply(func, thisArg, args);\n}\n\nexport function unconstruct(func) {\n  return (...args) => construct(func, args);\n}\n\n/* Add properties to a lookup table */\nexport function addToSet(set, array, transformCaseFunc) {\n  transformCaseFunc = transformCaseFunc ?? stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/* Shallow clone an object */\nexport function clone(object) {\n  const newObject = create(null);\n\n  let property;\n  for (property in object) {\n    if (apply(hasOwnProperty, object, [property]) === true) {\n      newObject[property] = object[property];\n    }\n  }\n\n  return newObject;\n}\n\n/* IE10 doesn't support __lookupGetter__ so lets'\n * simulate it. It also automatically checks\n * if the prop is function or getter and behaves\n * accordingly. */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue(element) {\n    console.warn('fallback value for', element);\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  // Object\n  freeze,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n  hasOwnProperty,\n  isFrozen,\n  setPrototypeOf,\n  seal,\n  // RegExp\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringTrim,\n  // Errors\n  typeErrorCreate,\n  // Other\n  lookupGetter,\n};\n", "import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'section',\n  'select',\n  'shadow',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n]);\n\n// SVG\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'view',\n  'vkern',\n]);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n]);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nexport const svgDisallowed = freeze([\n  'animate',\n  'color-profile',\n  'cursor',\n  'discard',\n  'fedropshadow',\n  'font-face',\n  'font-face-format',\n  'font-face-name',\n  'font-face-src',\n  'font-face-uri',\n  'foreignobject',\n  'hatch',\n  'hatchpath',\n  'mesh',\n  'meshgradient',\n  'meshpatch',\n  'meshrow',\n  'missing-glyph',\n  'script',\n  'set',\n  'solidcolor',\n  'unknown',\n  'use',\n]);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n]);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nexport const mathMlDisallowed = freeze([\n  'maction',\n  'maligngroup',\n  'malignmark',\n  'mlongdiv',\n  'mscarries',\n  'mscarry',\n  'msgroup',\n  'mstack',\n  'msline',\n  'msrow',\n  'semantics',\n  'annotation',\n  'annotation-xml',\n  'mprescripts',\n  'none',\n]);\n\nexport const text = freeze(['#text']);\n", "import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocapitalize',\n  'autocomplete',\n  'autopictureinpicture',\n  'autoplay',\n  'background',\n  'bgcolor',\n  'border',\n  'capture',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'controlslist',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'decoding',\n  'default',\n  'dir',\n  'disabled',\n  'disablepictureinpicture',\n  'disableremoteplayback',\n  'download',\n  'draggable',\n  'enctype',\n  'enterkeyhint',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'inputmode',\n  'integrity',\n  'ismap',\n  'kind',\n  'label',\n  'lang',\n  'list',\n  'loading',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'muted',\n  'name',\n  'nonce',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'pattern',\n  'placeholder',\n  'playsinline',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'translate',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'xmlns',\n  'slot',\n]);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clippathunits',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'startoffset',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'systemlanguage',\n  'tabindex',\n  'targetx',\n  'targety',\n  'transform',\n  'transform-origin',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n]);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n]);\n", "import { seal } from './utils.js';\n\n// eslint-disable-next-line unicorn/better-regex\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nexport const TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nexport const DOCTYPE_NAME = seal(/^html$/i);\n", "import * as TAGS from './tags.js';\nimport * as ATTRS from './attrs.js';\nimport * as EXPRESSIONS from './regexp.js';\nimport {\n  addToSet,\n  clone,\n  freeze,\n  arrayForEach,\n  arrayPop,\n  arrayPush,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringIndexOf,\n  stringTrim,\n  regExpTest,\n  typeErrorCreate,\n  lookupGetter,\n} from './utils.js';\n\nconst getGlobal = () => (typeof window === 'undefined' ? null : window);\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {Document} document The document object (to determine policy name suffix)\n * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported).\n */\nconst _createTrustedTypesPolicy = function (trustedTypes, document) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (\n    document.currentScript &&\n    document.currentScript.hasAttribute(ATTR_NAME)\n  ) {\n    suffix = document.currentScript.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      },\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nfunction createDOMPurify(window = getGlobal()) {\n  const DOMPurify = (root) => createDOMPurify(root);\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  DOMPurify.version = VERSION;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  DOMPurify.removed = [];\n\n  if (!window || !window.document || window.document.nodeType !== 9) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  const originalDocument = window.document;\n\n  let { document } = window;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  const ElementPrototype = Element.prototype;\n\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  const trustedTypesPolicy = _createTrustedTypesPolicy(\n    trustedTypes,\n    originalDocument\n  );\n  const emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let documentMode = {};\n  try {\n    documentMode = clone(document).documentMode ? document.documentMode : {};\n  } catch (_) {}\n\n  let hooks = {};\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    typeof getParentNode === 'function' &&\n    implementation &&\n    implementation.createHTMLDocument !== undefined &&\n    documentMode !== 9;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /*\n   * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(\n    Object.create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false,\n      },\n    })\n  );\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (§7.3.3)\n   *   - DOM Tree Accessors (§3.1.5)\n   *   - Form Element Parent-Child Relations (§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n   *   - HTMLCollection (§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'noscript',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n    'track',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'role',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet(\n    {},\n    [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE],\n    stringToString\n  );\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function (testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function (cfg) {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n\n    PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1\n        ? (PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE)\n        : (PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE);\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc =\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml'\n        ? stringToString\n        : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS =\n      'ALLOWED_TAGS' in cfg\n        ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc)\n        : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR =\n      'ALLOWED_ATTR' in cfg\n        ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc)\n        : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES =\n      'ALLOWED_NAMESPACES' in cfg\n        ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString)\n        : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES =\n      'ADD_URI_SAFE_ATTR' in cfg\n        ? addToSet(\n            clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n            cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n            transformCaseFunc // eslint-disable-line indent\n          ) // eslint-disable-line indent\n        : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS =\n      'ADD_DATA_URI_TAGS' in cfg\n        ? addToSet(\n            clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n            cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n            transformCaseFunc // eslint-disable-line indent\n          ) // eslint-disable-line indent\n        : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS =\n      'FORBID_CONTENTS' in cfg\n        ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc)\n        : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS =\n      'FORBID_TAGS' in cfg\n        ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc)\n        : {};\n    FORBID_ATTR =\n      'FORBID_ATTR' in cfg\n        ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc)\n        : {};\n    USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements ===\n        'boolean'\n    ) {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements =\n        cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, [...TAGS.text]);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n    'mi',\n    'mo',\n    'mn',\n    'ms',\n    'mtext',\n  ]);\n\n  const HTML_INTEGRATION_POINTS = addToSet({}, [\n    'foreignobject',\n    'desc',\n    'title',\n    'annotation-xml',\n  ]);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n    'title',\n    'style',\n    'font',\n    'a',\n    'script',\n  ]);\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, TAGS.svg);\n  addToSet(ALL_SVG_TAGS, TAGS.svgFilters);\n  addToSet(ALL_SVG_TAGS, TAGS.svgDisallowed);\n\n  const ALL_MATHML_TAGS = addToSet({}, TAGS.mathMl);\n  addToSet(ALL_MATHML_TAGS, TAGS.mathMlDisallowed);\n\n  /**\n   *\n   *\n   * @param  {Element} element a DOM element whose namespace is being checked\n   * @returns {boolean} Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function (element) {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template',\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return (\n          tagName === 'svg' &&\n          (parentTagName === 'annotation-xml' ||\n            MATHML_TEXT_INTEGRATION_POINTS[parentTagName])\n        );\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (\n        parent.namespaceURI === SVG_NAMESPACE &&\n        !HTML_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      if (\n        parent.namespaceURI === MATHML_NAMESPACE &&\n        !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return (\n        !ALL_MATHML_TAGS[tagName] &&\n        (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName])\n      );\n    }\n\n    // For XHTML and XML documents that support custom namespaces\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      ALLOWED_NAMESPACES[element.namespaceURI]\n    ) {\n      return true;\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n  const _forceRemove = function (node) {\n    arrayPush(DOMPurify.removed, { element: node });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      node.parentNode.removeChild(node);\n    } catch (_) {\n      try {\n        node.outerHTML = emptyHTML;\n      } catch (_) {\n        node.remove();\n      }\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n  const _removeAttribute = function (name, node) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: node.getAttributeNode(name),\n        from: node,\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: node,\n      });\n    }\n\n    node.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\"\" attributes\n    if (name === 'is' && !ALLOWED_ATTR[name]) {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(node);\n        } catch (_) {}\n      } else {\n        try {\n          node.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n  const _initDocument = function (dirty) {\n    /* Create a HTML document */\n    let doc;\n    let leadingWhitespace;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      NAMESPACE === HTML_NAMESPACE\n    ) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty =\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' +\n        dirty +\n        '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT\n          ? emptyHTML\n          : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(\n        doc,\n        WHOLE_DOCUMENT ? 'html' : 'body'\n      )[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * _createIterator\n   *\n   * @param  {Document} root document/fragment to create iterator for\n   * @return {Iterator} iterator instance\n   */\n  const _createIterator = function (root) {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT,\n      null,\n      false\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n  const _isClobbered = function (elm) {\n    return (\n      elm instanceof HTMLFormElement &&\n      (typeof elm.nodeName !== 'string' ||\n        typeof elm.textContent !== 'string' ||\n        typeof elm.removeChild !== 'function' ||\n        !(elm.attributes instanceof NamedNodeMap) ||\n        typeof elm.removeAttribute !== 'function' ||\n        typeof elm.setAttribute !== 'function' ||\n        typeof elm.namespaceURI !== 'string' ||\n        typeof elm.insertBefore !== 'function' ||\n        typeof elm.hasChildNodes !== 'function')\n    );\n  };\n\n  /**\n   * _isNode\n   *\n   * @param  {Node} obj object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n  const _isNode = function (object) {\n    return typeof Node === 'object'\n      ? object instanceof Node\n      : object &&\n          typeof object === 'object' &&\n          typeof object.nodeType === 'number' &&\n          typeof object.nodeName === 'string';\n  };\n\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n  const _executeHook = function (entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n\n    arrayForEach(hooks[entryPoint], (hook) => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function (currentNode) {\n    let content;\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeElements', currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check if tagname contains Unicode */\n    if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (\n      currentNode.hasChildNodes() &&\n      !_isNode(currentNode.firstElementChild) &&\n      (!_isNode(currentNode.content) ||\n        !_isNode(currentNode.content.firstElementChild)) &&\n      regExpTest(/<[/\\w]/g, currentNode.innerHTML) &&\n      regExpTest(/<[/\\w]/g, currentNode.textContent)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Mitigate a problem with templates inside select */\n    if (\n      tagName === 'select' &&\n      regExpTest(/<template/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n          regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)\n        )\n          return false;\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)\n        )\n          return false;\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            parentNode.insertBefore(\n              cloneNode(childNodes[i], true),\n              getNextSibling(currentNode)\n            );\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if (\n      (tagName === 'noscript' ||\n        tagName === 'noembed' ||\n        tagName === 'noframes') &&\n      regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      content = stringReplace(content, MUSTACHE_EXPR, ' ');\n      content = stringReplace(content, ERB_EXPR, ' ');\n      content = stringReplace(content, TMPLIT_EXPR, ' ');\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeElements', currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function (lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document || value in formElement)\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (\n      ALLOW_DATA_ATTR &&\n      !FORBID_ATTR[lcName] &&\n      regExpTest(DATA_ATTR, lcName)\n    ) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        (_basicCustomElementTest(lcTag) &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))) &&\n          ((CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName)) ||\n            (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)))) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        (lcName === 'is' &&\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))\n      ) {\n        // If user has supplied a regexp or function in CUSTOM_ELEMENT_HANDLING.tagNameCheck, we need to also allow derived custom elements using the same tagName test.\n        // Additionally, we need to allow attributes passing the CUSTOM_ELEMENT_HANDLING.attributeNameCheck user has configured, as custom elements can define these at their own discretion.\n      } else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n    } else if (value) {\n      return false;\n    } else {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    }\n\n    return true;\n  };\n\n  /**\n   * _basicCustomElementCheck\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   * @param {string} tagName name of the tag of the node to sanitize\n   */\n  const _basicCustomElementTest = function (tagName) {\n    return tagName.indexOf('-') > 0;\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n  const _sanitizeAttributes = function (currentNode) {\n    let attr;\n    let value;\n    let lcName;\n    let l;\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n    const { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n    };\n    l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      attr = attributes[l];\n      const { name, namespaceURI } = attr;\n      value = name === 'value' ? attr.value : stringTrim(attr.value);\n      lcName = transformCaseFunc(name);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        value = stringReplace(value, MUSTACHE_EXPR, ' ');\n        value = stringReplace(value, ERB_EXPR, ' ');\n        value = stringReplace(value, TMPLIT_EXPR, ' ');\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (\n        trustedTypesPolicy &&\n        typeof trustedTypes === 'object' &&\n        typeof trustedTypes.getAttributeType === 'function'\n      ) {\n        if (namespaceURI) {\n          /* Namespaces are not yet supported, see https://bugs.chromium.org/p/chromium/issues/detail?id=1305293 */\n        } else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML': {\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n            }\n\n            case 'TrustedScriptURL': {\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n            }\n\n            default: {\n              break;\n            }\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n\n        arrayPop(DOMPurify.removed);\n      } catch (_) {}\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function (fragment) {\n    let shadowNode;\n    const shadowIterator = _createIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(shadowNode);\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} configuration object\n   */\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg = {}) {\n    let body;\n    let importedNode;\n    let currentNode;\n    let oldNode;\n    let returnNode;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n\n    /* Check we can run. Otherwise fall back or ignore */\n    if (!DOMPurify.isSupported) {\n      if (\n        typeof window.toStaticHTML === 'object' ||\n        typeof window.toStaticHTML === 'function'\n      ) {\n        if (typeof dirty === 'string') {\n          return window.toStaticHTML(dirty);\n        }\n\n        if (_isNode(dirty)) {\n          return window.toStaticHTML(dirty.outerHTML);\n        }\n      }\n\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate(\n            'root node is forbidden and cannot be sanitized in-place'\n          );\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Fix IE's strange behavior with manipulated textNodes #89 */\n      if (currentNode.nodeType === 3 && currentNode === oldNode) {\n        continue;\n      }\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(currentNode);\n\n      oldNode = currentNode;\n    }\n\n    oldNode = null;\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmod) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (\n      WHOLE_DOCUMENT &&\n      ALLOWED_TAGS['!doctype'] &&\n      body.ownerDocument &&\n      body.ownerDocument.doctype &&\n      body.ownerDocument.doctype.name &&\n      regExpTest(EXPRESSIONS.DOCTYPE_NAME, body.ownerDocument.doctype.name)\n    ) {\n      serializedHTML =\n        '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR, ' ');\n      serializedHTML = stringReplace(serializedHTML, ERB_EXPR, ' ');\n      serializedHTML = stringReplace(serializedHTML, TMPLIT_EXPR, ' ');\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n  DOMPurify.setConfig = function (cfg) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {string} tag Tag name of containing element.\n   * @param  {string} attr Attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   * @return {Function} removed(popped) hook\n   */\n  DOMPurify.removeHook = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      return arrayPop(hooks[entryPoint]);\n    }\n  };\n\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n  DOMPurify.removeHooks = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   *\n   */\n  DOMPurify.removeAllHooks = function () {\n    hooks = {};\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport get from 'lodash/get';\r\nimport {\r\n    ChoicesProps,\r\n    useChoices,\r\n    useRecordContext,\r\n    useTranslate,\r\n} from 'ra-core';\r\nimport { Typography, TypographyProps } from '@mui/material';\r\n\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { genericMemo } from './genericMemo';\r\n\r\n/**\r\n * Display a value in an enumeration\r\n *\r\n * Pass possible options as an array of objects in the 'choices' attribute.\r\n *\r\n * @example\r\n * const choices = [\r\n *    { id: 'M', name: 'Male' },\r\n *    { id: 'F', name: 'Female' },\r\n * ];\r\n * <SelectField source=\"gender\" choices={choices} />\r\n *\r\n * By default, the text is built by\r\n * - finding a choice where the 'id' property equals the field value\r\n * - using the 'name' property as the option text\r\n *\r\n * You can also customize the properties to use for the value and text,\r\n * thanks to the 'optionValue' and 'optionText' attributes.\r\n *\r\n * @example\r\n * const choices = [\r\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\r\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\r\n * ];\r\n * <SelectField source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\r\n *\r\n * `optionText` also accepts a function, so you can shape the option text at will:\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\r\n * <SelectField source=\"author_id\" choices={choices} optionText={optionRenderer} />\r\n *\r\n * `optionText` also accepts a React Element, that can access\r\n * the related choice through the `useRecordContext` hook. You can use Field components there.\r\n * @example\r\n * const choices = [\r\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\r\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\r\n * ];\r\n * const FullNameField = () => {\r\n *     const record = useRecordContext();\r\n *     return (<Chip>{record.first_name} {record.last_name}</Chip>)\r\n * };\r\n * <SelectField source=\"gender\" choices={choices} optionText={<FullNameField />}/>\r\n *\r\n * The current choice is translated by default, so you can use translation identifiers as choices:\r\n * @example\r\n * const choices = [\r\n *    { id: 'M', name: 'myroot.gender.male' },\r\n *    { id: 'F', name: 'myroot.gender.female' },\r\n * ];\r\n *\r\n * However, in some cases (e.g. inside a `<ReferenceField>`), you may not want\r\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\r\n * @example\r\n * <SelectField source=\"gender\" choices={choices} translateChoice={false}/>\r\n *\r\n * **Tip**: <ReferenceField> sets `translateChoice` to false by default.\r\n */\r\nconst SelectFieldImpl = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>(\r\n    props: SelectFieldProps<RecordType>\r\n) => {\r\n    const {\r\n        className,\r\n        emptyText,\r\n        source,\r\n        choices,\r\n        optionValue,\r\n        optionText,\r\n        translateChoice,\r\n        ...rest\r\n    } = props;\r\n    const record = useRecordContext(props);\r\n    const value = get(record, source);\r\n    const { getChoiceText, getChoiceValue } = useChoices({\r\n        optionText,\r\n        optionValue,\r\n        translateChoice,\r\n    });\r\n    const translate = useTranslate();\r\n\r\n    const choice = choices.find(choice => getChoiceValue(choice) === value);\r\n\r\n    if (!choice) {\r\n        return emptyText ? (\r\n            <Typography\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                className={className}\r\n                {...sanitizeFieldRestProps(rest)}\r\n            >\r\n                {emptyText && translate(emptyText, { _: emptyText })}\r\n            </Typography>\r\n        ) : null;\r\n    }\r\n\r\n    let choiceText = getChoiceText(choice);\r\n\r\n    return (\r\n        <Typography\r\n            component=\"span\"\r\n            variant=\"body2\"\r\n            className={className}\r\n            {...sanitizeFieldRestProps(rest)}\r\n        >\r\n            {choiceText}\r\n        </Typography>\r\n    );\r\n};\r\n\r\nSelectFieldImpl.propTypes = {\r\n    // @ts-ignore\r\n    ...Typography.propTypes,\r\n    ...fieldPropTypes,\r\n    choices: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    optionText: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.func,\r\n        PropTypes.element,\r\n    ]),\r\n    optionValue: PropTypes.string,\r\n    translateChoice: PropTypes.bool,\r\n};\r\n\r\nSelectFieldImpl.defaultProps = {\r\n    optionText: 'name',\r\n    optionValue: 'id',\r\n    translateChoice: true,\r\n};\r\nSelectFieldImpl.displayName = 'SelectFieldImpl';\r\n\r\nexport const SelectField = genericMemo(SelectFieldImpl);\r\n\r\nexport interface SelectFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends ChoicesProps,\r\n        FieldProps<RecordType>,\r\n        Omit<TypographyProps, 'textAlign'> {}\r\n", "import * as React from 'react';\r\nimport { ElementType } from 'react';\r\nimport get from 'lodash/get';\r\nimport Typography, { TypographyProps } from '@mui/material/Typography';\r\nimport { useRecordContext, useTranslate } from 'ra-core';\r\n\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { genericMemo } from './genericMemo';\r\n\r\nconst TextFieldImpl = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>(\r\n    props: TextFieldProps<RecordType>\r\n) => {\r\n    const { className, source, emptyText, ...rest } = props;\r\n    const record = useRecordContext(props);\r\n    const value = get(record, source)?.toString();\r\n    const translate = useTranslate();\r\n\r\n    return (\r\n        <Typography\r\n            component=\"span\"\r\n            variant=\"body2\"\r\n            className={className}\r\n            {...sanitizeFieldRestProps(rest)}\r\n        >\r\n            {value != null && typeof value !== 'string'\r\n                ? JSON.stringify(value)\r\n                : value ||\r\n                  (emptyText ? translate(emptyText, { _: emptyText }) : null)}\r\n        </Typography>\r\n    );\r\n};\r\n\r\nTextFieldImpl.propTypes = {\r\n    // @ts-ignore\r\n    ...Typography.propTypes,\r\n    ...fieldPropTypes,\r\n};\r\n\r\n// what? TypeScript loses the displayName if we don't set it explicitly\r\nTextFieldImpl.displayName = 'TextFieldImpl';\r\n\r\nexport const TextField = genericMemo(TextFieldImpl);\r\n\r\nexport interface TextFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType>,\r\n        Omit<TypographyProps, 'textAlign'> {\r\n    // TypographyProps do not expose the component props, see https://github.com/mui/material-ui/issues/19512\r\n    component?: ElementType<any>;\r\n}\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { ReactElement, ReactNode } from 'react';\r\nimport {\r\n    TranslatableContextProvider,\r\n    useTranslatable,\r\n    UseTranslatableOptions,\r\n    RaRecord,\r\n    useRecordContext,\r\n} from 'ra-core';\r\nimport { TranslatableFieldsTabs } from './TranslatableFieldsTabs';\r\nimport { TranslatableFieldsTabContent } from './TranslatableFieldsTabContent';\r\n\r\n/**\r\n * Provides a way to show multiple languages for any field passed as children.\r\n * It expects the translatable values to have the following structure:\r\n * {\r\n *     name: {\r\n *         en: 'The english value',\r\n *         fr: 'The french value',\r\n *         tlh: 'The klingon value',\r\n *     },\r\n *     description: {\r\n *         en: 'The english value',\r\n *         fr: 'The french value',\r\n *         tlh: 'The klingon value',\r\n *     }\r\n * }\r\n *\r\n * @example <caption>Basic usage</caption>\r\n * <TranslatableFields locales={['en', 'fr']}>\r\n *     <TextField source={getSource('title')} />\r\n *     <TextField source={getSource('description')} />\r\n * </TranslatableFields>\r\n *\r\n * @example <caption>With a custom language selector</caption>\r\n * <TranslatableFields\r\n *     selector={<MyLanguageSelector />}\r\n *     locales={['en', 'fr']}\r\n * >\r\n *     <TextField source={getSource('title')} />\r\n * <TranslatableFields>\r\n>\r\n *\r\n * const MyLanguageSelector = () => {\r\n *     const {\r\n *         locales,\r\n *         selectedLocale,\r\n *         selectLocale,\r\n *     } = useTranslatableContext();\r\n *\r\n *     return (\r\n *         <select onChange={selectLocale}>\r\n *             {locales.map((locale) => (\r\n *                 <option selected={locale.locale === selectedLocale}>\r\n *                     {locale.name}\r\n *                 </option>\r\n *             ))}\r\n *        </select>\r\n *     );\r\n * }\r\n *\r\n * @param props The component props\r\n * @param {string} props.defaultLocale The locale selected by default. Default to 'en'.\r\n * @param {string[]} props.locales An array of the possible locales in the form. For example [{ 'en', 'fr' }].\r\n * @param {ReactElement} props.selector The element responsible for selecting a locale. Defaults to Material UI tabs.\r\n */\r\nexport const TranslatableFields = (\r\n    props: TranslatableFieldsProps\r\n): ReactElement => {\r\n    const {\r\n        defaultLocale,\r\n        locales,\r\n        groupKey = '',\r\n        selector = <TranslatableFieldsTabs groupKey={groupKey} />,\r\n        children,\r\n        resource,\r\n        className,\r\n    } = props;\r\n    const record = useRecordContext(props);\r\n    const context = useTranslatable({ defaultLocale, locales });\r\n\r\n    return (\r\n        <Root className={className}>\r\n            <TranslatableContextProvider value={context}>\r\n                {selector}\r\n                {locales.map(locale => (\r\n                    <TranslatableFieldsTabContent\r\n                        key={locale}\r\n                        locale={locale}\r\n                        record={record}\r\n                        resource={resource}\r\n                        groupKey={groupKey}\r\n                    >\r\n                        {children}\r\n                    </TranslatableFieldsTabContent>\r\n                ))}\r\n            </TranslatableContextProvider>\r\n        </Root>\r\n    );\r\n};\r\n\r\nexport interface TranslatableFieldsProps extends UseTranslatableOptions {\r\n    children: ReactNode;\r\n    className?: string;\r\n    record?: RaRecord;\r\n    resource?: string;\r\n    selector?: ReactElement;\r\n    groupKey?: string;\r\n}\r\n\r\nconst PREFIX = 'RaTranslatableFields';\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    flexGrow: 1,\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(0.5),\r\n}));\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { ReactElement } from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Tabs, { TabsProps } from '@mui/material/Tabs';\r\nimport { useTranslatableContext } from 'ra-core';\r\nimport { TranslatableFieldsTab } from './TranslatableFieldsTab';\r\nimport { AppBarProps } from '../layout';\r\n\r\n/**\r\n * Default locale selector for the TranslatableFields component. Generates a tab for each specified locale.\r\n * @see TranslatableFields\r\n */\r\nexport const TranslatableFieldsTabs = (\r\n    props: TranslatableFieldsTabsProps & AppBarProps\r\n): ReactElement => {\r\n    const { groupKey, TabsProps: tabsProps, className } = props;\r\n    const { locales, selectLocale, selectedLocale } = useTranslatableContext();\r\n\r\n    const handleChange = (event, newLocale): void => {\r\n        selectLocale(newLocale);\r\n    };\r\n\r\n    return (\r\n        <StyledAppBar color=\"default\" position=\"static\" className={className}>\r\n            <Tabs\r\n                value={selectedLocale}\r\n                onChange={handleChange}\r\n                indicatorColor=\"primary\"\r\n                textColor=\"primary\"\r\n                {...tabsProps}\r\n            >\r\n                {locales.map(locale => (\r\n                    <TranslatableFieldsTab\r\n                        key={locale}\r\n                        value={locale}\r\n                        locale={locale}\r\n                        groupKey={groupKey}\r\n                    />\r\n                ))}\r\n            </Tabs>\r\n        </StyledAppBar>\r\n    );\r\n};\r\n\r\nexport interface TranslatableFieldsTabsProps {\r\n    TabsProps?: TabsProps;\r\n    groupKey?: string;\r\n}\r\n\r\nconst PREFIX = 'RaTranslatableFieldsTabs';\r\n\r\nconst StyledAppBar = styled(AppBar, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    boxShadow: 'none',\r\n    borderRadius: 0,\r\n    borderTopLeftRadius: theme.shape.borderRadius,\r\n    borderTopRightRadius: theme.shape.borderRadius,\r\n    border: `1px solid ${theme.palette.divider}`,\r\n}));\r\n", "import React from 'react';\r\nimport Tab, { TabProps } from '@mui/material/Tab';\r\nimport { useTranslate } from 'ra-core';\r\nimport { capitalize } from 'inflection';\r\n\r\n/**\r\n * Single tab that selects a locale in a TranslatableFields component.\r\n * @see TranslatableFields\r\n */\r\nexport const TranslatableFieldsTab = (\r\n    props: TranslatableFieldsTabProps & TabProps\r\n) => {\r\n    const { locale, groupKey = '', ...rest } = props;\r\n    const translate = useTranslate();\r\n\r\n    return (\r\n        <Tab\r\n            id={`translatable-header-${groupKey}${locale}`}\r\n            label={translate(`ra.locales.${groupKey}${locale}`, {\r\n                _: capitalize(locale),\r\n            })}\r\n            {...rest}\r\n        />\r\n    );\r\n};\r\n\r\nexport interface TranslatableFieldsTabProps {\r\n    locale: string;\r\n    groupKey?: string;\r\n}\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n    Children,\r\n    cloneElement,\r\n    isValidElement,\r\n    ReactElement,\r\n    ReactNode,\r\n} from 'react';\r\nimport { useTranslatableContext, RaRecord } from 'ra-core';\r\nimport { Labeled } from '../Labeled';\r\n\r\n/**\r\n * Default container for a group of translatable fields inside a TranslatableFields components.\r\n * @see TranslatableFields\r\n */\r\nexport const TranslatableFieldsTabContent = (\r\n    props: TranslatableFieldsTabContentProps\r\n): ReactElement => {\r\n    const {\r\n        children,\r\n        groupKey = '',\r\n        locale,\r\n        record,\r\n        resource,\r\n        className,\r\n        ...other\r\n    } = props;\r\n    const { selectedLocale, getLabel, getSource } = useTranslatableContext();\r\n\r\n    return (\r\n        <Root\r\n            role=\"tabpanel\"\r\n            hidden={selectedLocale !== locale}\r\n            id={`translatable-content-${groupKey}${locale}`}\r\n            aria-labelledby={`translatable-header-${groupKey}${locale}`}\r\n            className={className}\r\n            {...other}\r\n        >\r\n            {Children.map(children, field =>\r\n                field && isValidElement<any>(field) ? (\r\n                    <div key={field.props.source}>\r\n                        {field.props.addLabel ? (\r\n                            <Labeled\r\n                                resource={resource}\r\n                                label={field.props.label}\r\n                                source={field.props.source}\r\n                            >\r\n                                {cloneElement(field, {\r\n                                    ...field.props,\r\n                                    label: getLabel(field.props.source),\r\n                                    record,\r\n                                    source: getSource(\r\n                                        field.props.source,\r\n                                        locale\r\n                                    ),\r\n                                })}\r\n                            </Labeled>\r\n                        ) : typeof field === 'string' ? (\r\n                            field\r\n                        ) : (\r\n                            cloneElement(field, {\r\n                                ...field.props,\r\n                                label: getLabel(field.props.source),\r\n                                record,\r\n                                source: getSource(field.props.source, locale),\r\n                            })\r\n                        )}\r\n                    </div>\r\n                ) : null\r\n            )}\r\n        </Root>\r\n    );\r\n};\r\n\r\nexport type TranslatableFieldsTabContentProps = {\r\n    children: ReactNode;\r\n    className?: string;\r\n    formGroupKeyPrefix?: string;\r\n    groupKey: string;\r\n    locale: string;\r\n    record: RaRecord;\r\n    resource: string;\r\n};\r\n\r\nconst PREFIX = 'RaTranslatableFieldsTabContent';\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    flexGrow: 1,\r\n    padding: theme.spacing(2),\r\n    borderRadius: 0,\r\n    borderBottomLeftRadius: theme.shape.borderRadius,\r\n    borderBottomRightRadius: theme.shape.borderRadius,\r\n    border: `1px solid ${theme.palette.divider}`,\r\n    borderTop: 0,\r\n}));\r\n", "import * as React from 'react';\r\nimport { AnchorHTMLAttributes } from 'react';\r\nimport get from 'lodash/get';\r\nimport { sanitizeFieldRestProps } from './sanitizeFieldRestProps';\r\nimport { Typography, Link } from '@mui/material';\r\nimport { useRecordContext, useTranslate } from 'ra-core';\r\nimport { FieldProps, fieldPropTypes } from './types';\r\nimport { genericMemo } from './genericMemo';\r\n\r\nconst UrlFieldImpl = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>(\r\n    props: UrlFieldProps<RecordType>\r\n) => {\r\n    const { className, emptyText, source, ...rest } = props;\r\n    const record = useRecordContext(props);\r\n    const value = get(record, source);\r\n    const translate = useTranslate();\r\n\r\n    if (value == null) {\r\n        return (\r\n            <Typography\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                className={className}\r\n                {...sanitizeFieldRestProps(rest)}\r\n            >\r\n                {emptyText && translate(emptyText, { _: emptyText })}\r\n            </Typography>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Link\r\n            className={className}\r\n            href={value}\r\n            onClick={stopPropagation}\r\n            variant=\"body2\"\r\n            {...sanitizeFieldRestProps(rest)}\r\n        >\r\n            {value}\r\n        </Link>\r\n    );\r\n};\r\n\r\nUrlFieldImpl.propTypes = fieldPropTypes;\r\nUrlFieldImpl.displayName = 'UrlFieldImpl';\r\n\r\nexport const UrlField = genericMemo(UrlFieldImpl);\r\n\r\nexport interface UrlFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType>,\r\n        AnchorHTMLAttributes<HTMLAnchorElement> {}\r\n\r\n// useful to prevent click bubbling in a Datagrid with rowClick\r\nconst stopPropagation = e => e.stopPropagation();\r\n", "import * as React from 'react';\r\nimport { ReactNode } from 'react';\r\n\r\nimport { FieldProps, fieldPropTypes } from './types';\r\n\r\n/**\r\n * A field rendering its children.\r\n *\r\n * Designed as a wrapper for several fields, to support props read by\r\n * the parent element (e.g. `<SimpleShowLayout>`, `<Datagrid`).\r\n *\r\n * @example\r\n * import { WrapperField, TextField } from 'react-admin';\r\n *\r\n * const PostShow = () => (\r\n *    <Show>\r\n *        <SimpleShowLayout>\r\n *            <WrapperField label=\"author\" sortBy=\"last_name\">\r\n *               <TextField source=\"first_name\" />\r\n *               <TextField source=\"last_name\" />\r\n *            </WrapperField>\r\n *       </SimpleShowLayout>\r\n *   </Show>\r\n * );\r\n */\r\nexport const WrapperField = <\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n>({\r\n    children,\r\n}: WrapperFieldProps<RecordType>) => <>{children}</>;\r\n\r\nWrapperField.displayName = 'WrapperField';\r\n\r\nWrapperField.propTypes = fieldPropTypes;\r\n\r\nexport interface WrapperFieldProps<\r\n    RecordType extends Record<string, unknown> = Record<string, any>\r\n> extends FieldProps<RecordType> {\r\n    children: ReactNode;\r\n}\r\n", "import * as React from 'react';\r\nimport { Children, isValidElement, ReactNode } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Stack } from '@mui/material';\r\nimport { ResponsiveStyleValue, SxProps } from '@mui/system';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport {\r\n    RaRecord,\r\n    useRecordContext,\r\n    OptionalRecordContextProvider,\r\n} from 'ra-core';\r\nimport { Labeled } from '../Labeled';\r\n\r\n/**\r\n * Layout for a Show view showing fields in one column.\r\n *\r\n * It pulls the record from the RecordContext. It renders the record fields in\r\n * a single-column layout (via Material UI's `<Stack>` component).\r\n * `<SimpleShowLayout>` delegates the actual rendering of fields to its children.\r\n * It wraps each field inside a `<Labeled>` component to add a label.\r\n *\r\n * @example\r\n * // in src/posts.js\r\n * import * as React from \"react\";\r\n * import { Show, SimpleShowLayout, TextField } from 'react-admin';\r\n *\r\n * export const PostShow = () => (\r\n *     <Show>\r\n *         <SimpleShowLayout>\r\n *             <TextField source=\"title\" />\r\n *         </SimpleShowLayout>\r\n *     </Show>\r\n * );\r\n *\r\n * // in src/App.js\r\n * import * as React from \"react\";\r\n * import { Admin, Resource } from 'react-admin';\r\n *\r\n * import { PostShow } from './posts';\r\n *\r\n * const App = () => (\r\n *     <Admin dataProvider={...}>\r\n *         <Resource name=\"posts\" show={PostShow} />\r\n *     </Admin>\r\n * );\r\n *\r\n * @param {SimpleShowLayoutProps} props\r\n * @param {string} props.className A className to apply to the page content.\r\n * @param {ElementType} props.component The component to use as root component (div by default).\r\n * @param {ReactNode} props.divider An optional divider between each field, passed to `<Stack>`.\r\n * @param {number} props.spacing The spacing to use between each field, passed to `<Stack>`. Defaults to 1.\r\n * @param {Object} props.sx Custom style object.\r\n */\r\nexport const SimpleShowLayout = (props: SimpleShowLayoutProps) => {\r\n    const { className, children, divider, spacing = 1, ...rest } = props;\r\n    const record = useRecordContext(props);\r\n    if (!record) {\r\n        return null;\r\n    }\r\n    return (\r\n        <OptionalRecordContextProvider value={props.record}>\r\n            <Root className={className} {...sanitizeRestProps(rest)}>\r\n                <Stack\r\n                    spacing={spacing}\r\n                    divider={divider}\r\n                    className={SimpleShowLayoutClasses.stack}\r\n                >\r\n                    {Children.map(children, field =>\r\n                        field && isValidElement<any>(field) ? (\r\n                            <Labeled\r\n                                key={field.props.source}\r\n                                className={clsx(\r\n                                    'ra-field',\r\n                                    field.props.source &&\r\n                                        `ra-field-${field.props.source}`,\r\n                                    SimpleShowLayoutClasses.row,\r\n                                    field.props.className\r\n                                )}\r\n                            >\r\n                                {field}\r\n                            </Labeled>\r\n                        ) : null\r\n                    )}\r\n                </Stack>\r\n            </Root>\r\n        </OptionalRecordContextProvider>\r\n    );\r\n};\r\n\r\nexport interface SimpleShowLayoutProps {\r\n    children: ReactNode;\r\n    className?: string;\r\n    divider?: ReactNode;\r\n    record?: RaRecord;\r\n    spacing?: ResponsiveStyleValue<number | string>;\r\n    sx?: SxProps;\r\n}\r\n\r\nSimpleShowLayout.propTypes = {\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    record: PropTypes.object,\r\n    spacing: PropTypes.any,\r\n    sx: PropTypes.any,\r\n};\r\n\r\nconst PREFIX = 'RaSimpleShowLayout';\r\n\r\nexport const SimpleShowLayoutClasses = {\r\n    stack: `${PREFIX}-stack`,\r\n    row: `${PREFIX}-row`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    flex: 1,\r\n    padding: `${theme.spacing(1)} ${theme.spacing(2)}`,\r\n    [`& .${SimpleShowLayoutClasses.stack}`]: {},\r\n    [`& .${SimpleShowLayoutClasses.row}`]: {\r\n        display: 'inline',\r\n    },\r\n}));\r\n\r\nconst sanitizeRestProps = ({\r\n    record,\r\n    resource,\r\n    initialValues,\r\n    translate,\r\n    ...rest\r\n}: any) => rest;\r\n", "import * as React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport inflection from 'inflection';\r\nimport {\r\n    ShowBase,\r\n    InferredElement,\r\n    getElementsFromRecords,\r\n    useResourceContext,\r\n    useShowContext,\r\n} from 'ra-core';\r\n\r\nimport { ShowProps } from '../types';\r\nimport { ShowView } from './ShowView';\r\nimport { showFieldTypes } from './showFieldTypes';\r\n\r\nexport const ShowGuesser = ({\r\n    id,\r\n    queryOptions,\r\n    resource,\r\n    ...rest\r\n}: Omit<ShowProps, 'children'>) => (\r\n    <ShowBase id={id} resource={resource} queryOptions={queryOptions}>\r\n        <ShowViewGuesser {...rest} />\r\n    </ShowBase>\r\n);\r\n\r\nconst ShowViewGuesser = props => {\r\n    const resource = useResourceContext(props);\r\n    const { record } = useShowContext();\r\n    const [child, setChild] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setChild(null);\r\n    }, [resource]);\r\n\r\n    useEffect(() => {\r\n        if (record && !child) {\r\n            const inferredElements = getElementsFromRecords(\r\n                [record],\r\n                showFieldTypes\r\n            );\r\n            const inferredChild = new InferredElement(\r\n                showFieldTypes.show,\r\n                null,\r\n                inferredElements\r\n            );\r\n            setChild(inferredChild.getElement());\r\n\r\n            if (process.env.NODE_ENV === 'production') return;\r\n\r\n            const representation = inferredChild.getRepresentation();\r\n            const components = ['Show']\r\n                .concat(\r\n                    Array.from(\r\n                        new Set(\r\n                            Array.from(representation.matchAll(/<([^/\\s>]+)/g))\r\n                                .map(match => match[1])\r\n                                .filter(component => component !== 'span')\r\n                        )\r\n                    )\r\n                )\r\n                .sort();\r\n\r\n            // eslint-disable-next-line no-console\r\n            console.log(\r\n                `Guessed Show:\r\n\r\nimport { ${components.join(', ')} } from 'react-admin';\r\n\r\nexport const ${inflection.capitalize(\r\n                    inflection.singularize(resource)\r\n                )}Show = () => (\r\n    <Show>\r\n${inferredChild.getRepresentation()}\r\n    </Show>\r\n);`\r\n            );\r\n        }\r\n    }, [record, child, resource]);\r\n\r\n    return <ShowView {...props}>{child}</ShowView>;\r\n};\r\n\r\nShowViewGuesser.propTypes = ShowView.propTypes;\r\n", "import * as React from 'react';\r\nimport {\r\n    ChangeEvent,\r\n    Children,\r\n    cloneElement,\r\n    isValidElement,\r\n    ReactElement,\r\n    ReactNode,\r\n    useState,\r\n} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ResponsiveStyleValue, SxProps } from '@mui/system';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Divider } from '@mui/material';\r\nimport { Outlet, Routes, Route } from 'react-router-dom';\r\nimport {\r\n    RaRecord,\r\n    useRecordContext,\r\n    OptionalRecordContextProvider,\r\n} from 'ra-core';\r\n\r\nimport {\r\n    TabbedShowLayoutTabs,\r\n    getShowLayoutTabFullPath,\r\n} from './TabbedShowLayoutTabs';\r\nimport { Tab } from './Tab';\r\n\r\n/**\r\n * Layout for a Show view showing fields grouped in tabs and laid out in a single column.\r\n *\r\n * It pulls the record from the RecordContext. It renders a set of `<Tabs>`,\r\n * each of which contains a list of record fields in a single-column layout\r\n * (via Material UI's `<Stack>` component).\r\n * `<TabbedShowLayout>` delegates the actual rendering of fields to its children,\r\n * which should be `<TabbedShowLayout.Tab>` components.\r\n * `<TabbedShowLayout.Tab>` wraps each field inside a `<Labeled>` component to add a label.\r\n *\r\n * @example\r\n * // in src/posts.js\r\n * import * as React from \"react\";\r\n * import { Show, TabbedShowLayout, TextField } from 'react-admin';\r\n *\r\n * export const PostShow = () => (\r\n *     <Show>\r\n *         <TabbedShowLayout>\r\n *             <TabbedShowLayout.Tab label=\"Content\">\r\n *                 <TextField source=\"title\" />\r\n *                 <TextField source=\"subtitle\" />\r\n *            </TabbedShowLayout.Tab>\r\n *             <TabbedShowLayout.Tab label=\"Metadata\">\r\n *                 <TextField source=\"category\" />\r\n *            </TabbedShowLayout.Tab>\r\n *         </TabbedShowLayout>\r\n *     </Show>\r\n * );\r\n *\r\n * // in src/App.js\r\n * import * as React from \"react\";\r\n * import { Admin, Resource } from 'react-admin';\r\n *\r\n * import { PostShow } from './posts';\r\n *\r\n * const App = () => (\r\n *     <Admin dataProvider={...}>\r\n *         <Resource name=\"posts\" show={PostShow} />\r\n *     </Admin>\r\n * );\r\n *\r\n * @param {TabbedShowLayoutProps} props\r\n * @param {string} props.className A className to apply to the page content.\r\n * @param {ElementType} props.component The component to use as root component (div by default).\r\n * @param {ReactNode} props.divider An optional divider between each field, passed to `<Stack>`.\r\n * @param {number} props.spacing The spacing to use between each field, passed to `<Stack>`. Defaults to 1.\r\n * @param {Object} props.sx Custom style object.\r\n * @param {boolean} props.syncWithLocation Whether to update the URL when the tab changes. Defaults to true.\r\n * @param {ElementType} props.tabs A custom component for rendering tabs.\r\n */\r\nexport const TabbedShowLayout = (props: TabbedShowLayoutProps) => {\r\n    const {\r\n        children,\r\n        className,\r\n        spacing,\r\n        divider,\r\n        syncWithLocation = true,\r\n        tabs = DefaultTabs,\r\n        value,\r\n        ...rest\r\n    } = props;\r\n    const record = useRecordContext(props);\r\n    const nonNullChildren = Children.toArray(children).filter(\r\n        child => child !== null\r\n    ) as ReactElement<{\r\n        context?: string;\r\n        spacing?: ResponsiveStyleValue<number | string>;\r\n        divider?: ReactNode;\r\n    }>[];\r\n    const [tabValue, setTabValue] = useState(0);\r\n\r\n    const handleTabChange = (event: ChangeEvent<{}>, value: any): void => {\r\n        if (!syncWithLocation) {\r\n            setTabValue(value);\r\n        }\r\n    };\r\n\r\n    if (!record) {\r\n        return null;\r\n    }\r\n\r\n    const renderTabHeaders = () =>\r\n        cloneElement(\r\n            tabs,\r\n            {\r\n                onChange: handleTabChange,\r\n                syncWithLocation,\r\n                value: tabValue,\r\n            },\r\n            nonNullChildren\r\n        );\r\n\r\n    return (\r\n        <OptionalRecordContextProvider value={props.record}>\r\n            <Root className={className} {...sanitizeRestProps(rest)}>\r\n                {syncWithLocation ? (\r\n                    <Routes>\r\n                        <Route\r\n                            path=\"/*\"\r\n                            element={\r\n                                <>\r\n                                    {renderTabHeaders()}\r\n                                    <Divider />\r\n                                    <div\r\n                                        className={\r\n                                            TabbedShowLayoutClasses.content\r\n                                        }\r\n                                    >\r\n                                        <Outlet />\r\n                                    </div>\r\n                                </>\r\n                            }\r\n                        >\r\n                            {Children.map(nonNullChildren, (tab, index) =>\r\n                                isValidElement(tab) ? (\r\n                                    <Route\r\n                                        path={getShowLayoutTabFullPath(\r\n                                            tab,\r\n                                            index\r\n                                        )}\r\n                                        element={cloneElement(tab, {\r\n                                            context: 'content',\r\n                                            spacing,\r\n                                            divider,\r\n                                        })}\r\n                                    />\r\n                                ) : null\r\n                            )}\r\n                        </Route>\r\n                    </Routes>\r\n                ) : (\r\n                    <>\r\n                        {renderTabHeaders()}\r\n                        <Divider />\r\n                        <div className={TabbedShowLayoutClasses.content}>\r\n                            {Children.map(nonNullChildren, (tab, index) => {\r\n                                if (\r\n                                    !isValidElement(tab) ||\r\n                                    tabValue !== index\r\n                                ) {\r\n                                    return null;\r\n                                }\r\n                                return cloneElement(tab, {\r\n                                    context: 'content',\r\n                                    spacing,\r\n                                    divider,\r\n                                });\r\n                            })}\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </Root>\r\n        </OptionalRecordContextProvider>\r\n    );\r\n};\r\n\r\nTabbedShowLayout.Tab = Tab;\r\n\r\nexport interface TabbedShowLayoutProps {\r\n    children: ReactNode;\r\n    className?: string;\r\n    divider?: ReactNode;\r\n    record?: RaRecord;\r\n    rootPath?: string;\r\n    spacing?: ResponsiveStyleValue<number | string>;\r\n    sx?: SxProps;\r\n    syncWithLocation?: boolean;\r\n    tabs?: ReactElement;\r\n    value?: any;\r\n}\r\n\r\nTabbedShowLayout.propTypes = {\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    record: PropTypes.object,\r\n    spacing: PropTypes.any,\r\n    sx: PropTypes.any,\r\n    syncWithLocation: PropTypes.bool,\r\n    tabs: PropTypes.element,\r\n    value: PropTypes.number,\r\n};\r\n\r\nconst DefaultTabs = <TabbedShowLayoutTabs />;\r\n\r\nconst PREFIX = 'RaTabbedShowLayout';\r\n\r\nexport const TabbedShowLayoutClasses = {\r\n    content: `${PREFIX}-content`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    flex: 1,\r\n    [`& .${TabbedShowLayoutClasses.content}`]: {\r\n        padding: `${theme.spacing(1)} ${theme.spacing(2)}`,\r\n    },\r\n}));\r\n\r\nconst sanitizeRestProps = ({\r\n    record,\r\n    resource,\r\n    initialValues,\r\n    staticContext,\r\n    translate,\r\n    tabs,\r\n    ...rest\r\n}: any) => rest;\r\n", "import * as React from 'react';\r\nimport { Children, cloneElement, ReactElement, isValidElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Tabs, { TabsProps } from '@mui/material/Tabs';\r\nimport { useParams } from 'react-router-dom';\r\nimport { TabProps } from './Tab';\r\n\r\nexport const TabbedShowLayoutTabs = ({\r\n    children,\r\n    syncWithLocation,\r\n    value,\r\n    ...rest\r\n}: TabbedShowLayoutTabsProps) => {\r\n    const params = useParams();\r\n\r\n    // params will include eventual parameters from the root pathname and * for the remaining part\r\n    // which should match the tabs paths\r\n    const tabValue = params['*'];\r\n\r\n    return (\r\n        <Tabs\r\n            indicatorColor=\"primary\"\r\n            value={syncWithLocation ? tabValue : value}\r\n            {...rest}\r\n        >\r\n            {Children.map(children, (tab, index) => {\r\n                if (!tab || !isValidElement(tab)) return null;\r\n                // Builds the full tab which is the concatenation of the last matched route in the\r\n                // TabbedShowLayout hierarchy (ex: '/posts/create', '/posts/12', , '/posts/12/show')\r\n                // and the tab path.\r\n                // This will be used as the Tab's value\r\n                const tabPath = getShowLayoutTabFullPath(tab, index);\r\n\r\n                return cloneElement(tab, {\r\n                    context: 'header',\r\n                    value: syncWithLocation ? tabPath : index,\r\n                    syncWithLocation,\r\n                });\r\n            })}\r\n        </Tabs>\r\n    );\r\n};\r\n\r\nexport const getShowLayoutTabFullPath = (tab, index) =>\r\n    `${tab.props.path ? `${tab.props.path}` : index > 0 ? index : ''}`;\r\n\r\nexport interface TabbedShowLayoutTabsProps extends TabsProps {\r\n    children?: ReactElement<TabProps>;\r\n    syncWithLocation?: boolean;\r\n}\r\n\r\nTabbedShowLayoutTabs.propTypes = {\r\n    children: PropTypes.node,\r\n};\r\n", "import * as React from 'react';\r\nimport { isValidElement, ReactElement, ReactNode } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Tab as MuiTab, TabProps as MuiTabProps, Stack } from '@mui/material';\r\nimport { ResponsiveStyleValue } from '@mui/system';\r\nimport { useTranslate, RaRecord } from 'ra-core';\r\nimport clsx from 'clsx';\r\n\r\nimport { Labeled } from '../Labeled';\r\n\r\n/**\r\n * Tab element for the TabbedShowLayout.\r\n *\r\n * The `<Tab>` component accepts the following props:\r\n *\r\n * - label: The string displayed for each tab\r\n * - icon: The icon to show before the label (optional). Must be a component.\r\n * - path: The string used for custom urls\r\n *\r\n * It is also available as TabbedShowLayout.Tab.\r\n *\r\n * @example\r\n *     // in src/posts.js\r\n *     import * as React from \"react\";\r\n *     import FavoriteIcon from '@mui/icons-material/Favorite';\r\n *     import PersonPinIcon from '@mui/icons-material/PersonPin';\r\n *     import { Show, TabbedShowLayout, TextField } from 'react-admin';\r\n *\r\n *     export const PostShow = (props) => (\r\n *         <Show {...props}>\r\n *             <TabbedShowLayout>\r\n *                 <TabbedShowLayout.Tab label=\"Content\" icon={<FavoriteIcon />}>\r\n *                     <TextField source=\"title\" />\r\n *                     <TextField source=\"subtitle\" />\r\n *                </TabbedShowLayout.Tab>\r\n *                 <TabbedShowLayout.Tab label=\"Metadata\" icon={<PersonIcon />} path=\"metadata\">\r\n *                     <TextField source=\"category\" />\r\n *                </TabbedShowLayout.Tab>\r\n *             </TabbedShowLayout>\r\n *         </Show>\r\n *     );\r\n *\r\n *     // in src/App.js\r\n *     import * as React from \"react\";\r\n *     import { Admin, Resource } from 'react-admin';\r\n *\r\n *     import { PostShow } from './posts';\r\n *\r\n *     const App = () => (\r\n *         <Admin dataProvider={...}>\r\n *             <Resource name=\"posts\" show={PostShow} />\r\n *         </Admin>\r\n *     );\r\n *     export default App;\r\n */\r\nexport const Tab = ({\r\n    children,\r\n    contentClassName,\r\n    context,\r\n    count,\r\n    className,\r\n    divider,\r\n    icon,\r\n    label,\r\n    record,\r\n    spacing = 1,\r\n    syncWithLocation = true,\r\n    value,\r\n    ...rest\r\n}: TabProps) => {\r\n    const translate = useTranslate();\r\n    const location = useLocation();\r\n    const propsForLink = {\r\n        component: Link,\r\n        to: { ...location, pathname: value },\r\n    };\r\n\r\n    const renderHeader = () => {\r\n        let tabLabel =\r\n            typeof label === 'string' ? translate(label, { _: label }) : label;\r\n        if (count !== undefined) {\r\n            tabLabel = (\r\n                <span>\r\n                    {tabLabel} ({count})\r\n                </span>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <MuiTab\r\n                key={`tab-header-${value}`}\r\n                label={tabLabel}\r\n                value={value}\r\n                icon={icon}\r\n                className={clsx('show-tab', className)}\r\n                {...(syncWithLocation ? propsForLink : {})} // to avoid TypeScript screams, see https://github.com/mui/material-ui/issues/9106#issuecomment-451270521\r\n                {...rest}\r\n            />\r\n        );\r\n    };\r\n\r\n    const renderContent = () => (\r\n        <Stack className={contentClassName} spacing={spacing} divider={divider}>\r\n            {React.Children.map(children, field =>\r\n                field && isValidElement<any>(field) ? (\r\n                    <Labeled\r\n                        key={field.props.source}\r\n                        className={clsx(\r\n                            'ra-field',\r\n                            field.props.source &&\r\n                                `ra-field-${field.props.source}`,\r\n                            field.props.className\r\n                        )}\r\n                    >\r\n                        {field}\r\n                    </Labeled>\r\n                ) : null\r\n            )}\r\n        </Stack>\r\n    );\r\n\r\n    return context === 'header' ? renderHeader() : renderContent();\r\n};\r\n\r\nTab.propTypes = {\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    contentClassName: PropTypes.string,\r\n    context: PropTypes.oneOf(['header', 'content']),\r\n    count: PropTypes.node,\r\n    icon: PropTypes.element,\r\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\r\n        .isRequired,\r\n    path: PropTypes.string,\r\n    spacing: PropTypes.any,\r\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n};\r\n\r\nexport interface TabProps extends Omit<MuiTabProps, 'children'> {\r\n    children: ReactNode;\r\n    contentClassName?: string;\r\n    context?: 'header' | 'content';\r\n    count?: ReactNode;\r\n    className?: string;\r\n    divider?: ReactNode;\r\n    icon?: ReactElement;\r\n    label: string | ReactElement;\r\n    path?: string;\r\n    record?: RaRecord;\r\n    spacing?: ResponsiveStyleValue<number | string>;\r\n    syncWithLocation?: boolean;\r\n    value?: string | number;\r\n}\r\n", "import * as React from 'react';\r\nimport {\r\n    useResourceContext,\r\n    useGetList,\r\n    useTimeout,\r\n    useCreatePath,\r\n    SortPayload,\r\n} from 'ra-core';\r\nimport { Typography, TypographyProps, CircularProgress } from '@mui/material';\r\nimport ErrorIcon from '@mui/icons-material/Error';\r\n\r\nimport { Link } from '../Link';\r\n\r\n/**\r\n * Fetch and render the number of records of a given resource\r\n *\r\n * Relies on dataProvider.getList() returning a total property\r\n *\r\n * @example // Display the number of records in the current resource (based on ResourceContext)\r\n * <Count />\r\n *\r\n * @example // Display the number of posts\r\n * <Count resource=\"posts\" />\r\n *\r\n * @example // Display the number of published posts\r\n * <Count resource=\"posts\" filter={{ is_published: true }}/>\r\n *\r\n * @example // Display the number of posts, with a custom Typography variant\r\n * <Count resource=\"posts\" variant=\"h1\" />\r\n *\r\n * @see ReferenceManyCount for a similar component which fetches the number of records related to the current one\r\n */\r\nexport const Count = (props: CountProps) => {\r\n    const {\r\n        filter,\r\n        sort,\r\n        link,\r\n        resource: resourceFromProps,\r\n        timeout = 1000,\r\n        ...rest\r\n    } = props;\r\n    const resource = useResourceContext(props);\r\n    const oneSecondHasPassed = useTimeout(timeout);\r\n    const createPath = useCreatePath();\r\n\r\n    const { total, isLoading, error } = useGetList(resource, {\r\n        filter,\r\n        sort,\r\n        pagination: { perPage: 1, page: 1 },\r\n    });\r\n\r\n    const body = isLoading ? (\r\n        oneSecondHasPassed ? (\r\n            <CircularProgress size={14} />\r\n        ) : (\r\n            ''\r\n        )\r\n    ) : error ? (\r\n        <ErrorIcon color=\"error\" fontSize=\"small\" titleAccess=\"error\" />\r\n    ) : (\r\n        total\r\n    );\r\n\r\n    return link ? (\r\n        // @ts-ignore TypeScript complains that the props for <a> aren't the same as for <span>\r\n        <Link\r\n            to={{\r\n                pathname: createPath({ resource, type: 'list' }),\r\n                search: filter ? `filter=${JSON.stringify(filter)}` : undefined,\r\n            }}\r\n            variant=\"body2\"\r\n            onClick={e => e.stopPropagation()}\r\n            {...rest}\r\n        >\r\n            {body}\r\n        </Link>\r\n    ) : (\r\n        <Typography component=\"span\" variant=\"body2\" {...rest}>\r\n            {body}\r\n        </Typography>\r\n    );\r\n};\r\n\r\nexport interface CountProps extends TypographyProps {\r\n    filter?: any;\r\n    sort?: SortPayload;\r\n    link?: Boolean;\r\n    resource?: string;\r\n    timeout?: number;\r\n}\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Typography } from '@mui/material';\r\nimport Inbox from '@mui/icons-material/Inbox';\r\nimport {\r\n    useTranslate,\r\n    useResourceDefinition,\r\n    useResourceContext,\r\n    useGetResourceLabel,\r\n} from 'ra-core';\r\n\r\nimport { CreateButton } from '../button';\r\n\r\nexport const Empty = (props: EmptyProps) => {\r\n    const { className } = props;\r\n    const { hasCreate } = useResourceDefinition(props);\r\n    const resource = useResourceContext(props);\r\n\r\n    const translate = useTranslate();\r\n\r\n    const getResourceLabel = useGetResourceLabel();\r\n    const resourceName = translate(`resources.${resource}.forcedCaseName`, {\r\n        smart_count: 0,\r\n        _: getResourceLabel(resource, 0),\r\n    });\r\n\r\n    const emptyMessage = translate('ra.page.empty', { name: resourceName });\r\n    const inviteMessage = translate('ra.page.invite');\r\n\r\n    return (\r\n        <Root className={className}>\r\n            <div className={EmptyClasses.message}>\r\n                <Inbox className={EmptyClasses.icon} />\r\n                <Typography variant=\"h4\" paragraph>\r\n                    {translate(`resources.${resource}.empty`, {\r\n                        _: emptyMessage,\r\n                    })}\r\n                </Typography>\r\n                {hasCreate && (\r\n                    <Typography variant=\"body1\">\r\n                        {translate(`resources.${resource}.invite`, {\r\n                            _: inviteMessage,\r\n                        })}\r\n                    </Typography>\r\n                )}\r\n            </div>\r\n            {hasCreate && (\r\n                <div className={EmptyClasses.toolbar}>\r\n                    <CreateButton variant=\"contained\" />\r\n                </div>\r\n            )}\r\n        </Root>\r\n    );\r\n};\r\n\r\nexport interface EmptyProps {\r\n    resource?: string;\r\n    hasCreate?: boolean;\r\n    className?: string;\r\n}\r\n\r\nconst PREFIX = 'RaEmpty';\r\n\r\nexport const EmptyClasses = {\r\n    message: `${PREFIX}-message`,\r\n    icon: `${PREFIX}-icon`,\r\n    toolbar: `${PREFIX}-toolbar`,\r\n};\r\n\r\nconst Root = styled('span', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    flex: 1,\r\n    [`& .${EmptyClasses.message}`]: {\r\n        textAlign: 'center',\r\n        opacity: theme.palette.mode === 'light' ? 0.5 : 0.8,\r\n        margin: '0 1em',\r\n        color:\r\n            theme.palette.mode === 'light'\r\n                ? 'inherit'\r\n                : theme.palette.text.primary,\r\n    },\r\n\r\n    [`& .${EmptyClasses.icon}`]: {\r\n        width: '9em',\r\n        height: '9em',\r\n    },\r\n\r\n    [`& .${EmptyClasses.toolbar}`]: {\r\n        textAlign: 'center',\r\n        marginTop: '2em',\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    InfiniteListBase,\r\n    InfiniteListControllerProps,\r\n    RaRecord,\r\n} from 'ra-core';\r\n\r\nimport { TitlePropType } from '../layout/Title';\r\nimport { InfinitePagination } from './pagination';\r\nimport { ListView, ListViewProps } from './ListView';\r\n\r\n/**\r\n * Infinite List page component\r\n *\r\n * The <InfiniteList> component renders the list layout (title, buttons, filters),\r\n * and fetches the list of records from the REST API.\r\n *\r\n * It then delegates the rendering of the list of records to its child component.\r\n * Usually, it's a <Datagrid>, responsible for displaying a table with one row for each post.\r\n *\r\n * It contains an <InfinitePagination> component, which fetches the next page of records\r\n * when the user scrolls to the bottom of the list.\r\n *\r\n * The <InfiniteList> component accepts the following props:\r\n *\r\n * - actions\r\n * - aside: Side Component\r\n * - children: List Layout\r\n * - component\r\n * - disableAuthentication\r\n * - disableSyncWithLocation\r\n * - empty: Empty Page Component\r\n * - emptyWhileLoading\r\n * - exporter\r\n * - filters: Filter Inputs\r\n * - filter: Permanent Filter\r\n * - filterDefaultValues\r\n * - pagination: Pagination Component\r\n * - perPage: Pagination Size\r\n * - queryOptions\r\n * - sort: Default Sort Field & Order\r\n * - title\r\n * - sx: CSS API\r\n *\r\n * @example\r\n * const postFilters = [\r\n *     <TextInput label=\"Search\" source=\"q\" alwaysOn />,\r\n *     <TextInput label=\"Title\" source=\"title\" />\r\n * ];\r\n * export const PostList = () => (\r\n *     <InfiniteList\r\n *         title=\"List of posts\"\r\n *         sort={{ field: 'published_at' }}\r\n *         filter={{ is_published: true }}\r\n *         filters={postFilters}\r\n *     >\r\n *         <Datagrid>\r\n *             <TextField source=\"id\" />\r\n *             <TextField source=\"title\" />\r\n *             <EditButton />\r\n *         </Datagrid>\r\n *     </List>\r\n * );\r\n */\r\nexport const InfiniteList = <RecordType extends RaRecord = any>({\r\n    debounce,\r\n    disableAuthentication,\r\n    disableSyncWithLocation,\r\n    exporter,\r\n    filter,\r\n    filterDefaultValues,\r\n    pagination = defaultPagination,\r\n    perPage,\r\n    queryOptions,\r\n    resource,\r\n    sort,\r\n    storeKey,\r\n    ...rest\r\n}: InfiniteListProps<RecordType>): ReactElement => (\r\n    <InfiniteListBase<RecordType>\r\n        debounce={debounce}\r\n        disableAuthentication={disableAuthentication}\r\n        disableSyncWithLocation={disableSyncWithLocation}\r\n        exporter={exporter}\r\n        filter={filter}\r\n        filterDefaultValues={filterDefaultValues}\r\n        perPage={perPage}\r\n        queryOptions={queryOptions}\r\n        resource={resource}\r\n        sort={sort}\r\n        storeKey={storeKey}\r\n    >\r\n        <ListView<RecordType> {...rest} pagination={pagination} />\r\n    </InfiniteListBase>\r\n);\r\n\r\nconst defaultPagination = <InfinitePagination />;\r\n\r\nexport interface InfiniteListProps<RecordType extends RaRecord = any>\r\n    extends InfiniteListControllerProps<RecordType>,\r\n        ListViewProps {}\r\n\r\nInfiniteList.propTypes = {\r\n    // the props you can change\r\n    // @ts-ignore-line\r\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\r\n    aside: PropTypes.element,\r\n    children: PropTypes.node.isRequired,\r\n    className: PropTypes.string,\r\n    emptyWhileLoading: PropTypes.bool,\r\n    filter: PropTypes.object,\r\n    filterDefaultValues: PropTypes.object,\r\n    filters: PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n    // @ts-ignore-line\r\n    pagination: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\r\n    perPage: PropTypes.number.isRequired,\r\n    //@ts-ignore-line\r\n    sort: PropTypes.shape({\r\n        field: PropTypes.string,\r\n        order: PropTypes.string,\r\n    }),\r\n    sx: PropTypes.any,\r\n    title: TitlePropType,\r\n    // the props managed by react-admin\r\n    disableSyncWithLocation: PropTypes.bool,\r\n    hasCreate: PropTypes.bool,\r\n    hasEdit: PropTypes.bool,\r\n    hasList: PropTypes.bool,\r\n    hasShow: PropTypes.bool,\r\n    resource: PropTypes.string,\r\n};\r\n\r\nInfiniteList.defaultProps = {\r\n    filter: {},\r\n    perPage: 10,\r\n};\r\n", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { cloneElement, ReactElement, ReactNode, ElementType } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { SxProps } from '@mui/system';\r\nimport Card from '@mui/material/Card';\r\nimport clsx from 'clsx';\r\nimport { ComponentPropType, useListContext, RaRecord } from 'ra-core';\r\n\r\nimport { Title, TitlePropType } from '../layout/Title';\r\nimport { ListToolbar } from './ListToolbar';\r\nimport { Pagination as DefaultPagination } from './pagination';\r\nimport { ListActions as DefaultActions } from './ListActions';\r\nimport { Empty } from './Empty';\r\nimport { Error } from '../layout';\r\n\r\nconst defaultActions = <DefaultActions />;\r\nconst defaultPagination = <DefaultPagination />;\r\nconst defaultEmpty = <Empty />;\r\nconst DefaultComponent = Card;\r\n\r\nexport const ListView = <RecordType extends RaRecord = any>(\r\n    props: ListViewProps\r\n) => {\r\n    const {\r\n        actions = defaultActions,\r\n        aside,\r\n        filters,\r\n        bulkActionButtons,\r\n        emptyWhileLoading,\r\n        hasCreate,\r\n        pagination = defaultPagination,\r\n        children,\r\n        className,\r\n        component: Content = DefaultComponent,\r\n        title,\r\n        empty = defaultEmpty,\r\n        ...rest\r\n    } = props;\r\n    const {\r\n        defaultTitle,\r\n        data,\r\n        error,\r\n        isLoading,\r\n        filterValues,\r\n        resource,\r\n    } = useListContext<RecordType>(props);\r\n\r\n    if (!children || (!data && isLoading && emptyWhileLoading)) {\r\n        return null;\r\n    }\r\n\r\n    const renderList = () => (\r\n        <div className={ListClasses.main}>\r\n            {(filters || actions) && (\r\n                <ListToolbar\r\n                    className={ListClasses.actions}\r\n                    filters={filters}\r\n                    actions={actions}\r\n                    hasCreate={hasCreate}\r\n                />\r\n            )}\r\n            <Content className={ListClasses.content}>\r\n                {bulkActionButtons &&\r\n                children &&\r\n                React.isValidElement<any>(children)\r\n                    ? // FIXME remove in 5.0\r\n                      cloneElement(children, {\r\n                          bulkActionButtons,\r\n                      })\r\n                    : children}\r\n            </Content>\r\n            {error ? (\r\n                <Error error={error} resetErrorBoundary={null} />\r\n            ) : (\r\n                pagination !== false && pagination\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    const renderEmpty = () =>\r\n        empty !== false &&\r\n        cloneElement(empty, { className: ListClasses.noResults, hasCreate });\r\n\r\n    const shouldRenderEmptyPage =\r\n        !isLoading &&\r\n        data?.length === 0 &&\r\n        !Object.keys(filterValues).length &&\r\n        empty !== false;\r\n\r\n    return (\r\n        <Root className={clsx('list-page', className)} {...rest}>\r\n            <Title\r\n                title={title}\r\n                defaultTitle={defaultTitle}\r\n                preferenceKey={`${resource}.list.title`}\r\n            />\r\n            {shouldRenderEmptyPage ? renderEmpty() : renderList()}\r\n            {aside}\r\n        </Root>\r\n    );\r\n};\r\n\r\nListView.propTypes = {\r\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\r\n    aside: PropTypes.element,\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    component: ComponentPropType,\r\n    emptyWhileLoading: PropTypes.bool,\r\n    filters: PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n    hasCreate: PropTypes.bool,\r\n    pagination: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\r\n    title: TitlePropType,\r\n};\r\n\r\nexport interface ListViewProps {\r\n    actions?: ReactElement | false;\r\n    aside?: ReactElement;\r\n    /**\r\n     * @deprecated pass the bulkActionButtons prop to the List child (Datagrid or SimpleList) instead\r\n     */\r\n    bulkActionButtons?: ReactElement | false;\r\n    className?: string;\r\n    children: ReactNode;\r\n    component?: ElementType;\r\n    empty?: ReactElement | false;\r\n    emptyWhileLoading?: boolean;\r\n    filters?: ReactElement | ReactElement[];\r\n    hasCreate?: boolean;\r\n    pagination?: ReactElement | false;\r\n    title?: string | ReactElement;\r\n    sx?: SxProps;\r\n}\r\n\r\nconst PREFIX = 'RaList';\r\n\r\nexport const ListClasses = {\r\n    main: `${PREFIX}-main`,\r\n    content: `${PREFIX}-content`,\r\n    actions: `${PREFIX}-actions`,\r\n    noResults: `${PREFIX}-noResults`,\r\n};\r\n\r\nconst Root = styled('div', {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    display: 'flex',\r\n\r\n    [`& .${ListClasses.main}`]: {\r\n        flex: '1 1 auto',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n\r\n    [`& .${ListClasses.content}`]: {\r\n        position: 'relative',\r\n        [theme.breakpoints.down('sm')]: {\r\n            boxShadow: 'none',\r\n        },\r\n        overflow: 'inherit',\r\n    },\r\n\r\n    [`& .${ListClasses.actions}`]: {},\r\n\r\n    [`& .${ListClasses.noResults}`]: {},\r\n}));\r\n", "import * as React from 'react';\r\nimport { FC, memo } from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Toolbar, ToolbarProps } from '@mui/material';\r\nimport { Exporter } from 'ra-core';\r\n\r\nimport { FilterForm } from './filter';\r\nimport { FilterContext } from './FilterContext';\r\n\r\nexport const ListToolbar: FC<ListToolbarProps> = memo(props => {\r\n    const { filters, actions, className, ...rest } = props;\r\n\r\n    return Array.isArray(filters) ? (\r\n        <FilterContext.Provider value={filters}>\r\n            <Root className={className}>\r\n                <FilterForm />\r\n                <span />\r\n                {actions &&\r\n                    React.cloneElement(actions, {\r\n                        ...rest,\r\n                        ...actions.props,\r\n                    })}\r\n            </Root>\r\n        </FilterContext.Provider>\r\n    ) : (\r\n        <Root className={className}>\r\n            {filters &&\r\n                React.cloneElement(filters, {\r\n                    ...rest,\r\n                    context: 'form',\r\n                })}\r\n            <span />\r\n            {actions &&\r\n                React.cloneElement(actions, {\r\n                    ...rest,\r\n                    filters,\r\n                    ...actions.props,\r\n                })}\r\n        </Root>\r\n    );\r\n});\r\n\r\nListToolbar.propTypes = {\r\n    filters: PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n    // @ts-ignore\r\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\r\n    // @ts-ignore\r\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n};\r\n\r\nexport interface ListToolbarProps\r\n    extends Omit<ToolbarProps, 'classes' | 'onSelect'> {\r\n    actions?: ReactElement | false;\r\n    exporter?: Exporter | false;\r\n    filters?: ReactElement | ReactElement[];\r\n    hasCreate?: boolean;\r\n}\r\n\r\nconst PREFIX = 'RaListToolbar';\r\n\r\nconst Root = styled(Toolbar, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    position: 'relative',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'flex-end',\r\n    width: '100%',\r\n    padding: '0 !important',\r\n    minHeight: theme.spacing(8),\r\n    [theme.breakpoints.down('sm')]: {\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    [theme.breakpoints.down('md')]: {\r\n        margin: 0,\r\n        flexWrap: 'wrap',\r\n    },\r\n}));\r\n", "import * as React from 'react';\r\nimport { cloneElement, useMemo, useContext, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    sanitizeListRestProps,\r\n    Identifier,\r\n    SortPayload,\r\n    Exporter,\r\n    useListContext,\r\n    useResourceContext,\r\n    useResourceDefinition,\r\n} from 'ra-core';\r\nimport { ToolbarProps } from '@mui/material';\r\n\r\nimport TopToolbar from '../layout/TopToolbar';\r\nimport { CreateButton, ExportButton } from '../button';\r\nimport { FilterContext } from './FilterContext';\r\nimport { FilterButton } from './filter';\r\n\r\n/**\r\n * Action Toolbar for the List view\r\n *\r\n * Internal component. If you want to add or remove actions for a List view,\r\n * write your own ListActions Component. Then, in the <List> component,\r\n * use it in the `actions` prop to pass a custom component.\r\n *\r\n * @example\r\n *     import { cloneElement } from 'react';\r\n *     import Button from '@mui/material/Button';\r\n *     import { TopToolbar, List, CreateButton, ExportButton } from 'react-admin';\r\n *\r\n *     const PostListActions = ({ filters }) => (\r\n *         <TopToolbar>\r\n *             { cloneElement(filters, { context: 'button' }) }\r\n *             <CreateButton/>\r\n *             <ExportButton/>\r\n *             // Add your custom actions here //\r\n *             <Button onClick={customAction}>Custom Action</Button>\r\n *         </TopToolbar>\r\n *     );\r\n *\r\n *     export const PostList = (props) => (\r\n *         <List actions={<PostListActions />} {...props}>\r\n *             ...\r\n *         </List>\r\n *     );\r\n */\r\nexport const ListActions = (props: ListActionsProps) => {\r\n    const { className, filters: filtersProp, hasCreate: _, ...rest } = props;\r\n    const {\r\n        sort,\r\n        displayedFilters,\r\n        filterValues,\r\n        exporter,\r\n        showFilter,\r\n        total,\r\n    } = useListContext(props);\r\n    const resource = useResourceContext(props);\r\n    const { hasCreate } = useResourceDefinition(props);\r\n    const filters = useContext(FilterContext) || filtersProp;\r\n    return useMemo(\r\n        () => (\r\n            <TopToolbar className={className} {...sanitizeListRestProps(rest)}>\r\n                {filtersProp\r\n                    ? cloneElement(filtersProp, {\r\n                          resource,\r\n                          showFilter,\r\n                          displayedFilters,\r\n                          filterValues,\r\n                          context: 'button',\r\n                      })\r\n                    : filters && <FilterButton />}\r\n                {hasCreate && <CreateButton />}\r\n                {exporter !== false && (\r\n                    <ExportButton\r\n                        disabled={total === 0}\r\n                        resource={resource}\r\n                        sort={sort}\r\n                        filterValues={filterValues}\r\n                    />\r\n                )}\r\n            </TopToolbar>\r\n        ),\r\n        /* eslint-disable react-hooks/exhaustive-deps */\r\n        [\r\n            resource,\r\n            displayedFilters,\r\n            filterValues,\r\n            filtersProp,\r\n            showFilter,\r\n            filters,\r\n            total,\r\n            className,\r\n            sort,\r\n            exporter,\r\n            hasCreate,\r\n        ]\r\n    );\r\n};\r\n\r\nListActions.propTypes = {\r\n    className: PropTypes.string,\r\n    sort: PropTypes.any,\r\n    displayedFilters: PropTypes.object,\r\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\r\n    filters: PropTypes.element,\r\n    filterValues: PropTypes.object,\r\n    hasCreate: PropTypes.bool,\r\n    resource: PropTypes.string,\r\n    onUnselectItems: PropTypes.func.isRequired,\r\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\r\n    showFilter: PropTypes.func,\r\n    total: PropTypes.number,\r\n};\r\n\r\nListActions.defaultProps = {\r\n    selectedIds: [],\r\n    onUnselectItems: () => null,\r\n};\r\n\r\nexport interface ListActionsProps extends ToolbarProps {\r\n    sort?: SortPayload;\r\n    className?: string;\r\n    resource?: string;\r\n    filters?: ReactElement<any>;\r\n    displayedFilters?: any;\r\n    exporter?: Exporter | boolean;\r\n    filterValues?: any;\r\n    permanentFilter?: any;\r\n    hasCreate?: boolean;\r\n    selectedIds?: Identifier[];\r\n    onUnselectItems?: () => void;\r\n    showFilter?: (filterName: string, defaultValue: any) => void;\r\n    total?: number;\r\n}\r\n", "import * as React from 'react';\r\nimport { ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ListBase, ListControllerProps, RaRecord } from 'ra-core';\r\n\r\nimport { TitlePropType } from '../layout/Title';\r\n\r\nimport { ListView, ListViewProps } from './ListView';\r\n\r\n/**\r\n * List page component\r\n *\r\n * The <List> component renders the list layout (title, buttons, filters, pagination),\r\n * and fetches the list of records from the REST API.\r\n *\r\n * It then delegates the rendering of the list of records to its child component.\r\n * Usually, it's a <Datagrid>, responsible for displaying a table with one row for each post.\r\n *\r\n * The <List> component accepts the following props:\r\n *\r\n * - actions\r\n * - aside: Side Component\r\n * - children: List Layout\r\n * - component\r\n * - disableAuthentication\r\n * - disableSyncWithLocation\r\n * - empty: Empty Page Component\r\n * - emptyWhileLoading\r\n * - exporter\r\n * - filters: Filter Inputs\r\n * - filter: Permanent Filter\r\n * - filterDefaultValues\r\n * - pagination: Pagination Component\r\n * - perPage: Pagination Size\r\n * - queryOptions\r\n * - sort: Default Sort Field & Order\r\n * - title\r\n * - sx: CSS API\r\n *\r\n * @example\r\n * const postFilters = [\r\n *     <TextInput label=\"Search\" source=\"q\" alwaysOn />,\r\n *     <TextInput label=\"Title\" source=\"title\" />\r\n * ];\r\n * export const PostList = () => (\r\n *     <List\r\n *         title=\"List of posts\"\r\n *         sort={{ field: 'published_at' }}\r\n *         filter={{ is_published: true }}\r\n *         filters={postFilters}\r\n *     >\r\n *         <Datagrid>\r\n *             <TextField source=\"id\" />\r\n *             <TextField source=\"title\" />\r\n *             <EditButton />\r\n *         </Datagrid>\r\n *     </List>\r\n * );\r\n */\r\nexport const List = <RecordType extends RaRecord = any>({\r\n    debounce,\r\n    disableAuthentication,\r\n    disableSyncWithLocation,\r\n    exporter,\r\n    filter,\r\n    filterDefaultValues,\r\n    perPage,\r\n    queryOptions,\r\n    resource,\r\n    sort,\r\n    storeKey,\r\n    ...rest\r\n}: ListProps<RecordType>): ReactElement => (\r\n    <ListBase<RecordType>\r\n        debounce={debounce}\r\n        disableAuthentication={disableAuthentication}\r\n        disableSyncWithLocation={disableSyncWithLocation}\r\n        exporter={exporter}\r\n        filter={filter}\r\n        filterDefaultValues={filterDefaultValues}\r\n        perPage={perPage}\r\n        queryOptions={queryOptions}\r\n        resource={resource}\r\n        sort={sort}\r\n        storeKey={storeKey}\r\n    >\r\n        <ListView<RecordType> {...rest} />\r\n    </ListBase>\r\n);\r\n\r\nexport interface ListProps<RecordType extends RaRecord = any>\r\n    extends ListControllerProps<RecordType>,\r\n        ListViewProps {}\r\n\r\nList.propTypes = {\r\n    // the props you can change\r\n    // @ts-ignore-line\r\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\r\n    aside: PropTypes.element,\r\n    children: PropTypes.node.isRequired,\r\n    className: PropTypes.string,\r\n    emptyWhileLoading: PropTypes.bool,\r\n    filter: PropTypes.object,\r\n    filterDefaultValues: PropTypes.object,\r\n    filters: PropTypes.oneOfType([\r\n        PropTypes.element,\r\n        PropTypes.arrayOf(PropTypes.element),\r\n    ]),\r\n    // @ts-ignore-line\r\n    pagination: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\r\n    perPage: PropTypes.number.isRequired,\r\n    //@ts-ignore-line\r\n    sort: PropTypes.shape({\r\n        field: PropTypes.string,\r\n        order: PropTypes.string,\r\n    }),\r\n    sx: PropTypes.any,\r\n    title: TitlePropType,\r\n    // the props managed by react-admin\r\n    disableSyncWithLocation: PropTypes.bool,\r\n    hasCreate: PropTypes.bool,\r\n    resource: PropTypes.string,\r\n};\r\n\r\nList.defaultProps = {\r\n    filter: {},\r\n    perPage: 10,\r\n};\r\n", "import * as React from 'react';\r\nimport { Datagrid } from './datagrid';\r\nimport { SingleFieldList } from './SingleFieldList';\r\nimport {\r\n    ArrayField,\r\n    BooleanField,\r\n    ChipField,\r\n    DateField,\r\n    EmailField,\r\n    NumberField,\r\n    ReferenceField,\r\n    ReferenceArrayField,\r\n    TextField,\r\n    UrlField,\r\n} from '../field';\r\n\r\nexport const listFieldTypes = {\r\n    table: {\r\n        component: props => {\r\n            const { hasEdit, hasShow, ...rest } = props;\r\n            return (\r\n                <Datagrid\r\n                    rowClick={!hasEdit && hasShow ? 'show' : 'edit'}\r\n                    {...rest}\r\n                />\r\n            );\r\n        }, // eslint-disable-line react/display-name\r\n        representation: (props, children) => `        <Datagrid rowClick=\"${\r\n            !props.hasEdit && props.hasShow ? 'show' : 'edit'\r\n        }\">\r\n${children.map(child => `            ${child.getRepresentation()}`).join('\\n')}\r\n        </Datagrid>`,\r\n    },\r\n    array: {\r\n        // eslint-disable-next-line react/display-name\r\n        component: ({ children, ...props }) => (\r\n            <ArrayField {...props}>\r\n                <SingleFieldList>\r\n                    <ChipField\r\n                        source={children.length > 0 && children[0].props.source}\r\n                    />\r\n                </SingleFieldList>\r\n            </ArrayField>\r\n        ),\r\n        representation: (props, children) =>\r\n            `<ArrayField source=\"${\r\n                props.source\r\n            }\"><SingleFieldList><ChipField source=\"${\r\n                children.length > 0 && children[0].getProps().source\r\n            }\" /></SingleFieldList></ArrayField>`,\r\n    },\r\n    boolean: {\r\n        component: BooleanField,\r\n        representation: props => `<BooleanField source=\"${props.source}\" />`,\r\n    },\r\n    date: {\r\n        component: DateField,\r\n        representation: props => `<DateField source=\"${props.source}\" />`,\r\n    },\r\n    email: {\r\n        component: EmailField,\r\n        representation: props => `<EmailField source=\"${props.source}\" />`,\r\n    },\r\n    id: {\r\n        component: TextField,\r\n        representation: props => `<TextField source=\"${props.source}\" />`,\r\n    },\r\n    number: {\r\n        component: NumberField,\r\n        representation: props => `<NumberField source=\"${props.source}\" />`,\r\n    },\r\n    reference: {\r\n        component: ReferenceField,\r\n        representation: props =>\r\n            `<ReferenceField source=\"${props.source}\" reference=\"${props.reference}\" />`,\r\n    },\r\n    referenceChild: {\r\n        component: () => <TextField source=\"id\" />, // eslint-disable-line react/display-name\r\n        representation: () => `<TextField source=\"id\" />`,\r\n    },\r\n    referenceArray: {\r\n        component: ReferenceArrayField,\r\n        representation: props =>\r\n            `<ReferenceArrayField source=\"${props.source}\" reference=\"${props.reference}\" />`,\r\n    },\r\n    referenceArrayChild: {\r\n        component: () => (\r\n            <SingleFieldList>\r\n                <ChipField source=\"id\" />\r\n            </SingleFieldList>\r\n        ), // eslint-disable-line react/display-name\r\n        representation: () =>\r\n            `<SingleFieldList><ChipField source=\"id\" /></SingleFieldList>`,\r\n    },\r\n    richText: undefined, // never display a rich text field in a datagrid\r\n    string: {\r\n        component: TextField,\r\n        representation: props => `<TextField source=\"${props.source}\" />`,\r\n    },\r\n    url: {\r\n        component: UrlField,\r\n        representation: props => `<UrlField source=\"${props.source}\" />`,\r\n    },\r\n};\r\n", "import * as React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport inflection from 'inflection';\r\nimport {\r\n    ListBase,\r\n    getElementsFromRecords,\r\n    InferredElement,\r\n    useListContext,\r\n    useResourceContext,\r\n    RaRecord,\r\n    useResourceDefinition,\r\n} from 'ra-core';\r\n\r\nimport { ListProps } from './List';\r\nimport { ListView, ListViewProps } from './ListView';\r\nimport { listFieldTypes } from './listFieldTypes';\r\n\r\n/**\r\n * List component rendering a <Datagrid> based on the result of the\r\n * dataProvider.getList() call.\r\n *\r\n * The result (choice and type of columns) isn't configurable, but the\r\n * <ListGuesser> outputs the <Datagrid> it has guessed to the console so that\r\n * developers can start from there.\r\n *\r\n * To be used as the list prop of a <Resource>.\r\n *\r\n * @example\r\n *\r\n * import { Admin, Resource, ListGuesser } from 'react-admin';\r\n *\r\n * const App = () => (\r\n *     <Admin dataProvider={myDataProvider}>\r\n *         <Resource name=\"posts\" list={ListGuesser} />\r\n *     </Admin>\r\n * );\r\n */\r\nexport const ListGuesser = <RecordType extends RaRecord = any>(\r\n    props: Omit<ListProps, 'children'>\r\n) => {\r\n    const {\r\n        debounce,\r\n        disableAuthentication,\r\n        disableSyncWithLocation,\r\n        exporter,\r\n        filter,\r\n        filterDefaultValues,\r\n        perPage,\r\n        queryOptions,\r\n        resource,\r\n        sort,\r\n        ...rest\r\n    } = props;\r\n    return (\r\n        <ListBase<RecordType>\r\n            debounce={debounce}\r\n            disableAuthentication={disableAuthentication}\r\n            disableSyncWithLocation={disableSyncWithLocation}\r\n            exporter={exporter}\r\n            filter={filter}\r\n            filterDefaultValues={filterDefaultValues}\r\n            perPage={perPage}\r\n            queryOptions={{ keepPreviousData: false }}\r\n            resource={resource}\r\n            sort={sort}\r\n        >\r\n            <ListViewGuesser {...rest} />\r\n        </ListBase>\r\n    );\r\n};\r\n\r\nconst ListViewGuesser = (props: Omit<ListViewProps, 'children'>) => {\r\n    const { data } = useListContext(props);\r\n    const resource = useResourceContext();\r\n    const { hasEdit, hasShow } = useResourceDefinition(props);\r\n    const [child, setChild] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setChild(null);\r\n    }, [resource]);\r\n\r\n    useEffect(() => {\r\n        if (data && data.length > 0 && !child) {\r\n            const inferredElements = getElementsFromRecords(\r\n                data,\r\n                listFieldTypes\r\n            );\r\n            const inferredChild = new InferredElement(\r\n                listFieldTypes.table,\r\n                { hasEdit, hasShow },\r\n                inferredElements\r\n            );\r\n            setChild(inferredChild.getElement());\r\n\r\n            if (process.env.NODE_ENV === 'production') return;\r\n\r\n            const representation = inferredChild.getRepresentation();\r\n            const components = ['List']\r\n                .concat(\r\n                    Array.from(\r\n                        new Set(\r\n                            Array.from(representation.matchAll(/<([^/\\s>]+)/g))\r\n                                .map(match => match[1])\r\n                                .filter(component => component !== 'span')\r\n                        )\r\n                    )\r\n                )\r\n                .sort();\r\n\r\n            // eslint-disable-next-line no-console\r\n            console.log(\r\n                `Guessed List:\r\n\r\nimport { ${components.join(', ')} } from 'react-admin';\r\n\r\nexport const ${inflection.capitalize(\r\n                    inflection.singularize(resource)\r\n                )}List = () => (\r\n    <List>\r\n${inferredChild.getRepresentation()}\r\n    </List>\r\n);`\r\n            );\r\n        }\r\n    }, [data, child, resource, hasEdit, hasShow]);\r\n\r\n    return <ListView {...props}>{child}</ListView>;\r\n};\r\n\r\nListViewGuesser.propTypes = ListView.propTypes;\r\n", "import * as React from 'react';\r\nimport { isElement } from 'react-is';\r\nimport { styled } from '@mui/material/styles';\r\nimport { isValidElement, ReactNode, ReactElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Avatar,\r\n    List,\r\n    ListProps,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    ListItemButton,\r\n    ListItemIcon,\r\n    ListItemProps,\r\n    ListItemSecondaryAction,\r\n    ListItemText,\r\n} from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n    Identifier,\r\n    RaRecord,\r\n    RecordContextProvider,\r\n    sanitizeListRestProps,\r\n    useListContext,\r\n    useResourceContext,\r\n    useCreatePath,\r\n    useTranslate,\r\n} from 'ra-core';\r\n\r\nimport { SimpleListLoading } from './SimpleListLoading';\r\nimport { ListNoResults } from '../ListNoResults';\r\n\r\n/**\r\n * The <SimpleList> component renders a list of records as a Material UI <List>.\r\n * It is usually used as a child of react-admin's <List> and <ReferenceManyField> components.\r\n *\r\n * Also widely used on Mobile.\r\n *\r\n * Props:\r\n * - primaryText: function returning a React element (or some text) based on the record\r\n * - secondaryText: same\r\n * - tertiaryText: same\r\n * - leftAvatar: function returning a React element based on the record\r\n * - leftIcon: same\r\n * - rightAvatar: same\r\n * - rightIcon: same\r\n * - linkType: 'edit' or 'show', or a function returning 'edit' or 'show' based on the record\r\n * - rowStyle: function returning a style object based on (record, index)\r\n *\r\n * @example // Display all posts as a List\r\n * const postRowStyle = (record, index) => ({\r\n *     backgroundColor: record.views >= 500 ? '#efe' : 'white',\r\n * });\r\n * export const PostList = () => (\r\n *     <List>\r\n *         <SimpleList\r\n *             primaryText={record => record.title}\r\n *             secondaryText={record => `${record.views} views`}\r\n *             tertiaryText={record =>\r\n *                 new Date(record.published_at).toLocaleDateString()\r\n *             }\r\n *             rowStyle={postRowStyle}\r\n *          />\r\n *     </List>\r\n * );\r\n */\r\nexport const SimpleList = <RecordType extends RaRecord = any>(\r\n    props: SimpleListProps<RecordType>\r\n) => {\r\n    const {\r\n        className,\r\n        empty = DefaultEmpty,\r\n        hasBulkActions,\r\n        leftAvatar,\r\n        leftIcon,\r\n        linkType = 'edit',\r\n        primaryText,\r\n        rightAvatar,\r\n        rightIcon,\r\n        secondaryText,\r\n        tertiaryText,\r\n        rowStyle,\r\n        ...rest\r\n    } = props;\r\n    const { data, isLoading, total } = useListContext<RecordType>(props);\r\n    const resource = useResourceContext(props);\r\n    const translate = useTranslate();\r\n\r\n    if (isLoading === true) {\r\n        return (\r\n            <SimpleListLoading\r\n                className={className}\r\n                hasLeftAvatarOrIcon={!!leftIcon || !!leftAvatar}\r\n                hasRightAvatarOrIcon={!!rightIcon || !!rightAvatar}\r\n                hasSecondaryText={!!secondaryText}\r\n                hasTertiaryText={!!tertiaryText}\r\n            />\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Once loaded, the data for the list may be empty. Instead of\r\n     * displaying the table header with zero data rows,\r\n     * the SimpleList the empty component.\r\n     */\r\n    if (data == null || data.length === 0 || total === 0) {\r\n        if (empty) {\r\n            return empty;\r\n        }\r\n\r\n        return null;\r\n    }\r\n    const renderAvatar = (\r\n        record: RecordType,\r\n        avatarCallback: FunctionToElement<RecordType>\r\n    ) => {\r\n        const avatarValue = avatarCallback(record, record.id);\r\n        if (\r\n            typeof avatarValue === 'string' &&\r\n            (avatarValue.startsWith('http') || avatarValue.startsWith('data:'))\r\n        ) {\r\n            return <Avatar src={avatarValue} />;\r\n        } else {\r\n            return <Avatar>{avatarValue}</Avatar>;\r\n        }\r\n    };\r\n\r\n    return (total == null && data?.length > 0) || total > 0 ? (\r\n        <Root className={className} {...sanitizeListRestProps(rest)}>\r\n            {data.map((record, rowIndex) => (\r\n                <RecordContextProvider key={record.id} value={record}>\r\n                    <ListItem disablePadding>\r\n                        <LinkOrNot\r\n                            linkType={linkType}\r\n                            resource={resource}\r\n                            id={record.id}\r\n                            record={record}\r\n                            style={\r\n                                rowStyle\r\n                                    ? rowStyle(record, rowIndex)\r\n                                    : undefined\r\n                            }\r\n                        >\r\n                            {leftIcon && (\r\n                                <ListItemIcon>\r\n                                    {leftIcon(record, record.id)}\r\n                                </ListItemIcon>\r\n                            )}\r\n                            {leftAvatar && (\r\n                                <ListItemAvatar>\r\n                                    {renderAvatar(record, leftAvatar)}\r\n                                </ListItemAvatar>\r\n                            )}\r\n                            <ListItemText\r\n                                primary={\r\n                                    <div>\r\n                                        {typeof primaryText === 'string'\r\n                                            ? translate(primaryText, {\r\n                                                  ...record,\r\n                                                  _: primaryText,\r\n                                              })\r\n                                            : isElement(primaryText)\r\n                                            ? primaryText\r\n                                            : primaryText(record, record.id)}\r\n\r\n                                        {!!tertiaryText &&\r\n                                            (isValidElement(tertiaryText) ? (\r\n                                                tertiaryText\r\n                                            ) : (\r\n                                                <span\r\n                                                    className={\r\n                                                        SimpleListClasses.tertiary\r\n                                                    }\r\n                                                >\r\n                                                    {typeof tertiaryText ===\r\n                                                    'string'\r\n                                                        ? translate(\r\n                                                              tertiaryText,\r\n                                                              {\r\n                                                                  ...record,\r\n                                                                  _: tertiaryText,\r\n                                                              }\r\n                                                          )\r\n                                                        : isElement(\r\n                                                              tertiaryText\r\n                                                          )\r\n                                                        ? tertiaryText\r\n                                                        : tertiaryText(\r\n                                                              record,\r\n                                                              record.id\r\n                                                          )}\r\n                                                </span>\r\n                                            ))}\r\n                                    </div>\r\n                                }\r\n                                secondary={\r\n                                    !!secondaryText &&\r\n                                    (typeof secondaryText === 'string'\r\n                                        ? translate(secondaryText, {\r\n                                              ...record,\r\n                                              _: secondaryText,\r\n                                          })\r\n                                        : isElement(secondaryText)\r\n                                        ? secondaryText\r\n                                        : secondaryText(record, record.id))\r\n                                }\r\n                            />\r\n                            {(rightAvatar || rightIcon) && (\r\n                                <ListItemSecondaryAction>\r\n                                    {rightAvatar && (\r\n                                        <Avatar>\r\n                                            {renderAvatar(record, rightAvatar)}\r\n                                        </Avatar>\r\n                                    )}\r\n                                    {rightIcon && (\r\n                                        <ListItemIcon>\r\n                                            {rightIcon(record, record.id)}\r\n                                        </ListItemIcon>\r\n                                    )}\r\n                                </ListItemSecondaryAction>\r\n                            )}\r\n                        </LinkOrNot>\r\n                    </ListItem>\r\n                </RecordContextProvider>\r\n            ))}\r\n        </Root>\r\n    ) : null;\r\n};\r\n\r\nSimpleList.propTypes = {\r\n    className: PropTypes.string,\r\n    leftAvatar: PropTypes.func,\r\n    leftIcon: PropTypes.func,\r\n    linkType: PropTypes.oneOfType([\r\n        PropTypes.string,\r\n        PropTypes.bool,\r\n        PropTypes.func,\r\n    ]),\r\n    primaryText: PropTypes.oneOfType([\r\n        PropTypes.func,\r\n        PropTypes.element,\r\n        PropTypes.string,\r\n    ]),\r\n    rightAvatar: PropTypes.func,\r\n    rightIcon: PropTypes.func,\r\n    secondaryText: PropTypes.oneOfType([\r\n        PropTypes.func,\r\n        PropTypes.element,\r\n        PropTypes.string,\r\n    ]),\r\n    tertiaryText: PropTypes.oneOfType([\r\n        PropTypes.func,\r\n        PropTypes.element,\r\n        PropTypes.string,\r\n    ]),\r\n    rowStyle: PropTypes.func,\r\n};\r\n\r\nexport type FunctionToElement<RecordType extends RaRecord = any> = (\r\n    record: RecordType,\r\n    id: Identifier\r\n) => ReactNode;\r\n\r\nexport interface SimpleListProps<RecordType extends RaRecord = any>\r\n    extends Omit<ListProps, 'classes'> {\r\n    className?: string;\r\n    empty?: ReactElement;\r\n    hasBulkActions?: boolean;\r\n    leftAvatar?: FunctionToElement<RecordType>;\r\n    leftIcon?: FunctionToElement<RecordType>;\r\n    primaryText?: FunctionToElement<RecordType> | ReactElement | string;\r\n    linkType?: string | FunctionLinkType | false;\r\n    rightAvatar?: FunctionToElement<RecordType>;\r\n    rightIcon?: FunctionToElement<RecordType>;\r\n    secondaryText?: FunctionToElement<RecordType> | ReactElement | string;\r\n    tertiaryText?: FunctionToElement<RecordType> | ReactElement | string;\r\n    rowStyle?: (record: RecordType, index: number) => any;\r\n    // can be injected when using the component without context\r\n    resource?: string;\r\n    data?: RecordType[];\r\n    isLoading?: boolean;\r\n    isLoaded?: boolean;\r\n    total?: number;\r\n}\r\n\r\nconst LinkOrNot = (\r\n    props: LinkOrNotProps & Omit<ListItemProps, 'button' | 'component' | 'id'>\r\n) => {\r\n    const {\r\n        classes: classesOverride,\r\n        linkType,\r\n        resource,\r\n        id,\r\n        children,\r\n        record,\r\n        ...rest\r\n    } = props;\r\n    const createPath = useCreatePath();\r\n    const type =\r\n        typeof linkType === 'function' ? linkType(record, id) : linkType;\r\n\r\n    return type === false ? (\r\n        <ListItemText\r\n            // @ts-ignore\r\n            component=\"div\"\r\n            {...rest}\r\n        >\r\n            {children}\r\n        </ListItemText>\r\n    ) : (\r\n        // @ts-ignore\r\n        <ListItemButton\r\n            component={Link}\r\n            to={createPath({ resource, id, type })}\r\n            {...rest}\r\n        >\r\n            {children}\r\n        </ListItemButton>\r\n    );\r\n};\r\n\r\nexport type FunctionLinkType = (record: RaRecord, id: Identifier) => string;\r\n\r\nexport interface LinkOrNotProps {\r\n    linkType?: string | FunctionLinkType | false;\r\n    resource: string;\r\n    id: Identifier;\r\n    record: RaRecord;\r\n    children: ReactNode;\r\n}\r\n\r\nconst PREFIX = 'RaSimpleList';\r\n\r\nexport const SimpleListClasses = {\r\n    tertiary: `${PREFIX}-tertiary`,\r\n};\r\n\r\nconst Root = styled(List, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})({\r\n    [`& .${SimpleListClasses.tertiary}`]: { float: 'right', opacity: 0.541176 },\r\n});\r\n\r\nconst DefaultEmpty = <ListNoResults />;\r\n", "import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled } from '@mui/material/styles';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport {\r\n    List,\r\n    ListProps,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    ListItemSecondaryAction,\r\n    ListItemText,\r\n} from '@mui/material';\r\nimport { useTimeout } from 'ra-core';\r\n\r\nimport { Placeholder } from '../Placeholder';\r\n\r\nexport const SimpleListLoading = (props: Props & ListProps) => {\r\n    const {\r\n        className,\r\n        hasLeftAvatarOrIcon,\r\n        hasRightAvatarOrIcon,\r\n        hasSecondaryText,\r\n        hasTertiaryText,\r\n        nbFakeLines = 5,\r\n        ...rest\r\n    } = props;\r\n\r\n    const oneSecondHasPassed = useTimeout(1000);\r\n\r\n    return oneSecondHasPassed ? (\r\n        <StyledList className={className} {...rest}>\r\n            {times(nbFakeLines, key => (\r\n                <ListItem key={key}>\r\n                    {hasLeftAvatarOrIcon && (\r\n                        <ListItemAvatar>\r\n                            <Avatar>&nbsp;</Avatar>\r\n                        </ListItemAvatar>\r\n                    )}\r\n                    <ListItemText\r\n                        primary={\r\n                            <div>\r\n                                <Placeholder\r\n                                    className={SimpleListLoadingClasses.primary}\r\n                                />\r\n                                {hasTertiaryText && (\r\n                                    <span\r\n                                        className={\r\n                                            SimpleListLoadingClasses.tertiary\r\n                                        }\r\n                                    >\r\n                                        <Placeholder />\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                        }\r\n                        secondary={\r\n                            hasSecondaryText ? <Placeholder /> : undefined\r\n                        }\r\n                    />\r\n                    {hasRightAvatarOrIcon && (\r\n                        <ListItemSecondaryAction>\r\n                            <Avatar>&nbsp;</Avatar>\r\n                        </ListItemSecondaryAction>\r\n                    )}\r\n                </ListItem>\r\n            ))}\r\n        </StyledList>\r\n    ) : null;\r\n};\r\n\r\nSimpleListLoading.propTypes = {\r\n    className: PropTypes.string,\r\n    hasLeftAvatarOrIcon: PropTypes.bool,\r\n    hasRightAvatarOrIcon: PropTypes.bool,\r\n    hasSecondaryText: PropTypes.bool,\r\n    hasTertiaryText: PropTypes.bool,\r\n    nbFakeLines: PropTypes.number,\r\n};\r\n\r\nconst PREFIX = 'RaSimpleListLoading';\r\n\r\nexport const SimpleListLoadingClasses = {\r\n    primary: `${PREFIX}-primary`,\r\n    tertiary: `${PREFIX}-tertiary`,\r\n};\r\n\r\nconst StyledList = styled(List, {\r\n    name: PREFIX,\r\n    overridesResolver: (props, styles) => styles.root,\r\n})(({ theme }) => ({\r\n    [`& .${SimpleListLoadingClasses.primary}`]: {\r\n        width: '30vw',\r\n        display: 'inline-block',\r\n        marginBottom: theme.spacing(),\r\n    },\r\n\r\n    [`& .${SimpleListLoadingClasses.tertiary}`]: {\r\n        float: 'right',\r\n        opacity: 0.541176,\r\n        minWidth: '10vw',\r\n    },\r\n}));\r\n\r\nconst times = (nbChildren, fn) =>\r\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\r\n\r\ninterface Props {\r\n    className?: string;\r\n    hasLeftAvatarOrIcon?: boolean;\r\n    hasRightAvatarOrIcon?: boolean;\r\n    hasSecondaryText?: boolean;\r\n    hasTertiaryText?: boolean;\r\n    nbFakeLines?: number;\r\n}\r\n", "import * as React from 'react';\r\nimport { useResourceContext, usePreference } from 'ra-core';\r\n\r\nimport { Configurable } from '../../preferences';\r\nimport { SimpleList, SimpleListProps } from './SimpleList';\r\nimport { SimpleListEditor } from './SimpleListEditor';\r\n\r\nexport const SimpleListConfigurable = ({\r\n    preferenceKey,\r\n    ...props\r\n}: SimpleListProps & { preferenceKey?: string }) => {\r\n    const resource = useResourceContext(props);\r\n    return (\r\n        <Configurable\r\n            editor={<SimpleListEditor />}\r\n            preferenceKey={preferenceKey || `${resource}.SimpleList`}\r\n            sx={{ display: 'block' }}\r\n        >\r\n            <SimpleListWithPreferences {...props} />\r\n        </Configurable>\r\n    );\r\n};\r\n\r\nconst SimpleListWithPreferences = (props: SimpleListProps) => {\r\n    const [primaryTextFromStore] = usePreference('primaryText');\r\n    const [secondaryTextFromStore] = usePreference('secondaryText');\r\n    const [tertiaryTextFromStore] = usePreference('tertiaryText');\r\n    return (\r\n        <SimpleList\r\n            {...props}\r\n            primaryText={primaryTextFromStore || props.primaryText}\r\n            secondaryText={secondaryTextFromStore || props.secondaryText}\r\n            tertiaryText={tertiaryTextFromStore || props.tertiaryText}\r\n        />\r\n    );\r\n};\r\n\r\nSimpleListConfigurable.propTypes = SimpleList.propTypes;\r\n", "import * as React from 'react';\r\nimport { TextField } from '@mui/material';\r\nimport {\r\n    useTranslate,\r\n    usePreferenceInput,\r\n    useSetInspectorTitle,\r\n} from 'ra-core';\r\n\r\n/**\r\n * A component which provides a configuration UI to tweak the SimpleList\r\n *\r\n * @param {SimpleListEditorProps} props\r\n * @param props.defaultPrimaryText The SimpleList columns\r\n * @param {String} props.resource The resource\r\n * @param {String} props.preferenceKey The key of the columns preferences\r\n */\r\nexport const SimpleListEditor = (props: SimpleListEditorProps) => {\r\n    const {\r\n        defaultPrimaryText = '',\r\n        defaultSecondaryText = '',\r\n        defaultTertiatyText = '',\r\n    } = props;\r\n\r\n    useSetInspectorTitle('ra.inspector.SimpleList.title', { _: 'List' });\r\n    const translate = useTranslate();\r\n\r\n    const primaryTextField = usePreferenceInput(\r\n        'primaryText',\r\n        defaultPrimaryText\r\n    );\r\n    const secondaryTextField = usePreferenceInput(\r\n        'secondaryText',\r\n        defaultSecondaryText\r\n    );\r\n    const tertiaryTextField = usePreferenceInput(\r\n        'tertiaryText',\r\n        defaultTertiatyText\r\n    );\r\n\r\n    return (\r\n        <form>\r\n            <TextField\r\n                label={translate('ra.configurable.SimpleList.primaryText', {\r\n                    _: 'Primary Text',\r\n                })}\r\n                {...primaryTextField}\r\n                variant=\"filled\"\r\n                size=\"small\"\r\n                fullWidth\r\n                sx={{ mb: 1 }}\r\n            />\r\n            <TextField\r\n                label={translate('ra.configurable.SimpleList.secondaryText', {\r\n                    _: 'Secondary Text',\r\n                })}\r\n                {...secondaryTextField}\r\n                variant=\"filled\"\r\n                size=\"small\"\r\n                fullWidth\r\n                sx={{ mb: 1 }}\r\n            />\r\n            <TextField\r\n                label={translate('ra.configurable.SimpleList.tertiaryText', {\r\n                    _: 'Tertiary Text',\r\n                })}\r\n                {...tertiaryTextField}\r\n                variant=\"filled\"\r\n                size=\"small\"\r\n                fullWidth\r\n                sx={{ mb: 1 }}\r\n            />\r\n        </form>\r\n    );\r\n};\r\n\r\nexport interface SimpleListEditorProps {\r\n    defaultPrimaryText?: string;\r\n    defaultSecondaryText?: string;\r\n    defaultTertiatyText?: string;\r\n}\r\n", "import * as React from 'react';\r\nimport { createElement, ComponentType } from 'react';\r\nimport { CoreAdminUI, CoreAdminUIProps } from 'ra-core';\r\nimport { ScopedCssBaseline } from '@mui/material';\r\n\r\nimport {\r\n    Layout as DefaultLayout,\r\n    LoadingPage,\r\n    NotFound,\r\n    Notification,\r\n} from './layout';\r\nimport { Login, AuthCallback } from './auth';\r\n\r\nexport const AdminUI = ({\r\n    layout = DefaultLayout,\r\n    catchAll = NotFound,\r\n    loading = LoadingPage,\r\n    loginPage = Login,\r\n    authCallbackPage = AuthCallback,\r\n    notification = Notification,\r\n    ...props\r\n}: AdminUIProps) => (\r\n    <ScopedCssBaseline enableColorScheme>\r\n        <CoreAdminUI\r\n            layout={layout}\r\n            catchAll={catchAll}\r\n            loading={loading}\r\n            loginPage={loginPage}\r\n            authCallbackPage={authCallbackPage}\r\n            {...props}\r\n        />\r\n        {createElement(notification)}\r\n    </ScopedCssBaseline>\r\n);\r\n\r\nexport interface AdminUIProps extends CoreAdminUIProps {\r\n    notification?: ComponentType;\r\n}\r\n", "import * as React from 'react';\r\nimport { CoreAdminContext, CoreAdminContextProps } from 'ra-core';\r\n\r\nimport { defaultLightTheme } from './defaultTheme';\r\nimport { ThemeProvider, ThemesContext, RaThemeOptions } from './layout/Theme';\r\n\r\nexport const AdminContext = (props: AdminContextProps) => {\r\n    const {\r\n        theme,\r\n        lightTheme = defaultLightTheme,\r\n        darkTheme,\r\n        defaultTheme,\r\n        children,\r\n        ...rest\r\n    } = props;\r\n    return (\r\n        <CoreAdminContext {...rest}>\r\n            <ThemesContext.Provider\r\n                value={{\r\n                    lightTheme: theme || lightTheme,\r\n                    darkTheme,\r\n                    defaultTheme,\r\n                }}\r\n            >\r\n                <ThemeProvider>{children}</ThemeProvider>\r\n            </ThemesContext.Provider>\r\n        </CoreAdminContext>\r\n    );\r\n};\r\n\r\nexport interface AdminContextProps extends CoreAdminContextProps {\r\n    lightTheme?: RaThemeOptions;\r\n    darkTheme?: RaThemeOptions;\r\n    defaultTheme?: 'light' | 'dark';\r\n}\r\n\r\nAdminContext.displayName = 'AdminContext';\r\n", "import { TranslationMessages } from 'ra-core';\r\n\r\nconst englishMessages: TranslationMessages = {\r\n    ra: {\r\n        action: {\r\n            add_filter: 'Add filter',\r\n            add: 'Add',\r\n            back: 'Go Back',\r\n            bulk_actions: '1 item selected |||| %{smart_count} items selected',\r\n            cancel: 'Cancel',\r\n            clear_array_input: 'Clear the list',\r\n            clear_input_value: 'Clear value',\r\n            clone: 'Clone',\r\n            confirm: 'Confirm',\r\n            create: 'Create',\r\n            create_item: 'Create %{item}',\r\n            delete: 'Delete',\r\n            edit: 'Edit',\r\n            export: 'Export',\r\n            list: 'List',\r\n            refresh: 'Refresh',\r\n            remove_filter: 'Remove this filter',\r\n            remove_all_filters: 'Remove all filters',\r\n            remove: 'Remove',\r\n            save: 'Save',\r\n            search: 'Search',\r\n            select_all: 'Select all',\r\n            select_row: 'Select this row',\r\n            show: 'Show',\r\n            sort: 'Sort',\r\n            undo: 'Undo',\r\n            unselect: 'Unselect',\r\n            expand: 'Expand',\r\n            close: 'Close',\r\n            open_menu: 'Open menu',\r\n            close_menu: 'Close menu',\r\n            update: 'Update',\r\n            move_up: 'Move up',\r\n            move_down: 'Move down',\r\n            open: 'Open',\r\n            toggle_theme: 'Toggle Theme',\r\n            select_columns: 'Columns',\r\n        },\r\n        boolean: {\r\n            true: 'Yes',\r\n            false: 'No',\r\n            null: ' ',\r\n        },\r\n        page: {\r\n            create: 'Create %{name}',\r\n            dashboard: 'Dashboard',\r\n            edit: '%{name} %{recordRepresentation}',\r\n            error: 'Something went wrong',\r\n            list: '%{name}',\r\n            loading: 'Loading',\r\n            not_found: 'Not Found',\r\n            show: '%{name} %{recordRepresentation}',\r\n            empty: 'No %{name} yet.',\r\n            invite: 'Do you want to add one?',\r\n        },\r\n        input: {\r\n            file: {\r\n                upload_several:\r\n                    'Drop some files to upload, or click to select one.',\r\n                upload_single: 'Drop a file to upload, or click to select it.',\r\n            },\r\n            image: {\r\n                upload_several:\r\n                    'Drop some pictures to upload, or click to select one.',\r\n                upload_single:\r\n                    'Drop a picture to upload, or click to select it.',\r\n            },\r\n            references: {\r\n                all_missing: 'Unable to find references data.',\r\n                many_missing:\r\n                    'At least one of the associated references no longer appears to be available.',\r\n                single_missing:\r\n                    'Associated reference no longer appears to be available.',\r\n            },\r\n            password: {\r\n                toggle_visible: 'Hide password',\r\n                toggle_hidden: 'Show password',\r\n            },\r\n        },\r\n        message: {\r\n            about: 'About',\r\n            are_you_sure: 'Are you sure?',\r\n            auth_error:\r\n                'An error occurred while validating the authentication token.',\r\n            bulk_delete_content:\r\n                'Are you sure you want to delete this %{name}? |||| Are you sure you want to delete these %{smart_count} items?',\r\n            bulk_delete_title:\r\n                'Delete %{name} |||| Delete %{smart_count} %{name}',\r\n            bulk_update_content:\r\n                'Are you sure you want to update this %{name}? |||| Are you sure you want to update these %{smart_count} items?',\r\n            bulk_update_title:\r\n                'Update %{name} |||| Update %{smart_count} %{name}',\r\n            clear_array_input: 'Are you sure you want to clear the whole list?',\r\n            delete_content: 'Are you sure you want to delete this item?',\r\n            delete_title: 'Delete %{name} #%{id}',\r\n            details: 'Details',\r\n            error:\r\n                \"A client error occurred and your request couldn't be completed.\",\r\n\r\n            invalid_form: 'The form is not valid. Please check for errors',\r\n            loading: 'The page is loading, just a moment please',\r\n            no: 'No',\r\n            not_found:\r\n                'Either you typed a wrong URL, or you followed a bad link.',\r\n            yes: 'Yes',\r\n            unsaved_changes:\r\n                \"Some of your changes weren't saved. Are you sure you want to ignore them?\",\r\n        },\r\n        navigation: {\r\n            no_results: 'No results found',\r\n            no_more_results:\r\n                'The page number %{page} is out of boundaries. Try the previous page.',\r\n            page_out_of_boundaries: 'Page number %{page} out of boundaries',\r\n            page_out_from_end: 'Cannot go after last page',\r\n            page_out_from_begin: 'Cannot go before page 1',\r\n            page_range_info: '%{offsetBegin}-%{offsetEnd} of %{total}',\r\n            partial_page_range_info:\r\n                '%{offsetBegin}-%{offsetEnd} of more than %{offsetEnd}',\r\n            current_page: 'Page %{page}',\r\n            page: 'Go to page %{page}',\r\n            first: 'Go to first page',\r\n            last: 'Go to last page',\r\n            next: 'Go to next page',\r\n            previous: 'Go to previous page',\r\n            page_rows_per_page: 'Rows per page:',\r\n            skip_nav: 'Skip to content',\r\n        },\r\n        sort: {\r\n            sort_by: 'Sort by %{field} %{order}',\r\n            ASC: 'ascending',\r\n            DESC: 'descending',\r\n        },\r\n        auth: {\r\n            auth_check_error: 'Please login to continue',\r\n            user_menu: 'Profile',\r\n            username: 'Username',\r\n            password: 'Password',\r\n            sign_in: 'Sign in',\r\n            sign_in_error: 'Authentication failed, please retry',\r\n            logout: 'Logout',\r\n        },\r\n        notification: {\r\n            updated: 'Element updated |||| %{smart_count} elements updated',\r\n            created: 'Element created',\r\n            deleted: 'Element deleted |||| %{smart_count} elements deleted',\r\n            bad_item: 'Incorrect element',\r\n            item_doesnt_exist: 'Element does not exist',\r\n            http_error: 'Server communication error',\r\n            data_provider_error:\r\n                'dataProvider error. Check the console for details.',\r\n            i18n_error:\r\n                'Cannot load the translations for the specified language',\r\n            canceled: 'Action cancelled',\r\n            logged_out: 'Your session has ended, please reconnect.',\r\n            not_authorized: \"You're not authorized to access this resource.\",\r\n        },\r\n        validation: {\r\n            required: 'Required',\r\n            minLength: 'Must be %{min} characters at least',\r\n            maxLength: 'Must be %{max} characters or less',\r\n            minValue: 'Must be at least %{min}',\r\n            maxValue: 'Must be %{max} or less',\r\n            number: 'Must be a number',\r\n            email: 'Must be a valid email',\r\n            oneOf: 'Must be one of: %{options}',\r\n            regex: 'Must match a specific format (regexp): %{pattern}',\r\n            unique: 'Must be unique',\r\n        },\r\n        saved_queries: {\r\n            label: 'Saved queries',\r\n            query_name: 'Query name',\r\n            new_label: 'Save current query...',\r\n            new_dialog_title: 'Save current query as',\r\n            remove_label: 'Remove saved query',\r\n            remove_label_with_name: 'Remove query \"%{name}\"',\r\n            remove_dialog_title: 'Remove saved query?',\r\n            remove_message:\r\n                'Are you sure you want to remove that item from your list of saved queries?',\r\n            help: 'Filter the list and save this query for later',\r\n        },\r\n        configurable: {\r\n            customize: 'Customize',\r\n            configureMode: 'Configure this page',\r\n            inspector: {\r\n                title: 'Inspector',\r\n                content: 'Hover the application UI elements to configure them',\r\n                reset: 'Reset Settings',\r\n                hideAll: 'Hide All',\r\n                showAll: 'Show All',\r\n            },\r\n            Datagrid: {\r\n                title: 'Datagrid',\r\n                unlabeled: 'Unlabeled column #%{column}',\r\n            },\r\n            SimpleForm: {\r\n                title: 'Form',\r\n                unlabeled: 'Unlabeled input #%{input}',\r\n            },\r\n            SimpleList: {\r\n                title: 'List',\r\n                primaryText: 'Primary text',\r\n                secondaryText: 'Secondary text',\r\n                tertiaryText: 'Tertiary text',\r\n            },\r\n        },\r\n    },\r\n};\r\n\r\nexport default englishMessages;\r\n", "import defaultMessages from 'ra-language-english';\r\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\r\n\r\nexport const defaultI18nProvider = polyglotI18nProvider(\r\n    () => defaultMessages,\r\n    'en',\r\n    [{ name: 'en', value: 'English' }],\r\n    { allowMissing: true }\r\n);\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA,QAAI,aAAa,OAAO,UAAU,YAAY,UAAU,OAAO,WAAW,UAAU;AAEpF,WAAO,UAAU;AAAA;AAAA;;;ACHjB;AAAA;AAAA,QAAI,aAAa;AAGjB,QAAI,WAAW,OAAO,QAAQ,YAAY,QAAQ,KAAK,WAAW,UAAU;AAG5E,QAAI,OAAO,cAAc,YAAY,SAAS,aAAa,EAAE;AAE7D,WAAO,UAAU;AAAA;AAAA;;;ACRjB;AAAA;AAAA,QAAI,OAAO;AAGX,QAAIA,UAAS,KAAK;AAElB,WAAO,UAAUA;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAIC,UAAS;AAGb,QAAI,cAAc,OAAO;AAGzB,QAAIC,kBAAiB,YAAY;AAOjC,QAAI,uBAAuB,YAAY;AAGvC,QAAI,iBAAiBD,UAASA,QAAO,cAAc;AASnD,aAAS,UAAU,OAAO;AACxB,UAAI,QAAQC,gBAAe,KAAK,OAAO,cAAc,GACjD,MAAM,MAAM,cAAc;AAE9B,UAAI;AACF,cAAM,cAAc,IAAI;AACxB,YAAI,WAAW;AAAA,MACjB,SAAS,GAAG;AAAA,MAAC;AAEb,UAAI,SAAS,qBAAqB,KAAK,KAAK;AAC5C,UAAI,UAAU;AACZ,YAAI,OAAO;AACT,gBAAM,cAAc,IAAI;AAAA,QAC1B,OAAO;AACL,iBAAO,MAAM,cAAc;AAAA,QAC7B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7CjB;AAAA;AACA,QAAI,cAAc,OAAO;AAOzB,QAAI,uBAAuB,YAAY;AASvC,aAAS,eAAe,OAAO;AAC7B,aAAO,qBAAqB,KAAK,KAAK;AAAA,IACxC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrBjB;AAAA;AAAA,QAAIC,UAAS;AAAb,QACI,YAAY;AADhB,QAEI,iBAAiB;AAGrB,QAAI,UAAU;AAAd,QACI,eAAe;AAGnB,QAAI,iBAAiBA,UAASA,QAAO,cAAc;AASnD,aAAS,WAAW,OAAO;AACzB,UAAI,SAAS,MAAM;AACjB,eAAO,UAAU,SAAY,eAAe;AAAA,MAC9C;AACA,aAAQ,kBAAkB,kBAAkB,OAAO,KAAK,IACpD,UAAU,KAAK,IACf,eAAe,KAAK;AAAA,IAC1B;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC3BjB;AAAA;AAyBA,aAASC,UAAS,OAAO;AACvB,UAAI,OAAO,OAAO;AAClB,aAAO,SAAS,SAAS,QAAQ,YAAY,QAAQ;AAAA,IACvD;AAEA,WAAO,UAAUA;AAAA;AAAA;;;AC9BjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACIC,YAAW;AAGf,QAAI,WAAW;AAAf,QACI,UAAU;AADd,QAEI,SAAS;AAFb,QAGI,WAAW;AAmBf,aAASC,YAAW,OAAO;AACzB,UAAI,CAACD,UAAS,KAAK,GAAG;AACpB,eAAO;AAAA,MACT;AAGA,UAAI,MAAM,WAAW,KAAK;AAC1B,aAAO,OAAO,WAAW,OAAO,UAAU,OAAO,YAAY,OAAO;AAAA,IACtE;AAEA,WAAO,UAAUC;AAAA;AAAA;;;ACpCjB;AAAA;AAAA,QAAI,OAAO;AAGX,QAAI,aAAa,KAAK,oBAAoB;AAE1C,WAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAI,aAAa;AAGjB,QAAI,aAAc,WAAW;AAC3B,UAAI,MAAM,SAAS,KAAK,cAAc,WAAW,QAAQ,WAAW,KAAK,YAAY,EAAE;AACvF,aAAO,MAAO,mBAAmB,MAAO;AAAA,IAC1C,EAAE;AASF,aAAS,SAAS,MAAM;AACtB,aAAO,CAAC,CAAC,cAAe,cAAc;AAAA,IACxC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AACA,QAAI,YAAY,SAAS;AAGzB,QAAI,eAAe,UAAU;AAS7B,aAAS,SAAS,MAAM;AACtB,UAAI,QAAQ,MAAM;AAChB,YAAI;AACF,iBAAO,aAAa,KAAK,IAAI;AAAA,QAC/B,SAAS,GAAG;AAAA,QAAC;AACb,YAAI;AACF,iBAAQ,OAAO;AAAA,QACjB,SAAS,GAAG;AAAA,QAAC;AAAA,MACf;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzBjB;AAAA;AAAA,QAAIC,cAAa;AAAjB,QACI,WAAW;AADf,QAEIC,YAAW;AAFf,QAGI,WAAW;AAMf,QAAI,eAAe;AAGnB,QAAI,eAAe;AAGnB,QAAI,YAAY,SAAS;AAAzB,QACI,cAAc,OAAO;AAGzB,QAAI,eAAe,UAAU;AAG7B,QAAIC,kBAAiB,YAAY;AAGjC,QAAI,aAAa;AAAA,MAAO,MACtB,aAAa,KAAKA,eAAc,EAAE,QAAQ,cAAc,MAAM,EAC7D,QAAQ,0DAA0D,OAAO,IAAI;AAAA,IAChF;AAUA,aAAS,aAAa,OAAO;AAC3B,UAAI,CAACD,UAAS,KAAK,KAAK,SAAS,KAAK,GAAG;AACvC,eAAO;AAAA,MACT;AACA,UAAI,UAAUD,YAAW,KAAK,IAAI,aAAa;AAC/C,aAAO,QAAQ,KAAK,SAAS,KAAK,CAAC;AAAA,IACrC;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC9CjB;AAAA;AAQA,aAAS,SAAS,QAAQ,KAAK;AAC7B,aAAO,UAAU,OAAO,SAAY,OAAO,GAAG;AAAA,IAChD;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACZjB;AAAA;AAAA,QAAI,eAAe;AAAnB,QACI,WAAW;AAUf,aAAS,UAAU,QAAQ,KAAK;AAC9B,UAAI,QAAQ,SAAS,QAAQ,GAAG;AAChC,aAAO,aAAa,KAAK,IAAI,QAAQ;AAAA,IACvC;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AAAA,QAAI,YAAY;AAEhB,QAAI,iBAAkB,WAAW;AAC/B,UAAI;AACF,YAAI,OAAO,UAAU,QAAQ,gBAAgB;AAC7C,aAAK,CAAC,GAAG,IAAI,CAAC,CAAC;AACf,eAAO;AAAA,MACT,SAAS,GAAG;AAAA,MAAC;AAAA,IACf,EAAE;AAEF,WAAO,UAAU;AAAA;AAAA;;;ACVjB;AAAA;AAAA,QAAI,iBAAiB;AAWrB,aAAS,gBAAgB,QAAQ,KAAK,OAAO;AAC3C,UAAI,OAAO,eAAe,gBAAgB;AACxC,uBAAe,QAAQ,KAAK;AAAA,UAC1B,gBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,SAAS;AAAA,UACT,YAAY;AAAA,QACd,CAAC;AAAA,MACH,OAAO;AACL,eAAO,GAAG,IAAI;AAAA,MAChB;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACxBjB;AAAA;AAgCA,aAAS,GAAG,OAAO,OAAO;AACxB,aAAO,UAAU,SAAU,UAAU,SAAS,UAAU;AAAA,IAC1D;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpCjB;AAAA;AAAA,QAAI,kBAAkB;AAAtB,QACI,KAAK;AAGT,QAAI,cAAc,OAAO;AAGzB,QAAIG,kBAAiB,YAAY;AAYjC,aAAS,YAAY,QAAQ,KAAK,OAAO;AACvC,UAAI,WAAW,OAAO,GAAG;AACzB,UAAI,EAAEA,gBAAe,KAAK,QAAQ,GAAG,KAAK,GAAG,UAAU,KAAK,MACvD,UAAU,UAAa,EAAE,OAAO,SAAU;AAC7C,wBAAgB,QAAQ,KAAK,KAAK;AAAA,MACpC;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC3BjB;AAAA;AAuBA,QAAIC,WAAU,MAAM;AAEpB,WAAO,UAAUA;AAAA;AAAA;;;ACzBjB;AAAA;AAwBA,aAAS,aAAa,OAAO;AAC3B,aAAO,SAAS,QAAQ,OAAO,SAAS;AAAA,IAC1C;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC5BjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,eAAe;AAGnB,QAAI,YAAY;AAmBhB,aAAS,SAAS,OAAO;AACvB,aAAO,OAAO,SAAS,YACpB,aAAa,KAAK,KAAK,WAAW,KAAK,KAAK;AAAA,IACjD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC5BjB;AAAA;AAAA,QAAIC,WAAU;AAAd,QACI,WAAW;AAGf,QAAI,eAAe;AAAnB,QACI,gBAAgB;AAUpB,aAAS,MAAM,OAAO,QAAQ;AAC5B,UAAIA,SAAQ,KAAK,GAAG;AAClB,eAAO;AAAA,MACT;AACA,UAAI,OAAO,OAAO;AAClB,UAAI,QAAQ,YAAY,QAAQ,YAAY,QAAQ,aAChD,SAAS,QAAQ,SAAS,KAAK,GAAG;AACpC,eAAO;AAAA,MACT;AACA,aAAO,cAAc,KAAK,KAAK,KAAK,CAAC,aAAa,KAAK,KAAK,KACzD,UAAU,QAAQ,SAAS,OAAO,MAAM;AAAA,IAC7C;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC5BjB;AAAA;AAAA,QAAI,YAAY;AAGhB,QAAI,eAAe,UAAU,QAAQ,QAAQ;AAE7C,WAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAI,eAAe;AASnB,aAAS,YAAY;AACnB,WAAK,WAAW,eAAe,aAAa,IAAI,IAAI,CAAC;AACrD,WAAK,OAAO;AAAA,IACd;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACdjB;AAAA;AAUA,aAAS,WAAW,KAAK;AACvB,UAAI,SAAS,KAAK,IAAI,GAAG,KAAK,OAAO,KAAK,SAAS,GAAG;AACtD,WAAK,QAAQ,SAAS,IAAI;AAC1B,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AAAA,QAAI,eAAe;AAGnB,QAAI,iBAAiB;AAGrB,QAAI,cAAc,OAAO;AAGzB,QAAIC,kBAAiB,YAAY;AAWjC,aAAS,QAAQ,KAAK;AACpB,UAAI,OAAO,KAAK;AAChB,UAAI,cAAc;AAChB,YAAI,SAAS,KAAK,GAAG;AACrB,eAAO,WAAW,iBAAiB,SAAY;AAAA,MACjD;AACA,aAAOA,gBAAe,KAAK,MAAM,GAAG,IAAI,KAAK,GAAG,IAAI;AAAA,IACtD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7BjB;AAAA;AAAA,QAAI,eAAe;AAGnB,QAAI,cAAc,OAAO;AAGzB,QAAIC,kBAAiB,YAAY;AAWjC,aAAS,QAAQ,KAAK;AACpB,UAAI,OAAO,KAAK;AAChB,aAAO,eAAgB,KAAK,GAAG,MAAM,SAAaA,gBAAe,KAAK,MAAM,GAAG;AAAA,IACjF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACtBjB;AAAA;AAAA,QAAI,eAAe;AAGnB,QAAI,iBAAiB;AAYrB,aAAS,QAAQ,KAAK,OAAO;AAC3B,UAAI,OAAO,KAAK;AAChB,WAAK,QAAQ,KAAK,IAAI,GAAG,IAAI,IAAI;AACjC,WAAK,GAAG,IAAK,gBAAgB,UAAU,SAAa,iBAAiB;AACrE,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACtBjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,aAAa;AADjB,QAEI,UAAU;AAFd,QAGI,UAAU;AAHd,QAII,UAAU;AASd,aAAS,KAAK,SAAS;AACrB,UAAI,QAAQ,IACR,SAAS,WAAW,OAAO,IAAI,QAAQ;AAE3C,WAAK,MAAM;AACX,aAAO,EAAE,QAAQ,QAAQ;AACvB,YAAI,QAAQ,QAAQ,KAAK;AACzB,aAAK,IAAI,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC;AAAA,MAC7B;AAAA,IACF;AAGA,SAAK,UAAU,QAAQ;AACvB,SAAK,UAAU,QAAQ,IAAI;AAC3B,SAAK,UAAU,MAAM;AACrB,SAAK,UAAU,MAAM;AACrB,SAAK,UAAU,MAAM;AAErB,WAAO,UAAU;AAAA;AAAA;;;AC/BjB;AAAA;AAOA,aAAS,iBAAiB;AACxB,WAAK,WAAW,CAAC;AACjB,WAAK,OAAO;AAAA,IACd;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACZjB;AAAA;AAAA,QAAI,KAAK;AAUT,aAAS,aAAa,OAAO,KAAK;AAChC,UAAI,SAAS,MAAM;AACnB,aAAO,UAAU;AACf,YAAI,GAAG,MAAM,MAAM,EAAE,CAAC,GAAG,GAAG,GAAG;AAC7B,iBAAO;AAAA,QACT;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AAAA,QAAI,eAAe;AAGnB,QAAI,aAAa,MAAM;AAGvB,QAAI,SAAS,WAAW;AAWxB,aAAS,gBAAgB,KAAK;AAC5B,UAAI,OAAO,KAAK,UACZ,QAAQ,aAAa,MAAM,GAAG;AAElC,UAAI,QAAQ,GAAG;AACb,eAAO;AAAA,MACT;AACA,UAAI,YAAY,KAAK,SAAS;AAC9B,UAAI,SAAS,WAAW;AACtB,aAAK,IAAI;AAAA,MACX,OAAO;AACL,eAAO,KAAK,MAAM,OAAO,CAAC;AAAA,MAC5B;AACA,QAAE,KAAK;AACP,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClCjB;AAAA;AAAA,QAAI,eAAe;AAWnB,aAAS,aAAa,KAAK;AACzB,UAAI,OAAO,KAAK,UACZ,QAAQ,aAAa,MAAM,GAAG;AAElC,aAAO,QAAQ,IAAI,SAAY,KAAK,KAAK,EAAE,CAAC;AAAA,IAC9C;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClBjB;AAAA;AAAA,QAAI,eAAe;AAWnB,aAAS,aAAa,KAAK;AACzB,aAAO,aAAa,KAAK,UAAU,GAAG,IAAI;AAAA,IAC5C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,eAAe;AAYnB,aAAS,aAAa,KAAK,OAAO;AAChC,UAAI,OAAO,KAAK,UACZ,QAAQ,aAAa,MAAM,GAAG;AAElC,UAAI,QAAQ,GAAG;AACb,UAAE,KAAK;AACP,aAAK,KAAK,CAAC,KAAK,KAAK,CAAC;AAAA,MACxB,OAAO;AACL,aAAK,KAAK,EAAE,CAAC,IAAI;AAAA,MACnB;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzBjB;AAAA;AAAA,QAAI,iBAAiB;AAArB,QACI,kBAAkB;AADtB,QAEI,eAAe;AAFnB,QAGI,eAAe;AAHnB,QAII,eAAe;AASnB,aAAS,UAAU,SAAS;AAC1B,UAAI,QAAQ,IACR,SAAS,WAAW,OAAO,IAAI,QAAQ;AAE3C,WAAK,MAAM;AACX,aAAO,EAAE,QAAQ,QAAQ;AACvB,YAAI,QAAQ,QAAQ,KAAK;AACzB,aAAK,IAAI,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC;AAAA,MAC7B;AAAA,IACF;AAGA,cAAU,UAAU,QAAQ;AAC5B,cAAU,UAAU,QAAQ,IAAI;AAChC,cAAU,UAAU,MAAM;AAC1B,cAAU,UAAU,MAAM;AAC1B,cAAU,UAAU,MAAM;AAE1B,WAAO,UAAU;AAAA;AAAA;;;AC/BjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,OAAO;AAGX,QAAIC,OAAM,UAAU,MAAM,KAAK;AAE/B,WAAO,UAAUA;AAAA;AAAA;;;ACNjB;AAAA;AAAA,QAAI,OAAO;AAAX,QACI,YAAY;AADhB,QAEIC,OAAM;AASV,aAAS,gBAAgB;AACvB,WAAK,OAAO;AACZ,WAAK,WAAW;AAAA,QACd,QAAQ,IAAI;AAAA,QACZ,OAAO,KAAKA,QAAO;AAAA,QACnB,UAAU,IAAI;AAAA,MAChB;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AAOA,aAAS,UAAU,OAAO;AACxB,UAAI,OAAO,OAAO;AAClB,aAAQ,QAAQ,YAAY,QAAQ,YAAY,QAAQ,YAAY,QAAQ,YACvE,UAAU,cACV,UAAU;AAAA,IACjB;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACdjB;AAAA;AAAA,QAAI,YAAY;AAUhB,aAAS,WAAW,KAAK,KAAK;AAC5B,UAAI,OAAO,IAAI;AACf,aAAO,UAAU,GAAG,IAChB,KAAK,OAAO,OAAO,WAAW,WAAW,MAAM,IAC/C,KAAK;AAAA,IACX;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,aAAa;AAWjB,aAAS,eAAe,KAAK;AAC3B,UAAI,SAAS,WAAW,MAAM,GAAG,EAAE,QAAQ,EAAE,GAAG;AAChD,WAAK,QAAQ,SAAS,IAAI;AAC1B,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,aAAa;AAWjB,aAAS,YAAY,KAAK;AACxB,aAAO,WAAW,MAAM,GAAG,EAAE,IAAI,GAAG;AAAA,IACtC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,aAAa;AAWjB,aAAS,YAAY,KAAK;AACxB,aAAO,WAAW,MAAM,GAAG,EAAE,IAAI,GAAG;AAAA,IACtC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,aAAa;AAYjB,aAAS,YAAY,KAAK,OAAO;AAC/B,UAAI,OAAO,WAAW,MAAM,GAAG,GAC3B,OAAO,KAAK;AAEhB,WAAK,IAAI,KAAK,KAAK;AACnB,WAAK,QAAQ,KAAK,QAAQ,OAAO,IAAI;AACrC,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrBjB;AAAA;AAAA,QAAI,gBAAgB;AAApB,QACI,iBAAiB;AADrB,QAEI,cAAc;AAFlB,QAGI,cAAc;AAHlB,QAII,cAAc;AASlB,aAAS,SAAS,SAAS;AACzB,UAAI,QAAQ,IACR,SAAS,WAAW,OAAO,IAAI,QAAQ;AAE3C,WAAK,MAAM;AACX,aAAO,EAAE,QAAQ,QAAQ;AACvB,YAAI,QAAQ,QAAQ,KAAK;AACzB,aAAK,IAAI,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC;AAAA,MAC7B;AAAA,IACF;AAGA,aAAS,UAAU,QAAQ;AAC3B,aAAS,UAAU,QAAQ,IAAI;AAC/B,aAAS,UAAU,MAAM;AACzB,aAAS,UAAU,MAAM;AACzB,aAAS,UAAU,MAAM;AAEzB,WAAO,UAAU;AAAA;AAAA;;;AC/BjB;AAAA;AAAA,QAAI,WAAW;AAGf,QAAI,kBAAkB;AA8CtB,aAASC,SAAQ,MAAM,UAAU;AAC/B,UAAI,OAAO,QAAQ,cAAe,YAAY,QAAQ,OAAO,YAAY,YAAa;AACpF,cAAM,IAAI,UAAU,eAAe;AAAA,MACrC;AACA,UAAI,WAAW,WAAW;AACxB,YAAI,OAAO,WACP,MAAM,WAAW,SAAS,MAAM,MAAM,IAAI,IAAI,KAAK,CAAC,GACpD,QAAQ,SAAS;AAErB,YAAI,MAAM,IAAI,GAAG,GAAG;AAClB,iBAAO,MAAM,IAAI,GAAG;AAAA,QACtB;AACA,YAAI,SAAS,KAAK,MAAM,MAAM,IAAI;AAClC,iBAAS,QAAQ,MAAM,IAAI,KAAK,MAAM,KAAK;AAC3C,eAAO;AAAA,MACT;AACA,eAAS,QAAQ,KAAKA,SAAQ,SAAS;AACvC,aAAO;AAAA,IACT;AAGA,IAAAA,SAAQ,QAAQ;AAEhB,WAAO,UAAUA;AAAA;AAAA;;;ACxEjB;AAAA;AAAA,QAAIC,WAAU;AAGd,QAAI,mBAAmB;AAUvB,aAAS,cAAc,MAAM;AAC3B,UAAI,SAASA,SAAQ,MAAM,SAAS,KAAK;AACvC,YAAI,MAAM,SAAS,kBAAkB;AACnC,gBAAM,MAAM;AAAA,QACd;AACA,eAAO;AAAA,MACT,CAAC;AAED,UAAI,QAAQ,OAAO;AACnB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzBjB;AAAA;AAAA,QAAI,gBAAgB;AAGpB,QAAI,aAAa;AAGjB,QAAI,eAAe;AASnB,QAAI,eAAe,cAAc,SAAS,QAAQ;AAChD,UAAI,SAAS,CAAC;AACd,UAAI,OAAO,WAAW,CAAC,MAAM,IAAY;AACvC,eAAO,KAAK,EAAE;AAAA,MAChB;AACA,aAAO,QAAQ,YAAY,SAASC,QAAOC,SAAQ,OAAO,WAAW;AACnE,eAAO,KAAK,QAAQ,UAAU,QAAQ,cAAc,IAAI,IAAKA,WAAUD,MAAM;AAAA,MAC/E,CAAC;AACD,aAAO;AAAA,IACT,CAAC;AAED,WAAO,UAAU;AAAA;AAAA;;;AC1BjB;AAAA;AASA,aAAS,SAAS,OAAO,UAAU;AACjC,UAAI,QAAQ,IACR,SAAS,SAAS,OAAO,IAAI,MAAM,QACnC,SAAS,MAAM,MAAM;AAEzB,aAAO,EAAE,QAAQ,QAAQ;AACvB,eAAO,KAAK,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO,KAAK;AAAA,MACrD;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AAAA,QAAIE,UAAS;AAAb,QACI,WAAW;AADf,QAEIC,WAAU;AAFd,QAGI,WAAW;AAGf,QAAI,WAAW,IAAI;AAGnB,QAAI,cAAcD,UAASA,QAAO,YAAY;AAA9C,QACI,iBAAiB,cAAc,YAAY,WAAW;AAU1D,aAAS,aAAa,OAAO;AAE3B,UAAI,OAAO,SAAS,UAAU;AAC5B,eAAO;AAAA,MACT;AACA,UAAIC,SAAQ,KAAK,GAAG;AAElB,eAAO,SAAS,OAAO,YAAY,IAAI;AAAA,MACzC;AACA,UAAI,SAAS,KAAK,GAAG;AACnB,eAAO,iBAAiB,eAAe,KAAK,KAAK,IAAI;AAAA,MACvD;AACA,UAAI,SAAU,QAAQ;AACtB,aAAQ,UAAU,OAAQ,IAAI,SAAU,CAAC,WAAY,OAAO;AAAA,IAC9D;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpCjB;AAAA;AAAA,QAAI,eAAe;AAuBnB,aAAS,SAAS,OAAO;AACvB,aAAO,SAAS,OAAO,KAAK,aAAa,KAAK;AAAA,IAChD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC3BjB;AAAA;AAAA,QAAIC,WAAU;AAAd,QACI,QAAQ;AADZ,QAEI,eAAe;AAFnB,QAGI,WAAW;AAUf,aAAS,SAAS,OAAO,QAAQ;AAC/B,UAAIA,SAAQ,KAAK,GAAG;AAClB,eAAO;AAAA,MACT;AACA,aAAO,MAAM,OAAO,MAAM,IAAI,CAAC,KAAK,IAAI,aAAa,SAAS,KAAK,CAAC;AAAA,IACtE;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AACA,QAAI,mBAAmB;AAGvB,QAAI,WAAW;AAUf,aAAS,QAAQ,OAAO,QAAQ;AAC9B,UAAI,OAAO,OAAO;AAClB,eAAS,UAAU,OAAO,mBAAmB;AAE7C,aAAO,CAAC,CAAC,WACN,QAAQ,YACN,QAAQ,YAAY,SAAS,KAAK,KAAK,OACrC,QAAQ,MAAM,QAAQ,KAAK,KAAK,QAAQ;AAAA,IACjD;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACxBjB;AAAA;AAAA,QAAI,WAAW;AAGf,QAAI,WAAW,IAAI;AASnB,aAAS,MAAM,OAAO;AACpB,UAAI,OAAO,SAAS,YAAY,SAAS,KAAK,GAAG;AAC/C,eAAO;AAAA,MACT;AACA,UAAI,SAAU,QAAQ;AACtB,aAAQ,UAAU,OAAQ,IAAI,SAAU,CAAC,WAAY,OAAO;AAAA,IAC9D;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,WAAW;AADf,QAEI,UAAU;AAFd,QAGIC,YAAW;AAHf,QAII,QAAQ;AAYZ,aAAS,QAAQ,QAAQ,MAAM,OAAO,YAAY;AAChD,UAAI,CAACA,UAAS,MAAM,GAAG;AACrB,eAAO;AAAA,MACT;AACA,aAAO,SAAS,MAAM,MAAM;AAE5B,UAAI,QAAQ,IACR,SAAS,KAAK,QACd,YAAY,SAAS,GACrB,SAAS;AAEb,aAAO,UAAU,QAAQ,EAAE,QAAQ,QAAQ;AACzC,YAAI,MAAM,MAAM,KAAK,KAAK,CAAC,GACvB,WAAW;AAEf,YAAI,QAAQ,eAAe,QAAQ,iBAAiB,QAAQ,aAAa;AACvE,iBAAO;AAAA,QACT;AAEA,YAAI,SAAS,WAAW;AACtB,cAAI,WAAW,OAAO,GAAG;AACzB,qBAAW,aAAa,WAAW,UAAU,KAAK,MAAM,IAAI;AAC5D,cAAI,aAAa,QAAW;AAC1B,uBAAWA,UAAS,QAAQ,IACxB,WACC,QAAQ,KAAK,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;AAAA,UACxC;AAAA,QACF;AACA,oBAAY,QAAQ,KAAK,QAAQ;AACjC,iBAAS,OAAO,GAAG;AAAA,MACrB;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClDjB;AAAA;AAAA,QAAI,UAAU;AA8Bd,aAASC,KAAI,QAAQ,MAAM,OAAO;AAChC,aAAO,UAAU,OAAO,SAAS,QAAQ,QAAQ,MAAM,KAAK;AAAA,IAC9D;AAEA,WAAO,UAAUA;AAAA;AAAA;;;AClCjB;AAAA;AAcA,aAAS,KAAK,OAAO;AACnB,UAAI,SAAS,SAAS,OAAO,IAAI,MAAM;AACvC,aAAO,SAAS,MAAM,SAAS,CAAC,IAAI;AAAA,IACtC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,QAAQ;AAUZ,aAAS,QAAQ,QAAQ,MAAM;AAC7B,aAAO,SAAS,MAAM,MAAM;AAE5B,UAAI,QAAQ,GACR,SAAS,KAAK;AAElB,aAAO,UAAU,QAAQ,QAAQ,QAAQ;AACvC,iBAAS,OAAO,MAAM,KAAK,OAAO,CAAC,CAAC;AAAA,MACtC;AACA,aAAQ,SAAS,SAAS,SAAU,SAAS;AAAA,IAC/C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACvBjB;AAAA;AASA,aAAS,UAAU,OAAO,OAAO,KAAK;AACpC,UAAI,QAAQ,IACR,SAAS,MAAM;AAEnB,UAAI,QAAQ,GAAG;AACb,gBAAQ,CAAC,QAAQ,SAAS,IAAK,SAAS;AAAA,MAC1C;AACA,YAAM,MAAM,SAAS,SAAS;AAC9B,UAAI,MAAM,GAAG;AACX,eAAO;AAAA,MACT;AACA,eAAS,QAAQ,MAAM,IAAM,MAAM,UAAW;AAC9C,iBAAW;AAEX,UAAI,SAAS,MAAM,MAAM;AACzB,aAAO,EAAE,QAAQ,QAAQ;AACvB,eAAO,KAAK,IAAI,MAAM,QAAQ,KAAK;AAAA,MACrC;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC9BjB;AAAA;AAAA,QAAI,UAAU;AAAd,QACI,YAAY;AAUhB,aAAS,OAAO,QAAQ,MAAM;AAC5B,aAAO,KAAK,SAAS,IAAI,SAAS,QAAQ,QAAQ,UAAU,MAAM,GAAG,EAAE,CAAC;AAAA,IAC1E;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,OAAO;AADX,QAEI,SAAS;AAFb,QAGI,QAAQ;AAUZ,aAAS,UAAU,QAAQ,MAAM;AAC/B,aAAO,SAAS,MAAM,MAAM;AAC5B,eAAS,OAAO,QAAQ,IAAI;AAC5B,aAAO,UAAU,QAAQ,OAAO,OAAO,MAAM,KAAK,IAAI,CAAC,CAAC;AAAA,IAC1D;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAI,YAAY;AA6BhB,aAASC,OAAM,QAAQ,MAAM;AAC3B,aAAO,UAAU,OAAO,OAAO,UAAU,QAAQ,IAAI;AAAA,IACvD;AAEA,WAAO,UAAUA;AAAA;AAAA;;;ACjCjB;AAAA;AAAA,QAAI,UAAU;AA2Bd,aAASC,MAAI,QAAQ,MAAM,cAAc;AACvC,UAAI,SAAS,UAAU,OAAO,SAAY,QAAQ,QAAQ,IAAI;AAC9D,aAAO,WAAW,SAAY,eAAe;AAAA,IAC/C;AAEA,WAAO,UAAUA;AAAA;AAAA;;;AChCjB;AAAA;AAAA,QAAI,YAAY;AAShB,aAAS,aAAa;AACpB,WAAK,WAAW,IAAI;AACpB,WAAK,OAAO;AAAA,IACd;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACdjB;AAAA;AASA,aAAS,YAAY,KAAK;AACxB,UAAI,OAAO,KAAK,UACZ,SAAS,KAAK,QAAQ,EAAE,GAAG;AAE/B,WAAK,OAAO,KAAK;AACjB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AASA,aAAS,SAAS,KAAK;AACrB,aAAO,KAAK,SAAS,IAAI,GAAG;AAAA,IAC9B;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACbjB;AAAA;AASA,aAAS,SAAS,KAAK;AACrB,aAAO,KAAK,SAAS,IAAI,GAAG;AAAA,IAC9B;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACbjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACIC,OAAM;AADV,QAEI,WAAW;AAGf,QAAI,mBAAmB;AAYvB,aAAS,SAAS,KAAK,OAAO;AAC5B,UAAI,OAAO,KAAK;AAChB,UAAI,gBAAgB,WAAW;AAC7B,YAAI,QAAQ,KAAK;AACjB,YAAI,CAACA,QAAQ,MAAM,SAAS,mBAAmB,GAAI;AACjD,gBAAM,KAAK,CAAC,KAAK,KAAK,CAAC;AACvB,eAAK,OAAO,EAAE,KAAK;AACnB,iBAAO;AAAA,QACT;AACA,eAAO,KAAK,WAAW,IAAI,SAAS,KAAK;AAAA,MAC3C;AACA,WAAK,IAAI,KAAK,KAAK;AACnB,WAAK,OAAO,KAAK;AACjB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjCjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,aAAa;AADjB,QAEI,cAAc;AAFlB,QAGI,WAAW;AAHf,QAII,WAAW;AAJf,QAKI,WAAW;AASf,aAAS,MAAM,SAAS;AACtB,UAAI,OAAO,KAAK,WAAW,IAAI,UAAU,OAAO;AAChD,WAAK,OAAO,KAAK;AAAA,IACnB;AAGA,UAAM,UAAU,QAAQ;AACxB,UAAM,UAAU,QAAQ,IAAI;AAC5B,UAAM,UAAU,MAAM;AACtB,UAAM,UAAU,MAAM;AACtB,UAAM,UAAU,MAAM;AAEtB,WAAO,UAAU;AAAA;AAAA;;;AC1BjB;AAAA;AACA,QAAI,iBAAiB;AAYrB,aAAS,YAAY,OAAO;AAC1B,WAAK,SAAS,IAAI,OAAO,cAAc;AACvC,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClBjB;AAAA;AASA,aAAS,YAAY,OAAO;AAC1B,aAAO,KAAK,SAAS,IAAI,KAAK;AAAA,IAChC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACbjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,cAAc;AADlB,QAEI,cAAc;AAUlB,aAAS,SAAS,QAAQ;AACxB,UAAI,QAAQ,IACR,SAAS,UAAU,OAAO,IAAI,OAAO;AAEzC,WAAK,WAAW,IAAI;AACpB,aAAO,EAAE,QAAQ,QAAQ;AACvB,aAAK,IAAI,OAAO,KAAK,CAAC;AAAA,MACxB;AAAA,IACF;AAGA,aAAS,UAAU,MAAM,SAAS,UAAU,OAAO;AACnD,aAAS,UAAU,MAAM;AAEzB,WAAO,UAAU;AAAA;AAAA;;;AC1BjB;AAAA;AAUA,aAAS,UAAU,OAAO,WAAW;AACnC,UAAI,QAAQ,IACR,SAAS,SAAS,OAAO,IAAI,MAAM;AAEvC,aAAO,EAAE,QAAQ,QAAQ;AACvB,YAAI,UAAU,MAAM,KAAK,GAAG,OAAO,KAAK,GAAG;AACzC,iBAAO;AAAA,QACT;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACtBjB;AAAA;AAQA,aAAS,SAAS,OAAO,KAAK;AAC5B,aAAO,MAAM,IAAI,GAAG;AAAA,IACtB;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACZjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,YAAY;AADhB,QAEI,WAAW;AAGf,QAAI,uBAAuB;AAA3B,QACI,yBAAyB;AAe7B,aAAS,YAAY,OAAO,OAAO,SAAS,YAAY,WAAW,OAAO;AACxE,UAAI,YAAY,UAAU,sBACtB,YAAY,MAAM,QAClB,YAAY,MAAM;AAEtB,UAAI,aAAa,aAAa,EAAE,aAAa,YAAY,YAAY;AACnE,eAAO;AAAA,MACT;AAEA,UAAI,aAAa,MAAM,IAAI,KAAK;AAChC,UAAI,aAAa,MAAM,IAAI,KAAK;AAChC,UAAI,cAAc,YAAY;AAC5B,eAAO,cAAc,SAAS,cAAc;AAAA,MAC9C;AACA,UAAI,QAAQ,IACR,SAAS,MACT,OAAQ,UAAU,yBAA0B,IAAI,aAAW;AAE/D,YAAM,IAAI,OAAO,KAAK;AACtB,YAAM,IAAI,OAAO,KAAK;AAGtB,aAAO,EAAE,QAAQ,WAAW;AAC1B,YAAI,WAAW,MAAM,KAAK,GACtB,WAAW,MAAM,KAAK;AAE1B,YAAI,YAAY;AACd,cAAI,WAAW,YACX,WAAW,UAAU,UAAU,OAAO,OAAO,OAAO,KAAK,IACzD,WAAW,UAAU,UAAU,OAAO,OAAO,OAAO,KAAK;AAAA,QAC/D;AACA,YAAI,aAAa,QAAW;AAC1B,cAAI,UAAU;AACZ;AAAA,UACF;AACA,mBAAS;AACT;AAAA,QACF;AAEA,YAAI,MAAM;AACR,cAAI,CAAC,UAAU,OAAO,SAASC,WAAU,UAAU;AAC7C,gBAAI,CAAC,SAAS,MAAM,QAAQ,MACvB,aAAaA,aAAY,UAAU,UAAUA,WAAU,SAAS,YAAY,KAAK,IAAI;AACxF,qBAAO,KAAK,KAAK,QAAQ;AAAA,YAC3B;AAAA,UACF,CAAC,GAAG;AACN,qBAAS;AACT;AAAA,UACF;AAAA,QACF,WAAW,EACL,aAAa,YACX,UAAU,UAAU,UAAU,SAAS,YAAY,KAAK,IACzD;AACL,mBAAS;AACT;AAAA,QACF;AAAA,MACF;AACA,YAAM,QAAQ,EAAE,KAAK;AACrB,YAAM,QAAQ,EAAE,KAAK;AACrB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnFjB;AAAA;AAAA,QAAI,OAAO;AAGX,QAAI,aAAa,KAAK;AAEtB,WAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAOA,aAAS,WAAW,KAAK;AACvB,UAAI,QAAQ,IACR,SAAS,MAAM,IAAI,IAAI;AAE3B,UAAI,QAAQ,SAAS,OAAO,KAAK;AAC/B,eAAO,EAAE,KAAK,IAAI,CAAC,KAAK,KAAK;AAAA,MAC/B,CAAC;AACD,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAOA,aAAS,WAAWC,MAAK;AACvB,UAAI,QAAQ,IACR,SAAS,MAAMA,KAAI,IAAI;AAE3B,MAAAA,KAAI,QAAQ,SAAS,OAAO;AAC1B,eAAO,EAAE,KAAK,IAAI;AAAA,MACpB,CAAC;AACD,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAIC,UAAS;AAAb,QACI,aAAa;AADjB,QAEI,KAAK;AAFT,QAGI,cAAc;AAHlB,QAII,aAAa;AAJjB,QAKI,aAAa;AAGjB,QAAI,uBAAuB;AAA3B,QACI,yBAAyB;AAG7B,QAAI,UAAU;AAAd,QACI,UAAU;AADd,QAEI,WAAW;AAFf,QAGI,SAAS;AAHb,QAII,YAAY;AAJhB,QAKI,YAAY;AALhB,QAMI,SAAS;AANb,QAOI,YAAY;AAPhB,QAQI,YAAY;AAEhB,QAAI,iBAAiB;AAArB,QACI,cAAc;AAGlB,QAAI,cAAcA,UAASA,QAAO,YAAY;AAA9C,QACI,gBAAgB,cAAc,YAAY,UAAU;AAmBxD,aAAS,WAAW,QAAQ,OAAO,KAAK,SAAS,YAAY,WAAW,OAAO;AAC7E,cAAQ,KAAK;AAAA,QACX,KAAK;AACH,cAAK,OAAO,cAAc,MAAM,cAC3B,OAAO,cAAc,MAAM,YAAa;AAC3C,mBAAO;AAAA,UACT;AACA,mBAAS,OAAO;AAChB,kBAAQ,MAAM;AAAA,QAEhB,KAAK;AACH,cAAK,OAAO,cAAc,MAAM,cAC5B,CAAC,UAAU,IAAI,WAAW,MAAM,GAAG,IAAI,WAAW,KAAK,CAAC,GAAG;AAC7D,mBAAO;AAAA,UACT;AACA,iBAAO;AAAA,QAET,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAGH,iBAAO,GAAG,CAAC,QAAQ,CAAC,KAAK;AAAA,QAE3B,KAAK;AACH,iBAAO,OAAO,QAAQ,MAAM,QAAQ,OAAO,WAAW,MAAM;AAAA,QAE9D,KAAK;AAAA,QACL,KAAK;AAIH,iBAAO,UAAW,QAAQ;AAAA,QAE5B,KAAK;AACH,cAAI,UAAU;AAAA,QAEhB,KAAK;AACH,cAAI,YAAY,UAAU;AAC1B,sBAAY,UAAU;AAEtB,cAAI,OAAO,QAAQ,MAAM,QAAQ,CAAC,WAAW;AAC3C,mBAAO;AAAA,UACT;AAEA,cAAI,UAAU,MAAM,IAAI,MAAM;AAC9B,cAAI,SAAS;AACX,mBAAO,WAAW;AAAA,UACpB;AACA,qBAAW;AAGX,gBAAM,IAAI,QAAQ,KAAK;AACvB,cAAI,SAAS,YAAY,QAAQ,MAAM,GAAG,QAAQ,KAAK,GAAG,SAAS,YAAY,WAAW,KAAK;AAC/F,gBAAM,QAAQ,EAAE,MAAM;AACtB,iBAAO;AAAA,QAET,KAAK;AACH,cAAI,eAAe;AACjB,mBAAO,cAAc,KAAK,MAAM,KAAK,cAAc,KAAK,KAAK;AAAA,UAC/D;AAAA,MACJ;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC/GjB;AAAA;AAQA,aAASC,WAAU,OAAO,QAAQ;AAChC,UAAI,QAAQ,IACR,SAAS,OAAO,QAChB,SAAS,MAAM;AAEnB,aAAO,EAAE,QAAQ,QAAQ;AACvB,cAAM,SAAS,KAAK,IAAI,OAAO,KAAK;AAAA,MACtC;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAUA;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAIC,aAAY;AAAhB,QACIC,WAAU;AAad,aAAS,eAAe,QAAQ,UAAU,aAAa;AACrD,UAAI,SAAS,SAAS,MAAM;AAC5B,aAAOA,SAAQ,MAAM,IAAI,SAASD,WAAU,QAAQ,YAAY,MAAM,CAAC;AAAA,IACzE;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AASA,aAAS,YAAY,OAAO,WAAW;AACrC,UAAI,QAAQ,IACR,SAAS,SAAS,OAAO,IAAI,MAAM,QACnC,WAAW,GACX,SAAS,CAAC;AAEd,aAAO,EAAE,QAAQ,QAAQ;AACvB,YAAI,QAAQ,MAAM,KAAK;AACvB,YAAI,UAAU,OAAO,OAAO,KAAK,GAAG;AAClC,iBAAO,UAAU,IAAI;AAAA,QACvB;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACxBjB;AAAA;AAkBA,aAAS,YAAY;AACnB,aAAO,CAAC;AAAA,IACV;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACtBjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,YAAY;AAGhB,QAAI,cAAc,OAAO;AAGzB,QAAI,uBAAuB,YAAY;AAGvC,QAAI,mBAAmB,OAAO;AAS9B,QAAI,aAAa,CAAC,mBAAmB,YAAY,SAAS,QAAQ;AAChE,UAAI,UAAU,MAAM;AAClB,eAAO,CAAC;AAAA,MACV;AACA,eAAS,OAAO,MAAM;AACtB,aAAO,YAAY,iBAAiB,MAAM,GAAG,SAAS,QAAQ;AAC5D,eAAO,qBAAqB,KAAK,QAAQ,MAAM;AAAA,MACjD,CAAC;AAAA,IACH;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7BjB;AAAA;AASA,aAAS,UAAU,GAAG,UAAU;AAC9B,UAAI,QAAQ,IACR,SAAS,MAAM,CAAC;AAEpB,aAAO,EAAE,QAAQ,GAAG;AAClB,eAAO,KAAK,IAAI,SAAS,KAAK;AAAA,MAChC;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,eAAe;AAGnB,QAAI,UAAU;AASd,aAAS,gBAAgB,OAAO;AAC9B,aAAO,aAAa,KAAK,KAAK,WAAW,KAAK,KAAK;AAAA,IACrD;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,kBAAkB;AAAtB,QACI,eAAe;AAGnB,QAAI,cAAc,OAAO;AAGzB,QAAIE,kBAAiB,YAAY;AAGjC,QAAI,uBAAuB,YAAY;AAoBvC,QAAI,cAAc,gBAAgB,WAAW;AAAE,aAAO;AAAA,IAAW,EAAE,CAAC,IAAI,kBAAkB,SAAS,OAAO;AACxG,aAAO,aAAa,KAAK,KAAKA,gBAAe,KAAK,OAAO,QAAQ,KAC/D,CAAC,qBAAqB,KAAK,OAAO,QAAQ;AAAA,IAC9C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnCjB;AAAA;AAaA,aAAS,YAAY;AACnB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,OAAO;AAAX,QACI,YAAY;AAGhB,QAAI,cAAc,OAAO,WAAW,YAAY,WAAW,CAAC,QAAQ,YAAY;AAGhF,QAAI,aAAa,eAAe,OAAO,UAAU,YAAY,UAAU,CAAC,OAAO,YAAY;AAG3F,QAAI,gBAAgB,cAAc,WAAW,YAAY;AAGzD,QAAIC,UAAS,gBAAgB,KAAK,SAAS;AAG3C,QAAI,iBAAiBA,UAASA,QAAO,WAAW;AAmBhD,QAAI,WAAW,kBAAkB;AAEjC,WAAO,UAAU;AAAA;AAAA;;;ACrCjB;AAAA;AACA,QAAI,mBAAmB;AA4BvB,aAAS,SAAS,OAAO;AACvB,aAAO,OAAO,SAAS,YACrB,QAAQ,MAAM,QAAQ,KAAK,KAAK,SAAS;AAAA,IAC7C;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClCjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,WAAW;AADf,QAEI,eAAe;AAGnB,QAAI,UAAU;AAAd,QACI,WAAW;AADf,QAEI,UAAU;AAFd,QAGI,UAAU;AAHd,QAII,WAAW;AAJf,QAKI,UAAU;AALd,QAMI,SAAS;AANb,QAOI,YAAY;AAPhB,QAQI,YAAY;AARhB,QASI,YAAY;AAThB,QAUI,SAAS;AAVb,QAWI,YAAY;AAXhB,QAYI,aAAa;AAEjB,QAAI,iBAAiB;AAArB,QACI,cAAc;AADlB,QAEI,aAAa;AAFjB,QAGI,aAAa;AAHjB,QAII,UAAU;AAJd,QAKI,WAAW;AALf,QAMI,WAAW;AANf,QAOI,WAAW;AAPf,QAQI,kBAAkB;AARtB,QASI,YAAY;AAThB,QAUI,YAAY;AAGhB,QAAI,iBAAiB,CAAC;AACtB,mBAAe,UAAU,IAAI,eAAe,UAAU,IACtD,eAAe,OAAO,IAAI,eAAe,QAAQ,IACjD,eAAe,QAAQ,IAAI,eAAe,QAAQ,IAClD,eAAe,eAAe,IAAI,eAAe,SAAS,IAC1D,eAAe,SAAS,IAAI;AAC5B,mBAAe,OAAO,IAAI,eAAe,QAAQ,IACjD,eAAe,cAAc,IAAI,eAAe,OAAO,IACvD,eAAe,WAAW,IAAI,eAAe,OAAO,IACpD,eAAe,QAAQ,IAAI,eAAe,OAAO,IACjD,eAAe,MAAM,IAAI,eAAe,SAAS,IACjD,eAAe,SAAS,IAAI,eAAe,SAAS,IACpD,eAAe,MAAM,IAAI,eAAe,SAAS,IACjD,eAAe,UAAU,IAAI;AAS7B,aAAS,iBAAiB,OAAO;AAC/B,aAAO,aAAa,KAAK,KACvB,SAAS,MAAM,MAAM,KAAK,CAAC,CAAC,eAAe,WAAW,KAAK,CAAC;AAAA,IAChE;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC3DjB;AAAA;AAOA,aAAS,UAAU,MAAM;AACvB,aAAO,SAAS,OAAO;AACrB,eAAO,KAAK,KAAK;AAAA,MACnB;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACbjB;AAAA;AAAA,QAAI,aAAa;AAGjB,QAAI,cAAc,OAAO,WAAW,YAAY,WAAW,CAAC,QAAQ,YAAY;AAGhF,QAAI,aAAa,eAAe,OAAO,UAAU,YAAY,UAAU,CAAC,OAAO,YAAY;AAG3F,QAAI,gBAAgB,cAAc,WAAW,YAAY;AAGzD,QAAI,cAAc,iBAAiB,WAAW;AAG9C,QAAI,WAAY,WAAW;AACzB,UAAI;AAEF,YAAI,QAAQ,cAAc,WAAW,WAAW,WAAW,QAAQ,MAAM,EAAE;AAE3E,YAAI,OAAO;AACT,iBAAO;AAAA,QACT;AAGA,eAAO,eAAe,YAAY,WAAW,YAAY,QAAQ,MAAM;AAAA,MACzE,SAAS,GAAG;AAAA,MAAC;AAAA,IACf,EAAE;AAEF,WAAO,UAAU;AAAA;AAAA;;;AC7BjB;AAAA;AAAA,QAAI,mBAAmB;AAAvB,QACI,YAAY;AADhB,QAEI,WAAW;AAGf,QAAI,mBAAmB,YAAY,SAAS;AAmB5C,QAAI,eAAe,mBAAmB,UAAU,gBAAgB,IAAI;AAEpE,WAAO,UAAU;AAAA;AAAA;;;AC1BjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,cAAc;AADlB,QAEIC,WAAU;AAFd,QAGI,WAAW;AAHf,QAII,UAAU;AAJd,QAKI,eAAe;AAGnB,QAAI,cAAc,OAAO;AAGzB,QAAIC,kBAAiB,YAAY;AAUjC,aAAS,cAAc,OAAO,WAAW;AACvC,UAAI,QAAQD,SAAQ,KAAK,GACrB,QAAQ,CAAC,SAAS,YAAY,KAAK,GACnC,SAAS,CAAC,SAAS,CAAC,SAAS,SAAS,KAAK,GAC3C,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,UAAU,aAAa,KAAK,GAC1D,cAAc,SAAS,SAAS,UAAU,QAC1C,SAAS,cAAc,UAAU,MAAM,QAAQ,MAAM,IAAI,CAAC,GAC1D,SAAS,OAAO;AAEpB,eAAS,OAAO,OAAO;AACrB,aAAK,aAAaC,gBAAe,KAAK,OAAO,GAAG,MAC5C,EAAE;AAAA,SAEC,OAAO;AAAA,QAEN,WAAW,OAAO,YAAY,OAAO;AAAA,QAErC,WAAW,OAAO,YAAY,OAAO,gBAAgB,OAAO;AAAA,QAE7D,QAAQ,KAAK,MAAM,KAClB;AACN,iBAAO,KAAK,GAAG;AAAA,QACjB;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChDjB;AAAA;AACA,QAAI,cAAc,OAAO;AASzB,aAAS,YAAY,OAAO;AAC1B,UAAI,OAAO,SAAS,MAAM,aACtB,QAAS,OAAO,QAAQ,cAAc,KAAK,aAAc;AAE7D,aAAO,UAAU;AAAA,IACnB;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAQA,aAAS,QAAQ,MAAM,WAAW;AAChC,aAAO,SAAS,KAAK;AACnB,eAAO,KAAK,UAAU,GAAG,CAAC;AAAA,MAC5B;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACdjB;AAAA;AAAA,QAAI,UAAU;AAGd,QAAI,aAAa,QAAQ,OAAO,MAAM,MAAM;AAE5C,WAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,aAAa;AAGjB,QAAI,cAAc,OAAO;AAGzB,QAAIC,kBAAiB,YAAY;AASjC,aAAS,SAAS,QAAQ;AACxB,UAAI,CAAC,YAAY,MAAM,GAAG;AACxB,eAAO,WAAW,MAAM;AAAA,MAC1B;AACA,UAAI,SAAS,CAAC;AACd,eAAS,OAAO,OAAO,MAAM,GAAG;AAC9B,YAAIA,gBAAe,KAAK,QAAQ,GAAG,KAAK,OAAO,eAAe;AAC5D,iBAAO,KAAK,GAAG;AAAA,QACjB;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7BjB;AAAA;AAAA,QAAIC,cAAa;AAAjB,QACI,WAAW;AA2Bf,aAAS,YAAY,OAAO;AAC1B,aAAO,SAAS,QAAQ,SAAS,MAAM,MAAM,KAAK,CAACA,YAAW,KAAK;AAAA,IACrE;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChCjB;AAAA;AAAA,QAAI,gBAAgB;AAApB,QACI,WAAW;AADf,QAEI,cAAc;AA8BlB,aAAS,KAAK,QAAQ;AACpB,aAAO,YAAY,MAAM,IAAI,cAAc,MAAM,IAAI,SAAS,MAAM;AAAA,IACtE;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpCjB;AAAA;AAAA,QAAI,iBAAiB;AAArB,QACI,aAAa;AADjB,QAEI,OAAO;AASX,aAAS,WAAW,QAAQ;AAC1B,aAAO,eAAe,QAAQ,MAAM,UAAU;AAAA,IAChD;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,aAAa;AAGjB,QAAI,uBAAuB;AAG3B,QAAI,cAAc,OAAO;AAGzB,QAAIC,kBAAiB,YAAY;AAejC,aAAS,aAAa,QAAQ,OAAO,SAAS,YAAY,WAAW,OAAO;AAC1E,UAAI,YAAY,UAAU,sBACtB,WAAW,WAAW,MAAM,GAC5B,YAAY,SAAS,QACrB,WAAW,WAAW,KAAK,GAC3B,YAAY,SAAS;AAEzB,UAAI,aAAa,aAAa,CAAC,WAAW;AACxC,eAAO;AAAA,MACT;AACA,UAAI,QAAQ;AACZ,aAAO,SAAS;AACd,YAAI,MAAM,SAAS,KAAK;AACxB,YAAI,EAAE,YAAY,OAAO,QAAQA,gBAAe,KAAK,OAAO,GAAG,IAAI;AACjE,iBAAO;AAAA,QACT;AAAA,MACF;AAEA,UAAI,aAAa,MAAM,IAAI,MAAM;AACjC,UAAI,aAAa,MAAM,IAAI,KAAK;AAChC,UAAI,cAAc,YAAY;AAC5B,eAAO,cAAc,SAAS,cAAc;AAAA,MAC9C;AACA,UAAI,SAAS;AACb,YAAM,IAAI,QAAQ,KAAK;AACvB,YAAM,IAAI,OAAO,MAAM;AAEvB,UAAI,WAAW;AACf,aAAO,EAAE,QAAQ,WAAW;AAC1B,cAAM,SAAS,KAAK;AACpB,YAAI,WAAW,OAAO,GAAG,GACrB,WAAW,MAAM,GAAG;AAExB,YAAI,YAAY;AACd,cAAI,WAAW,YACX,WAAW,UAAU,UAAU,KAAK,OAAO,QAAQ,KAAK,IACxD,WAAW,UAAU,UAAU,KAAK,QAAQ,OAAO,KAAK;AAAA,QAC9D;AAEA,YAAI,EAAE,aAAa,SACV,aAAa,YAAY,UAAU,UAAU,UAAU,SAAS,YAAY,KAAK,IAClF,WACD;AACL,mBAAS;AACT;AAAA,QACF;AACA,qBAAa,WAAW,OAAO;AAAA,MACjC;AACA,UAAI,UAAU,CAAC,UAAU;AACvB,YAAI,UAAU,OAAO,aACjB,UAAU,MAAM;AAGpB,YAAI,WAAW,YACV,iBAAiB,UAAU,iBAAiB,UAC7C,EAAE,OAAO,WAAW,cAAc,mBAAmB,WACnD,OAAO,WAAW,cAAc,mBAAmB,UAAU;AACjE,mBAAS;AAAA,QACX;AAAA,MACF;AACA,YAAM,QAAQ,EAAE,MAAM;AACtB,YAAM,QAAQ,EAAE,KAAK;AACrB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzFjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,OAAO;AAGX,QAAI,WAAW,UAAU,MAAM,UAAU;AAEzC,WAAO,UAAU;AAAA;AAAA;;;ACNjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,OAAO;AAGX,QAAIC,WAAU,UAAU,MAAM,SAAS;AAEvC,WAAO,UAAUA;AAAA;AAAA;;;ACNjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,OAAO;AAGX,QAAIC,OAAM,UAAU,MAAM,KAAK;AAE/B,WAAO,UAAUA;AAAA;AAAA;;;ACNjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,OAAO;AAGX,QAAI,UAAU,UAAU,MAAM,SAAS;AAEvC,WAAO,UAAU;AAAA;AAAA;;;ACNjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACIC,OAAM;AADV,QAEIC,WAAU;AAFd,QAGIC,OAAM;AAHV,QAII,UAAU;AAJd,QAKI,aAAa;AALjB,QAMI,WAAW;AAGf,QAAI,SAAS;AAAb,QACI,YAAY;AADhB,QAEI,aAAa;AAFjB,QAGI,SAAS;AAHb,QAII,aAAa;AAEjB,QAAI,cAAc;AAGlB,QAAI,qBAAqB,SAAS,QAAQ;AAA1C,QACI,gBAAgB,SAASF,IAAG;AADhC,QAEI,oBAAoB,SAASC,QAAO;AAFxC,QAGI,gBAAgB,SAASC,IAAG;AAHhC,QAII,oBAAoB,SAAS,OAAO;AASxC,QAAI,SAAS;AAGb,QAAK,YAAY,OAAO,IAAI,SAAS,IAAI,YAAY,CAAC,CAAC,CAAC,KAAK,eACxDF,QAAO,OAAO,IAAIA,MAAG,KAAK,UAC1BC,YAAW,OAAOA,SAAQ,QAAQ,CAAC,KAAK,cACxCC,QAAO,OAAO,IAAIA,MAAG,KAAK,UAC1B,WAAW,OAAO,IAAI,SAAO,KAAK,YAAa;AAClD,eAAS,SAAS,OAAO;AACvB,YAAI,SAAS,WAAW,KAAK,GACzB,OAAO,UAAU,YAAY,MAAM,cAAc,QACjD,aAAa,OAAO,SAAS,IAAI,IAAI;AAEzC,YAAI,YAAY;AACd,kBAAQ,YAAY;AAAA,YAClB,KAAK;AAAoB,qBAAO;AAAA,YAChC,KAAK;AAAe,qBAAO;AAAA,YAC3B,KAAK;AAAmB,qBAAO;AAAA,YAC/B,KAAK;AAAe,qBAAO;AAAA,YAC3B,KAAK;AAAmB,qBAAO;AAAA,UACjC;AAAA,QACF;AACA,eAAO;AAAA,MACT;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzDjB;AAAA;AAAA,QAAI,QAAQ;AAAZ,QACI,cAAc;AADlB,QAEI,aAAa;AAFjB,QAGI,eAAe;AAHnB,QAII,SAAS;AAJb,QAKIC,WAAU;AALd,QAMI,WAAW;AANf,QAOI,eAAe;AAGnB,QAAI,uBAAuB;AAG3B,QAAI,UAAU;AAAd,QACI,WAAW;AADf,QAEI,YAAY;AAGhB,QAAI,cAAc,OAAO;AAGzB,QAAIC,kBAAiB,YAAY;AAgBjC,aAAS,gBAAgB,QAAQ,OAAO,SAAS,YAAY,WAAW,OAAO;AAC7E,UAAI,WAAWD,SAAQ,MAAM,GACzB,WAAWA,SAAQ,KAAK,GACxB,SAAS,WAAW,WAAW,OAAO,MAAM,GAC5C,SAAS,WAAW,WAAW,OAAO,KAAK;AAE/C,eAAS,UAAU,UAAU,YAAY;AACzC,eAAS,UAAU,UAAU,YAAY;AAEzC,UAAI,WAAW,UAAU,WACrB,WAAW,UAAU,WACrB,YAAY,UAAU;AAE1B,UAAI,aAAa,SAAS,MAAM,GAAG;AACjC,YAAI,CAAC,SAAS,KAAK,GAAG;AACpB,iBAAO;AAAA,QACT;AACA,mBAAW;AACX,mBAAW;AAAA,MACb;AACA,UAAI,aAAa,CAAC,UAAU;AAC1B,kBAAU,QAAQ,IAAI;AACtB,eAAQ,YAAY,aAAa,MAAM,IACnC,YAAY,QAAQ,OAAO,SAAS,YAAY,WAAW,KAAK,IAChE,WAAW,QAAQ,OAAO,QAAQ,SAAS,YAAY,WAAW,KAAK;AAAA,MAC7E;AACA,UAAI,EAAE,UAAU,uBAAuB;AACrC,YAAI,eAAe,YAAYC,gBAAe,KAAK,QAAQ,aAAa,GACpE,eAAe,YAAYA,gBAAe,KAAK,OAAO,aAAa;AAEvE,YAAI,gBAAgB,cAAc;AAChC,cAAI,eAAe,eAAe,OAAO,MAAM,IAAI,QAC/C,eAAe,eAAe,MAAM,MAAM,IAAI;AAElD,oBAAU,QAAQ,IAAI;AACtB,iBAAO,UAAU,cAAc,cAAc,SAAS,YAAY,KAAK;AAAA,QACzE;AAAA,MACF;AACA,UAAI,CAAC,WAAW;AACd,eAAO;AAAA,MACT;AACA,gBAAU,QAAQ,IAAI;AACtB,aAAO,aAAa,QAAQ,OAAO,SAAS,YAAY,WAAW,KAAK;AAAA,IAC1E;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClFjB;AAAA;AAAA,QAAI,kBAAkB;AAAtB,QACI,eAAe;AAgBnB,aAAS,YAAY,OAAO,OAAO,SAAS,YAAY,OAAO;AAC7D,UAAI,UAAU,OAAO;AACnB,eAAO;AAAA,MACT;AACA,UAAI,SAAS,QAAQ,SAAS,QAAS,CAAC,aAAa,KAAK,KAAK,CAAC,aAAa,KAAK,GAAI;AACpF,eAAO,UAAU,SAAS,UAAU;AAAA,MACtC;AACA,aAAO,gBAAgB,OAAO,OAAO,SAAS,YAAY,aAAa,KAAK;AAAA,IAC9E;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC3BjB;AAAA;AAAA,QAAI,cAAc;AA8BlB,aAASC,UAAQ,OAAO,OAAO;AAC7B,aAAO,YAAY,OAAO,KAAK;AAAA,IACjC;AAEA,WAAO,UAAUA;AAAA;AAAA;;;AClCjB;AAAA;AAAA,QAAI,kBAAkB;AAAtB,QACI,KAAK;AAWT,aAAS,iBAAiB,QAAQ,KAAK,OAAO;AAC5C,UAAK,UAAU,UAAa,CAAC,GAAG,OAAO,GAAG,GAAG,KAAK,KAC7C,UAAU,UAAa,EAAE,OAAO,SAAU;AAC7C,wBAAgB,QAAQ,KAAK,KAAK;AAAA,MACpC;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAOA,aAAS,cAAc,WAAW;AAChC,aAAO,SAAS,QAAQ,UAAU,UAAU;AAC1C,YAAI,QAAQ,IACR,WAAW,OAAO,MAAM,GACxB,QAAQ,SAAS,MAAM,GACvB,SAAS,MAAM;AAEnB,eAAO,UAAU;AACf,cAAI,MAAM,MAAM,YAAY,SAAS,EAAE,KAAK;AAC5C,cAAI,SAAS,SAAS,GAAG,GAAG,KAAK,QAAQ,MAAM,OAAO;AACpD;AAAA,UACF;AAAA,QACF;AACA,eAAO;AAAA,MACT;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACxBjB;AAAA;AAAA,QAAI,gBAAgB;AAapB,QAAI,UAAU,cAAc;AAE5B,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,OAAO;AAGX,QAAI,cAAc,OAAO,WAAW,YAAY,WAAW,CAAC,QAAQ,YAAY;AAGhF,QAAI,aAAa,eAAe,OAAO,UAAU,YAAY,UAAU,CAAC,OAAO,YAAY;AAG3F,QAAI,gBAAgB,cAAc,WAAW,YAAY;AAGzD,QAAIC,UAAS,gBAAgB,KAAK,SAAS;AAA3C,QACI,cAAcA,UAASA,QAAO,cAAc;AAUhD,aAAS,YAAY,QAAQ,QAAQ;AACnC,UAAI,QAAQ;AACV,eAAO,OAAO,MAAM;AAAA,MACtB;AACA,UAAI,SAAS,OAAO,QAChB,SAAS,cAAc,YAAY,MAAM,IAAI,IAAI,OAAO,YAAY,MAAM;AAE9E,aAAO,KAAK,MAAM;AAClB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClCjB;AAAA;AAAA,QAAI,aAAa;AASjB,aAAS,iBAAiB,aAAa;AACrC,UAAI,SAAS,IAAI,YAAY,YAAY,YAAY,UAAU;AAC/D,UAAI,WAAW,MAAM,EAAE,IAAI,IAAI,WAAW,WAAW,CAAC;AACtD,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,mBAAmB;AAUvB,aAAS,gBAAgB,YAAY,QAAQ;AAC3C,UAAI,SAAS,SAAS,iBAAiB,WAAW,MAAM,IAAI,WAAW;AACvE,aAAO,IAAI,WAAW,YAAY,QAAQ,WAAW,YAAY,WAAW,MAAM;AAAA,IACpF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAQA,aAAS,UAAU,QAAQ,OAAO;AAChC,UAAI,QAAQ,IACR,SAAS,OAAO;AAEpB,gBAAU,QAAQ,MAAM,MAAM;AAC9B,aAAO,EAAE,QAAQ,QAAQ;AACvB,cAAM,KAAK,IAAI,OAAO,KAAK;AAAA,MAC7B;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAIC,YAAW;AAGf,QAAI,eAAe,OAAO;AAU1B,QAAI,aAAc,WAAW;AAC3B,eAAS,SAAS;AAAA,MAAC;AACnB,aAAO,SAAS,OAAO;AACrB,YAAI,CAACA,UAAS,KAAK,GAAG;AACpB,iBAAO,CAAC;AAAA,QACV;AACA,YAAI,cAAc;AAChB,iBAAO,aAAa,KAAK;AAAA,QAC3B;AACA,eAAO,YAAY;AACnB,YAAI,SAAS,IAAI;AACjB,eAAO,YAAY;AACnB,eAAO;AAAA,MACT;AAAA,IACF,EAAE;AAEF,WAAO,UAAU;AAAA;AAAA;;;AC7BjB;AAAA;AAAA,QAAI,UAAU;AAGd,QAAI,eAAe,QAAQ,OAAO,gBAAgB,MAAM;AAExD,WAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,eAAe;AADnB,QAEI,cAAc;AASlB,aAAS,gBAAgB,QAAQ;AAC/B,aAAQ,OAAO,OAAO,eAAe,cAAc,CAAC,YAAY,MAAM,IAClE,WAAW,aAAa,MAAM,CAAC,IAC/B,CAAC;AAAA,IACP;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,eAAe;AA2BnB,aAAS,kBAAkB,OAAO;AAChC,aAAO,aAAa,KAAK,KAAK,YAAY,KAAK;AAAA,IACjD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChCjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,eAAe;AADnB,QAEI,eAAe;AAGnB,QAAI,YAAY;AAGhB,QAAI,YAAY,SAAS;AAAzB,QACI,cAAc,OAAO;AAGzB,QAAI,eAAe,UAAU;AAG7B,QAAIC,kBAAiB,YAAY;AAGjC,QAAI,mBAAmB,aAAa,KAAK,MAAM;AA8B/C,aAASC,eAAc,OAAO;AAC5B,UAAI,CAAC,aAAa,KAAK,KAAK,WAAW,KAAK,KAAK,WAAW;AAC1D,eAAO;AAAA,MACT;AACA,UAAI,QAAQ,aAAa,KAAK;AAC9B,UAAI,UAAU,MAAM;AAClB,eAAO;AAAA,MACT;AACA,UAAI,OAAOD,gBAAe,KAAK,OAAO,aAAa,KAAK,MAAM;AAC9D,aAAO,OAAO,QAAQ,cAAc,gBAAgB,QAClD,aAAa,KAAK,IAAI,KAAK;AAAA,IAC/B;AAEA,WAAO,UAAUC;AAAA;AAAA;;;AC7DjB;AAAA;AAQA,aAAS,QAAQ,QAAQ,KAAK;AAC5B,UAAI,QAAQ,iBAAiB,OAAO,OAAO,GAAG,MAAM,YAAY;AAC9D;AAAA,MACF;AAEA,UAAI,OAAO,aAAa;AACtB;AAAA,MACF;AAEA,aAAO,OAAO,GAAG;AAAA,IACnB;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,kBAAkB;AAYtB,aAAS,WAAW,QAAQ,OAAO,QAAQ,YAAY;AACrD,UAAI,QAAQ,CAAC;AACb,iBAAW,SAAS,CAAC;AAErB,UAAI,QAAQ,IACR,SAAS,MAAM;AAEnB,aAAO,EAAE,QAAQ,QAAQ;AACvB,YAAI,MAAM,MAAM,KAAK;AAErB,YAAI,WAAW,aACX,WAAW,OAAO,GAAG,GAAG,OAAO,GAAG,GAAG,KAAK,QAAQ,MAAM,IACxD;AAEJ,YAAI,aAAa,QAAW;AAC1B,qBAAW,OAAO,GAAG;AAAA,QACvB;AACA,YAAI,OAAO;AACT,0BAAgB,QAAQ,KAAK,QAAQ;AAAA,QACvC,OAAO;AACL,sBAAY,QAAQ,KAAK,QAAQ;AAAA,QACnC;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACvCjB;AAAA;AASA,aAAS,aAAa,QAAQ;AAC5B,UAAI,SAAS,CAAC;AACd,UAAI,UAAU,MAAM;AAClB,iBAAS,OAAO,OAAO,MAAM,GAAG;AAC9B,iBAAO,KAAK,GAAG;AAAA,QACjB;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAIC,YAAW;AAAf,QACI,cAAc;AADlB,QAEI,eAAe;AAGnB,QAAI,cAAc,OAAO;AAGzB,QAAIC,kBAAiB,YAAY;AASjC,aAAS,WAAW,QAAQ;AAC1B,UAAI,CAACD,UAAS,MAAM,GAAG;AACrB,eAAO,aAAa,MAAM;AAAA,MAC5B;AACA,UAAI,UAAU,YAAY,MAAM,GAC5B,SAAS,CAAC;AAEd,eAAS,OAAO,QAAQ;AACtB,YAAI,EAAE,OAAO,kBAAkB,WAAW,CAACC,gBAAe,KAAK,QAAQ,GAAG,KAAK;AAC7E,iBAAO,KAAK,GAAG;AAAA,QACjB;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChCjB;AAAA;AAAA,QAAI,gBAAgB;AAApB,QACI,aAAa;AADjB,QAEI,cAAc;AAyBlB,aAAS,OAAO,QAAQ;AACtB,aAAO,YAAY,MAAM,IAAI,cAAc,QAAQ,IAAI,IAAI,WAAW,MAAM;AAAA,IAC9E;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC/BjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,SAAS;AA0Bb,aAAS,cAAc,OAAO;AAC5B,aAAO,WAAW,OAAO,OAAO,KAAK,CAAC;AAAA,IACxC;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC/BjB;AAAA;AAAA,QAAI,mBAAmB;AAAvB,QACI,cAAc;AADlB,QAEI,kBAAkB;AAFtB,QAGI,YAAY;AAHhB,QAII,kBAAkB;AAJtB,QAKI,cAAc;AALlB,QAMIC,WAAU;AANd,QAOI,oBAAoB;AAPxB,QAQI,WAAW;AARf,QASIC,cAAa;AATjB,QAUIC,YAAW;AAVf,QAWIC,iBAAgB;AAXpB,QAYI,eAAe;AAZnB,QAaI,UAAU;AAbd,QAcI,gBAAgB;AAiBpB,aAAS,cAAc,QAAQ,QAAQ,KAAK,UAAU,WAAW,YAAY,OAAO;AAClF,UAAI,WAAW,QAAQ,QAAQ,GAAG,GAC9B,WAAW,QAAQ,QAAQ,GAAG,GAC9B,UAAU,MAAM,IAAI,QAAQ;AAEhC,UAAI,SAAS;AACX,yBAAiB,QAAQ,KAAK,OAAO;AACrC;AAAA,MACF;AACA,UAAI,WAAW,aACX,WAAW,UAAU,UAAW,MAAM,IAAK,QAAQ,QAAQ,KAAK,IAChE;AAEJ,UAAI,WAAW,aAAa;AAE5B,UAAI,UAAU;AACZ,YAAI,QAAQH,SAAQ,QAAQ,GACxB,SAAS,CAAC,SAAS,SAAS,QAAQ,GACpC,UAAU,CAAC,SAAS,CAAC,UAAU,aAAa,QAAQ;AAExD,mBAAW;AACX,YAAI,SAAS,UAAU,SAAS;AAC9B,cAAIA,SAAQ,QAAQ,GAAG;AACrB,uBAAW;AAAA,UACb,WACS,kBAAkB,QAAQ,GAAG;AACpC,uBAAW,UAAU,QAAQ;AAAA,UAC/B,WACS,QAAQ;AACf,uBAAW;AACX,uBAAW,YAAY,UAAU,IAAI;AAAA,UACvC,WACS,SAAS;AAChB,uBAAW;AACX,uBAAW,gBAAgB,UAAU,IAAI;AAAA,UAC3C,OACK;AACH,uBAAW,CAAC;AAAA,UACd;AAAA,QACF,WACSG,eAAc,QAAQ,KAAK,YAAY,QAAQ,GAAG;AACzD,qBAAW;AACX,cAAI,YAAY,QAAQ,GAAG;AACzB,uBAAW,cAAc,QAAQ;AAAA,UACnC,WACS,CAACD,UAAS,QAAQ,KAAKD,YAAW,QAAQ,GAAG;AACpD,uBAAW,gBAAgB,QAAQ;AAAA,UACrC;AAAA,QACF,OACK;AACH,qBAAW;AAAA,QACb;AAAA,MACF;AACA,UAAI,UAAU;AAEZ,cAAM,IAAI,UAAU,QAAQ;AAC5B,kBAAU,UAAU,UAAU,UAAU,YAAY,KAAK;AACzD,cAAM,QAAQ,EAAE,QAAQ;AAAA,MAC1B;AACA,uBAAiB,QAAQ,KAAK,QAAQ;AAAA,IACxC;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7FjB;AAAA;AAAA,QAAI,QAAQ;AAAZ,QACI,mBAAmB;AADvB,QAEI,UAAU;AAFd,QAGI,gBAAgB;AAHpB,QAIIG,YAAW;AAJf,QAKI,SAAS;AALb,QAMI,UAAU;AAad,aAAS,UAAU,QAAQ,QAAQ,UAAU,YAAY,OAAO;AAC9D,UAAI,WAAW,QAAQ;AACrB;AAAA,MACF;AACA,cAAQ,QAAQ,SAAS,UAAU,KAAK;AACtC,kBAAU,QAAQ,IAAI;AACtB,YAAIA,UAAS,QAAQ,GAAG;AACtB,wBAAc,QAAQ,QAAQ,KAAK,UAAU,WAAW,YAAY,KAAK;AAAA,QAC3E,OACK;AACH,cAAI,WAAW,aACX,WAAW,QAAQ,QAAQ,GAAG,GAAG,UAAW,MAAM,IAAK,QAAQ,QAAQ,KAAK,IAC5E;AAEJ,cAAI,aAAa,QAAW;AAC1B,uBAAW;AAAA,UACb;AACA,2BAAiB,QAAQ,KAAK,QAAQ;AAAA,QACxC;AAAA,MACF,GAAG,MAAM;AAAA,IACX;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzCjB;AAAA;AAgBA,aAASC,UAAS,OAAO;AACvB,aAAO;AAAA,IACT;AAEA,WAAO,UAAUA;AAAA;AAAA;;;ACpBjB;AAAA;AAUA,aAASC,OAAM,MAAM,SAAS,MAAM;AAClC,cAAQ,KAAK,QAAQ;AAAA,QACnB,KAAK;AAAG,iBAAO,KAAK,KAAK,OAAO;AAAA,QAChC,KAAK;AAAG,iBAAO,KAAK,KAAK,SAAS,KAAK,CAAC,CAAC;AAAA,QACzC,KAAK;AAAG,iBAAO,KAAK,KAAK,SAAS,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;AAAA,QAClD,KAAK;AAAG,iBAAO,KAAK,KAAK,SAAS,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;AAAA,MAC7D;AACA,aAAO,KAAK,MAAM,SAAS,IAAI;AAAA,IACjC;AAEA,WAAO,UAAUA;AAAA;AAAA;;;ACpBjB;AAAA;AAAA,QAAIC,SAAQ;AAGZ,QAAI,YAAY,KAAK;AAWrB,aAAS,SAAS,MAAM,OAAO,WAAW;AACxC,cAAQ,UAAU,UAAU,SAAa,KAAK,SAAS,IAAK,OAAO,CAAC;AACpE,aAAO,WAAW;AAChB,YAAI,OAAO,WACP,QAAQ,IACR,SAAS,UAAU,KAAK,SAAS,OAAO,CAAC,GACzC,QAAQ,MAAM,MAAM;AAExB,eAAO,EAAE,QAAQ,QAAQ;AACvB,gBAAM,KAAK,IAAI,KAAK,QAAQ,KAAK;AAAA,QACnC;AACA,gBAAQ;AACR,YAAI,YAAY,MAAM,QAAQ,CAAC;AAC/B,eAAO,EAAE,QAAQ,OAAO;AACtB,oBAAU,KAAK,IAAI,KAAK,KAAK;AAAA,QAC/B;AACA,kBAAU,KAAK,IAAI,UAAU,KAAK;AAClC,eAAOA,OAAM,MAAM,MAAM,SAAS;AAAA,MACpC;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnCjB;AAAA;AAmBA,aAAS,SAAS,OAAO;AACvB,aAAO,WAAW;AAChB,eAAO;AAAA,MACT;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzBjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,iBAAiB;AADrB,QAEIC,YAAW;AAUf,QAAI,kBAAkB,CAAC,iBAAiBA,YAAW,SAAS,MAAM,QAAQ;AACxE,aAAO,eAAe,MAAM,YAAY;AAAA,QACtC,gBAAgB;AAAA,QAChB,cAAc;AAAA,QACd,SAAS,SAAS,MAAM;AAAA,QACxB,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrBjB;AAAA;AACA,QAAI,YAAY;AAAhB,QACI,WAAW;AAGf,QAAI,YAAY,KAAK;AAWrB,aAAS,SAAS,MAAM;AACtB,UAAI,QAAQ,GACR,aAAa;AAEjB,aAAO,WAAW;AAChB,YAAI,QAAQ,UAAU,GAClB,YAAY,YAAY,QAAQ;AAEpC,qBAAa;AACb,YAAI,YAAY,GAAG;AACjB,cAAI,EAAE,SAAS,WAAW;AACxB,mBAAO,UAAU,CAAC;AAAA,UACpB;AAAA,QACF,OAAO;AACL,kBAAQ;AAAA,QACV;AACA,eAAO,KAAK,MAAM,QAAW,SAAS;AAAA,MACxC;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpCjB;AAAA;AAAA,QAAI,kBAAkB;AAAtB,QACI,WAAW;AAUf,QAAI,cAAc,SAAS,eAAe;AAE1C,WAAO,UAAU;AAAA;AAAA;;;ACbjB;AAAA;AAAA,QAAIC,YAAW;AAAf,QACI,WAAW;AADf,QAEI,cAAc;AAUlB,aAAS,SAAS,MAAM,OAAO;AAC7B,aAAO,YAAY,SAAS,MAAM,OAAOA,SAAQ,GAAG,OAAO,EAAE;AAAA,IAC/D;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AAAA,QAAI,KAAK;AAAT,QACI,cAAc;AADlB,QAEI,UAAU;AAFd,QAGIC,YAAW;AAYf,aAAS,eAAe,OAAO,OAAO,QAAQ;AAC5C,UAAI,CAACA,UAAS,MAAM,GAAG;AACrB,eAAO;AAAA,MACT;AACA,UAAI,OAAO,OAAO;AAClB,UAAI,QAAQ,WACH,YAAY,MAAM,KAAK,QAAQ,OAAO,OAAO,MAAM,IACnD,QAAQ,YAAY,SAAS,QAChC;AACJ,eAAO,GAAG,OAAO,KAAK,GAAG,KAAK;AAAA,MAChC;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7BjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,iBAAiB;AASrB,aAAS,eAAe,UAAU;AAChC,aAAO,SAAS,SAAS,QAAQ,SAAS;AACxC,YAAI,QAAQ,IACR,SAAS,QAAQ,QACjB,aAAa,SAAS,IAAI,QAAQ,SAAS,CAAC,IAAI,QAChD,QAAQ,SAAS,IAAI,QAAQ,CAAC,IAAI;AAEtC,qBAAc,SAAS,SAAS,KAAK,OAAO,cAAc,cACrD,UAAU,cACX;AAEJ,YAAI,SAAS,eAAe,QAAQ,CAAC,GAAG,QAAQ,CAAC,GAAG,KAAK,GAAG;AAC1D,uBAAa,SAAS,IAAI,SAAY;AACtC,mBAAS;AAAA,QACX;AACA,iBAAS,OAAO,MAAM;AACtB,eAAO,EAAE,QAAQ,QAAQ;AACvB,cAAI,SAAS,QAAQ,KAAK;AAC1B,cAAI,QAAQ;AACV,qBAAS,QAAQ,QAAQ,OAAO,UAAU;AAAA,UAC5C;AAAA,QACF;AACA,eAAO;AAAA,MACT,CAAC;AAAA,IACH;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpCjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,iBAAiB;AAiCrB,QAAIC,SAAQ,eAAe,SAAS,QAAQ,QAAQ,UAAU;AAC5D,gBAAU,QAAQ,QAAQ,QAAQ;AAAA,IACpC,CAAC;AAED,WAAO,UAAUA;AAAA;AAAA;;;ACtCjB;AAAA;AAAA;AACA,WAAO,UAAU,SAAO,mBAAmB,GAAG,EAAE,QAAQ,YAAY,OAAK,IAAI,EAAE,WAAW,CAAC,EAAE,SAAS,EAAE,EAAE,YAAY,CAAC,EAAE;AAAA;AAAA;;;ACDzH;AAAA;AAAA;AACA,QAAI,QAAQ;AACZ,QAAI,gBAAgB,IAAI,OAAO,MAAM,QAAQ,cAAc,IAAI;AAC/D,QAAI,eAAe,IAAI,OAAO,MAAM,QAAQ,MAAM,IAAI;AAEtD,aAAS,iBAAiB,YAAY,OAAO;AAC5C,UAAI;AAEH,eAAO,CAAC,mBAAmB,WAAW,KAAK,EAAE,CAAC,CAAC;AAAA,MAChD,SAAS,KAAK;AAAA,MAEd;AAEA,UAAI,WAAW,WAAW,GAAG;AAC5B,eAAO;AAAA,MACR;AAEA,cAAQ,SAAS;AAGjB,UAAI,OAAO,WAAW,MAAM,GAAG,KAAK;AACpC,UAAI,QAAQ,WAAW,MAAM,KAAK;AAElC,aAAO,MAAM,UAAU,OAAO,KAAK,CAAC,GAAG,iBAAiB,IAAI,GAAG,iBAAiB,KAAK,CAAC;AAAA,IACvF;AAEA,aAAS,OAAO,OAAO;AACtB,UAAI;AACH,eAAO,mBAAmB,KAAK;AAAA,MAChC,SAAS,KAAK;AACb,YAAI,SAAS,MAAM,MAAM,aAAa,KAAK,CAAC;AAE5C,iBAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACvC,kBAAQ,iBAAiB,QAAQ,CAAC,EAAE,KAAK,EAAE;AAE3C,mBAAS,MAAM,MAAM,aAAa,KAAK,CAAC;AAAA,QACzC;AAEA,eAAO;AAAA,MACR;AAAA,IACD;AAEA,aAAS,yBAAyB,OAAO;AAExC,UAAI,aAAa;AAAA,QAChB,UAAU;AAAA,QACV,UAAU;AAAA,MACX;AAEA,UAAIC,SAAQ,aAAa,KAAK,KAAK;AACnC,aAAOA,QAAO;AACb,YAAI;AAEH,qBAAWA,OAAM,CAAC,CAAC,IAAI,mBAAmBA,OAAM,CAAC,CAAC;AAAA,QACnD,SAAS,KAAK;AACb,cAAI,SAAS,OAAOA,OAAM,CAAC,CAAC;AAE5B,cAAI,WAAWA,OAAM,CAAC,GAAG;AACxB,uBAAWA,OAAM,CAAC,CAAC,IAAI;AAAA,UACxB;AAAA,QACD;AAEA,QAAAA,SAAQ,aAAa,KAAK,KAAK;AAAA,MAChC;AAGA,iBAAW,KAAK,IAAI;AAEpB,UAAI,UAAU,OAAO,KAAK,UAAU;AAEpC,eAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AAExC,YAAI,MAAM,QAAQ,CAAC;AACnB,gBAAQ,MAAM,QAAQ,IAAI,OAAO,KAAK,GAAG,GAAG,WAAW,GAAG,CAAC;AAAA,MAC5D;AAEA,aAAO;AAAA,IACR;AAEA,WAAO,UAAU,SAAU,YAAY;AACtC,UAAI,OAAO,eAAe,UAAU;AACnC,cAAM,IAAI,UAAU,wDAAwD,OAAO,aAAa,GAAG;AAAA,MACpG;AAEA,UAAI;AACH,qBAAa,WAAW,QAAQ,OAAO,GAAG;AAG1C,eAAO,mBAAmB,UAAU;AAAA,MACrC,SAAS,KAAK;AAEb,eAAO,yBAAyB,UAAU;AAAA,MAC3C;AAAA,IACD;AAAA;AAAA;;;AC7FA;AAAA;AAAA;AAEA,WAAO,UAAU,CAAC,QAAQ,cAAc;AACvC,UAAI,EAAE,OAAO,WAAW,YAAY,OAAO,cAAc,WAAW;AACnE,cAAM,IAAI,UAAU,+CAA+C;AAAA,MACpE;AAEA,UAAI,cAAc,IAAI;AACrB,eAAO,CAAC,MAAM;AAAA,MACf;AAEA,YAAM,iBAAiB,OAAO,QAAQ,SAAS;AAE/C,UAAI,mBAAmB,IAAI;AAC1B,eAAO,CAAC,MAAM;AAAA,MACf;AAEA,aAAO;AAAA,QACN,OAAO,MAAM,GAAG,cAAc;AAAA,QAC9B,OAAO,MAAM,iBAAiB,UAAU,MAAM;AAAA,MAC/C;AAAA,IACD;AAAA;AAAA;;;ACrBA;AAAA;AAAA;AACA,WAAO,UAAU,SAAU,KAAK,WAAW;AAC1C,UAAI,MAAM,CAAC;AACX,UAAI,OAAO,OAAO,KAAK,GAAG;AAC1B,UAAI,QAAQ,MAAM,QAAQ,SAAS;AAEnC,eAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AACrC,YAAI,MAAM,KAAK,CAAC;AAChB,YAAI,MAAM,IAAI,GAAG;AAEjB,YAAI,QAAQ,UAAU,QAAQ,GAAG,MAAM,KAAK,UAAU,KAAK,KAAK,GAAG,GAAG;AACrE,cAAI,GAAG,IAAI;AAAA,QACZ;AAAA,MACD;AAEA,aAAO;AAAA,IACR;AAAA;AAAA;;;AChBA;AAAA;AAAA;AACA,QAAM,kBAAkB;AACxB,QAAM,kBAAkB;AACxB,QAAM,eAAe;AACrB,QAAM,eAAe;AAErB,QAAM,oBAAoB,WAAS,UAAU,QAAQ,UAAU;AAE/D,QAAM,2BAA2B,OAAO,0BAA0B;AAElE,aAAS,sBAAsB,SAAS;AACvC,cAAQ,QAAQ,aAAa;AAAA,QAC5B,KAAK;AACJ,iBAAO,SAAO,CAAC,QAAQ,UAAU;AAChC,kBAAM,QAAQ,OAAO;AAErB,gBACC,UAAU,UACT,QAAQ,YAAY,UAAU,QAC9B,QAAQ,mBAAmB,UAAU,IACrC;AACD,qBAAO;AAAA,YACR;AAEA,gBAAI,UAAU,MAAM;AACnB,qBAAO,CAAC,GAAG,QAAQ,CAAC,OAAO,KAAK,OAAO,GAAG,KAAK,OAAO,GAAG,EAAE,KAAK,EAAE,CAAC;AAAA,YACpE;AAEA,mBAAO;AAAA,cACN,GAAG;AAAA,cACH,CAAC,OAAO,KAAK,OAAO,GAAG,KAAK,OAAO,OAAO,OAAO,GAAG,MAAM,OAAO,OAAO,OAAO,CAAC,EAAE,KAAK,EAAE;AAAA,YAC1F;AAAA,UACD;AAAA,QAED,KAAK;AACJ,iBAAO,SAAO,CAAC,QAAQ,UAAU;AAChC,gBACC,UAAU,UACT,QAAQ,YAAY,UAAU,QAC9B,QAAQ,mBAAmB,UAAU,IACrC;AACD,qBAAO;AAAA,YACR;AAEA,gBAAI,UAAU,MAAM;AACnB,qBAAO,CAAC,GAAG,QAAQ,CAAC,OAAO,KAAK,OAAO,GAAG,IAAI,EAAE,KAAK,EAAE,CAAC;AAAA,YACzD;AAEA,mBAAO,CAAC,GAAG,QAAQ,CAAC,OAAO,KAAK,OAAO,GAAG,OAAO,OAAO,OAAO,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC;AAAA,UAClF;AAAA,QAED,KAAK;AACJ,iBAAO,SAAO,CAAC,QAAQ,UAAU;AAChC,gBACC,UAAU,UACT,QAAQ,YAAY,UAAU,QAC9B,QAAQ,mBAAmB,UAAU,IACrC;AACD,qBAAO;AAAA,YACR;AAEA,gBAAI,UAAU,MAAM;AACnB,qBAAO,CAAC,GAAG,QAAQ,CAAC,OAAO,KAAK,OAAO,GAAG,QAAQ,EAAE,KAAK,EAAE,CAAC;AAAA,YAC7D;AAEA,mBAAO,CAAC,GAAG,QAAQ,CAAC,OAAO,KAAK,OAAO,GAAG,UAAU,OAAO,OAAO,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC;AAAA,UACrF;AAAA,QAED,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK,qBAAqB;AACzB,gBAAM,cAAc,QAAQ,gBAAgB,sBAC3C,QACA;AAED,iBAAO,SAAO,CAAC,QAAQ,UAAU;AAChC,gBACC,UAAU,UACT,QAAQ,YAAY,UAAU,QAC9B,QAAQ,mBAAmB,UAAU,IACrC;AACD,qBAAO;AAAA,YACR;AAGA,oBAAQ,UAAU,OAAO,KAAK;AAE9B,gBAAI,OAAO,WAAW,GAAG;AACxB,qBAAO,CAAC,CAAC,OAAO,KAAK,OAAO,GAAG,aAAa,OAAO,OAAO,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC;AAAA,YAC7E;AAEA,mBAAO,CAAC,CAAC,QAAQ,OAAO,OAAO,OAAO,CAAC,EAAE,KAAK,QAAQ,oBAAoB,CAAC;AAAA,UAC5E;AAAA,QACD;AAAA,QAEA;AACC,iBAAO,SAAO,CAAC,QAAQ,UAAU;AAChC,gBACC,UAAU,UACT,QAAQ,YAAY,UAAU,QAC9B,QAAQ,mBAAmB,UAAU,IACrC;AACD,qBAAO;AAAA,YACR;AAEA,gBAAI,UAAU,MAAM;AACnB,qBAAO,CAAC,GAAG,QAAQ,OAAO,KAAK,OAAO,CAAC;AAAA,YACxC;AAEA,mBAAO,CAAC,GAAG,QAAQ,CAAC,OAAO,KAAK,OAAO,GAAG,KAAK,OAAO,OAAO,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC;AAAA,UAChF;AAAA,MACF;AAAA,IACD;AAEA,aAAS,qBAAqB,SAAS;AACtC,UAAI;AAEJ,cAAQ,QAAQ,aAAa;AAAA,QAC5B,KAAK;AACJ,iBAAO,CAAC,KAAK,OAAO,gBAAgB;AACnC,qBAAS,aAAa,KAAK,GAAG;AAE9B,kBAAM,IAAI,QAAQ,YAAY,EAAE;AAEhC,gBAAI,CAAC,QAAQ;AACZ,0BAAY,GAAG,IAAI;AACnB;AAAA,YACD;AAEA,gBAAI,YAAY,GAAG,MAAM,QAAW;AACnC,0BAAY,GAAG,IAAI,CAAC;AAAA,YACrB;AAEA,wBAAY,GAAG,EAAE,OAAO,CAAC,CAAC,IAAI;AAAA,UAC/B;AAAA,QAED,KAAK;AACJ,iBAAO,CAAC,KAAK,OAAO,gBAAgB;AACnC,qBAAS,UAAU,KAAK,GAAG;AAC3B,kBAAM,IAAI,QAAQ,SAAS,EAAE;AAE7B,gBAAI,CAAC,QAAQ;AACZ,0BAAY,GAAG,IAAI;AACnB;AAAA,YACD;AAEA,gBAAI,YAAY,GAAG,MAAM,QAAW;AACnC,0BAAY,GAAG,IAAI,CAAC,KAAK;AACzB;AAAA,YACD;AAEA,wBAAY,GAAG,IAAI,CAAC,EAAE,OAAO,YAAY,GAAG,GAAG,KAAK;AAAA,UACrD;AAAA,QAED,KAAK;AACJ,iBAAO,CAAC,KAAK,OAAO,gBAAgB;AACnC,qBAAS,WAAW,KAAK,GAAG;AAC5B,kBAAM,IAAI,QAAQ,UAAU,EAAE;AAE9B,gBAAI,CAAC,QAAQ;AACZ,0BAAY,GAAG,IAAI;AACnB;AAAA,YACD;AAEA,gBAAI,YAAY,GAAG,MAAM,QAAW;AACnC,0BAAY,GAAG,IAAI,CAAC,KAAK;AACzB;AAAA,YACD;AAEA,wBAAY,GAAG,IAAI,CAAC,EAAE,OAAO,YAAY,GAAG,GAAG,KAAK;AAAA,UACrD;AAAA,QAED,KAAK;AAAA,QACL,KAAK;AACJ,iBAAO,CAAC,KAAK,OAAO,gBAAgB;AACnC,kBAAMC,WAAU,OAAO,UAAU,YAAY,MAAM,SAAS,QAAQ,oBAAoB;AACxF,kBAAM,iBAAkB,OAAO,UAAU,YAAY,CAACA,YAAW,OAAO,OAAO,OAAO,EAAE,SAAS,QAAQ,oBAAoB;AAC7H,oBAAQ,iBAAiB,OAAO,OAAO,OAAO,IAAI;AAClD,kBAAM,WAAWA,YAAW,iBAAiB,MAAM,MAAM,QAAQ,oBAAoB,EAAE,IAAI,UAAQ,OAAO,MAAM,OAAO,CAAC,IAAI,UAAU,OAAO,QAAQ,OAAO,OAAO,OAAO;AAC1K,wBAAY,GAAG,IAAI;AAAA,UACpB;AAAA,QAED,KAAK;AACJ,iBAAO,CAAC,KAAK,OAAO,gBAAgB;AACnC,kBAAMA,WAAU,UAAU,KAAK,GAAG;AAClC,kBAAM,IAAI,QAAQ,SAAS,EAAE;AAE7B,gBAAI,CAACA,UAAS;AACb,0BAAY,GAAG,IAAI,QAAQ,OAAO,OAAO,OAAO,IAAI;AACpD;AAAA,YACD;AAEA,kBAAM,aAAa,UAAU,OAC5B,CAAC,IACD,MAAM,MAAM,QAAQ,oBAAoB,EAAE,IAAI,UAAQ,OAAO,MAAM,OAAO,CAAC;AAE5E,gBAAI,YAAY,GAAG,MAAM,QAAW;AACnC,0BAAY,GAAG,IAAI;AACnB;AAAA,YACD;AAEA,wBAAY,GAAG,IAAI,CAAC,EAAE,OAAO,YAAY,GAAG,GAAG,UAAU;AAAA,UAC1D;AAAA,QAED;AACC,iBAAO,CAAC,KAAK,OAAO,gBAAgB;AACnC,gBAAI,YAAY,GAAG,MAAM,QAAW;AACnC,0BAAY,GAAG,IAAI;AACnB;AAAA,YACD;AAEA,wBAAY,GAAG,IAAI,CAAC,EAAE,OAAO,YAAY,GAAG,GAAG,KAAK;AAAA,UACrD;AAAA,MACF;AAAA,IACD;AAEA,aAAS,6BAA6B,OAAO;AAC5C,UAAI,OAAO,UAAU,YAAY,MAAM,WAAW,GAAG;AACpD,cAAM,IAAI,UAAU,sDAAsD;AAAA,MAC3E;AAAA,IACD;AAEA,aAAS,OAAO,OAAO,SAAS;AAC/B,UAAI,QAAQ,QAAQ;AACnB,eAAO,QAAQ,SAAS,gBAAgB,KAAK,IAAI,mBAAmB,KAAK;AAAA,MAC1E;AAEA,aAAO;AAAA,IACR;AAEA,aAAS,OAAO,OAAO,SAAS;AAC/B,UAAI,QAAQ,QAAQ;AACnB,eAAO,gBAAgB,KAAK;AAAA,MAC7B;AAEA,aAAO;AAAA,IACR;AAEA,aAAS,WAAW,OAAO;AAC1B,UAAI,MAAM,QAAQ,KAAK,GAAG;AACzB,eAAO,MAAM,KAAK;AAAA,MACnB;AAEA,UAAI,OAAO,UAAU,UAAU;AAC9B,eAAO,WAAW,OAAO,KAAK,KAAK,CAAC,EAClC,KAAK,CAAC,GAAG,MAAM,OAAO,CAAC,IAAI,OAAO,CAAC,CAAC,EACpC,IAAI,SAAO,MAAM,GAAG,CAAC;AAAA,MACxB;AAEA,aAAO;AAAA,IACR;AAEA,aAAS,WAAW,OAAO;AAC1B,YAAM,YAAY,MAAM,QAAQ,GAAG;AACnC,UAAI,cAAc,IAAI;AACrB,gBAAQ,MAAM,MAAM,GAAG,SAAS;AAAA,MACjC;AAEA,aAAO;AAAA,IACR;AAEA,aAAS,QAAQ,KAAK;AACrB,UAAI,OAAO;AACX,YAAM,YAAY,IAAI,QAAQ,GAAG;AACjC,UAAI,cAAc,IAAI;AACrB,eAAO,IAAI,MAAM,SAAS;AAAA,MAC3B;AAEA,aAAO;AAAA,IACR;AAEA,aAAS,QAAQ,OAAO;AACvB,cAAQ,WAAW,KAAK;AACxB,YAAM,aAAa,MAAM,QAAQ,GAAG;AACpC,UAAI,eAAe,IAAI;AACtB,eAAO;AAAA,MACR;AAEA,aAAO,MAAM,MAAM,aAAa,CAAC;AAAA,IAClC;AAEA,aAAS,WAAW,OAAO,SAAS;AACnC,UAAI,QAAQ,gBAAgB,CAAC,OAAO,MAAM,OAAO,KAAK,CAAC,MAAM,OAAO,UAAU,YAAY,MAAM,KAAK,MAAM,KAAK;AAC/G,gBAAQ,OAAO,KAAK;AAAA,MACrB,WAAW,QAAQ,iBAAiB,UAAU,SAAS,MAAM,YAAY,MAAM,UAAU,MAAM,YAAY,MAAM,UAAU;AAC1H,gBAAQ,MAAM,YAAY,MAAM;AAAA,MACjC;AAEA,aAAO;AAAA,IACR;AAEA,aAASC,OAAM,OAAO,SAAS;AAC9B,gBAAU,OAAO,OAAO;AAAA,QACvB,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,aAAa;AAAA,QACb,sBAAsB;AAAA,QACtB,cAAc;AAAA,QACd,eAAe;AAAA,MAChB,GAAG,OAAO;AAEV,mCAA6B,QAAQ,oBAAoB;AAEzD,YAAM,YAAY,qBAAqB,OAAO;AAG9C,YAAM,MAAM,uBAAO,OAAO,IAAI;AAE9B,UAAI,OAAO,UAAU,UAAU;AAC9B,eAAO;AAAA,MACR;AAEA,cAAQ,MAAM,KAAK,EAAE,QAAQ,UAAU,EAAE;AAEzC,UAAI,CAAC,OAAO;AACX,eAAO;AAAA,MACR;AAEA,iBAAW,SAAS,MAAM,MAAM,GAAG,GAAG;AACrC,YAAI,UAAU,IAAI;AACjB;AAAA,QACD;AAEA,YAAI,CAAC,KAAK,KAAK,IAAI,aAAa,QAAQ,SAAS,MAAM,QAAQ,OAAO,GAAG,IAAI,OAAO,GAAG;AAIvF,gBAAQ,UAAU,SAAY,OAAO,CAAC,SAAS,aAAa,mBAAmB,EAAE,SAAS,QAAQ,WAAW,IAAI,QAAQ,OAAO,OAAO,OAAO;AAC9I,kBAAU,OAAO,KAAK,OAAO,GAAG,OAAO,GAAG;AAAA,MAC3C;AAEA,iBAAW,OAAO,OAAO,KAAK,GAAG,GAAG;AACnC,cAAM,QAAQ,IAAI,GAAG;AACrB,YAAI,OAAO,UAAU,YAAY,UAAU,MAAM;AAChD,qBAAW,KAAK,OAAO,KAAK,KAAK,GAAG;AACnC,kBAAM,CAAC,IAAI,WAAW,MAAM,CAAC,GAAG,OAAO;AAAA,UACxC;AAAA,QACD,OAAO;AACN,cAAI,GAAG,IAAI,WAAW,OAAO,OAAO;AAAA,QACrC;AAAA,MACD;AAEA,UAAI,QAAQ,SAAS,OAAO;AAC3B,eAAO;AAAA,MACR;AAEA,cAAQ,QAAQ,SAAS,OAAO,OAAO,KAAK,GAAG,EAAE,KAAK,IAAI,OAAO,KAAK,GAAG,EAAE,KAAK,QAAQ,IAAI,GAAG,OAAO,CAAC,QAAQ,QAAQ;AACtH,cAAM,QAAQ,IAAI,GAAG;AACrB,YAAI,QAAQ,KAAK,KAAK,OAAO,UAAU,YAAY,CAAC,MAAM,QAAQ,KAAK,GAAG;AAEzE,iBAAO,GAAG,IAAI,WAAW,KAAK;AAAA,QAC/B,OAAO;AACN,iBAAO,GAAG,IAAI;AAAA,QACf;AAEA,eAAO;AAAA,MACR,GAAG,uBAAO,OAAO,IAAI,CAAC;AAAA,IACvB;AAEA,YAAQ,UAAU;AAClB,YAAQ,QAAQA;AAEhB,YAAQ,YAAY,CAAC,QAAQ,YAAY;AACxC,UAAI,CAAC,QAAQ;AACZ,eAAO;AAAA,MACR;AAEA,gBAAU,OAAO,OAAO;AAAA,QACvB,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,sBAAsB;AAAA,MACvB,GAAG,OAAO;AAEV,mCAA6B,QAAQ,oBAAoB;AAEzD,YAAM,eAAe,SACnB,QAAQ,YAAY,kBAAkB,OAAO,GAAG,CAAC,KACjD,QAAQ,mBAAmB,OAAO,GAAG,MAAM;AAG7C,YAAM,YAAY,sBAAsB,OAAO;AAE/C,YAAM,aAAa,CAAC;AAEpB,iBAAW,OAAO,OAAO,KAAK,MAAM,GAAG;AACtC,YAAI,CAAC,aAAa,GAAG,GAAG;AACvB,qBAAW,GAAG,IAAI,OAAO,GAAG;AAAA,QAC7B;AAAA,MACD;AAEA,YAAM,OAAO,OAAO,KAAK,UAAU;AAEnC,UAAI,QAAQ,SAAS,OAAO;AAC3B,aAAK,KAAK,QAAQ,IAAI;AAAA,MACvB;AAEA,aAAO,KAAK,IAAI,SAAO;AACtB,cAAM,QAAQ,OAAO,GAAG;AAExB,YAAI,UAAU,QAAW;AACxB,iBAAO;AAAA,QACR;AAEA,YAAI,UAAU,MAAM;AACnB,iBAAO,OAAO,KAAK,OAAO;AAAA,QAC3B;AAEA,YAAI,MAAM,QAAQ,KAAK,GAAG;AACzB,cAAI,MAAM,WAAW,KAAK,QAAQ,gBAAgB,qBAAqB;AACtE,mBAAO,OAAO,KAAK,OAAO,IAAI;AAAA,UAC/B;AAEA,iBAAO,MACL,OAAO,UAAU,GAAG,GAAG,CAAC,CAAC,EACzB,KAAK,GAAG;AAAA,QACX;AAEA,eAAO,OAAO,KAAK,OAAO,IAAI,MAAM,OAAO,OAAO,OAAO;AAAA,MAC1D,CAAC,EAAE,OAAO,OAAK,EAAE,SAAS,CAAC,EAAE,KAAK,GAAG;AAAA,IACtC;AAEA,YAAQ,WAAW,CAAC,KAAK,YAAY;AACpC,gBAAU,OAAO,OAAO;AAAA,QACvB,QAAQ;AAAA,MACT,GAAG,OAAO;AAEV,YAAM,CAAC,MAAM,IAAI,IAAI,aAAa,KAAK,GAAG;AAE1C,aAAO,OAAO;AAAA,QACb;AAAA,UACC,KAAK,KAAK,MAAM,GAAG,EAAE,CAAC,KAAK;AAAA,UAC3B,OAAOA,OAAM,QAAQ,GAAG,GAAG,OAAO;AAAA,QACnC;AAAA,QACA,WAAW,QAAQ,2BAA2B,OAAO,EAAC,oBAAoB,OAAO,MAAM,OAAO,EAAC,IAAI,CAAC;AAAA,MACrG;AAAA,IACD;AAEA,YAAQ,eAAe,CAAC,QAAQ,YAAY;AAC3C,gBAAU,OAAO,OAAO;AAAA,QACvB,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,CAAC,wBAAwB,GAAG;AAAA,MAC7B,GAAG,OAAO;AAEV,YAAM,MAAM,WAAW,OAAO,GAAG,EAAE,MAAM,GAAG,EAAE,CAAC,KAAK;AACpD,YAAM,eAAe,QAAQ,QAAQ,OAAO,GAAG;AAC/C,YAAM,qBAAqB,QAAQ,MAAM,cAAc,EAAC,MAAM,MAAK,CAAC;AAEpE,YAAM,QAAQ,OAAO,OAAO,oBAAoB,OAAO,KAAK;AAC5D,UAAI,cAAc,QAAQ,UAAU,OAAO,OAAO;AAClD,UAAI,aAAa;AAChB,sBAAc,IAAI,WAAW;AAAA,MAC9B;AAEA,UAAI,OAAO,QAAQ,OAAO,GAAG;AAC7B,UAAI,OAAO,oBAAoB;AAC9B,eAAO,IAAI,QAAQ,wBAAwB,IAAI,OAAO,OAAO,oBAAoB,OAAO,IAAI,OAAO,kBAAkB;AAAA,MACtH;AAEA,aAAO,GAAG,GAAG,GAAG,WAAW,GAAG,IAAI;AAAA,IACnC;AAEA,YAAQ,OAAO,CAAC,OAAO,QAAQ,YAAY;AAC1C,gBAAU,OAAO,OAAO;AAAA,QACvB,yBAAyB;AAAA,QACzB,CAAC,wBAAwB,GAAG;AAAA,MAC7B,GAAG,OAAO;AAEV,YAAM,EAAC,KAAK,OAAO,mBAAkB,IAAI,QAAQ,SAAS,OAAO,OAAO;AACxE,aAAO,QAAQ,aAAa;AAAA,QAC3B;AAAA,QACA,OAAO,aAAa,OAAO,MAAM;AAAA,QACjC;AAAA,MACD,GAAG,OAAO;AAAA,IACX;AAEA,YAAQ,UAAU,CAAC,OAAO,QAAQ,YAAY;AAC7C,YAAM,kBAAkB,MAAM,QAAQ,MAAM,IAAI,SAAO,CAAC,OAAO,SAAS,GAAG,IAAI,CAAC,KAAK,UAAU,CAAC,OAAO,KAAK,KAAK;AAEjH,aAAO,QAAQ,KAAK,OAAO,iBAAiB,OAAO;AAAA,IACpD;AAAA;AAAA;;;ACjeA;AAAA;AAAA;AAEA,QAAI,MAAM,OAAO,UAAU;AAA3B,QACI,SAAS;AASb,aAAS,SAAS;AAAA,IAAC;AASnB,QAAI,OAAO,QAAQ;AACjB,aAAO,YAAY,uBAAO,OAAO,IAAI;AAMrC,UAAI,CAAC,IAAI,OAAO,EAAE;AAAW,iBAAS;AAAA,IACxC;AAWA,aAAS,GAAG,IAAI,SAAS,MAAM;AAC7B,WAAK,KAAK;AACV,WAAK,UAAU;AACf,WAAK,OAAO,QAAQ;AAAA,IACtB;AAaA,aAAS,YAAY,SAAS,OAAO,IAAI,SAAS,MAAM;AACtD,UAAI,OAAO,OAAO,YAAY;AAC5B,cAAM,IAAI,UAAU,iCAAiC;AAAA,MACvD;AAEA,UAAI,WAAW,IAAI,GAAG,IAAI,WAAW,SAAS,IAAI,GAC9C,MAAM,SAAS,SAAS,QAAQ;AAEpC,UAAI,CAAC,QAAQ,QAAQ,GAAG;AAAG,gBAAQ,QAAQ,GAAG,IAAI,UAAU,QAAQ;AAAA,eAC3D,CAAC,QAAQ,QAAQ,GAAG,EAAE;AAAI,gBAAQ,QAAQ,GAAG,EAAE,KAAK,QAAQ;AAAA;AAChE,gBAAQ,QAAQ,GAAG,IAAI,CAAC,QAAQ,QAAQ,GAAG,GAAG,QAAQ;AAE3D,aAAO;AAAA,IACT;AASA,aAAS,WAAW,SAAS,KAAK;AAChC,UAAI,EAAE,QAAQ,iBAAiB;AAAG,gBAAQ,UAAU,IAAI,OAAO;AAAA;AAC1D,eAAO,QAAQ,QAAQ,GAAG;AAAA,IACjC;AASA,aAASC,gBAAe;AACtB,WAAK,UAAU,IAAI,OAAO;AAC1B,WAAK,eAAe;AAAA,IACtB;AASA,IAAAA,cAAa,UAAU,aAAa,SAAS,aAAa;AACxD,UAAI,QAAQ,CAAC,GACT,QACA;AAEJ,UAAI,KAAK,iBAAiB;AAAG,eAAO;AAEpC,WAAK,QAAS,SAAS,KAAK,SAAU;AACpC,YAAI,IAAI,KAAK,QAAQ,IAAI;AAAG,gBAAM,KAAK,SAAS,KAAK,MAAM,CAAC,IAAI,IAAI;AAAA,MACtE;AAEA,UAAI,OAAO,uBAAuB;AAChC,eAAO,MAAM,OAAO,OAAO,sBAAsB,MAAM,CAAC;AAAA,MAC1D;AAEA,aAAO;AAAA,IACT;AASA,IAAAA,cAAa,UAAU,YAAY,SAAS,UAAU,OAAO;AAC3D,UAAI,MAAM,SAAS,SAAS,QAAQ,OAChC,WAAW,KAAK,QAAQ,GAAG;AAE/B,UAAI,CAAC;AAAU,eAAO,CAAC;AACvB,UAAI,SAAS;AAAI,eAAO,CAAC,SAAS,EAAE;AAEpC,eAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK,IAAI,MAAM,CAAC,GAAG,IAAI,GAAG,KAAK;AAClE,WAAG,CAAC,IAAI,SAAS,CAAC,EAAE;AAAA,MACtB;AAEA,aAAO;AAAA,IACT;AASA,IAAAA,cAAa,UAAU,gBAAgB,SAAS,cAAc,OAAO;AACnE,UAAI,MAAM,SAAS,SAAS,QAAQ,OAChC,YAAY,KAAK,QAAQ,GAAG;AAEhC,UAAI,CAAC;AAAW,eAAO;AACvB,UAAI,UAAU;AAAI,eAAO;AACzB,aAAO,UAAU;AAAA,IACnB;AASA,IAAAA,cAAa,UAAU,OAAO,SAAS,KAAK,OAAO,IAAI,IAAI,IAAI,IAAI,IAAI;AACrE,UAAI,MAAM,SAAS,SAAS,QAAQ;AAEpC,UAAI,CAAC,KAAK,QAAQ,GAAG;AAAG,eAAO;AAE/B,UAAI,YAAY,KAAK,QAAQ,GAAG,GAC5B,MAAM,UAAU,QAChB,MACA;AAEJ,UAAI,UAAU,IAAI;AAChB,YAAI,UAAU;AAAM,eAAK,eAAe,OAAO,UAAU,IAAI,QAAW,IAAI;AAE5E,gBAAQ,KAAK;AAAA,UACX,KAAK;AAAG,mBAAO,UAAU,GAAG,KAAK,UAAU,OAAO,GAAG;AAAA,UACrD,KAAK;AAAG,mBAAO,UAAU,GAAG,KAAK,UAAU,SAAS,EAAE,GAAG;AAAA,UACzD,KAAK;AAAG,mBAAO,UAAU,GAAG,KAAK,UAAU,SAAS,IAAI,EAAE,GAAG;AAAA,UAC7D,KAAK;AAAG,mBAAO,UAAU,GAAG,KAAK,UAAU,SAAS,IAAI,IAAI,EAAE,GAAG;AAAA,UACjE,KAAK;AAAG,mBAAO,UAAU,GAAG,KAAK,UAAU,SAAS,IAAI,IAAI,IAAI,EAAE,GAAG;AAAA,UACrE,KAAK;AAAG,mBAAO,UAAU,GAAG,KAAK,UAAU,SAAS,IAAI,IAAI,IAAI,IAAI,EAAE,GAAG;AAAA,QAC3E;AAEA,aAAK,IAAI,GAAG,OAAO,IAAI,MAAM,MAAK,CAAC,GAAG,IAAI,KAAK,KAAK;AAClD,eAAK,IAAI,CAAC,IAAI,UAAU,CAAC;AAAA,QAC3B;AAEA,kBAAU,GAAG,MAAM,UAAU,SAAS,IAAI;AAAA,MAC5C,OAAO;AACL,YAAI,SAAS,UAAU,QACnB;AAEJ,aAAK,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC3B,cAAI,UAAU,CAAC,EAAE;AAAM,iBAAK,eAAe,OAAO,UAAU,CAAC,EAAE,IAAI,QAAW,IAAI;AAElF,kBAAQ,KAAK;AAAA,YACX,KAAK;AAAG,wBAAU,CAAC,EAAE,GAAG,KAAK,UAAU,CAAC,EAAE,OAAO;AAAG;AAAA,YACpD,KAAK;AAAG,wBAAU,CAAC,EAAE,GAAG,KAAK,UAAU,CAAC,EAAE,SAAS,EAAE;AAAG;AAAA,YACxD,KAAK;AAAG,wBAAU,CAAC,EAAE,GAAG,KAAK,UAAU,CAAC,EAAE,SAAS,IAAI,EAAE;AAAG;AAAA,YAC5D,KAAK;AAAG,wBAAU,CAAC,EAAE,GAAG,KAAK,UAAU,CAAC,EAAE,SAAS,IAAI,IAAI,EAAE;AAAG;AAAA,YAChE;AACE,kBAAI,CAAC;AAAM,qBAAK,IAAI,GAAG,OAAO,IAAI,MAAM,MAAK,CAAC,GAAG,IAAI,KAAK,KAAK;AAC7D,uBAAK,IAAI,CAAC,IAAI,UAAU,CAAC;AAAA,gBAC3B;AAEA,wBAAU,CAAC,EAAE,GAAG,MAAM,UAAU,CAAC,EAAE,SAAS,IAAI;AAAA,UACpD;AAAA,QACF;AAAA,MACF;AAEA,aAAO;AAAA,IACT;AAWA,IAAAA,cAAa,UAAU,KAAK,SAAS,GAAG,OAAO,IAAI,SAAS;AAC1D,aAAO,YAAY,MAAM,OAAO,IAAI,SAAS,KAAK;AAAA,IACpD;AAWA,IAAAA,cAAa,UAAU,OAAO,SAAS,KAAK,OAAO,IAAI,SAAS;AAC9D,aAAO,YAAY,MAAM,OAAO,IAAI,SAAS,IAAI;AAAA,IACnD;AAYA,IAAAA,cAAa,UAAU,iBAAiB,SAAS,eAAe,OAAO,IAAI,SAAS,MAAM;AACxF,UAAI,MAAM,SAAS,SAAS,QAAQ;AAEpC,UAAI,CAAC,KAAK,QAAQ,GAAG;AAAG,eAAO;AAC/B,UAAI,CAAC,IAAI;AACP,mBAAW,MAAM,GAAG;AACpB,eAAO;AAAA,MACT;AAEA,UAAI,YAAY,KAAK,QAAQ,GAAG;AAEhC,UAAI,UAAU,IAAI;AAChB,YACE,UAAU,OAAO,OAChB,CAAC,QAAQ,UAAU,UACnB,CAAC,WAAW,UAAU,YAAY,UACnC;AACA,qBAAW,MAAM,GAAG;AAAA,QACtB;AAAA,MACF,OAAO;AACL,iBAAS,IAAI,GAAG,SAAS,CAAC,GAAG,SAAS,UAAU,QAAQ,IAAI,QAAQ,KAAK;AACvE,cACE,UAAU,CAAC,EAAE,OAAO,MACnB,QAAQ,CAAC,UAAU,CAAC,EAAE,QACtB,WAAW,UAAU,CAAC,EAAE,YAAY,SACrC;AACA,mBAAO,KAAK,UAAU,CAAC,CAAC;AAAA,UAC1B;AAAA,QACF;AAKA,YAAI,OAAO;AAAQ,eAAK,QAAQ,GAAG,IAAI,OAAO,WAAW,IAAI,OAAO,CAAC,IAAI;AAAA;AACpE,qBAAW,MAAM,GAAG;AAAA,MAC3B;AAEA,aAAO;AAAA,IACT;AASA,IAAAA,cAAa,UAAU,qBAAqB,SAAS,mBAAmB,OAAO;AAC7E,UAAI;AAEJ,UAAI,OAAO;AACT,cAAM,SAAS,SAAS,QAAQ;AAChC,YAAI,KAAK,QAAQ,GAAG;AAAG,qBAAW,MAAM,GAAG;AAAA,MAC7C,OAAO;AACL,aAAK,UAAU,IAAI,OAAO;AAC1B,aAAK,eAAe;AAAA,MACtB;AAEA,aAAO;AAAA,IACT;AAKA,IAAAA,cAAa,UAAU,MAAMA,cAAa,UAAU;AACpD,IAAAA,cAAa,UAAU,cAAcA,cAAa,UAAU;AAK5D,IAAAA,cAAa,WAAW;AAKxB,IAAAA,cAAa,eAAeA;AAK5B,QAAI,gBAAgB,OAAO,QAAQ;AACjC,aAAO,UAAUA;AAAA,IACnB;AAAA;AAAA;;;AC/UA;AAAA;AAAA,QAAIC,UAAS;AAAb,QACI,cAAc;AADlB,QAEIC,WAAU;AAGd,QAAI,mBAAmBD,UAASA,QAAO,qBAAqB;AAS5D,aAAS,cAAc,OAAO;AAC5B,aAAOC,SAAQ,KAAK,KAAK,YAAY,KAAK,KACxC,CAAC,EAAE,oBAAoB,SAAS,MAAM,gBAAgB;AAAA,IAC1D;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAIC,aAAY;AAAhB,QACI,gBAAgB;AAapB,aAAS,YAAY,OAAO,OAAO,WAAW,UAAU,QAAQ;AAC9D,UAAI,QAAQ,IACR,SAAS,MAAM;AAEnB,oBAAc,YAAY;AAC1B,iBAAW,SAAS,CAAC;AAErB,aAAO,EAAE,QAAQ,QAAQ;AACvB,YAAI,QAAQ,MAAM,KAAK;AACvB,YAAI,QAAQ,KAAK,UAAU,KAAK,GAAG;AACjC,cAAI,QAAQ,GAAG;AAEb,wBAAY,OAAO,QAAQ,GAAG,WAAW,UAAU,MAAM;AAAA,UAC3D,OAAO;AACL,YAAAA,WAAU,QAAQ,KAAK;AAAA,UACzB;AAAA,QACF,WAAW,CAAC,UAAU;AACpB,iBAAO,OAAO,MAAM,IAAI;AAAA,QAC1B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrCjB;AAAA;AAWA,aAAS,cAAc,OAAO,WAAW,WAAW,WAAW;AAC7D,UAAI,SAAS,MAAM,QACf,QAAQ,aAAa,YAAY,IAAI;AAEzC,aAAQ,YAAY,UAAU,EAAE,QAAQ,QAAS;AAC/C,YAAI,UAAU,MAAM,KAAK,GAAG,OAAO,KAAK,GAAG;AACzC,iBAAO;AAAA,QACT;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACvBjB;AAAA;AAOA,aAAS,UAAU,OAAO;AACxB,aAAO,UAAU;AAAA,IACnB;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACXjB;AAAA;AAUA,aAAS,cAAc,OAAO,OAAO,WAAW;AAC9C,UAAI,QAAQ,YAAY,GACpB,SAAS,MAAM;AAEnB,aAAO,EAAE,QAAQ,QAAQ;AACvB,YAAI,MAAM,KAAK,MAAM,OAAO;AAC1B,iBAAO;AAAA,QACT;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACtBjB;AAAA;AAAA,QAAI,gBAAgB;AAApB,QACI,YAAY;AADhB,QAEI,gBAAgB;AAWpB,aAAS,YAAY,OAAO,OAAO,WAAW;AAC5C,aAAO,UAAU,QACb,cAAc,OAAO,OAAO,SAAS,IACrC,cAAc,OAAO,WAAW,SAAS;AAAA,IAC/C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAI,cAAc;AAWlB,aAAS,cAAc,OAAO,OAAO;AACnC,UAAI,SAAS,SAAS,OAAO,IAAI,MAAM;AACvC,aAAO,CAAC,CAAC,UAAU,YAAY,OAAO,OAAO,CAAC,IAAI;AAAA,IACpD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AASA,aAAS,kBAAkB,OAAO,OAAO,YAAY;AACnD,UAAI,QAAQ,IACR,SAAS,SAAS,OAAO,IAAI,MAAM;AAEvC,aAAO,EAAE,QAAQ,QAAQ;AACvB,YAAI,WAAW,OAAO,MAAM,KAAK,CAAC,GAAG;AACnC,iBAAO;AAAA,QACT;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrBjB;AAAA;AAYA,aAASC,QAAO;AAAA,IAEhB;AAEA,WAAO,UAAUA;AAAA;AAAA;;;AChBjB;AAAA;AAAA,QAAIC,OAAM;AAAV,QACIC,QAAO;AADX,QAEI,aAAa;AAGjB,QAAI,WAAW,IAAI;AASnB,QAAI,YAAY,EAAED,QAAQ,IAAI,WAAW,IAAIA,KAAI,CAAC,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAM,YAAYC,QAAO,SAAS,QAAQ;AAClG,aAAO,IAAID,KAAI,MAAM;AAAA,IACvB;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClBjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,gBAAgB;AADpB,QAEI,oBAAoB;AAFxB,QAGI,WAAW;AAHf,QAII,YAAY;AAJhB,QAKI,aAAa;AAGjB,QAAI,mBAAmB;AAWvB,aAAS,SAAS,OAAO,UAAU,YAAY;AAC7C,UAAI,QAAQ,IACR,WAAW,eACX,SAAS,MAAM,QACf,WAAW,MACX,SAAS,CAAC,GACV,OAAO;AAEX,UAAI,YAAY;AACd,mBAAW;AACX,mBAAW;AAAA,MACb,WACS,UAAU,kBAAkB;AACnC,YAAIE,OAAM,WAAW,OAAO,UAAU,KAAK;AAC3C,YAAIA,MAAK;AACP,iBAAO,WAAWA,IAAG;AAAA,QACvB;AACA,mBAAW;AACX,mBAAW;AACX,eAAO,IAAI;AAAA,MACb,OACK;AACH,eAAO,WAAW,CAAC,IAAI;AAAA,MACzB;AACA;AACA,eAAO,EAAE,QAAQ,QAAQ;AACvB,cAAI,QAAQ,MAAM,KAAK,GACnB,WAAW,WAAW,SAAS,KAAK,IAAI;AAE5C,kBAAS,cAAc,UAAU,IAAK,QAAQ;AAC9C,cAAI,YAAY,aAAa,UAAU;AACrC,gBAAI,YAAY,KAAK;AACrB,mBAAO,aAAa;AAClB,kBAAI,KAAK,SAAS,MAAM,UAAU;AAChC,yBAAS;AAAA,cACX;AAAA,YACF;AACA,gBAAI,UAAU;AACZ,mBAAK,KAAK,QAAQ;AAAA,YACpB;AACA,mBAAO,KAAK,KAAK;AAAA,UACnB,WACS,CAAC,SAAS,MAAM,UAAU,UAAU,GAAG;AAC9C,gBAAI,SAAS,QAAQ;AACnB,mBAAK,KAAK,QAAQ;AAAA,YACpB;AACA,mBAAO,KAAK,KAAK;AAAA,UACnB;AAAA,QACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACvEjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,WAAW;AADf,QAEI,WAAW;AAFf,QAGI,oBAAoB;AAkBxB,QAAIC,SAAQ,SAAS,SAAS,QAAQ;AACpC,aAAO,SAAS,YAAY,QAAQ,GAAG,mBAAmB,IAAI,CAAC;AAAA,IACjE,CAAC;AAED,WAAO,UAAUA;AAAA;AAAA;;;ACzBjB;AAAA;AAAA,QAAI,OAAO;AAkBX,QAAI,MAAM,WAAW;AACnB,aAAO,KAAK,KAAK,IAAI;AAAA,IACvB;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACtBjB;AAAA;AACA,QAAI,eAAe;AAUnB,aAAS,gBAAgB,QAAQ;AAC/B,UAAI,QAAQ,OAAO;AAEnB,aAAO,WAAW,aAAa,KAAK,OAAO,OAAO,KAAK,CAAC,GAAG;AAAA,MAAC;AAC5D,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClBjB;AAAA;AAAA,QAAI,kBAAkB;AAGtB,QAAI,cAAc;AASlB,aAAS,SAAS,QAAQ;AACxB,aAAO,SACH,OAAO,MAAM,GAAG,gBAAgB,MAAM,IAAI,CAAC,EAAE,QAAQ,aAAa,EAAE,IACpE;AAAA,IACN;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClBjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACIC,YAAW;AADf,QAEI,WAAW;AAGf,QAAI,MAAM,IAAI;AAGd,QAAI,aAAa;AAGjB,QAAI,aAAa;AAGjB,QAAI,YAAY;AAGhB,QAAI,eAAe;AAyBnB,aAAS,SAAS,OAAO;AACvB,UAAI,OAAO,SAAS,UAAU;AAC5B,eAAO;AAAA,MACT;AACA,UAAI,SAAS,KAAK,GAAG;AACnB,eAAO;AAAA,MACT;AACA,UAAIA,UAAS,KAAK,GAAG;AACnB,YAAI,QAAQ,OAAO,MAAM,WAAW,aAAa,MAAM,QAAQ,IAAI;AACnE,gBAAQA,UAAS,KAAK,IAAK,QAAQ,KAAM;AAAA,MAC3C;AACA,UAAI,OAAO,SAAS,UAAU;AAC5B,eAAO,UAAU,IAAI,QAAQ,CAAC;AAAA,MAChC;AACA,cAAQ,SAAS,KAAK;AACtB,UAAI,WAAW,WAAW,KAAK,KAAK;AACpC,aAAQ,YAAY,UAAU,KAAK,KAAK,IACpC,aAAa,MAAM,MAAM,CAAC,GAAG,WAAW,IAAI,CAAC,IAC5C,WAAW,KAAK,KAAK,IAAI,MAAM,CAAC;AAAA,IACvC;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC/DjB;AAAA;AAAA,QAAIC,YAAW;AAAf,QACI,MAAM;AADV,QAEI,WAAW;AAGf,QAAI,kBAAkB;AAGtB,QAAI,YAAY,KAAK;AAArB,QACI,YAAY,KAAK;AAwDrB,aAASC,UAAS,MAAM,MAAM,SAAS;AACrC,UAAI,UACA,UACA,SACA,QACA,SACA,cACA,iBAAiB,GACjB,UAAU,OACV,SAAS,OACT,WAAW;AAEf,UAAI,OAAO,QAAQ,YAAY;AAC7B,cAAM,IAAI,UAAU,eAAe;AAAA,MACrC;AACA,aAAO,SAAS,IAAI,KAAK;AACzB,UAAID,UAAS,OAAO,GAAG;AACrB,kBAAU,CAAC,CAAC,QAAQ;AACpB,iBAAS,aAAa;AACtB,kBAAU,SAAS,UAAU,SAAS,QAAQ,OAAO,KAAK,GAAG,IAAI,IAAI;AACrE,mBAAW,cAAc,UAAU,CAAC,CAAC,QAAQ,WAAW;AAAA,MAC1D;AAEA,eAAS,WAAW,MAAM;AACxB,YAAI,OAAO,UACP,UAAU;AAEd,mBAAW,WAAW;AACtB,yBAAiB;AACjB,iBAAS,KAAK,MAAM,SAAS,IAAI;AACjC,eAAO;AAAA,MACT;AAEA,eAAS,YAAY,MAAM;AAEzB,yBAAiB;AAEjB,kBAAU,WAAW,cAAc,IAAI;AAEvC,eAAO,UAAU,WAAW,IAAI,IAAI;AAAA,MACtC;AAEA,eAAS,cAAc,MAAM;AAC3B,YAAI,oBAAoB,OAAO,cAC3B,sBAAsB,OAAO,gBAC7B,cAAc,OAAO;AAEzB,eAAO,SACH,UAAU,aAAa,UAAU,mBAAmB,IACpD;AAAA,MACN;AAEA,eAAS,aAAa,MAAM;AAC1B,YAAI,oBAAoB,OAAO,cAC3B,sBAAsB,OAAO;AAKjC,eAAQ,iBAAiB,UAAc,qBAAqB,QACzD,oBAAoB,KAAO,UAAU,uBAAuB;AAAA,MACjE;AAEA,eAAS,eAAe;AACtB,YAAI,OAAO,IAAI;AACf,YAAI,aAAa,IAAI,GAAG;AACtB,iBAAO,aAAa,IAAI;AAAA,QAC1B;AAEA,kBAAU,WAAW,cAAc,cAAc,IAAI,CAAC;AAAA,MACxD;AAEA,eAAS,aAAa,MAAM;AAC1B,kBAAU;AAIV,YAAI,YAAY,UAAU;AACxB,iBAAO,WAAW,IAAI;AAAA,QACxB;AACA,mBAAW,WAAW;AACtB,eAAO;AAAA,MACT;AAEA,eAAS,SAAS;AAChB,YAAI,YAAY,QAAW;AACzB,uBAAa,OAAO;AAAA,QACtB;AACA,yBAAiB;AACjB,mBAAW,eAAe,WAAW,UAAU;AAAA,MACjD;AAEA,eAAS,QAAQ;AACf,eAAO,YAAY,SAAY,SAAS,aAAa,IAAI,CAAC;AAAA,MAC5D;AAEA,eAAS,YAAY;AACnB,YAAI,OAAO,IAAI,GACX,aAAa,aAAa,IAAI;AAElC,mBAAW;AACX,mBAAW;AACX,uBAAe;AAEf,YAAI,YAAY;AACd,cAAI,YAAY,QAAW;AACzB,mBAAO,YAAY,YAAY;AAAA,UACjC;AACA,cAAI,QAAQ;AAEV,yBAAa,OAAO;AACpB,sBAAU,WAAW,cAAc,IAAI;AACvC,mBAAO,WAAW,YAAY;AAAA,UAChC;AAAA,QACF;AACA,YAAI,YAAY,QAAW;AACzB,oBAAU,WAAW,cAAc,IAAI;AAAA,QACzC;AACA,eAAO;AAAA,MACT;AACA,gBAAU,SAAS;AACnB,gBAAU,QAAQ;AAClB,aAAO;AAAA,IACT;AAEA,WAAO,UAAUC;AAAA;AAAA;;;AC9LjB;AAAA;AAAA,QAAI,UAAU;AAAd,QACI,UAAU;AADd,QAEI,WAAW;AAWf,aAAS,WAAW,QAAQ,OAAO,WAAW;AAC5C,UAAI,QAAQ,IACR,SAAS,MAAM,QACf,SAAS,CAAC;AAEd,aAAO,EAAE,QAAQ,QAAQ;AACvB,YAAI,OAAO,MAAM,KAAK,GAClB,QAAQ,QAAQ,QAAQ,IAAI;AAEhC,YAAI,UAAU,OAAO,IAAI,GAAG;AAC1B,kBAAQ,QAAQ,SAAS,MAAM,MAAM,GAAG,KAAK;AAAA,QAC/C;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7BjB;AAAA;AAQA,aAAS,UAAU,QAAQ,KAAK;AAC9B,aAAO,UAAU,QAAQ,OAAO,OAAO,MAAM;AAAA,IAC/C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACZjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,cAAc;AADlB,QAEIC,WAAU;AAFd,QAGI,UAAU;AAHd,QAII,WAAW;AAJf,QAKI,QAAQ;AAWZ,aAAS,QAAQ,QAAQ,MAAM,SAAS;AACtC,aAAO,SAAS,MAAM,MAAM;AAE5B,UAAI,QAAQ,IACR,SAAS,KAAK,QACd,SAAS;AAEb,aAAO,EAAE,QAAQ,QAAQ;AACvB,YAAI,MAAM,MAAM,KAAK,KAAK,CAAC;AAC3B,YAAI,EAAE,SAAS,UAAU,QAAQ,QAAQ,QAAQ,GAAG,IAAI;AACtD;AAAA,QACF;AACA,iBAAS,OAAO,GAAG;AAAA,MACrB;AACA,UAAI,UAAU,EAAE,SAAS,QAAQ;AAC/B,eAAO;AAAA,MACT;AACA,eAAS,UAAU,OAAO,IAAI,OAAO;AACrC,aAAO,CAAC,CAAC,UAAU,SAAS,MAAM,KAAK,QAAQ,KAAK,MAAM,MACvDA,SAAQ,MAAM,KAAK,YAAY,MAAM;AAAA,IAC1C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACtCjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,UAAU;AA4Bd,aAAS,MAAM,QAAQ,MAAM;AAC3B,aAAO,UAAU,QAAQ,QAAQ,QAAQ,MAAM,SAAS;AAAA,IAC1D;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjCjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,QAAQ;AAWZ,aAAS,SAAS,QAAQ,OAAO;AAC/B,aAAO,WAAW,QAAQ,OAAO,SAAS,OAAO,MAAM;AACrD,eAAO,MAAM,QAAQ,IAAI;AAAA,MAC3B,CAAC;AAAA,IACH;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClBjB;AAAA;AAAA,QAAI,cAAc;AAgBlB,aAASC,SAAQ,OAAO;AACtB,UAAI,SAAS,SAAS,OAAO,IAAI,MAAM;AACvC,aAAO,SAAS,YAAY,OAAO,CAAC,IAAI,CAAC;AAAA,IAC3C;AAEA,WAAO,UAAUA;AAAA;AAAA;;;ACrBjB;AAAA;AAAA,QAAIC,WAAU;AAAd,QACI,WAAW;AADf,QAEI,cAAc;AASlB,aAAS,SAAS,MAAM;AACtB,aAAO,YAAY,SAAS,MAAM,QAAWA,QAAO,GAAG,OAAO,EAAE;AAAA,IAClE;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,WAAW;AAmBf,QAAIC,QAAO,SAAS,SAAS,QAAQ,OAAO;AAC1C,aAAO,UAAU,OAAO,CAAC,IAAI,SAAS,QAAQ,KAAK;AAAA,IACrD,CAAC;AAED,WAAO,UAAUA;AAAA;AAAA;;;ACxBjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,KAAK;AADT,QAEI,iBAAiB;AAFrB,QAGI,SAAS;AAGb,QAAI,cAAc,OAAO;AAGzB,QAAIC,kBAAiB,YAAY;AAuBjC,QAAIC,YAAW,SAAS,SAAS,QAAQ,SAAS;AAChD,eAAS,OAAO,MAAM;AAEtB,UAAI,QAAQ;AACZ,UAAI,SAAS,QAAQ;AACrB,UAAI,QAAQ,SAAS,IAAI,QAAQ,CAAC,IAAI;AAEtC,UAAI,SAAS,eAAe,QAAQ,CAAC,GAAG,QAAQ,CAAC,GAAG,KAAK,GAAG;AAC1D,iBAAS;AAAA,MACX;AAEA,aAAO,EAAE,QAAQ,QAAQ;AACvB,YAAI,SAAS,QAAQ,KAAK;AAC1B,YAAI,QAAQ,OAAO,MAAM;AACzB,YAAI,aAAa;AACjB,YAAI,cAAc,MAAM;AAExB,eAAO,EAAE,aAAa,aAAa;AACjC,cAAI,MAAM,MAAM,UAAU;AAC1B,cAAI,QAAQ,OAAO,GAAG;AAEtB,cAAI,UAAU,UACT,GAAG,OAAO,YAAY,GAAG,CAAC,KAAK,CAACD,gBAAe,KAAK,QAAQ,GAAG,GAAI;AACtE,mBAAO,GAAG,IAAI,OAAO,GAAG;AAAA,UAC1B;AAAA,QACF;AAAA,MACF;AAEA,aAAO;AAAA,IACT,CAAC;AAED,WAAO,UAAUC;AAAA;AAAA;;;AC/DjB;AAAA;AAAA;AAGE,WAAO,UAAU;AAAA;AAAA;;;ACHnB;AAAA;AAAA;AAEA,WAAO,QAAQ,aAAa,SAAU,IAAI;AACtC,UAAI,UAAU,CAAC;AACf,aAAO,MAAM,QAAQ,SAAS,KAAK,EAAE,MAAM;AAAA,IAC/C;AAEA,WAAO,QAAQ,UAAU,SAAU,KAAK;AACpC,aAAO,MAAM,QAAQ,GAAG;AAAA,IAC5B;AAEA,WAAO,QAAQ,WAAW,SAAU,KAAK;AACrC,aAAO,eAAe;AAAA,IAC1B;AAEA,WAAO,QAAQ,WAAW,SAAU,KAAK;AACrC,aAAO,OAAO,QAAQ;AAAA,IAC1B;AAEA,WAAO,QAAQ,WAAW,SAAU,KAAK;AACrC,aAAO,OAAO,QAAQ;AAAA,IAC1B;AAEA,WAAO,QAAQ,YAAY,SAAU,MAAM;AACvC,aAAO,OAAO,SAAS;AAAA,IAC3B;AAEA,WAAO,QAAQ,SAAS,SAAU,MAAM;AACpC,aAAO,gBAAgB;AAAA,IAC3B;AAAA;AAAA;;;AC7BA;AAAA;AAAA;AAEA,QAAI,MAAM;AACV,QAAI,SAAS;AAEb,WAAO,UAAU,SAAS,SAAS,MAAM,MAAM;AAC7C,UAAI,CAAC,QAAQ,CAAC,OAAO,QAAQ,IAAI,GAAG;AAClC,cAAM,IAAI,UAAU,iEAAsE;AAAA,MAC5F;AAEA,UAAI,IAAI,KAAK,KAAK,QAAQ,OAAO,IAAI;AACrC,aAAO;AAAA,IACT;AAAA;AAAA;;;ACZA;AAAA;AAAA;AAGA,QAAIC,WAAU,OAAO,WAAW,cAAc,OAAO,OAAO,aAAa,WAAW,SAAU,KAAK;AAAE,aAAO,OAAO;AAAA,IAAK,IAAI,SAAU,KAAK;AAAE,aAAO,OAAO,OAAO,WAAW,cAAc,IAAI,gBAAgB,UAAU,QAAQ,OAAO,YAAY,WAAW,OAAO;AAAA,IAAK;AAE3Q,QAAIC,gBAAe,WAAY;AAAE,eAAS,iBAAiB,QAAQ,OAAO;AAAE,iBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AAAE,cAAI,aAAa,MAAM,CAAC;AAAG,qBAAW,aAAa,WAAW,cAAc;AAAO,qBAAW,eAAe;AAAM,cAAI,WAAW;AAAY,uBAAW,WAAW;AAAM,iBAAO,eAAe,QAAQ,WAAW,KAAK,UAAU;AAAA,QAAG;AAAA,MAAE;AAAE,aAAO,SAAU,aAAa,YAAY,aAAa;AAAE,YAAI;AAAY,2BAAiB,YAAY,WAAW,UAAU;AAAG,YAAI;AAAa,2BAAiB,aAAa,WAAW;AAAG,eAAO;AAAA,MAAa;AAAA,IAAG,EAAE;AAEljB,aAASC,iBAAgB,UAAU,aAAa;AAAE,UAAI,EAAE,oBAAoB,cAAc;AAAE,cAAM,IAAI,UAAU,mCAAmC;AAAA,MAAG;AAAA,IAAE;AAExJ,QAAI,SAAS;AAEb,QAAI,UAAU,WAAY;AACxB,eAASC,SAAQ,SAAS;AACxB,QAAAD,iBAAgB,MAAMC,QAAO;AAE7B,aAAK,WAAW;AAGhB,aAAK,SAAS,eAAe,KAAK,SAAS,gBAAgB,CAAC;AAAA,MAC9D;AASA,MAAAF,cAAaE,UAAS,CAAC;AAAA,QACrB,KAAK;AAAA,QACL,OAAO,SAAS,YAAY,QAAQ,MAAM;AACxC,cAAIC,QAAO;AACX,cAAI,CAAC;AAAM,mBAAO;AAClB,iBAAO,OAAO,IAAI,SAAU,SAAS;AACnC,oBAAQ,OAAO,QAAQ,OAAO,OAAOA,MAAK,SAAS,mBAAmB,QAAQ,OAAO;AACrF,mBAAO;AAAA,UACT,CAAC;AAAA,QACH;AAAA,MACF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,OAAO,SAAS,UAAU,SAAS,MAAM,OAAO,QAAQ;AAEtD,cAAI,QAAQ,KAAK,SAAS;AAC1B,mBAAS,QAAQ,OAAO;AACtB,gBAAI,qBAAqB,SAAS,IAAI,GAAG;AACvC,wBAAU,MAAM,IAAI,EAAE,KAAK,OAAO,SAAS,OAAO,MAAM;AACxD;AAAA,YACF;AAAA,UACF;AAEA,iBAAO;AAAA,QACT;AAAA,MACF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,OAAO,SAAS,aAAa,SAAS,MAAM;AAE1C,cAAI,OAAO,OAAO,OAAO,GAAG;AAC1B,mBAAO,CAAC;AAAA,cACN;AAAA,cACA,QAAQ,KAAK,SAAS,cAAc,KAAK,aAAa,SAAS,IAAI;AAAA,YACrE,CAAC;AAAA,UACH,WAES,OAAO,QAAQ,OAAO,GAAG;AAC9B,gBAAI,cAAc,KAAK,aAAa,SAAS,IAAI;AACjD,mBAAO,KAAK,YAAY,aAAa,IAAI;AAAA,UAC3C,WAES,OAAO,SAAS,OAAO,GAAG;AAC/B,gBAAI,eAAe,KAAK,cAAc,OAAO;AAC7C,mBAAO,KAAK,YAAY,cAAc,IAAI;AAAA,UAC5C;AAEJ,iBAAO,CAAC;AAAA,YACN;AAAA,YACA,OAAO;AAAA,UACT,CAAC;AAAA,QACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAUF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,OAAO,SAAS,MAAM,SAAS,MAAM,OAAO,QAAQ;AAClD,oBAAU,KAAK,UAAU,SAAS,MAAM,OAAO,MAAM;AAErD,kBAAQ,OAAO,YAAY,cAAc,cAAcJ,SAAQ,OAAO,GAAG;AAAA,YACvE,KAAK;AACH,qBAAO,CAAC;AAAA,gBACN;AAAA,gBACA,OAAO,KAAK,cAAc,SAAS,IAAI;AAAA,cACzC,CAAC;AAAA,YAEH,KAAK;AACH,qBAAO,CAAC;AAAA,gBACN;AAAA,gBACA,OAAO,KAAK,cAAc,SAAS,IAAI;AAAA,cACzC,CAAC;AAAA,YAEH,KAAK;AACH,qBAAO,CAAC;AAAA,gBACN;AAAA,gBACA,OAAO,KAAK,eAAe,KAAK,IAAI,EAAE,SAAS,IAAI;AAAA,cACrD,CAAC;AAAA,UACL;AAEA,iBAAO,KAAK,aAAa,SAAS,IAAI;AAAA,QACxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MASF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,OAAO,SAAS,cAAc,KAAK;AACjC,cAAI,SAAS,CAAC;AAEd,mBAAS,QAAQ,KAAK;AACpB,gBAAI,WAAW,IAAI,IAAI;AAEvB,gBAAI,kBAAkB,KAAK,MAAM,UAAU,MAAM,MAAM,GAAG;AAE1D,qBAAS,OAAO,OAAO,eAAe;AAAA,UACxC;AACA,iBAAO;AAAA,QACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MASF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,OAAO,SAAS,aAAa,OAAO;AAClC,cAAII,QAAO;AACX,cAAI,SAAS,CAAC;AACd,cAAI;AACJ,mBAAS,SAAS,GAAG,SAAS,MAAM,QAAQ,EAAE,QAAQ;AACpD,gBAAI,UAAU,MAAM,MAAM;AAE1B,gBAAI,kBAAkBA,MAAK,MAAM,SAAS,MAAM,QAAQ,KAAK;AAE7D,gBAAI,gBAAgB,WAAW;AAAG;AAClC,gBAAI,cAAc,gBAAgB,CAAC;AACnC,gBAAI,CAAC,YAAY,QAAQ,4BAA4B,QAAW;AAC9D,sCAAwB,SAASA,MAAK,SAAS,kBAAkB,YAAY;AAC7E;AAAA,YACF,WAAW,gBAAgB,SAAS,KAAK,CAAC,YAAY,QAAQ,4BAA4B,QAAW;AACnG,wCAA0B;AAAA,YAC5B;AAEA,qBAAS,OAAO,OAAO,eAAe;AAAA,UACxC;AACA,iBAAO;AAAA,QACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,OAAO,SAAS,eAAe,SAAS;AACtC,cAAI;AAEJ,cAAI,SAAS;AACX,qBAAS,KAAK,SAAS,qBAAqB;AAAA,UAC9C,OAAO;AACL,qBAAS,KAAK,SAAS,sBAAsB;AAAA,UAC/C;AACA,iBAAO;AAAA,QACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,OAAO,SAAS,cAAc,QAAQ;AACpC,iBAAO;AAAA,QACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,OAAO,SAAS,cAAcC,SAAQ;AACpC,iBAAOA;AAAA,QACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,OAAO,SAAS,YAAY,MAAM;AAChC,iBAAO,KAAK,mBAAmB;AAAA,QACjC;AAAA,MACF,CAAC,CAAC;AAEF,aAAOF;AAAA,IACT,EAAE;AAEF,WAAO,UAAU;AAEjB,QAAI,cAAc,OAAO,WAAW,cAAc,SAAS;AAC3D,aAAS,qBAAqB,SAAS,UAAU;AAC/C,UAAI,mBAAmB,YAAY,QAAQ,GAAG;AAC5C,eAAO;AAAA,MACT;AAGA,cAAQ,OAAO,YAAY,cAAc,cAAcH,SAAQ,OAAO,GAAG;AAAA,QACvE,KAAK;AACH,iBAAO,aAAa;AAAA,QACtB,KAAK;AACH,iBAAO,aAAa;AAAA,QACtB,KAAK;AACH,iBAAO,aAAa;AAAA,MACxB;AAEA,aAAO;AAAA,IACT;AAAA;AAAA;;;ACvPA;AAAA;AAAA;AAWA,WAAO,UAAU,SAAS,kBAAkB,eAAe,cAAc,oBAAoB;AAC3F,UAAI,YAAY;AAEhB,UAAI,OAAO,kBAAkB,UAAU;AACrC,cAAM,IAAI,UAAU,kDAAkD;AAAA,MACxE;AAEA,UAAI,OAAO,iBAAiB,UAAU;AACpC,cAAM,IAAI,UAAU,iDAAiD;AAAA,MACvE;AAEA,UAAI,qBAAqB,IAAI,OAAO,OAAO,eAAe,GAAG;AAC7D,UAAI,mBAAmB,gBAAgB;AAEvC,UAAI,qBAAqB,kBAAkB,MAAM,SAAU,OAAO;AAChE,eAAO,MAAM,QAAQ,YAAY,KAAK,KAAK,MAAM,QAAQ,SAAS,KAAK,KAAK,MAAM,QAAQ,GAAG,KAAK;AAAA,MACpG,IAAI,SAAU,OAAO;AACnB,eAAO,MAAM,QAAQ,YAAY,KAAK,KAAK,MAAM,QAAQ,SAAS,KAAK;AAAA,MACzE;AAEA,aAAO,SAAU,OAAO;AACtB,YAAI;AAAoB,kBAAQ,KAAK;AAErC,YAAI,CAAC,MAAM;AAAS,iBAAO;AAE3B,gBAAQ,MAAM,QAAQ,oBAAoB,gBAAgB;AAG1D,YAAI,sBAAsB,mBAAmB,KAAK,GAAG;AACnD,kBAAQ,gBAAgB,QAAQ;AAAA,QAClC;AAEA,eAAO;AAAA,MACT;AAAA,IACF;AAAA;AAAA;;;AC7CA;AAAA;AAAA;AAOA,QAAIM,gBAAe,WAAY;AAAE,eAAS,iBAAiB,QAAQ,OAAO;AAAE,iBAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AAAE,cAAI,aAAa,MAAM,CAAC;AAAG,qBAAW,aAAa,WAAW,cAAc;AAAO,qBAAW,eAAe;AAAM,cAAI,WAAW;AAAY,uBAAW,WAAW;AAAM,iBAAO,eAAe,QAAQ,WAAW,KAAK,UAAU;AAAA,QAAG;AAAA,MAAE;AAAE,aAAO,SAAU,aAAa,YAAY,aAAa;AAAE,YAAI;AAAY,2BAAiB,YAAY,WAAW,UAAU;AAAG,YAAI;AAAa,2BAAiB,aAAa,WAAW;AAAG,eAAO;AAAA,MAAa;AAAA,IAAG,EAAE;AAEljB,aAASC,iBAAgB,UAAU,aAAa;AAAE,UAAI,EAAE,oBAAoB,cAAc;AAAE,cAAM,IAAI,UAAU,mCAAmC;AAAA,MAAG;AAAA,IAAE;AAExJ,QAAI,WAAW;AACf,QAAI,UAAU;AACd,QAAI,SAAS;AAEb,QAAIC,UAAS,WAAY;AACvB,eAASA,QAAO,SAAS;AACvB,QAAAD,iBAAgB,MAAMC,OAAM;AAE5B,aAAK,WAAW,WAAW,CAAC;AAC5B,aAAK,WAAW,IAAI,QAAQ,KAAK,QAAQ;AACzC,aAAK,WAAW,KAAK,SAAS,WAAW,CAAC;AAC1C,aAAK,UAAU,4BAAqC,KAAK,SAAS,eAAe,KAAK,SAAS,cAAc,KAAK,SAAS,kBAAkB;AAAA,MAC/I;AAaA,MAAAF,cAAaE,SAAQ,CAAC;AAAA,QACpB,KAAK;AAAA,QACL,OAAO,SAASC,OAAM,MAAM,MAAM,QAAQ;AACxC,cAAI,OAAO,QAAQ,IAAI;AAAG,mBAAO,KAAK,MAAM,KAAK,YAAY,MAAM,MAAM,CAAC;AAAA,mBAAW,OAAO,SAAS,IAAI;AAAG,mBAAO,KAAK,MAAM,KAAK,aAAa,IAAI,CAAC;AACrJ,iBAAO,KAAK,IAAI,MAAM,8DAA8D,CAAC;AAAA,QACvF;AAAA,MACF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,OAAO,SAAS,WAAW,MAAM;AAC/B,cAAI,UAAU;AACd,cAAI,YAAY,CAAC;AACjB,cAAI,WAAW,SAASC,UAAS,KAAK,OAAO;AAC3C,mBAAO,QAAQ,MAAM,QAAQ,SAAY,QAAQ,KAAK,IAAI;AAAA,UAC5D;AACA,cAAI,4BAA4B;AAChC,cAAI,oBAAoB;AACxB,cAAI,iBAAiB;AAErB,cAAI;AACF,qBAAS,YAAY,KAAK,OAAO,QAAQ,EAAE,GAAG,OAAO,EAAE,6BAA6B,QAAQ,UAAU,KAAK,GAAG,OAAO,4BAA4B,MAAM;AACrJ,kBAAI,MAAM,MAAM;AAEhB,kBAAI,UAAU,KAAK,SAAS,SAAS,IAAI;AACzC,kBAAI,UAAU;AAAG,sBAAM,IAAI,OAAO,MAAM,OAAO,EAAE,KAAK,GAAG,EAAE,MAAM,GAAG,CAAC;AACrE,kBAAI,WAAW,KAAK,SAAS;AAAU,sBAAM,IAAI,IAAI,QAAQ;AAC7D,wBAAU,KAAK,IAAI,KAAK,KAAK,SAAS,YAAY,CAAC;AACnD,wBAAU;AAAA,YACZ;AAAA,UACF,SAAS,KAAK;AACZ,gCAAoB;AACpB,6BAAiB;AAAA,UACnB,UAAE;AACA,gBAAI;AACF,kBAAI,CAAC,6BAA6B,UAAU,QAAQ;AAClD,0BAAU,OAAO;AAAA,cACnB;AAAA,YACF,UAAE;AACA,kBAAI,mBAAmB;AACrB,sBAAM;AAAA,cACR;AAAA,YACF;AAAA,UACF;AAEA,iBAAO;AAAA,QACT;AAAA,MACF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,OAAO,SAAS,YAAY,MAAM,QAAQ;AACxC,cAAIC,QAAO;AACX,eAAK,WAAW,KAAK,YAAY,CAAC;AAClC,cAAI,WAAW,CAAC;AAChB,cAAI,aAAa;AACjB,cAAI,WAAW;AAEf,cAAI,iBAAiB,SAASC,gBAAe,QAAQ;AACnD,gBAAI,QAAQD,MAAK,SAAS,QAAQ,MAAM;AACxC,gBAAI,UAAU,IAAI;AAChB,cAAAA,MAAK,SAAS,KAAK,MAAM;AACzB,sBAAQA,MAAK,SAAS,QAAQ,MAAM;AAAA,YACtC;AACA,mBAAO;AAAA,UACT;AAGA,qBAAW,SAASE,UAAS,QAAQ;AACnC,gBAAI,OAAO,CAAC;AACZ,gBAAI,cAAc,SAASC,aAAY,KAAK;AAC1C,qBAAO,KAAK,KAAK,IAAI,IAAI,SAAU,KAAK;AACtC,uBAAO,OAAO,OAAO,MAAM;AAAA,cAC7B,CAAC,CAAC;AAAA,YACJ;AAEA,gBAAI,SAAS,SAASC,UAAS;AAC7B,qBAAO,IAAI,MAAMJ,MAAK,SAAS,MAAM,EAAE,KAAK,IAAI;AAAA,YAClD;AACA,gBAAI,wBAAwB,CAAC;AAC7B,gBAAI,aAAa,OAAO;AACxB,gBAAI,6BAA6B;AACjC,gBAAI,qBAAqB;AACzB,gBAAI,kBAAkB;AAEtB,gBAAI;AACF,uBAAS,aAAa,OAAO,OAAO,QAAQ,EAAE,GAAG,QAAQ,EAAE,8BAA8B,SAAS,WAAW,KAAK,GAAG,OAAO,6BAA6B,MAAM;AAC7J,oBAAI,UAAU,OAAO;AAErB,oBAAI,qBAAqB,eAAe,QAAQ,IAAI;AACpD,oBAAI,WAAW,kBAAkB,KAAK,QAAW;AAC/C,8BAAY,UAAU;AACtB,+BAAa,OAAO;AAAA,gBACtB;AACA,sCAAsB,kBAAkB,IAAI,sBAAsB,kBAAkB,KAAK;AAEzF,oBAAIA,MAAK,SAAS,cAAc,sBAAsB,kBAAkB,IAAI,KAAK,QAAQ;AACvF,uBAAK,sBAAsB,kBAAkB,CAAC,EAAE,kBAAkB,IAAIA,MAAK,QAAQ,QAAQ,KAAK;AAChG,wCAAsB,kBAAkB,KAAK;AAC7C;AAAA,gBACF;AACA,2BAAW,kBAAkB,IAAIA,MAAK,QAAQ,QAAQ,KAAK;AAC3D,sCAAsB,kBAAkB,KAAK;AAAA,cAC/C;AAAA,YAEF,SAAS,KAAK;AACZ,mCAAqB;AACrB,gCAAkB;AAAA,YACpB,UAAE;AACA,kBAAI;AACF,oBAAI,CAAC,8BAA8B,WAAW,QAAQ;AACpD,6BAAW,OAAO;AAAA,gBACpB;AAAA,cACF,UAAE;AACA,oBAAI,oBAAoB;AACtB,wBAAM;AAAA,gBACR;AAAA,cACF;AAAA,YACF;AAEA,gBAAI,WAAW,SAAS,GAAG;AACzB,0BAAY,UAAU;AAAA,YACxB;AACA,uBAAW,SAAS,OAAOA,MAAK,WAAW,IAAI,CAAC;AAAA,UAClD;AACA,cAAI,6BAA6B;AACjC,cAAI,qBAAqB;AACzB,cAAI,kBAAkB;AAEtB,cAAI;AACF,qBAAS,aAAa,KAAK,OAAO,QAAQ,EAAE,GAAG,QAAQ,EAAE,8BAA8B,SAAS,WAAW,KAAK,GAAG,OAAO,6BAA6B,MAAM;AAC3J,kBAAI,OAAO,OAAO;AAIlB,kBAAI,aAAaA,MAAK,SAAS,MAAM,MAAMA,MAAK,SAAS,cAAc,MAAM,IAAI;AACjF,uBAAS,UAAU;AAAA,YACrB;AAAA,UACF,SAAS,KAAK;AACZ,iCAAqB;AACrB,8BAAkB;AAAA,UACpB,UAAE;AACA,gBAAI;AACF,kBAAI,CAAC,8BAA8B,WAAW,QAAQ;AACpD,2BAAW,OAAO;AAAA,cACpB;AAAA,YACF,UAAE;AACA,kBAAI,oBAAoB;AACtB,sBAAM;AAAA,cACR;AAAA,YACF;AAAA,UACF;AAEA,cAAI,CAAC,UAAUA,MAAK,SAAS,gBAAgB;AAE3C,qBAAS,QAAQ,KAAK,OAAO;AAAA,UAC/B;AAEA,iBAAO,SAAS,UAAUA,MAAK,SAAS,SAAS;AAAA,QACnD;AAAA,MACF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,OAAO,SAAS,aAAa,MAAM;AACjC,cAAIA,QAAO;AACX,cAAI,WAAW,CAAC;AAChB,cAAI,cAAc,CAAC;AACnB,cAAI,aAAa;AACjB,cAAI,WAAW;AACf,cAAI,iBAAiB,CAAC,CAAC,GAAG,CAAC,CAAC;AAE5B,qBAAW,SAASE,UAAS,QAAQ;AACnC,gBAAI,QAAQ,OAAO,SAAS,OAAO,UAAU,IAAI,OAAO,MAAM,SAAS,IAAIF,MAAK,SAAS;AACzF,oBAAQA,MAAK,QAAQ,KAAK;AAG1B,gBAAIA,MAAK,SAAS,gBAAgB;AAChC,kBAAI,MAAM,CAAC,OAAO,MAAM,KAAK;AAC7B,uBAAS,KAAK,IAAI,KAAKA,MAAK,SAAS,YAAY,CAAC;AAAA,YACpD,OAAO;AACL,6BAAe,CAAC,EAAE,KAAK,OAAO,IAAI;AAClC,6BAAe,CAAC,EAAE,KAAK,KAAK;AAAA,YAC9B;AAAA,UACF;AACA,mBAAS,QAAQ,MAAM;AACrB,gBAAI,SAAS;AACb,gBAAI,KAAK,SAAS;AAAc,uBAAS,KAAK,SAAS,eAAe,KAAK,SAAS;AACpF,0BAAc,KAAK,SAAS,MAAM,KAAK,IAAI,GAAG,SAAS,MAAM,MAAM,IAAI;AAEvE,wBAAY,QAAQ,QAAQ;AAAA,UAC9B;AACA,cAAI,CAAC,KAAK,SAAS,gBAAgB;AACjC,qBAAS,KAAK,eAAe,CAAC,EAAE,KAAK,KAAK,SAAS,YAAY,CAAC;AAChE,qBAAS,KAAK,eAAe,CAAC,EAAE,KAAK,KAAK,SAAS,YAAY,CAAC;AAAA,UAClE;AACA,iBAAO,SAAS,UAAU,KAAK,SAAS,SAAS;AAAA,QACnD;AAAA,MACF,GAAG;AAAA,QACD,KAAK;AAAA,QACL,KAAK,SAASK,QAAM;AAClB,cAAI,QAAQ;AAEZ,cAAI,UAAU,KAAK;AAEnB,cAAI,KAAK,SAAS,UAAU,KAAK,SAAS,OAAO,SAAS;AAAG,sBAAU,QAAQ,IAAI,SAAU,QAAQ;AACnG,qBAAO,MAAM,SAAS,OAAO,MAAM,SAAS,QAAQ,QAAQ,MAAM,CAAC,KAAK;AAAA,YAC1E,CAAC;AAED,cAAI,KAAK,SAAS,oBAAoB;AACpC,sBAAU,QAAQ,IAAI,SAAU,QAAQ;AACtC,qBAAO,KAAK,MAAM,SAAS,gBAAgB,SAAS,MAAM,SAAS;AAAA,YACrE,CAAC;AAAA,UACH;AAEA,cAAI,KAAK,SAAS;AAAY,sBAAU,QAAQ,IAAI,KAAK,SAAS,UAAU;AAE5E,iBAAO,QAAQ,KAAK,KAAK,SAAS,YAAY;AAAA,QAChD;AAAA,MACF,CAAC,CAAC;AAEF,aAAOR;AAAA,IACT,EAAE;AAEF,WAAO,UAAUA;AAAA;AAAA;;;AC9PjB;AAAA;AAAA;AAGE,QAAI,SAAS,SAAU,YAAY;AACjC,YAAM,IAAI,MAAM,wEAAwE;AAAA,IAC1F;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACPnB;AAAA;AAAA;AAOA,QAAIS,WAAU,OAAO,WAAW,cAAc,OAAO,OAAO,aAAa,WAAW,SAAU,KAAK;AAAE,aAAO,OAAO;AAAA,IAAK,IAAI,SAAU,KAAK;AAAE,aAAO,OAAO,OAAO,WAAW,cAAc,IAAI,gBAAgB,UAAU,QAAQ,OAAO,YAAY,WAAW,OAAO;AAAA,IAAK;AAE3Q,QAAIC,UAAS;AACb,QAAI,SAAS;AACb,QAAI,SAAS;AACb,QAAI,MAAM;AAWV,WAAO,UAAU,WAAY;AAC3B,UAAI,kBAAkB;AAAA,QACpB,SAAS,CAAC;AAAA;AAAA,QACV,QAAQ,CAAC;AAAA;AAAA,QACT,kBAAkB;AAAA;AAAA,QAClB,cAAc;AAAA;AAAA,QACd,eAAe;AAAA;AAAA,QACf,iBAAiB;AAAA;AAAA,QACjB,iBAAiB;AAAA;AAAA,QACjB,WAAW,OAAO;AAAA;AAAA,QAClB,cAAc;AAAA;AAAA,QACd,mBAAmB;AAAA;AAAA,QACnB,oBAAoB;AAAA;AAAA,QACpB,gBAAgB;AAAA;AAAA,QAChB,UAAU;AAAA;AAAA,QACV,gBAAgB;AAAA;AAAA,QAChB,oBAAoB;AAAA;AAAA,MACtB;AAEA,UAAI,OAAO,QACP,cAAc,QACd,WAAW;AACf,UAAI,UAAU,WAAW,GAAG;AAC1B,YAAI,aAAa,MAAM,UAAU,MAAM,KAAK,SAAS;AAErD,eAAO,WAAW,CAAC;AACnB,sBAAc,WAAW,CAAC;AAC1B,mBAAW,WAAW,CAAC;AAAA,MACzB,WAAW,UAAU,WAAW,GAAG;AACjC,YAAI,MAAM;AAEV,YAAI,cAAc,MAAM,UAAU,MAAM,KAAK,SAAS;AAEtD,eAAO,YAAY,CAAC;AACpB,cAAM,YAAY,CAAC;AAEnB,YAAI,OAAO,QAAQ,YAAY;AAC7B,qBAAW;AAAA,QACb,YAAY,OAAO,QAAQ,cAAc,cAAcD,SAAQ,GAAG,OAAO,UAAU;AACjF,wBAAc;AAAA,QAChB;AAAA,MACF,WAAW,UAAU,WAAW,GAAG;AACjC,YAAI,cAAc,MAAM,UAAU,MAAM,KAAK,SAAS,GAClD,OAAO,YAAY,CAAC;AAExB,aAAK,OAAO,SAAS,cAAc,cAAcA,SAAQ,IAAI,OAAO,UAAU;AAC5E,cAAI,cAAc,OAAO,KAAK,eAAe;AAC7C,cAAI,aAAa,OAAO,KAAK,IAAI;AACjC,cAAI,YAAY,WAAW,MAAM,SAAU,KAAK;AAC9C,mBAAO,YAAY,SAAS,GAAG;AAAA,UACjC,CAAC;AACD,cAAI,WAAW,SAAS,KAAK,WAAW;AACtC,0BAAc;AAAA,UAChB,OAAO;AACL,mBAAO;AAAA,UACT;AAAA,QACF,OAAO;AACL,iBAAO;AAAA,QACT;AAAA,MACF,OAAO;AACL,eAAO,IAAI,OAAO,IAAIC,QAAO,eAAe,CAAC;AAAA,MAC/C;AACA,UAAI,UAAU,OAAO,OAAO,CAAC,GAAG,iBAAiB,WAAW;AAC5D,UAAI,SAAS,IAAIA,QAAO,OAAO;AAE/B,UAAI,CAAC,MAAM;AACT,eAAO,IAAI,OAAO,MAAM;AAAA,MAC1B;AAEA,aAAO,IAAI,QAAQ,SAAU,SAAS,QAAQ;AAC5C,eAAO,MAAM,MAAM,SAAU,KAAK,QAAQ;AACxC,cAAI;AAAU,mBAAO,SAAS,KAAK,MAAM;AACzC,cAAI;AAAK,mBAAO,OAAO,GAAG;AAC1B,cAAI;AAAQ,mBAAO,QAAQ,MAAM;AAAA,QACnC,CAAC;AAAA,MACH,CAAC;AAAA,IACH;AAAA;AAAA;;;ACnGA;AAAA;AAAA,QAAI,QAAQ;AAAZ,QACI,cAAc;AAGlB,QAAI,uBAAuB;AAA3B,QACI,yBAAyB;AAY7B,aAAS,YAAY,QAAQ,QAAQ,WAAW,YAAY;AAC1D,UAAI,QAAQ,UAAU,QAClB,SAAS,OACT,eAAe,CAAC;AAEpB,UAAI,UAAU,MAAM;AAClB,eAAO,CAAC;AAAA,MACV;AACA,eAAS,OAAO,MAAM;AACtB,aAAO,SAAS;AACd,YAAI,OAAO,UAAU,KAAK;AAC1B,YAAK,gBAAgB,KAAK,CAAC,IACnB,KAAK,CAAC,MAAM,OAAO,KAAK,CAAC,CAAC,IAC1B,EAAE,KAAK,CAAC,KAAK,SACf;AACJ,iBAAO;AAAA,QACT;AAAA,MACF;AACA,aAAO,EAAE,QAAQ,QAAQ;AACvB,eAAO,UAAU,KAAK;AACtB,YAAI,MAAM,KAAK,CAAC,GACZ,WAAW,OAAO,GAAG,GACrB,WAAW,KAAK,CAAC;AAErB,YAAI,gBAAgB,KAAK,CAAC,GAAG;AAC3B,cAAI,aAAa,UAAa,EAAE,OAAO,SAAS;AAC9C,mBAAO;AAAA,UACT;AAAA,QACF,OAAO;AACL,cAAI,QAAQ,IAAI;AAChB,cAAI,YAAY;AACd,gBAAI,SAAS,WAAW,UAAU,UAAU,KAAK,QAAQ,QAAQ,KAAK;AAAA,UACxE;AACA,cAAI,EAAE,WAAW,SACT,YAAY,UAAU,UAAU,uBAAuB,wBAAwB,YAAY,KAAK,IAChG,SACD;AACL,mBAAO;AAAA,UACT;AAAA,QACF;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7DjB;AAAA;AAAA,QAAIC,YAAW;AAUf,aAAS,mBAAmB,OAAO;AACjC,aAAO,UAAU,SAAS,CAACA,UAAS,KAAK;AAAA,IAC3C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACdjB;AAAA;AAAA,QAAI,qBAAqB;AAAzB,QACI,OAAO;AASX,aAAS,aAAa,QAAQ;AAC5B,UAAI,SAAS,KAAK,MAAM,GACpB,SAAS,OAAO;AAEpB,aAAO,UAAU;AACf,YAAI,MAAM,OAAO,MAAM,GACnB,QAAQ,OAAO,GAAG;AAEtB,eAAO,MAAM,IAAI,CAAC,KAAK,OAAO,mBAAmB,KAAK,CAAC;AAAA,MACzD;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACvBjB;AAAA;AASA,aAAS,wBAAwB,KAAK,UAAU;AAC9C,aAAO,SAAS,QAAQ;AACtB,YAAI,UAAU,MAAM;AAClB,iBAAO;AAAA,QACT;AACA,eAAO,OAAO,GAAG,MAAM,aACpB,aAAa,UAAc,OAAO,OAAO,MAAM;AAAA,MACpD;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,eAAe;AADnB,QAEI,0BAA0B;AAS9B,aAAS,YAAY,QAAQ;AAC3B,UAAI,YAAY,aAAa,MAAM;AACnC,UAAI,UAAU,UAAU,KAAK,UAAU,CAAC,EAAE,CAAC,GAAG;AAC5C,eAAO,wBAAwB,UAAU,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC;AAAA,MACjE;AACA,aAAO,SAAS,QAAQ;AACtB,eAAO,WAAW,UAAU,YAAY,QAAQ,QAAQ,SAAS;AAAA,MACnE;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrBjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACIC,QAAM;AADV,QAEI,QAAQ;AAFZ,QAGI,QAAQ;AAHZ,QAII,qBAAqB;AAJzB,QAKI,0BAA0B;AAL9B,QAMI,QAAQ;AAGZ,QAAI,uBAAuB;AAA3B,QACI,yBAAyB;AAU7B,aAAS,oBAAoB,MAAM,UAAU;AAC3C,UAAI,MAAM,IAAI,KAAK,mBAAmB,QAAQ,GAAG;AAC/C,eAAO,wBAAwB,MAAM,IAAI,GAAG,QAAQ;AAAA,MACtD;AACA,aAAO,SAAS,QAAQ;AACtB,YAAI,WAAWA,MAAI,QAAQ,IAAI;AAC/B,eAAQ,aAAa,UAAa,aAAa,WAC3C,MAAM,QAAQ,IAAI,IAClB,YAAY,UAAU,UAAU,uBAAuB,sBAAsB;AAAA,MACnF;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChCjB;AAAA;AAOA,aAAS,aAAa,KAAK;AACzB,aAAO,SAAS,QAAQ;AACtB,eAAO,UAAU,OAAO,SAAY,OAAO,GAAG;AAAA,MAChD;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACbjB;AAAA;AAAA,QAAI,UAAU;AASd,aAAS,iBAAiB,MAAM;AAC9B,aAAO,SAAS,QAAQ;AACtB,eAAO,QAAQ,QAAQ,IAAI;AAAA,MAC7B;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,eAAe;AAAnB,QACI,mBAAmB;AADvB,QAEI,QAAQ;AAFZ,QAGI,QAAQ;AAwBZ,aAAS,SAAS,MAAM;AACtB,aAAO,MAAM,IAAI,IAAI,aAAa,MAAM,IAAI,CAAC,IAAI,iBAAiB,IAAI;AAAA,IACxE;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC/BjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,sBAAsB;AAD1B,QAEIC,YAAW;AAFf,QAGIC,WAAU;AAHd,QAII,WAAW;AASf,aAAS,aAAa,OAAO;AAG3B,UAAI,OAAO,SAAS,YAAY;AAC9B,eAAO;AAAA,MACT;AACA,UAAI,SAAS,MAAM;AACjB,eAAOD;AAAA,MACT;AACA,UAAI,OAAO,SAAS,UAAU;AAC5B,eAAOC,SAAQ,KAAK,IAChB,oBAAoB,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,IACtC,YAAY,KAAK;AAAA,MACvB;AACA,aAAO,SAAS,KAAK;AAAA,IACvB;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC9BjB;AAAA;AAAA,QAAIC,aAAY;AAAhB,QACI,eAAe;AADnB,QAEI,aAAa;AAFjB,QAGI,YAAY;AAGhB,QAAI,mBAAmB,OAAO;AAS9B,QAAI,eAAe,CAAC,mBAAmB,YAAY,SAAS,QAAQ;AAClE,UAAI,SAAS,CAAC;AACd,aAAO,QAAQ;AACb,QAAAA,WAAU,QAAQ,WAAW,MAAM,CAAC;AACpC,iBAAS,aAAa,MAAM;AAAA,MAC9B;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACxBjB;AAAA;AAAA,QAAI,iBAAiB;AAArB,QACI,eAAe;AADnB,QAEI,SAAS;AAUb,aAAS,aAAa,QAAQ;AAC5B,aAAO,eAAe,QAAQ,QAAQ,YAAY;AAAA,IACpD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,eAAe;AADnB,QAEI,aAAa;AAFjB,QAGI,eAAe;AAoBnB,aAASC,QAAO,QAAQ,WAAW;AACjC,UAAI,UAAU,MAAM;AAClB,eAAO,CAAC;AAAA,MACV;AACA,UAAI,QAAQ,SAAS,aAAa,MAAM,GAAG,SAAS,MAAM;AACxD,eAAO,CAAC,IAAI;AAAA,MACd,CAAC;AACD,kBAAY,aAAa,SAAS;AAClC,aAAO,WAAW,QAAQ,OAAO,SAAS,OAAO,MAAM;AACrD,eAAO,UAAU,OAAO,KAAK,CAAC,CAAC;AAAA,MACjC,CAAC;AAAA,IACH;AAEA,WAAO,UAAUA;AAAA;AAAA;;;ACpCjB;AAAA;AAAA;AAWA,QAAI,MAAuC;AACzC,OAAC,WAAW;AACd;AAOA,YAAI,qBAAqB;AACzB,YAAI,oBAAoB;AACxB,YAAI,sBAAsB;AAC1B,YAAI,yBAAyB;AAC7B,YAAI,sBAAsB;AAC1B,YAAI,sBAAsB;AAC1B,YAAI,qBAAqB;AACzB,YAAI,yBAAyB;AAC7B,YAAI,sBAAsB;AAC1B,YAAI,2BAA2B;AAC/B,YAAI,kBAAkB;AACtB,YAAI,kBAAkB;AACtB,YAAI,mBAAmB;AACvB,YAAI,0BAA0B;AAC9B,YAAI,yBAAyB;AAC7B,YAAI,mBAAmB;AACvB,YAAI,uBAAuB;AAC3B,YAAI,gCAAgC;AACpC,YAAI,uBAAuB;AAC3B,YAAI,2BAA2B;AAE/B,YAAI,OAAO,WAAW,cAAc,OAAO,KAAK;AAC9C,cAAI,YAAY,OAAO;AACvB,+BAAqB,UAAU,eAAe;AAC9C,8BAAoB,UAAU,cAAc;AAC5C,gCAAsB,UAAU,gBAAgB;AAChD,mCAAyB,UAAU,mBAAmB;AACtD,gCAAsB,UAAU,gBAAgB;AAChD,gCAAsB,UAAU,gBAAgB;AAChD,+BAAqB,UAAU,eAAe;AAC9C,mCAAyB,UAAU,mBAAmB;AACtD,gCAAsB,UAAU,gBAAgB;AAChD,qCAA2B,UAAU,qBAAqB;AAC1D,4BAAkB,UAAU,YAAY;AACxC,4BAAkB,UAAU,YAAY;AACxC,6BAAmB,UAAU,aAAa;AAC1C,oCAA0B,UAAU,oBAAoB;AACxD,mCAAyB,UAAU,mBAAmB;AACtD,6BAAmB,UAAU,aAAa;AAC1C,iCAAuB,UAAU,iBAAiB;AAClD,0CAAgC,UAAU,wBAAwB;AAClE,iCAAuB,UAAU,iBAAiB;AAClD,qCAA2B,UAAU,qBAAqB;AAAA,QAC5D;AAIA,YAAI,iBAAiB;AAErB,iBAASC,oBAAmB,MAAM;AAChC,cAAI,OAAO,SAAS,YAAY,OAAO,SAAS,YAAY;AAC1D,mBAAO;AAAA,UACT;AAGA,cAAI,SAAS,uBAAuB,SAAS,uBAAuB,SAAS,iCAAiC,SAAS,0BAA0B,SAAS,uBAAuB,SAAS,4BAA4B,SAAS,4BAA4B,gBAAiB;AAC1Q,mBAAO;AAAA,UACT;AAEA,cAAI,OAAO,SAAS,YAAY,SAAS,MAAM;AAC7C,gBAAI,KAAK,aAAa,mBAAmB,KAAK,aAAa,mBAAmB,KAAK,aAAa,uBAAuB,KAAK,aAAa,sBAAsB,KAAK,aAAa,0BAA0B,KAAK,aAAa,0BAA0B,KAAK,aAAa,oBAAoB,KAAK,CAAC,MAAM,yBAAyB;AAChU,qBAAO;AAAA,YACT;AAAA,UACF;AAEA,iBAAO;AAAA,QACT;AAEA,iBAAS,OAAO,QAAQ;AACtB,cAAI,OAAO,WAAW,YAAY,WAAW,MAAM;AACjD,gBAAI,WAAW,OAAO;AAEtB,oBAAQ,UAAU;AAAA,cAChB,KAAK;AACH,oBAAI,OAAO,OAAO;AAElB,wBAAQ,MAAM;AAAA,kBACZ,KAAK;AAAA,kBACL,KAAK;AAAA,kBACL,KAAK;AAAA,kBACL,KAAK;AAAA,kBACL,KAAK;AACH,2BAAO;AAAA,kBAET;AACE,wBAAI,eAAe,QAAQ,KAAK;AAEhC,4BAAQ,cAAc;AAAA,sBACpB,KAAK;AAAA,sBACL,KAAK;AAAA,sBACL,KAAK;AAAA,sBACL,KAAK;AAAA,sBACL,KAAK;AACH,+BAAO;AAAA,sBAET;AACE,+BAAO;AAAA,oBACX;AAAA,gBAEJ;AAAA,cAEF,KAAK;AACH,uBAAO;AAAA,YACX;AAAA,UACF;AAEA,iBAAO;AAAA,QACT;AACA,YAAI,kBAAkB;AACtB,YAAI,kBAAkB;AACtB,YAAI,UAAU;AACd,YAAI,aAAa;AACjB,YAAIC,aAAW;AACf,YAAI,OAAO;AACX,YAAI,OAAO;AACX,YAAI,SAAS;AACb,YAAI,WAAW;AACf,YAAI,aAAa;AACjB,YAAI,WAAW;AACf,YAAI,sCAAsC;AAC1C,YAAI,2CAA2C;AAE/C,iBAAS,YAAY,QAAQ;AAC3B;AACE,gBAAI,CAAC,qCAAqC;AACxC,oDAAsC;AAEtC,sBAAQ,MAAM,EAAE,wFAA6F;AAAA,YAC/G;AAAA,UACF;AAEA,iBAAO;AAAA,QACT;AACA,iBAAS,iBAAiB,QAAQ;AAChC;AACE,gBAAI,CAAC,0CAA0C;AAC7C,yDAA2C;AAE3C,sBAAQ,MAAM,EAAE,6FAAkG;AAAA,YACpH;AAAA,UACF;AAEA,iBAAO;AAAA,QACT;AACA,iBAAS,kBAAkB,QAAQ;AACjC,iBAAO,OAAO,MAAM,MAAM;AAAA,QAC5B;AACA,iBAAS,kBAAkB,QAAQ;AACjC,iBAAO,OAAO,MAAM,MAAM;AAAA,QAC5B;AACA,iBAASC,WAAU,QAAQ;AACzB,iBAAO,OAAO,WAAW,YAAY,WAAW,QAAQ,OAAO,aAAa;AAAA,QAC9E;AACA,iBAAS,aAAa,QAAQ;AAC5B,iBAAO,OAAO,MAAM,MAAM;AAAA,QAC5B;AACA,iBAAS,WAAW,QAAQ;AAC1B,iBAAO,OAAO,MAAM,MAAM;AAAA,QAC5B;AACA,iBAAS,OAAO,QAAQ;AACtB,iBAAO,OAAO,MAAM,MAAM;AAAA,QAC5B;AACA,iBAAS,OAAO,QAAQ;AACtB,iBAAO,OAAO,MAAM,MAAM;AAAA,QAC5B;AACA,iBAAS,SAAS,QAAQ;AACxB,iBAAO,OAAO,MAAM,MAAM;AAAA,QAC5B;AACA,iBAAS,WAAW,QAAQ;AAC1B,iBAAO,OAAO,MAAM,MAAM;AAAA,QAC5B;AACA,iBAAS,aAAa,QAAQ;AAC5B,iBAAO,OAAO,MAAM,MAAM;AAAA,QAC5B;AACA,iBAAS,WAAW,QAAQ;AAC1B,iBAAO,OAAO,MAAM,MAAM;AAAA,QAC5B;AAEA,gBAAQ,kBAAkB;AAC1B,gBAAQ,kBAAkB;AAC1B,gBAAQ,UAAU;AAClB,gBAAQ,aAAa;AACrB,gBAAQ,WAAWD;AACnB,gBAAQ,OAAO;AACf,gBAAQ,OAAO;AACf,gBAAQ,SAAS;AACjB,gBAAQ,WAAW;AACnB,gBAAQ,aAAa;AACrB,gBAAQ,WAAW;AACnB,gBAAQ,cAAc;AACtB,gBAAQ,mBAAmB;AAC3B,gBAAQ,oBAAoB;AAC5B,gBAAQ,oBAAoB;AAC5B,gBAAQ,YAAYC;AACpB,gBAAQ,eAAe;AACvB,gBAAQ,aAAa;AACrB,gBAAQ,SAAS;AACjB,gBAAQ,SAAS;AACjB,gBAAQ,WAAW;AACnB,gBAAQ,aAAa;AACrB,gBAAQ,eAAe;AACvB,gBAAQ,aAAa;AACrB,gBAAQ,qBAAqBF;AAC7B,gBAAQ,SAAS;AAAA,MACf,GAAG;AAAA,IACL;AAAA;AAAA;;;ACjOA,IAAAG,oBAAA;AAAA;AAAA;AAEA,QAAI,OAAuC;AACzC,aAAO,UAAU;AAAA,IACnB,OAAO;AACL,aAAO,UAAU;AAAA,IACnB;AAAA;AAAA;;;ACNA;AAAA;AASA,KAAE,SAAW,MAAM,SAAS;AAC1B,UAAI,OAAO,WAAW,cAAc,OAAO,KAAK;AAC9C,eAAO,CAAC,GAAG,OAAQ;AAAA,MACrB,WAAU,OAAO,YAAY,UAAU;AACrC,eAAO,UAAU,QAAQ;AAAA,MAC3B,OAAK;AACH,aAAK,aAAa,QAAQ;AAAA,MAC5B;AAAA,IACF,GAAG,SAAM,WAAW;AAOlB,UAAI,oBAAoB;AAAA;AAAA,QAEtB;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA,QACA;AAAA;AAAA,QAGA;AAAA,QACA;AAAA;AAAA;AAAA,QAGA;AAAA;AAAA;AAAA,QAGA;AAAA;AAAA,QAEA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA;AAAA,QAEA;AAAA,QAEA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,QAGA;AAAA;AAAA,QAEA;AAAA;AAAA;AAAA,QAGA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA,QAEA;AAAA,QACA;AAAA,QACA;AAAA;AAAA;AAAA,QAGA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA;AAAA,QAIA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA,QACA;AAAA,QACA;AAAA;AAAA;AAAA,QAGA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA,QAEA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA;AAAA,QAEA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA,QACA;AAAA;AAAA,QAGA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QAEA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA;AAAA,QAEA;AAAA,QACA;AAAA,QAEA;AAAA;AAAA;AAAA,QAGA;AAAA;AAAA,QAEA;AAAA;AAAA;AAAA,QAIA;AAAA;AAAA,QAEA;AAAA;AAAA,QAGA;AAAA;AAAA,QAEA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA,QACA;AAAA,QAEA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,QAEA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA;AAAA,QAGA;AAAA,QACA;AAAA,QAC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K,sBAAsBb,OAAnC;AACA,WAAO;EACR;AAED,SAAOW;AACR;ACjIM,IAAMG,SAAO9D,OAAO,CACzB,KACA,QACA,WACA,WACA,QACA,WACA,SACA,SACA,KACA,OACA,OACA,OACA,SACA,cACA,QACA,MACA,UACA,UACA,WACA,UACA,QACA,QACA,OACA,YACA,WACA,QACA,YACA,MACA,aACA,OACA,WACA,OACA,UACA,OACA,OACA,MACA,MACA,WACA,MACA,YACA,cACA,UACA,QACA,UACA,QACA,MACA,MACA,MACA,MACA,MACA,MACA,QACA,UACA,UACA,MACA,QACA,KACA,OACA,SACA,OACA,OACA,SACA,UACA,MACA,QACA,OACA,QACA,WACA,QACA,YACA,SACA,OACA,QACA,MACA,YACA,UACA,UACA,KACA,WACA,OACA,YACA,KACA,MACA,MACA,QACA,KACA,QACA,WACA,UACA,UACA,SACA,UACA,UACA,QACA,UACA,UACA,SACA,OACA,WACA,OACA,SACA,SACA,MACA,YACA,YACA,SACA,MACA,SACA,QACA,MACA,SACA,MACA,KACA,MACA,OACA,SACA,KArHyB,CAAD;AAyHnB,IAAM+D,QAAM/D,OAAO,CACxB,OACA,KACA,YACA,eACA,gBACA,gBACA,iBACA,oBACA,UACA,YACA,QACA,QACA,WACA,UACA,QACA,KACA,SACA,YACA,SACA,SACA,QACA,kBACA,UACA,QACA,YACA,SACA,QACA,WACA,WACA,YACA,kBACA,QACA,QACA,SACA,UACA,UACA,QACA,YACA,SACA,QACA,SACA,QACA,OA3CwB,CAAD;AA8ClB,IAAMgE,aAAahE,OAAO,CAC/B,WACA,iBACA,uBACA,eACA,oBACA,qBACA,qBACA,kBACA,WACA,WACA,WACA,WACA,WACA,kBACA,WACA,WACA,eACA,gBACA,YACA,gBACA,sBACA,eACA,UACA,cAxB+B,CAAD;AA+BzB,IAAMiE,gBAAgBjE,OAAO,CAClC,WACA,iBACA,UACA,WACA,gBACA,aACA,oBACA,kBACA,iBACA,iBACA,iBACA,SACA,aACA,QACA,gBACA,aACA,WACA,iBACA,UACA,OACA,cACA,WACA,KAvBkC,CAAD;AA0B5B,IAAMkE,WAASlE,OAAO,CAC3B,QACA,YACA,UACA,WACA,SACA,UACA,MACA,cACA,iBACA,MACA,MACA,SACA,WACA,YACA,SACA,QACA,MACA,UACA,SACA,UACA,QACA,QACA,WACA,UACA,OACA,SACA,OACA,UACA,YA7B2B,CAAD;AAkCrB,IAAMmE,mBAAmBnE,OAAO,CACrC,WACA,eACA,cACA,YACA,aACA,WACA,WACA,UACA,UACA,SACA,aACA,cACA,kBACA,eACA,MAfqC,CAAD;AAkB/B,IAAMoE,OAAOpE,OAAO,CAAC,OAAD,CAAD;ACpRnB,IAAM8D,OAAO9D,OAAO,CACzB,UACA,UACA,SACA,OACA,kBACA,gBACA,wBACA,YACA,cACA,WACA,UACA,WACA,eACA,eACA,WACA,QACA,SACA,SACA,SACA,QACA,WACA,YACA,gBACA,UACA,eACA,YACA,YACA,WACA,OACA,YACA,2BACA,yBACA,YACA,aACA,WACA,gBACA,QACA,OACA,WACA,UACA,UACA,QACA,QACA,YACA,MACA,aACA,aACA,SACA,QACA,SACA,QACA,QACA,WACA,QACA,OACA,OACA,aACA,SACA,UACA,OACA,aACA,YACA,SACA,QACA,SACA,WACA,cACA,UACA,QACA,WACA,WACA,eACA,eACA,UACA,WACA,WACA,cACA,YACA,OACA,YACA,OACA,YACA,QACA,QACA,WACA,cACA,SACA,YACA,SACA,QACA,SACA,QACA,WACA,SACA,OACA,UACA,QACA,SACA,WACA,YACA,SACA,aACA,QACA,UACA,UACA,SACA,SACA,SACA,MA7GyB,CAAD;AAgHnB,IAAM+D,MAAM/D,OAAO,CACxB,iBACA,cACA,YACA,sBACA,UACA,iBACA,iBACA,WACA,iBACA,kBACA,SACA,QACA,MACA,SACA,QACA,iBACA,aACA,aACA,SACA,uBACA,+BACA,iBACA,mBACA,MACA,MACA,KACA,MACA,MACA,mBACA,aACA,WACA,WACA,OACA,YACA,aACA,OACA,QACA,gBACA,aACA,UACA,eACA,eACA,iBACA,eACA,aACA,oBACA,gBACA,cACA,gBACA,eACA,MACA,MACA,MACA,MACA,cACA,YACA,iBACA,qBACA,UACA,QACA,MACA,mBACA,MACA,OACA,KACA,MACA,MACA,MACA,MACA,WACA,aACA,cACA,YACA,QACA,gBACA,kBACA,gBACA,oBACA,kBACA,SACA,cACA,cACA,gBACA,gBACA,eACA,eACA,oBACA,aACA,OACA,QACA,SACA,UACA,QACA,OACA,QACA,cACA,UACA,YACA,WACA,SACA,UACA,eACA,UACA,YACA,eACA,QACA,cACA,uBACA,oBACA,gBACA,UACA,iBACA,uBACA,kBACA,KACA,MACA,MACA,UACA,QACA,QACA,eACA,aACA,WACA,UACA,UACA,SACA,QACA,mBACA,oBACA,oBACA,gBACA,eACA,gBACA,eACA,cACA,gBACA,oBACA,qBACA,kBACA,mBACA,qBACA,kBACA,UACA,gBACA,SACA,gBACA,kBACA,YACA,WACA,WACA,aACA,oBACA,eACA,mBACA,kBACA,cACA,QACA,MACA,MACA,WACA,UACA,WACA,cACA,WACA,cACA,iBACA,iBACA,SACA,gBACA,QACA,gBACA,oBACA,oBACA,KACA,MACA,MACA,SACA,KACA,MACA,MACA,KACA,YAtLwB,CAAD;AAyLlB,IAAMkE,SAASlE,OAAO,CAC3B,UACA,eACA,SACA,YACA,SACA,gBACA,eACA,cACA,cACA,SACA,OACA,WACA,gBACA,YACA,SACA,SACA,UACA,QACA,MACA,WACA,UACA,iBACA,UACA,UACA,kBACA,aACA,YACA,eACA,WACA,WACA,iBACA,YACA,YACA,QACA,YACA,YACA,cACA,WACA,UACA,UACA,eACA,iBACA,wBACA,aACA,aACA,cACA,YACA,kBACA,kBACA,aACA,WACA,SACA,OArD2B,CAAD;AAwDrB,IAAMqE,MAAMrE,OAAO,CACxB,cACA,UACA,eACA,aACA,aALwB,CAAD;AChWlB,IAAMsE,gBAAgBr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",
  "names": ["Symbol", "Symbol", "hasOwnProperty", "Symbol", "isObject", "isObject", "isFunction", "isFunction", "isObject", "hasOwnProperty", "hasOwnProperty", "isArray", "isArray", "hasOwnProperty", "hasOwnProperty", "Map", "Map", "memoize", "memoize", "match", "number", "Symbol", "isArray", "isArray", "isObject", "set", "unset", "get", "Map", "othValue", "set", "Symbol", "arrayPush", "arrayPush", "isArray", "hasOwnProperty", "Buffer", "isArray", "hasOwnProperty", "hasOwnProperty", "isFunction", "hasOwnProperty", "Promise", "Set", "Map", "Promise", "Set", "isArray", "hasOwnProperty", "isEqual", "Buffer", "isObject", "hasOwnProperty", "isPlainObject", "isObject", "hasOwnProperty", "isArray", "isFunction", "isObject", "isPlainObject", "isObject", "identity", "apply", "apply", "identity", "identity", "isObject", "merge", "match", "isArray", "parse", "EventEmitter", "Symbol", "isArray", "arrayPush", "noop", "Set", "noop", "set", "union", "isObject", "isObject", "debounce", "isArray", "flatten", "flatten", "pick", "hasOwnProperty", "defaults", "_typeof", "_createClass", "_classCallCheck", "Handler", "self", "number", "_createClass", "_classCallCheck", "Parser", "parse", "fillGaps", "self", "getHeaderIndex", "fillRows", "fillAndPush", "newRow", "get", "_typeof", "Parser", "isObject", "get", "identity", "isArray", "arrayPush", "pickBy", "isValidElementType", "Fragment", "isElement", "require_react_is", "regex", "matchQuery", "mediaQuery", "captures", "difference", "hasOwnProperty", "Symbol", "isArray", "isObject", "key", "cloneDeep", "matches", "React", "import_react", "import_react", "Subscribable", "FocusManager", "listener", "OnlineManager", "listener", "CancelledError", "Retryer", "resolve", "reject", "pause", "run", "cancelFn", "NotifyManager", "batch", "Query", "setDefaultOptions", "isStale", "fetch", "get", "fetchFn", "getDefaultState", "reducer", "QueryCache", "add", "get", "Mutation", "MutationCache", "add", "buildNewPages", "param", "fetchPage", "manual", "promise", "_loop", "i", "QueryClient", "_ref", "getDefaultOptions", "setDefaultOptions", "QueryObserver", "trackProp", "get", "refetch", "fetch", "QueriesObserver", "match", "sortMatchesByOrderOfQueries", "InfiniteQueryObserver", "MutationObserver", "ReactDOM", "logger", "logger", "import_react", "React", "useQueryClient", "QueryClientProvider", "_ref", "import_react", "React", "useQueryErrorResetBoundary", "import_react", "import_react", "import_react", "React", "import_react", "React", "_ref", "import_react", "import_react", "import_react", "_a", "LocalStorageShim", "get", "set", "unset", "isEmpty", "import_react", "React", "import_react", "_a", "React", "import_react", "import_react", "_a", "import_react", "import_isEqual", "React", "import_react", "React", "import_get", "React", "import_react", "import_react", "import_react", "import_react", "React", "import_react", "_a", "notifications", "import_react", "import_react", "import_react", "_a", "_a", "locale", "key", "_a", "lodashGet", "import_react", "React", "_a", "_a", "locale", "merge", "__spreadArray", "import_react", "import_react", "locale", "import_react", "_a", "_a", "import_react", "React", "React", "import_react", "React", "import_react", "Action", "window", "index", "action", "location", "_ref", "React", "import_react", "_a", "React", "import_react", "_a", "_a", "Router", "import_react", "import_react", "_a", "removeDoubleSlashes", "import_react", "createPath", "__assign", "import_react", "_a", "__spreadArray", "import_react", "HttpError", "__assign", "text", "_a", "isArray", "isObject", "__spreadArray", "EventEmitter", "defaultDataProvider", "defaultDataProvider", "__assign", "__assign", "_a", "handler", "import_react", "logger", "import_react", "__awaiter", "_a", "defaultDataProvider", "import_react", "_a", "import_react", "React", "_a", "import_react", "_a", "import_react", "_a", "__assign", "_b", "_c", "_a", "__assign", "import_react", "_a", "__assign", "__spreadArray", "ids", "union", "meta", "import_react", "_a", "__assign", "_b", "_c", "import_react", "_a", "__assign", "isEqual", "debounce", "import_react", "import_set", "__assign", "_a", "_a", "__assign", "set", "_a", "_a", "sort", "import_react", "__assign", "_a", "React", "import_react", "_a", "__rest", "__assign", "import_react", "_a", "__rest", "__assign", "React", "import_react", "import_query_string", "import_react", "React", "_a", "import_react", "pick", "import_react", "import_react", "_i", "_a", "__spreadArray", "import_react", "_a", "_a", "__rest", "__assign", "create", "_b", "data", "__awaiter", "React", "React", "import_react", "_a", "import_react", "_a", "__assign", "_a", "__rest", "_a", "__rest", "import_react", "defaults", "_a", "React", "import_react", "_a", "__rest", "__assign", "refetch", "_b", "data", "__awaiter", "error", "React", "import_react", "React", "_a", "React", "_a", "import_react", "_a", "_a", "__rest", "_a", "__rest", "import_react", "import_defaults", "defaults", "_a", "import_get", "import_react", "React", "import_react", "jsonExport", "import_react", "_a", "data", "import_react", "_a", "__spreadArray", "ids", "import_react", "import_query_string", "import_debounce", "import_react", "import_isEqual", "initialState", "_a", "isEqual", "timer", "_a", "debounce", "defaultSort", "__assign", "__spreadArray", "sort", "lodashDebounce", "pickBy", "_a", "debounce", "__rest", "__assign", "error", "hasNextPage", "hasPreviousPage", "refetch", "__spreadArray", "React", "import_react", "import_react", "import_pick", "pick", "import_react", "import_pick", "pick", "import_react", "import_pick", "pick", "_a", "import_react", "_a", "__rest", "React", "import_react", "_a", "debounce", "defaultSort", "__rest", "__assign", "error", "refetch", "_a", "__rest", "_a", "__rest", "import_react", "_a", "__spreadArray", "import_react", "import_react", "import_get", "import_isEqual", "_a", "sort", "_b", "__rest", "__assign", "displayedFilters", "isEqual", "get", "import_react", "import_defaults", "defaults", "_a", "refetch", "import_react", "import_react", "import_defaults", "defaults", "_a", "hasPreviousPage", "hasNextPage", "import_react", "import_react", "_a", "import_react", "_a", "_a", "defaultFilter", "defaultSort", "_a", "get", "error", "refetch", "__assign", "import_react", "import_get", "import_isEqual", "defaultFilter", "_a", "sort", "_b", "__rest", "__assign", "displayedFilters", "isEqual", "get", "error", "refetch", "import_get", "_a", "__rest", "get", "__assign", "error", "refetch", "_a", "choices", "import_react", "import_react", "import_debounce", "_a", "defaultSort", "debounce", "defaultParams", "getQuery", "sort", "emptyObject", "lodashDebounce", "filter", "getQuery", "_a", "hasCustomParams", "__assign", "getNumberOrDefault", "emptyObject", "defaultSort", "defaultParams", "debounce", "getValues", "_a", "__rest", "__assign", "refetch", "__spreadArray", "import_react", "_a", "__rest", "refetch", "debounce", "_a", "__rest", "__assign", "__spreadArray", "refetch", "React", "_a", "__rest", "__assign", "refetch", "React", "import_react", "_a", "_a", "__rest", "_a", "__rest", "import_react", "import_defaults", "defaults", "_a", "_a", "import_react", "_a", "__assign", "create", "__rest", "import_react", "_a", "__rest", "resource", "id", "data", "__spreadArray", "__assign", "__awaiter", "mutationMode", "import_react", "_a", "__rest", "resource", "ids", "data", "meta", "__spreadArray", "__assign", "__awaiter", "mutationMode", "import_react", "_a", "__rest", "resource", "id", "__spreadArray", "__assign", "__awaiter", "mutationMode", "import_react", "_a", "__rest", "resource", "ids", "__spreadArray", "__assign", "__awaiter", "mutationMode", "_a", "_b", "__assign", "React", "import_react", "import_react", "_a", "title", "titleOptions", "React", "import_react", "import_isEqual", "_a", "isEqual", "__assign", "_b", "__rest", "defaultStore", "_a", "defaultDataProvider", "React", "import_react", "React", "import_react", "React", "import_react", "import_react", "_a", "__assign", "__awaiter", "initialState", "createPath", "_a", "Layout", "LoadingPage", "defaultAuthParams", "_a", "_a", "React", "import_react", "React", "import_react", "_a", "create", "_a", "inflection", "import_react", "import_react", "import_defaults", "_a", "defaults", "React", "import_react", "import_get", "get", "import_react", "import_react", "_a", "_a", "locale", "import_react", "isRequired", "import_inflection", "_a", "inflection", "import_react_is", "React", "import_react", "_a", "__assign", "import_react", "__assign", "React", "import_react", "useLayoutEffect", "import_debounce", "debounce", "import_react", "React", "import_react", "_a", "_a", "isEqual", "set", "import_react", "import_react", "removeDoubleSlashes", "__assign", "removeDoubleSlashes", "getErrorMessage", "_a", "import_react", "emptyParams", "__awaiter", "__generator", "_a", "__assign", "emptyParams", "import_react", "_a", "__rest", "emptyParams", "__rest", "__assign", "import_react", "removeDoubleSlashes", "import_react", "React", "_a", "import_react", "removeDoubleSlashes", "getErrorMessage", "import_react", "defaultIdentity", "__awaiter", "__generator", "_a", "__assign", "__assign", "_a", "_a", "_a", "React", "import_react", "_a", "import_react", "import_react", "_a", "__spreadArray", "import_react", "React", "import_get", "getValues", "__assign", "__assign", "__rest", "get", "import_react", "React", "_a", "__assign", "__awaiter", "_a", "__assign", "import_react", "React", "_a", "import_react", "_a", "__rest", "React", "React", "import_react", "_a", "__spreadArray", "import_react", "import_merge", "merge", "errors", "_a", "import_react", "_a", "import_react", "navigator", "_a", "_a", "sanitizeEmptyValues", "__rest", "__assign", "handleSubmit", "__awaiter", "_a", "__assign", "isEmpty", "lodashMemoize", "_i", "min", "max", "_a", "import_react", "React", "import_react", "import_react", "_a", "import_react", "import_get", "_a", "getValues", "get", "React", "import_react", "import_get", "_a", "get", "import_react", "import_get", "import_isEqual", "_a", "get", "isEqual", "import_react", "_a", "__assign", "import_react", "import_get", "isRequired", "_a", "format", "parse", "__rest", "__assign", "get", "__awaiter", "_b", "_c", "import_react", "import_set", "_a", "choices", "createValue", "regex", "__spreadArray", "text", "set", "import_merge", "import_react", "import_set", "_a", "merge", "__awaiter", "set", "React", "import_inflection", "import_react", "InferredElement", "__assign", "obj", "number", "required", "_ref", "_ref2", "defaultOptions", "_ref", "_ref2", "defaultOptions", "_ref", "_ref2", "defaultOptions", "MILLISECONDS_IN_WEEK", "dateLongFormatter", "formatLong", "timeLongFormatter", "dateTimeLongFormatter", "format", "formatDistance", "format", "formatRelative", "ordinalNumber", "number", "valueCallback", "F", "_getPrototypeOf", "o", "self", "Setter", "ValueSetter", "set", "DateToSystemTimezoneSetter", "Parser", "match", "EraParser", "parse", "match", "set", "YearParser", "parse", "match", "valueCallback", "set", "LocalWeekYearParser", "parse", "match", "valueCallback", "set", "ISOWeekYearParser", "parse", "set", "ExtendedYearParser", "parse", "set", "QuarterParser", "parse", "match", "set", "StandAloneQuarterParser", "parse", "match", "set", "MonthParser", "parse", "match", "valueCallback", "set", "StandAloneMonthParser", "parse", "match", "valueCallback", "set", "LocalWeekParser", "parse", "match", "set", "ISOWeekParser", "parse", "match", "set", "DateParser", "parse", "match", "isLeapYear", "set", "DayOfYearParser", "parse", "match", "isLeapYear", "set", "_ref", "_ref2", "defaultOptions", "DayParser", "parse", "match", "set", "LocalDayParser", "parse", "match", "valueCallback", "set", "StandAloneLocalDayParser", "parse", "match", "valueCallback", "set", "ISODayParser", "parse", "match", "valueCallback", "set", "AMPMParser", "parse", "match", "set", "AMPMMidnightParser", "parse", "match", "set", "DayPeriodParser", "parse", "match", "set", "Hour1to12Parser", "parse", "match", "set", "Hour0to23Parser", "parse", "match", "set", "Hour0To11Parser", "parse", "match", "set", "Hour1To24Parser", "parse", "match", "set", "MinuteParser", "parse", "match", "set", "SecondParser", "parse", "match", "set", "FractionOfSecondParser", "parse", "valueCallback", "set", "ISOTimezoneWithZParser", "parse", "set", "ISOTimezoneParser", "parse", "set", "TimestampSecondsParser", "parse", "set", "TimestampMillisecondsParser", "parse", "set", "parse", "_ref", "_ref2", "defaultOptions", "locale", "_loop", "setter", "parse", "regex", "isLeapYearIndex", "isDate", "isObject", "inflection", "isObject", "import_inflection", "inflection", "isObject", "React", "React", "import_prop_types", "React", "import_react", "import_prop_types", "import_query_string", "React", "Button", "_a", "__rest", "__assign", "PropTypes", "styles", "_a", "__rest", "createPath", "Button", "__assign", "Queue", "PropTypes", "React", "import_react", "import_prop_types", "import_isEqual", "_a", "defaultIcon", "__rest", "createPath", "__assign", "StyledButton", "ContentAdd", "PropTypes", "PREFIX", "styles", "Button", "isEqual", "React", "import_react", "import_prop_types", "import_isEqual", "_a", "defaultIcon", "__rest", "createPath", "Button", "__assign", "scrollStates", "stopPropagation", "ImageEye", "PropTypes", "isEqual", "React", "import_react", "_a", "defaultIcon", "handleClick", "StyledButton", "ArrowDropDownIcon", "SortIcon", "styles", "React", "import_prop_types", "React", "import_react", "import_prop_types", "import_inflection", "React", "import_react", "import_prop_types", "React", "_a", "MenuIcon", "PREFIX", "styles", "React", "import_prop_types", "__rest", "__assign", "PropTypes", "PREFIX", "styles", "_a", "React", "import_react", "import_prop_types", "React", "import_react", "_a", "React", "import_react", "import_prop_types", "Logout", "__rest", "handleClick", "__assign", "ExitIcon", "PropTypes", "PREFIX", "styles", "_a", "identity", "defaultIcon", "Root", "PropTypes", "PREFIX", "styles", "AccountCircle", "React", "import_prop_types", "PropTypes", "React", "_a", "import_react", "import_react", "_a", "defaultTheme", "import_react", "import_Brightness4", "import_Brightness7", "import_react", "_a", "useTheme", "React", "Brightness7Icon", "Brightness4Icon", "_a", "defaultTheme", "useTheme", "React", "Brightness7Icon", "Brightness4Icon", "_a", "__rest", "__assign", "PropTypes", "PREFIX", "styles", "React", "import_prop_types", "Root", "PropTypes", "PREFIX", "styles", "_a", "React", "import_react", "import_prop_types", "ActionCheck", "CancelIcon", "AlertError", "__rest", "handleClick", "__assign", "_a", "PropTypes", "PREFIX", "styles", "import_react", "import_prop_types", "import_react", "import_prop_types", "__rest", "_a", "match", "React", "StyledMenuItem", "__assign", "PropTypes", "PREFIX", "styles", "_a", "React", "DashboardIcon", "__rest", "__assign", "PropTypes", "React", "_a", "mediaQuery", "__assign", "React", "import_react", "import_prop_types", "React", "import_react", "import_react_dom", "import_prop_types", "React", "React", "import_react", "_a", "Root", "SettingsIcon", "PREFIX", "styles", "React", "React", "Root", "DragIcon", "_a", "_a", "__spreadArray", "fields", "React", "import_react", "React", "_a", "version", "DeleteIcon", "CloseIcon", "PREFIX", "styles", "React", "import_Settings", "_a", "__rest", "handleClick", "__assign", "SettingsIcon", "React", "_a", "__rest", "__assign", "__assign", "_a", "__rest", "__rest", "_a", "container", "__assign", "PropTypes", "import_react", "Error", "__rest", "Root", "__assign", "ErrorIcon", "ExpandMoreIcon", "History", "PropTypes", "PREFIX", "styles", "_a", "import_react", "React", "changedArray", "ErrorBoundary", "React", "import_prop_types", "import_get", "__rest", "_a", "__assign", "PropTypes", "PREFIX", "styles", "lodashGet", "React", "import_prop_types", "import_get", "React", "import_react", "_a", "createPath", "DefaultIcon", "__spreadArray", "__rest", "Root", "__assign", "_a", "PropTypes", "PREFIX", "styles", "lodashGet", "_a", "AppBar", "Menu", "Sidebar", "__rest", "React", "__assign", "Error", "PREFIX", "styles", "React", "import_prop_types", "_a", "__rest", "__assign", "PropTypes", "PREFIX", "styles", "React", "import_prop_types", "_a", "__rest", "Root", "__assign", "PropTypes", "PREFIX", "styles", "React", "import_prop_types", "_a", "__rest", "__assign", "PropTypes", "React", "import_prop_types", "import_History", "__rest", "Root", "__assign", "sanitizeRestProps", "HotTub", "History", "goBack", "_a", "match", "PropTypes", "PREFIX", "styles", "React", "import_react", "import_prop_types", "__rest", "_a", "__assign", "PropTypes", "PREFIX", "styles", "useTheme", "_a", "React", "import_react", "ThemeProvider", "_a", "defaultTheme", "useTheme", "React", "import_prop_types", "__assign", "PropTypes", "PREFIX", "styles", "_a", "import_react", "_a", "defaultIcon", "__rest", "__assign", "handleClick", "StyledButton", "sanitizeRestProps", "inflection", "PREFIX", "Button", "styles", "ActionDelete", "PropTypes", "React", "import_prop_types", "import_Delete", "_a", "defaultIcon", "__rest", "handleClick", "__assign", "StyledButton", "sanitizeRestProps", "ActionDelete", "PREFIX", "Button", "styles", "PropTypes", "_a", "__rest", "__assign", "PropTypes", "React", "import_react", "import_prop_types", "_a", "defaultIcon", "__rest", "handleClick", "Button", "__assign", "sanitizeRestProps", "DownloadIcon", "PropTypes", "React", "import_prop_types", "React", "import_react", "import_prop_types", "import_inflection", "_a", "defaultIcon", "__rest", "__assign", "handleClick", "StyledButton", "sanitizeRestProps", "inflection", "PropTypes", "PREFIX", "Button", "styles", "ActionUpdate", "React", "import_prop_types", "import_Update", "_a", "defaultIcon", "__rest", "__assign", "handleClick", "StyledButton", "sanitizeRestProps", "ActionUpdate", "PropTypes", "PREFIX", "Button", "styles", "__rest", "__assign", "PropTypes", "React", "import_prop_types", "React", "import_prop_types", "import_Delete", "_a", "defaultIcon", "__rest", "Button", "__assign", "ActionDelete", "PropTypes", "import_react", "import_prop_types", "import_Delete", "import_inflection", "_a", "defaultIcon", "__rest", "React", "Button", "__assign", "inflection", "ActionDelete", "PropTypes", "__rest", "__assign", "PropTypes", "React", "import_prop_types", "_a", "defaultIcon", "__rest", "createPath", "StyledButton", "__assign", "scrollStates", "stopPropagation", "ContentCreate", "PropTypes", "PREFIX", "Button", "styles", "React", "import_react", "import_prop_types", "import_GetApp", "_a", "defaultIcon", "__rest", "handleClick", "__assign", "Button", "sanitizeRestProps", "DownloadIcon", "PropTypes", "React", "_a", "__rest", "handleClick", "__assign", "React", "import_react", "import_ExpandMore", "_a", "locale", "language", "Root", "LanguageIcon", "ExpandMoreIcon", "PREFIX", "styles", "React", "import_prop_types", "_a", "defaultIcon", "__rest", "createPath", "Button", "__assign", "scrollStates", "ActionList", "PropTypes", "React", "import_react", "import_prop_types", "_a", "defaultIcon", "__rest", "handleClick", "Button", "__assign", "NavigationRefresh", "PropTypes", "React", "import_react", "import_prop_types", "import_Refresh", "_a", "defaultIcon", "__rest", "handleClick", "__assign", "NavigationRefresh", "PropTypes", "React", "import_react", "import_prop_types", "_a", "defaultIcon", "__rest", "handleSubmit", "__awaiter", "__assign", "handleClick", "StyledButton", "ContentSave", "PropTypes", "PREFIX", "styles", "import_react", "React", "StyledButton", "PREFIX", "Button", "styles", "_a", "_a", "__rest", "Root", "__assign", "Button", "LockIcon", "PropTypes", "PREFIX", "styles", "React", "import_react", "import_prop_types", "import_Lock", "React", "import_prop_types", "React", "import_react", "React", "import_react", "_a", "format", "isEqual", "isRequired", "locale", "parse", "refetch", "__rest", "React", "_a", "isRequired", "__rest", "Root", "PREFIX", "styles", "import_react", "__rest", "getValues", "__awaiter", "error", "_a", "Root", "__assign", "PREFIX", "styles", "React", "import_react", "import_get", "import_prop_types", "import_react", "memo", "import_react", "React", "import_react", "import_react", "import_react", "_a", "record", "index", "source", "__rest", "__assign", "React", "add", "__assign", "AddIcon", "React", "import_react", "__assign", "CloseIcon", "React", "_a", "ArrowUpwardIcon", "ArrowDownwardIcon", "React", "__assign", "ClearIcon", "_a", "__rest", "get", "Root", "PropTypes", "styles", "React", "import_react", "import_debounce", "import_get", "import_isEqual", "React", "import_react", "import_set", "create", "_a", "createValue", "set", "__awaiter", "__spreadArray", "_b", "_a", "create", "createValue", "format", "parse", "__rest", "__assign", "isRequired", "__spreadArray", "_b", "debounce", "isEqual", "createElement", "get", "props", "PREFIX", "styles", "choices", "React", "_a", "__rest", "__assign", "React", "import_react", "import_prop_types", "import_prop_types", "PropTypes", "_a", "format", "parse", "__rest", "__assign", "isRequired", "PropTypes", "React", "import_react", "import_prop_types", "import_get", "React", "__rest", "_a", "__assign", "PREFIX", "styles", "format", "_a", "parse", "__rest", "__assign", "isRequired", "get", "__spreadArray", "sanitizeRestProps", "refetch", "PropTypes", "PREFIX", "styles", "React", "import_react", "React", "import_react", "import_prop_types", "PREFIX", "styles", "_a", "import_react", "import_react_is", "import_prop_types", "React", "import_prop_types", "_a", "__rest", "__assign", "PropTypes", "React", "import_react", "import_ExpandMore", "_a", "__rest", "__assign", "ExpandMoreIcon", "import_react", "import_react", "import_defaults", "defaults", "React", "__rest", "createPath", "handleClick", "__awaiter", "_a", "_b", "__assign", "PropTypes", "_a", "__rest", "__assign", "PropTypes", "React", "import_react", "import_prop_types", "__rest", "__assign", "PropTypes", "PREFIX", "styles", "_a", "React", "import_react", "import_prop_types", "import_ExpandMore", "React", "Root", "PREFIX", "styles", "_a", "_a", "ExpandMoreIcon", "PropTypes", "React", "import_react", "import_prop_types", "import_union", "React", "import_react", "import_prop_types", "React", "import_react", "import_ExpandMore", "_a", "ExpandMoreIcon", "_a", "PropTypes", "import_react", "_a", "React", "React", "import_react", "import_prop_types", "__rest", "Root", "__assign", "_a", "CloseIcon", "PropTypes", "PREFIX", "styles", "React", "import_react", "_a", "__rest", "union", "difference", "id", "__assign", "sanitizeRestProps", "PropTypes", "injectedProps", "React", "React", "_a", "__rest", "__assign", "React", "_a", "handleClick", "__spreadArray", "columns", "__assign", "sanitizeRestProps", "ViewWeekIcon", "StyledButton", "styles", "__rest", "React", "import_react", "import_prop_types", "React", "import_react", "import_prop_types", "import_set", "import_unset", "import_get", "import_isEqual", "React", "import_prop_types", "import_HighlightOff", "Root", "ActionHide", "_a", "PropTypes", "PREFIX", "styles", "React", "__rest", "_a", "isEqual", "get", "cloneDeep", "unset", "__assign", "sanitizeRestProps", "PropTypes", "set", "PREFIX", "styles", "React", "import_react", "import_prop_types", "import_get", "import_isEqual", "import_query_string", "React", "import_react", "import_prop_types", "PropTypes", "_a", "React", "import_react", "_a", "handleFormSubmit", "React", "import_isEqual", "_a", "isEqual", "__spreadArray", "__rest", "_a", "isEqual", "lodashGet", "Root", "__assign", "sanitizeRestProps", "Button", "ContentFilter", "PropTypes", "PREFIX", "styles", "PropTypes", "PREFIX", "React", "__rest", "__assign", "React", "import_react_is", "import_react", "import_CancelOutlined", "import_pickBy", "arePropsEqual", "_a", "__rest", "handleClick", "__assign", "CancelIcon", "matches", "pickBy", "PREFIX", "styles", "React", "import_react", "_a", "__rest", "__assign", "_b", "_c", "SearchIcon", "React", "import_react", "import_AddCircleOutline", "_a", "__assign", "AddIcon", "React", "import_react", "import_RemoveCircleOutline", "_a", "__assign", "RemoveIcon", "React", "import_isEqual", "React", "import_react", "import_CancelOutlined", "import_isEqual", "import_query_string", "arePropsEqual", "isEqual", "_a", "StyledListItem", "CancelIcon", "PREFIX", "styles", "_a", "defaultIcon", "isEqual", "Root", "HelpIcon", "PREFIX", "styles", "BookmarkIcon", "React", "import_react", "_a", "defaultOptions", "hasNextPage", "React", "import_react", "import_prop_types", "React", "import_react", "import_prop_types", "_a", "__rest", "Root", "page", "__assign", "sanitizeRestProps", "PropTypes", "PREFIX", "styles", "_a", "__rest", "hasNextPage", "page", "__assign", "emptyArray", "PropTypes", "React", "import_react", "defaultPagination", "choices", "__rest", "__assign", "__spreadArray", "_a", "React", "import_prop_types", "_a", "format", "parse", "__rest", "__assign", "isRequired", "PropTypes", "dateRegex", "React", "import_prop_types", "_a", "format", "parse", "__rest", "__assign", "isRequired", "defaultInputLabelProps", "PropTypes", "convertDateToString", "React", "import_prop_types", "parseTime", "_a", "format", "parse", "__rest", "__assign", "isRequired", "defaultInputLabelProps", "PropTypes", "leftPad", "leftPad2", "convertDateToString", "timeRegex", "import_react", "import_prop_types", "import_react", "import_prop_types", "isObject", "_a", "flatten", "batch", "_defineProperty", "_unsupportedIterableToArray", "_arrayLikeToArray", "getInvalidTypeRejectionErr", "getTooLargeRejectionErr", "getTooSmallRejectionErr", "accepts", "_ref", "_defineProperty", "_unsupportedIterableToArray", "_arrayLikeToArray", "_slicedToArray", "_arrayWithHoles", "_iterableToArrayLimit", "_nonIterableRest", "ownKeys", "_objectSpread", "_defineProperty", "_ref", "React", "PropTypes", "initialState", "_objectSpread", "noop", "reducer", "_slicedToArray", "onWindowFocus", "onDocumentDrop", "stopPropagation", "draggedFiles", "composeHandler", "composeKeyboardHandler", "composeDragHandler", "onDragEnter", "onDragOver", "onDragLeave", "onDrop", "_defineProperty", "React", "import_react", "import_prop_types", "_a", "RemoveIcon", "RemoveCircle", "__rest", "Root", "__assign", "PropTypes", "PREFIX", "styles", "format", "_a", "parse", "__rest", "files", "__assign", "isRequired", "__spreadArray", "__awaiter", "React", "PropTypes", "PREFIX", "styles", "React", "__assign", "PREFIX", "styles", "_a", "React", "React", "import_react", "import_prop_types", "__rest", "_a", "ClearIcon", "__assign", "PropTypes", "PREFIX", "styles", "_a", "PREFIX", "styles", "React", "import_prop_types", "_a", "format", "parse", "__rest", "__assign", "isRequired", "StyledTextField", "PropTypes", "PREFIX", "styles", "React", "import_prop_types", "_a", "format", "parse", "min", "max", "__rest", "__assign", "isRequired", "value", "PropTypes", "React", "import_react", "React", "import_prop_types", "format", "parse", "__rest", "_a", "__assign", "isRequired", "PropTypes", "_a", "__rest", "handleClick", "__assign", "Visibility", "VisibilityOff", "React", "import_prop_types", "import_get", "React", "_a", "format", "_a", "parse", "__rest", "__assign", "isRequired", "StyledFormControl", "sanitizeRestProps", "get", "PropTypes", "choices", "isEqual", "refetch", "PREFIX", "styles", "React", "import_prop_types", "PropTypes", "React", "import_prop_types", "_a", "PropTypes", "import_react", "import_prop_types", "React", "PropTypes", "React", "import_Search", "__rest", "__assign", "SearchIcon", "PREFIX", "styles", "React", "import_react", "import_prop_types", "create", "createValue", "format", "parse", "__rest", "__assign", "isRequired", "__spreadArray", "createElement", "_a", "StyledFormControl", "sanitizeRestProps", "PropTypes", "choices", "locale", "PREFIX", "styles", "React", "import_react", "import_react_is", "import_prop_types", "create", "createValue", "format", "_a", "parse", "__rest", "__assign", "isRequired", "__awaiter", "createElement", "__spreadArray", "StyledResettableTextField", "sanitizeRestProps", "PropTypes", "choices", "isEqual", "refetch", "PREFIX", "styles", "React", "React", "import_react", "import_inflection", "locale", "__rest", "isValid", "React", "__assign", "_a", "PREFIX", "_a", "StyledAppBar", "__assign", "locale", "PREFIX", "React", "import_react", "_a", "locale", "__rest", "Root", "__assign", "PREFIX", "Root", "_a", "locale", "PREFIX", "styles", "_a", "StyledForm", "PREFIX", "styles", "PropTypes", "__rest", "Root", "__assign", "LockIcon", "PREFIX", "styles", "_a", "PropTypes", "__assign", "React", "import_prop_types", "React", "import_prop_types", "__rest", "Root", "__assign", "sanitizeRestProps", "_a", "PropTypes", "match", "PREFIX", "styles", "__rest", "__assign", "PropTypes", "React", "import_prop_types", "_a", "__rest", "__assign", "sanitizeRestProps", "PropTypes", "React", "import_prop_types", "React", "import_prop_types", "React", "import_prop_types", "_a", "__rest", "__assign", "sanitizeRestProps", "PropTypes", "__rest", "Root", "__assign", "sanitizeRestProps", "_a", "PropTypes", "match", "refetch", "PREFIX", "styles", "__rest", "__assign", "PropTypes", "React", "React", "import_react", "import_prop_types", "import_get", "React", "import_react", "import_prop_types", "React", "import_react", "import_prop_types", "__rest", "StyledToolbar", "__assign", "_a", "PropTypes", "PREFIX", "styles", "React", "import_react", "import_prop_types", "__rest", "__assign", "PropTypes", "_a", "Component", "DefaultComponent", "DefaultToolbar", "__rest", "Root", "__assign", "sanitizeRestProps", "PropTypes", "PREFIX", "styles", "React", "import_prop_types", "React", "import_react_is", "import_prop_types", "_a", "__rest", "__assign", "PropTypes", "__rest", "__assign", "sanitizeRestProps", "PropTypes", "_a", "__assign", "sanitizeRestProps", "_a", "sanitizeEmptyValues", "__rest", "PropTypes", "get", "__spreadArray", "React", "import_prop_types", "_a", "Component", "DefaultComponent", "DefaultToolbar", "__rest", "__assign", "sanitizeRestProps", "PropTypes", "PREFIX", "styles", "sanitizeEmptyValues", "React", "React", "_a", "__rest", "__assign", "_a", "__rest", "__assign", "React", "import_react", "import_inflection", "__rest", "__assign", "_a", "match", "inflection", "React", "import_prop_types", "React", "import_prop_types", "React", "import_prop_types", "PropTypes", "__rest", "Root", "__assign", "sanitizeRestProps", "_a", "PropTypes", "match", "refetch", "PREFIX", "styles", "_a", "__rest", "__assign", "PropTypes", "React", "React", "import_get", "import_prop_types", "PropTypes", "import_react", "_a", "get", "emptyArray", "__assign", "React", "import_prop_types", "import_get", "import_Clear", "_a", "locale", "refetch", "__rest", "_a", "DoneIcon", "ClearIcon", "__rest", "get", "__assign", "PropTypes", "PREFIX", "styles", "React", "import_get", "__rest", "get", "__assign", "PREFIX", "styles", "_a", "React", "import_prop_types", "import_get", "_a", "__rest", "get", "__assign", "PropTypes", "React", "import_get", "__rest", "get", "__assign", "stopPropagation", "React", "import_prop_types", "import_get", "__rest", "get", "__assign", "Root", "_a", "PropTypes", "PREFIX", "styles", "React", "import_react", "import_prop_types", "_a", "__rest", "__assign", "PropTypes", "React", "import_prop_types", "import_get", "__rest", "get", "__assign", "Root", "_a", "PropTypes", "PREFIX", "styles", "React", "import_prop_types", "import_get", "__rest", "get", "__assign", "PropTypes", "React", "import_react", "import_prop_types", "React", "import_react", "import_prop_types", "React", "import_prop_types", "Link", "__rest", "__assign", "PREFIX", "PropTypes", "_a", "Component", "Root", "__rest", "createPath", "__assign", "Link", "stopPropagation", "_b", "PropTypes", "PREFIX", "styles", "_a", "__assign", "PropTypes", "Root", "PREFIX", "styles", "React", "import_prop_types", "import_get", "import_Error", "__rest", "get", "__assign", "PropTypes", "_a", "stopPropagation", "createPath", "ErrorIcon", "Root", "Link", "PREFIX", "styles", "import_react", "import_Error", "__rest", "createPath", "React", "ErrorIcon", "Link", "__assign", "_a", "import_react", "import_prop_types", "_a", "React", "PropTypes", "import_react", "import_prop_types", "_a", "createPath", "refetch", "React", "PropTypes", "React", "import_prop_types", "import_get", "hasOwnProperty", "Object", "setPrototypeOf", "isFrozen", "getPrototypeOf", "getOwnPropertyDescriptor", "freeze", "seal", "create", "Reflect", "apply", "construct", "fun", "thisValue", "args", "x", "Func", "_toConsumableArray", "arrayForEach", "unapply", "Array", "prototype", "forEach", "arrayPop", "pop", "arrayPush", "push", "stringToLowerCase", "String", "toLowerCase", "stringToString", "toString", "stringMatch", "match", "stringReplace", "replace", "stringIndexOf", "indexOf", "stringTrim", "trim", "regExpTest", "RegExp", "test", "typeErrorCreate", "unconstruct", "TypeError", "func", "thisArg", "addToSet", "set", "array", "transformCaseFunc", "l", "length", "element", "lcElement", "clone", "object", "newObject", "property", "lookupGetter", "prop", "desc", "get", "value", "fallbackValue", "console", "warn", "html", "svg", "svgFilters", "svgDisallowed", "mathMl", "mathMlDisallowed", "text", "xml", "MUSTACHE_EXPR", "ERB_EXPR", "TMPLIT_EXPR", "DATA_ATTR", "ARIA_ATTR", "IS_ALLOWED_URI", "IS_SCRIPT_OR_DATA", "ATTR_WHITESPACE", "DOCTYPE_NAME", "getGlobal", "window", "_createTrustedTypesPolicy", "trustedTypes", "document", "_typeof", "createPolicy", "suffix", "ATTR_NAME", "currentScript", "hasAttribute", "getAttribute", "policyName", "createHTML", "createScriptURL", "scriptUrl", "_", "createDOMPurify", "DOMPurify", "root", "version", "VERSION", "removed", "nodeType", "isSupported", "originalDocument", "DocumentFragment", "HTMLTemplateElement", "Node", "Element", "NodeFilter", "NamedNodeMap", "MozNamedAttrMap", "HTMLFormElement", "DOMParser", "ElementPrototype", "cloneNode", "getNextSibling", "getChildNodes", "getParentNode", "template", "createElement", "content", "ownerDocument", "trustedTypesPolicy", "emptyHTML", "implementation", "createNodeIterator", "createDocumentFragment", "getElementsByTagName", "importNode", "documentMode", "hooks", "createHTMLDocument", "undefined", "EXPRESSIONS", "ALLOWED_TAGS", "DEFAULT_ALLOWED_TAGS", "TAGS", "ALLOWED_ATTR", "DEFAULT_ALLOWED_ATTR", "ATTRS", "CUSTOM_ELEMENT_HANDLING", "tagNameCheck", "writable", "configurable", "enumerable", "attributeNameCheck", "allowCustomizedBuiltInElements", "FORBID_TAGS", "FORBID_ATTR", "ALLOW_ARIA_ATTR", "ALLOW_DATA_ATTR", "ALLOW_UNKNOWN_PROTOCOLS", "ALLOW_SELF_CLOSE_IN_ATTR", "SAFE_FOR_TEMPLATES", "WHOLE_DOCUMENT", "SET_CONFIG", "FORCE_BODY", "RETURN_DOM", "RETURN_DOM_FRAGMENT", "RETURN_TRUSTED_TYPE", "SANITIZE_DOM", "SANITIZE_NAMED_PROPS", "SANITIZE_NAMED_PROPS_PREFIX", "KEEP_CONTENT", "IN_PLACE", "USE_PROFILES", "FORBID_CONTENTS", "DEFAULT_FORBID_CONTENTS", "DATA_URI_TAGS", "DEFAULT_DATA_URI_TAGS", "URI_SAFE_ATTRIBUTES", "DEFAULT_URI_SAFE_ATTRIBUTES", "MATHML_NAMESPACE", "SVG_NAMESPACE", "HTML_NAMESPACE", "NAMESPACE", "IS_EMPTY_INPUT", "ALLOWED_NAMESPACES", "DEFAULT_ALLOWED_NAMESPACES", "PARSER_MEDIA_TYPE", "SUPPORTED_PARSER_MEDIA_TYPES", "DEFAULT_PARSER_MEDIA_TYPE", "CONFIG", "formElement", "isRegexOrFunction", "testValue", "Function", "_parseConfig", "cfg", "ADD_URI_SAFE_ATTR", "ADD_DATA_URI_TAGS", "ALLOWED_URI_REGEXP", "ADD_TAGS", "ADD_ATTR", "table", "tbody", "MATHML_TEXT_INTEGRATION_POINTS", "HTML_INTEGRATION_POINTS", "COMMON_SVG_AND_HTML_ELEMENTS", "ALL_SVG_TAGS", "ALL_MATHML_TAGS", "_checkValidNamespace", "parent", "tagName", "namespaceURI", "parentTagName", "Boolean", "_forceRemove", "node", "parentNode", "removeChild", "outerHTML", "remove", "_removeAttribute", "name", "attribute", "getAttributeNode", "from", "removeAttribute", "setAttribute", "_initDocument", "dirty", "doc", "leadingWhitespace", "matches", "dirtyPayload", "parseFromString", "documentElement", "createDocument", "innerHTML", "body", "insertBefore", "createTextNode", "childNodes", "call", "_createIterator", "SHOW_ELEMENT", "SHOW_COMMENT", "SHOW_TEXT", "_isClobbered", "elm", "nodeName", "textContent", "attributes", "hasChildNodes", "_isNode", "_executeHook", "entryPoint", "currentNode", "data", "hook", "_sanitizeElements", "allowedTags", "firstElementChild", "_basicCustomElementTest", "childCount", "i", "_isValidAttribute", "lcTag", "lcName", "_sanitizeAttributes", "attr", "hookEvent", "attrName", "attrValue", "keepAttr", "allowedAttributes", "forceKeepAttr", "getAttributeType", "setAttributeNS", "_sanitizeShadowDOM", "fragment", "shadowNode", "shadowIterator", "nextNode", "sanitize", "importedNode", "oldNode", "returnNode", "toStaticHTML", "appendChild", "firstChild", "nodeIterator", "shadowroot", "shadowrootmod", "serializedHTML", "doctype", "setConfig", "clearConfig", "isValidAttribute", "tag", "addHook", "hookFunction", "removeHook", "removeHooks", "removeAllHooks", "__rest", "_a", "get", "__assign", "PropTypes", "React", "import_prop_types", "import_get", "choices", "__rest", "get", "_a", "choice", "__assign", "PropTypes", "React", "import_get", "__rest", "_a", "get", "__assign", "React", "React", "import_react", "import_inflection", "locale", "_a", "__rest", "React", "__assign", "_a", "StyledAppBar", "__assign", "locale", "PREFIX", "styles", "React", "import_react", "_a", "locale", "__rest", "Root", "__assign", "PREFIX", "styles", "_a", "Root", "locale", "PREFIX", "styles", "React", "import_get", "__rest", "get", "__assign", "stopPropagation", "React", "_a", "React", "import_react", "import_prop_types", "_a", "__rest", "Root", "__assign", "sanitizeRestProps", "PropTypes", "PREFIX", "styles", "__assign", "_a", "__rest", "React", "import_react", "import_inflection", "_a", "__rest", "__assign", "match", "inflection", "React", "import_react", "import_prop_types", "React", "import_react", "import_prop_types", "_a", "__rest", "__assign", "PropTypes", "React", "import_react", "import_prop_types", "_a", "__rest", "__assign", "PropTypes", "_a", "DefaultTabs", "__rest", "value", "Root", "__assign", "sanitizeRestProps", "PropTypes", "PREFIX", "styles", "React", "import_Error", "_a", "__rest", "createPath", "ErrorIcon", "Link", "__assign", "React", "Root", "Inbox", "PREFIX", "styles", "_a", "React", "import_prop_types", "React", "import_react", "import_prop_types", "React", "import_react", "import_prop_types", "__rest", "Root", "__assign", "PropTypes", "PREFIX", "styles", "_a", "React", "import_react", "import_prop_types", "__rest", "_a", "__assign", "PropTypes", "defaultActions", "defaultPagination", "DefaultComponent", "_a", "__rest", "Error", "Root", "__assign", "PropTypes", "PREFIX", "styles", "_a", "debounce", "defaultPagination", "__rest", "__assign", "PropTypes", "React", "import_prop_types", "_a", "debounce", "__rest", "__assign", "PropTypes", "React", "__rest", "__assign", "_a", "React", "import_react", "import_inflection", "debounce", "__rest", "__assign", "_a", "match", "inflection", "React", "import_react_is", "import_react", "import_prop_types", "React", "import_prop_types", "_a", "__rest", "StyledList", "__assign", "times", "PropTypes", "PREFIX", "styles", "_a", "DefaultEmpty", "__rest", "Root", "__assign", "PropTypes", "createPath", "PREFIX", "styles", "React", "React", "_a", "__assign", "_a", "__rest", "__assign", "React", "import_react", "_a", "__rest", "__assign", "React", "_a", "defaultTheme", "__rest", "__assign", "ThemeProvider", "esm_default", "defaultI18nProvider", "esm_default", "defaultStore", "_a", "defaultI18nProvider", "defaultTheme"]
}
